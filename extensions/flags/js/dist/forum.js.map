{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@flarum/flags/webpack/bootstrap","webpack://@flarum/flags/webpack/runtime/compat get default export","webpack://@flarum/flags/webpack/runtime/define property getters","webpack://@flarum/flags/webpack/runtime/hasOwnProperty shorthand","webpack://@flarum/flags/webpack/runtime/make namespace object","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@flarum/flags/../../../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/states/PaginatedListState')\"","webpack://@flarum/flags/./src/forum/states/FlagListState.tsx","webpack://@flarum/flags/../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@flarum/flags/../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@flarum/flags/../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/utils/PostControls')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/components/FormModal')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/components/Form')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/utils/withAttr')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/utils/ItemList')\"","webpack://@flarum/flags/./src/forum/components/FlagPostModal.js","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/components/HeaderSecondary')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/components/HeaderDropdown')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/Component')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/components/Avatar')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/helpers/username')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/components/HeaderList')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/components/HeaderListItem')\"","webpack://@flarum/flags/./src/forum/components/FlagList.tsx","webpack://@flarum/flags/./src/forum/components/FlagsDropdown.tsx","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'forum/components/Post')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/utils/humanTime')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/extenders')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/models/Post')\"","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/components/Page')\"","webpack://@flarum/flags/./src/forum/components/FlagsPage.js","webpack://@flarum/flags/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@flarum/flags/./src/forum/models/Flag.ts","webpack://@flarum/flags/./src/forum/extend.ts","webpack://@flarum/flags/./src/forum/index.ts","webpack://@flarum/flags/./src/forum/addFlagControl.js","webpack://@flarum/flags/./src/forum/addFlagsDropdown.js","webpack://@flarum/flags/./src/forum/addFlagsToPosts.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/states/PaginatedListState');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PaginatedListState from 'flarum/common/states/PaginatedListState';\nexport default class FlagListState extends PaginatedListState {\n  constructor(app) {\n    super({}, 1, null);\n    _defineProperty(this, \"app\", void 0);\n    this.app = app;\n  }\n  get type() {\n    return 'flags';\n  }\n\n  /**\n   * Load flags into the application's cache if they haven't already\n   * been loaded.\n   */\n  load() {\n    var _this$app$session$use;\n    if ((_this$app$session$use = this.app.session.user) != null && _this$app$session$use.attribute('newFlagCount')) {\n      this.pages = [];\n      this.location = {\n        page: 1\n      };\n    }\n    if (this.pages.length > 0) {\n      return Promise.resolve();\n    }\n    return super.loadNext();\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/states/FlagListState', FlagListState);","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/PostControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/FormModal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Form');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/withAttr');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/ItemList');","import app from 'flarum/forum/app';\nimport FormModal from 'flarum/common/components/FormModal';\nimport Form from 'flarum/common/components/Form';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport ItemList from 'flarum/common/utils/ItemList';\nexport default class FlagPostModal extends FormModal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.success = false;\n    this.reason = Stream('');\n    this.reasonDetail = Stream('');\n  }\n  className() {\n    return 'FlagPostModal Modal--medium';\n  }\n  title() {\n    return app.translator.trans('flarum-flags.forum.flag_post.title');\n  }\n  content() {\n    if (this.success) {\n      return m(\"div\", {\n        className: \"Modal-body\"\n      }, m(Form, {\n        className: \"Form--centered\"\n      }, m(\"p\", {\n        className: \"helpText\"\n      }, app.translator.trans('flarum-flags.forum.flag_post.confirmation_message')), m(\"div\", {\n        className: \"Form-group Form-controls\"\n      }, m(Button, {\n        className: \"Button Button--primary Button--block\",\n        onclick: this.hide.bind(this)\n      }, app.translator.trans('flarum-flags.forum.flag_post.dismiss_button')))));\n    }\n    return m(\"div\", {\n      className: \"Modal-body\"\n    }, m(Form, {\n      className: \"Form--centered\"\n    }, m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"div\", null, this.flagReasons().toArray())), m(\"div\", {\n      className: \"Form-group Form-controls\"\n    }, m(Button, {\n      className: \"Button Button--primary Button--block\",\n      type: \"submit\",\n      loading: this.loading,\n      disabled: !this.reason()\n    }, app.translator.trans('flarum-flags.forum.flag_post.submit_button')))));\n  }\n  flagReasons() {\n    const items = new ItemList();\n    const guidelinesUrl = app.forum.attribute('guidelinesUrl');\n    items.add('off-topic', m(\"label\", {\n      className: \"checkbox\"\n    }, m(\"input\", {\n      type: \"radio\",\n      name: \"reason\",\n      checked: this.reason() === 'off_topic',\n      value: \"off_topic\",\n      onclick: withAttr('value', this.reason)\n    }), m(\"strong\", null, app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_label')), app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_text'), this.reason() === 'off_topic' && m(\"textarea\", {\n      className: \"FormControl\",\n      placeholder: app.translator.trans('flarum-flags.forum.flag_post.reason_details_placeholder'),\n      value: this.reasonDetail(),\n      oninput: withAttr('value', this.reasonDetail)\n    })), 70);\n    items.add('inappropriate', m(\"label\", {\n      className: \"checkbox\"\n    }, m(\"input\", {\n      type: \"radio\",\n      name: \"reason\",\n      checked: this.reason() === 'inappropriate',\n      value: \"inappropriate\",\n      onclick: withAttr('value', this.reason)\n    }), m(\"strong\", null, app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_label')), app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_text', {\n      a: guidelinesUrl ? m(\"a\", {\n        href: guidelinesUrl,\n        target: \"_blank\"\n      }) : undefined\n    }), this.reason() === 'inappropriate' && m(\"textarea\", {\n      className: \"FormControl\",\n      placeholder: app.translator.trans('flarum-flags.forum.flag_post.reason_details_placeholder'),\n      value: this.reasonDetail(),\n      oninput: withAttr('value', this.reasonDetail)\n    })), 60);\n    items.add('spam', m(\"label\", {\n      className: \"checkbox\"\n    }, m(\"input\", {\n      type: \"radio\",\n      name: \"reason\",\n      checked: this.reason() === 'spam',\n      value: \"spam\",\n      onclick: withAttr('value', this.reason)\n    }), m(\"strong\", null, app.translator.trans('flarum-flags.forum.flag_post.reason_spam_label')), app.translator.trans('flarum-flags.forum.flag_post.reason_spam_text'), this.reason() === 'spam' && m(\"textarea\", {\n      className: \"FormControl\",\n      placeholder: app.translator.trans('flarum-flags.forum.flag_post.reason_details_placeholder'),\n      value: this.reasonDetail(),\n      oninput: withAttr('value', this.reasonDetail)\n    })), 50);\n    items.add('other', m(\"label\", {\n      className: \"checkbox\"\n    }, m(\"input\", {\n      type: \"radio\",\n      name: \"reason\",\n      checked: this.reason() === 'other',\n      value: \"other\",\n      onclick: withAttr('value', this.reason)\n    }), m(\"strong\", null, app.translator.trans('flarum-flags.forum.flag_post.reason_other_label')), this.reason() === 'other' && m(\"textarea\", {\n      className: \"FormControl\",\n      value: this.reasonDetail(),\n      oninput: withAttr('value', this.reasonDetail)\n    })), 10);\n    return items;\n  }\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n    app.store.createRecord('flags').save({\n      reason: this.reason() === 'other' ? null : this.reason(),\n      reasonDetail: this.reasonDetail(),\n      relationships: {\n        post: this.attrs.post\n      }\n    }, {\n      errorHandler: this.onerror.bind(this)\n    }).then(() => this.success = true).catch(() => {}).then(this.loaded.bind(this));\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/components/FlagPostModal', FlagPostModal);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/HeaderSecondary');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/HeaderDropdown');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Component');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Avatar');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/username');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/HeaderList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/HeaderListItem');","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Avatar from 'flarum/common/components/Avatar';\nimport username from 'flarum/common/helpers/username';\nimport HeaderList from 'flarum/forum/components/HeaderList';\nimport HeaderListItem from 'flarum/forum/components/HeaderListItem';\nimport ItemList from 'flarum/common/utils/ItemList';\nexport default class FlagList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n  view() {\n    const state = this.attrs.state;\n    return m(HeaderList, {\n      className: \"FlagList\",\n      title: app.translator.trans('flarum-flags.forum.flagged_posts.title'),\n      controls: this.controlItems(),\n      hasItems: state.hasItems(),\n      loading: state.isLoading(),\n      emptyText: app.translator.trans('flarum-flags.forum.flagged_posts.empty_text'),\n      loadMore: () => state.hasNext() && !state.isLoadingNext() && state.loadNext()\n    }, m(\"ul\", {\n      className: \"HeaderListGroup-content\"\n    }, this.content(state)));\n  }\n  controlItems() {\n    const items = new ItemList();\n    return items;\n  }\n  content(state) {\n    if (!state.isLoading() && state.hasItems()) {\n      return state.getPages().map(page => {\n        return page.items.map(flag => {\n          const post = flag.post();\n          return m(\"li\", null, m(HeaderListItem, {\n            className: \"Flag\",\n            avatar: m(Avatar, {\n              user: post.user() || null\n            }),\n            icon: \"fas fa-flag\",\n            content: app.translator.trans('flarum-flags.forum.flagged_posts.item_text', {\n              username: username(post.user()),\n              em: m(\"em\", null),\n              discussion: post.discussion().title()\n            }),\n            excerpt: post.contentPlain(),\n            datetime: flag.createdAt(),\n            href: app.route.post(post),\n            onclick: e => {\n              e.redraw = false;\n            }\n          }));\n        });\n      });\n    }\n    return null;\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/components/FlagList', FlagList);","import app from 'flarum/forum/app';\nimport HeaderDropdown from 'flarum/forum/components/HeaderDropdown';\nimport classList from 'flarum/common/utils/classList';\nimport FlagList from './FlagList';\nexport default class FlagsDropdown extends HeaderDropdown {\n  static initAttrs(attrs) {\n    attrs.className = classList('FlagsDropdown', attrs.className);\n    attrs.label = attrs.label || app.translator.trans('flarum-flags.forum.flagged_posts.tooltip');\n    attrs.icon = attrs.icon || 'fas fa-flag';\n    super.initAttrs(attrs);\n  }\n  getContent() {\n    return m(FlagList, {\n      state: this.attrs.state\n    });\n  }\n  goToRoute() {\n    m.route.set(app.route('flags'));\n  }\n  getUnreadCount() {\n    return app.forum.attribute('flagCount');\n  }\n  getNewCount() {\n    return app.session.user.attribute('newFlagCount');\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/components/FlagsDropdown', FlagsDropdown);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/Post');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/humanTime');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extenders');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Post');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Page');","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport FlagList from './FlagList';\n\n/**\n * The `FlagsPage` component shows the flags list. It is only\n * used on mobile devices where the flags dropdown is within the drawer.\n */\nexport default class FlagsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    app.history.push('flags');\n    app.flags.load();\n    this.bodyClass = 'App--flags';\n  }\n  view() {\n    return m(\"div\", {\n      className: \"FlagsPage\"\n    }, m(FlagList, {\n      state: app.flags\n    }));\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/components/FlagsPage', FlagsPage);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","import Model from 'flarum/common/Model';\nexport default class Flag extends Model {\n  type() {\n    return Model.attribute('type').call(this);\n  }\n  reason() {\n    return Model.attribute('reason').call(this);\n  }\n  reasonDetail() {\n    return Model.attribute('reasonDetail').call(this);\n  }\n  createdAt() {\n    return Model.attribute('createdAt', Model.transformDate).call(this);\n  }\n  post() {\n    return Model.hasOne('post').call(this);\n  }\n  user() {\n    return Model.hasOne('user').call(this);\n  }\n}\nflarum.reg.add('flarum-flags', 'forum/models/Flag', Flag);","import Extend from 'flarum/common/extenders';\nimport Post from 'flarum/common/models/Post';\nimport FlagsPage from './components/FlagsPage';\nimport Flag from './models/Flag';\nexport default [new Extend.Routes() //\n.add('flags', '/flags', FlagsPage), new Extend.Store() //\n.add('flags', Flag), new Extend.Model(Post) //\n.hasMany('flags').attribute('canFlag')];","import app from 'flarum/forum/app';\nimport FlagListState from './states/FlagListState';\nimport addFlagControl from './addFlagControl';\nimport addFlagsDropdown from './addFlagsDropdown';\nimport addFlagsToPosts from './addFlagsToPosts';\nexport { default as extend } from './extend';\napp.initializers.add('flarum-flags', () => {\n  app.flags = new FlagListState(app);\n  addFlagControl();\n  addFlagsDropdown();\n  addFlagsToPosts();\n});\nimport './forum';","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport PostControls from 'flarum/forum/utils/PostControls';\nimport Button from 'flarum/common/components/Button';\nimport FlagPostModal from './components/FlagPostModal';\nexport default function () {\n  extend(PostControls, 'userControls', function (items, post) {\n    if (post.isHidden() || post.contentType() !== 'comment' || !post.canFlag()) return;\n    items.add('flag', m(Button, {\n      icon: \"fas fa-flag\",\n      onclick: () => app.modal.show(FlagPostModal, {\n        post\n      })\n    }, app.translator.trans('flarum-flags.forum.post_controls.flag_button')));\n  });\n}","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport HeaderSecondary from 'flarum/forum/components/HeaderSecondary';\nimport FlagsDropdown from './components/FlagsDropdown';\nexport default function () {\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    if (app.forum.attribute('canViewFlags')) {\n      items.add('flags', m(FlagsDropdown, {\n        state: app.flags\n      }), 15);\n    }\n  });\n}","import { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport Post from 'flarum/forum/components/Post';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport PostControls from 'flarum/forum/utils/PostControls';\nimport humanTime from 'flarum/common/utils/humanTime';\nexport default function () {\n  extend(Post.prototype, 'elementAttrs', function (attrs) {\n    if (this.attrs.post.flags().length) {\n      attrs.className += ' Post--flagged';\n    }\n  });\n  Post.prototype.dismissFlag = function (body) {\n    const post = this.attrs.post;\n    delete post.data.relationships.flags;\n    this.subtree.invalidate();\n    if (app.flags.cache) {\n      app.flags.cache.some((flag, i) => {\n        if (flag.post() === post) {\n          app.flags.cache.splice(i, 1);\n          if (app.flags.index === post) {\n            let next = app.flags.cache[i];\n            if (!next) next = app.flags.cache[0];\n            if (next) {\n              const nextPost = next.post();\n              app.flags.index = nextPost;\n              m.route.set(app.route.post(nextPost));\n            }\n          }\n          return true;\n        }\n      });\n    }\n    return app.request({\n      url: app.forum.attribute('apiUrl') + post.apiEndpoint() + '/flags',\n      method: 'DELETE',\n      body\n    });\n  };\n  Post.prototype.flagActionItems = function () {\n    const items = new ItemList();\n    const controls = PostControls.destructiveControls(this.attrs.post);\n    Object.keys(controls.toObject()).forEach(k => {\n      const attrs = controls.get(k).attrs;\n      attrs.className = 'Button';\n      extend(attrs, 'onclick', () => this.dismissFlag());\n    });\n    items.add('controls', m(\"div\", {\n      className: \"ButtonGroup\"\n    }, controls.toArray()));\n    items.add('dismiss', m(Button, {\n      className: \"Button\",\n      icon: \"far fa-eye-slash\",\n      onclick: this.dismissFlag.bind(this)\n    }, app.translator.trans('flarum-flags.forum.post.dismiss_flag_button')), -100);\n    return items;\n  };\n  override(Post.prototype, 'header', function (vdom) {\n    const post = this.attrs.post;\n    const flags = post.flags();\n    if (!flags.length) return;\n    if (post.isHidden()) this.revealContent = true;\n    return m(\"div\", {\n      className: \"Post-flagged\"\n    }, m(\"div\", {\n      className: \"Post-flagged-flags\"\n    }, flags.map(flag => m(\"div\", {\n      className: \"Post-flagged-flag\"\n    }, this.flagReason(flag)))), m(\"div\", {\n      className: \"Post-flagged-actions\"\n    }, this.flagActionItems().toArray()));\n  });\n  Post.prototype.flagReason = function (flag) {\n    if (flag.type() === 'user') {\n      const user = flag.user();\n      const reason = flag.reason() ? app.translator.trans(\"flarum-flags.forum.flag_post.reason_\".concat(flag.reason(), \"_label\")) : null;\n      const detail = flag.reasonDetail();\n      const time = humanTime(flag.createdAt());\n      return [app.translator.trans(reason ? 'flarum-flags.forum.post.flagged_by_with_reason_text' : 'flarum-flags.forum.post.flagged_by_text', {\n        time,\n        user,\n        reason\n      }), !!detail && m(\"span\", {\n        className: \"Post-flagged-detail\"\n      }, detail)];\n    }\n  };\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","reg","_typeof","iterator","constructor","FlagListState","app","t","i","super","this","r","e","toPrimitive","TypeError","String","configurable","writable","type","load","_this$app$session$use","session","user","attribute","pages","location","page","length","Promise","resolve","loadNext","add","FlagPostModal","oninit","vnode","success","reason","reasonDetail","className","title","trans","content","m","onclick","hide","bind","flagReasons","toArray","loading","disabled","items","guidelinesUrl","name","checked","placeholder","oninput","href","target","undefined","onsubmit","preventDefault","createRecord","save","relationships","post","attrs","errorHandler","onerror","then","catch","loaded","FlagList","view","state","controls","controlItems","hasItems","isLoading","emptyText","loadMore","hasNext","isLoadingNext","getPages","map","flag","avatar","icon","username","em","discussion","excerpt","contentPlain","datetime","createdAt","redraw","FlagsDropdown","initAttrs","label","getContent","goToRoute","route","set","getUnreadCount","getNewCount","FlagsPage","push","bodyClass","Flag","hasMany","extend","isHidden","contentType","canFlag","show","flags","dismissFlag","body","data","subtree","invalidate","cache","some","splice","index","next","nextPost","url","apiEndpoint","method","flagActionItems","keys","toObject","forEach","k","override","vdom","revealContent","flagReason","concat","detail","time"],"sourceRoot":""}