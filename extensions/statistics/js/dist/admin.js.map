{"version":3,"file":"admin.js","mappings":"6BAAoEA,EAAOC,QAAmI,WAAW,aAAa,IAAUC,EAAE,IAAIC,EAAE,KAAKC,EAAE,cAAcC,EAAE,SAASC,EAAE,SAASC,EAAE,OAAOC,EAAE,MAAMC,EAAE,OAAOC,EAAE,QAAQC,EAAE,UAAUC,EAAE,OAAOC,EAAE,OAAOC,EAAE,eAAeC,EAAE,6FAA6FC,EAAE,sFAAsFC,EAAE,CAACC,KAAK,KAAKC,SAAS,2DAA2DC,MAAM,KAAKC,OAAO,wFAAwFD,MAAM,KAAKE,QAAQ,SAASC,GAAG,IAAIrB,EAAE,CAAC,KAAK,KAAK,KAAK,MAAMC,EAAEoB,EAAE,IAAI,MAAM,IAAIA,GAAGrB,GAAGC,EAAE,IAAI,KAAKD,EAAEC,IAAID,EAAE,IAAI,GAAG,GAAGsB,EAAE,SAASD,EAAErB,EAAEC,GAAG,IAAIC,EAAEqB,OAAOF,GAAG,OAAOnB,GAAGA,EAAEsB,QAAQxB,EAAEqB,EAAE,GAAGI,MAAMzB,EAAE,EAAEE,EAAEsB,QAAQE,KAAKzB,GAAGoB,CAAC,EAAEM,EAAE,CAACvB,EAAEkB,EAAEM,EAAE,SAASP,GAAG,IAAIrB,GAAGqB,EAAEQ,YAAY5B,EAAE6B,KAAKC,IAAI/B,GAAGE,EAAE4B,KAAKE,MAAM/B,EAAE,IAAIE,EAAEF,EAAE,GAAG,OAAOD,GAAG,EAAE,IAAI,KAAKsB,EAAEpB,EAAE,EAAE,KAAK,IAAIoB,EAAEnB,EAAE,EAAE,IAAI,EAAEmB,EAAE,SAASD,EAAErB,EAAEC,GAAG,GAAGD,EAAEiC,OAAOhC,EAAEgC,OAAO,OAAOZ,EAAEpB,EAAED,GAAG,IAAIE,EAAE,IAAID,EAAEiC,OAAOlC,EAAEkC,SAASjC,EAAEkC,QAAQnC,EAAEmC,SAAShC,EAAEH,EAAEoC,QAAQC,IAAInC,EAAEM,GAAGJ,EAAEH,EAAEE,EAAE,EAAEE,EAAEL,EAAEoC,QAAQC,IAAInC,GAAGE,GAAG,EAAE,GAAGI,GAAG,UAAUN,GAAGD,EAAEE,IAAIC,EAAED,EAAEE,EAAEA,EAAEF,KAAK,EAAE,EAAEG,EAAE,SAASe,GAAG,OAAOA,EAAE,EAAES,KAAKQ,KAAKjB,IAAI,EAAES,KAAKE,MAAMX,EAAE,EAAEkB,EAAE,SAASlB,GAAG,MAAM,CAACN,EAAEP,EAAEM,EAAEJ,EAAE8B,EAAEjC,EAAEI,EAAEL,EAAEmC,EAAE9B,EAAEF,EAAEJ,EAAEiB,EAAElB,EAAEA,EAAED,EAAEuC,GAAGxC,EAAEyC,EAAElC,GAAGY,IAAIE,OAAOF,GAAG,IAAIuB,cAAcC,QAAQ,KAAK,GAAG,EAAExC,EAAE,SAASgB,GAAG,YAAO,IAASA,CAAC,GAAGyB,EAAE,KAAKL,EAAE,CAAC,EAAEA,EAAEK,GAAG/B,EAAE,IAAIwB,EAAE,SAASlB,GAAG,OAAOA,aAAa0B,CAAC,EAAEC,EAAE,SAAS3B,EAAErB,EAAEC,EAAEC,GAAG,IAAIC,EAAE,IAAIH,EAAE,OAAO8C,EAAE,GAAG,iBAAiB9C,EAAE,CAAC,IAAII,EAAEJ,EAAE4C,cAAcH,EAAErC,KAAKD,EAAEC,GAAGH,IAAIwC,EAAErC,GAAGH,EAAEE,EAAEC,GAAG,IAAIC,EAAEL,EAAEkB,MAAM,KAAK,IAAIf,GAAGE,EAAEmB,OAAO,EAAE,OAAOH,EAAEhB,EAAE,GAAG,KAAK,CAAC,IAAIC,EAAEN,EAAEgB,KAAKyB,EAAEnC,GAAGN,EAAEG,EAAEG,CAAC,CAAC,OAAOJ,GAAGC,IAAI2C,EAAE3C,GAAGA,IAAID,GAAG4C,CAAC,EAAEN,EAAE,SAASnB,EAAErB,GAAG,GAAGuC,EAAElB,GAAG,OAAOA,EAAEe,QAAQ,IAAInC,EAAE,iBAAiBD,EAAEA,EAAE,CAAC,EAAE,OAAOC,EAAEgC,KAAKZ,EAAEpB,EAAEgD,KAAKC,UAAU,IAAIH,EAAE9C,EAAE,EAAEkD,EAAExB,EAAEwB,EAAEvC,EAAEoC,EAAEG,EAAEhD,EAAEoC,EAAEY,EAAEX,EAAE,SAASnB,EAAErB,GAAG,OAAOwC,EAAEnB,EAAE,CAAC+B,OAAOpD,EAAEqD,GAAGC,IAAItD,EAAEuD,GAAGC,EAAExD,EAAEyD,GAAGC,QAAQ1D,EAAE0D,SAAS,EAAE,IAAIX,EAAE,WAAW,SAAShC,EAAEM,GAAGsC,KAAKN,GAAGL,EAAE3B,EAAE+B,OAAO,MAAK,GAAIO,KAAKC,MAAMvC,EAAE,CAAC,IAAIC,EAAEP,EAAE8C,UAAU,OAAOvC,EAAEsC,MAAM,SAASvC,GAAGsC,KAAKG,GAAG,SAASzC,GAAG,IAAIrB,EAAEqB,EAAEY,KAAKhC,EAAEoB,EAAEiC,IAAI,GAAG,OAAOtD,EAAE,OAAO,IAAI+D,KAAKC,KAAK,GAAGb,EAAE9C,EAAEL,GAAG,OAAO,IAAI+D,KAAK,GAAG/D,aAAa+D,KAAK,OAAO,IAAIA,KAAK/D,GAAG,GAAG,iBAAiBA,IAAI,MAAMiE,KAAKjE,GAAG,CAAC,IAAIE,EAAEF,EAAEkE,MAAMrD,GAAG,GAAGX,EAAE,CAAC,IAAIC,EAAED,EAAE,GAAG,GAAG,EAAEE,GAAGF,EAAE,IAAI,KAAKiE,UAAU,EAAE,GAAG,OAAOlE,EAAE,IAAI8D,KAAKA,KAAKK,IAAIlE,EAAE,GAAGC,EAAED,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEE,IAAI,IAAI2D,KAAK7D,EAAE,GAAGC,EAAED,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,EAAEE,EAAE,CAAC,CAAC,OAAO,IAAI2D,KAAK/D,EAAE,CAA3X,CAA6XqB,GAAGsC,KAAKF,GAAGpC,EAAEmC,GAAG,CAAC,EAAEG,KAAKU,MAAM,EAAE/C,EAAE+C,KAAK,WAAW,IAAIhD,EAAEsC,KAAKG,GAAGH,KAAKW,GAAGjD,EAAEkD,cAAcZ,KAAKa,GAAGnD,EAAEoD,WAAWd,KAAKe,GAAGrD,EAAEsD,UAAUhB,KAAKiB,GAAGvD,EAAEwD,SAASlB,KAAKmB,GAAGzD,EAAE0D,WAAWpB,KAAKqB,GAAG3D,EAAE4D,aAAatB,KAAKuB,GAAG7D,EAAE8D,aAAaxB,KAAKyB,IAAI/D,EAAEgE,iBAAiB,EAAE/D,EAAEgE,OAAO,WAAW,OAAOnC,CAAC,EAAE7B,EAAEiE,QAAQ,WAAW,QAAQ5B,KAAKG,GAAG0B,aAAa5E,EAAE,EAAEU,EAAEmE,OAAO,SAASpE,EAAErB,GAAG,IAAIC,EAAEuC,EAAEnB,GAAG,OAAOsC,KAAK+B,QAAQ1F,IAAIC,GAAGA,GAAG0D,KAAKgC,MAAM3F,EAAE,EAAEsB,EAAEsE,QAAQ,SAASvE,EAAErB,GAAG,OAAOwC,EAAEnB,GAAGsC,KAAK+B,QAAQ1F,EAAE,EAAEsB,EAAEuE,SAAS,SAASxE,EAAErB,GAAG,OAAO2D,KAAKgC,MAAM3F,GAAGwC,EAAEnB,EAAE,EAAEC,EAAEwE,GAAG,SAASzE,EAAErB,EAAEC,GAAG,OAAOkD,EAAE9C,EAAEgB,GAAGsC,KAAK3D,GAAG2D,KAAKoC,IAAI9F,EAAEoB,EAAE,EAAEC,EAAE0E,KAAK,WAAW,OAAOlE,KAAKE,MAAM2B,KAAKsC,UAAU,IAAI,EAAE3E,EAAE2E,QAAQ,WAAW,OAAOtC,KAAKG,GAAGoC,SAAS,EAAE5E,EAAEoE,QAAQ,SAASrE,EAAErB,GAAG,IAAIC,EAAE0D,KAAKzD,IAAIiD,EAAE9C,EAAEL,IAAIA,EAAES,EAAE0C,EAAEZ,EAAElB,GAAGT,EAAE,SAASS,EAAErB,GAAG,IAAIG,EAAEgD,EAAEX,EAAEvC,EAAEsD,GAAGQ,KAAKK,IAAInE,EAAEqE,GAAGtE,EAAEqB,GAAG,IAAI0C,KAAK9D,EAAEqE,GAAGtE,EAAEqB,GAAGpB,GAAG,OAAOC,EAAEC,EAAEA,EAAEwF,MAAMrF,EAAE,EAAEO,EAAE,SAASQ,EAAErB,GAAG,OAAOmD,EAAEX,EAAEvC,EAAEkG,SAAS9E,GAAG+E,MAAMnG,EAAEkG,OAAO,MAAMjG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,MAAMmG,MAAMrG,IAAIC,EAAE,EAAEa,EAAE6C,KAAKiB,GAAG7D,EAAE4C,KAAKa,GAAGlD,EAAEqC,KAAKe,GAAG/C,EAAE,OAAOgC,KAAKJ,GAAG,MAAM,IAAI,OAAO9C,GAAG,KAAKC,EAAE,OAAOR,EAAEU,EAAE,EAAE,GAAGA,EAAE,GAAG,IAAI,KAAKJ,EAAE,OAAON,EAAEU,EAAE,EAAEG,GAAGH,EAAE,EAAEG,EAAE,GAAG,KAAKR,EAAE,IAAIuC,EAAEa,KAAK2C,UAAUC,WAAW,EAAE9D,GAAG3B,EAAEgC,EAAEhC,EAAE,EAAEA,GAAGgC,EAAE,OAAOlC,EAAEV,EAAEoB,EAAEmB,EAAEnB,GAAG,EAAEmB,GAAG1B,GAAG,KAAKT,EAAE,KAAKK,EAAE,OAAOE,EAAEc,EAAE,QAAQ,GAAG,KAAKtB,EAAE,OAAOQ,EAAEc,EAAE,UAAU,GAAG,KAAKvB,EAAE,OAAOS,EAAEc,EAAE,UAAU,GAAG,KAAKxB,EAAE,OAAOU,EAAEc,EAAE,eAAe,GAAG,QAAQ,OAAOgC,KAAKvB,QAAQ,EAAEd,EAAEqE,MAAM,SAAStE,GAAG,OAAOsC,KAAK+B,QAAQrE,GAAE,EAAG,EAAEC,EAAEkF,KAAK,SAASnF,EAAErB,GAAG,IAAIC,EAAEM,EAAE4C,EAAEZ,EAAElB,GAAGZ,EAAE,OAAOkD,KAAKJ,GAAG,MAAM,IAAI3C,GAAGX,EAAE,CAAC,EAAEA,EAAEK,GAAGG,EAAE,OAAOR,EAAEU,GAAGF,EAAE,OAAOR,EAAEO,GAAGC,EAAE,QAAQR,EAAES,GAAGD,EAAE,WAAWR,EAAEI,GAAGI,EAAE,QAAQR,EAAEG,GAAGK,EAAE,UAAUR,EAAEE,GAAGM,EAAE,UAAUR,EAAEC,GAAGO,EAAE,eAAeR,GAAGM,GAAGM,EAAEN,IAAID,EAAEqD,KAAKe,IAAI1E,EAAE2D,KAAKiB,IAAI5E,EAAE,GAAGO,IAAIC,GAAGD,IAAIG,EAAE,CAAC,IAAII,EAAE6C,KAAKvB,QAAQ2D,IAAIpF,EAAE,GAAGG,EAAEgD,GAAGlD,GAAGC,GAAGC,EAAEuD,OAAOV,KAAKG,GAAGhD,EAAEiF,IAAIpF,EAAEmB,KAAK2E,IAAI9C,KAAKe,GAAG5D,EAAE4F,gBAAgB5C,EAAE,MAAMlD,GAAG+C,KAAKG,GAAGlD,GAAGC,GAAG,OAAO8C,KAAKU,OAAOV,IAAI,EAAErC,EAAEyE,IAAI,SAAS1E,EAAErB,GAAG,OAAO2D,KAAKvB,QAAQoE,KAAKnF,EAAErB,EAAE,EAAEsB,EAAEqF,IAAI,SAAStF,GAAG,OAAOsC,KAAKR,EAAEZ,EAAElB,KAAK,EAAEC,EAAEe,IAAI,SAASnC,EAAEO,GAAG,IAAIE,EAAEC,EAAE+C,KAAKzD,EAAE0G,OAAO1G,GAAG,IAAIW,EAAEsC,EAAEZ,EAAE9B,GAAGK,EAAE,SAASO,GAAG,IAAIrB,EAAEwC,EAAE5B,GAAG,OAAOuC,EAAEX,EAAExC,EAAEiC,KAAKjC,EAAEiC,OAAOH,KAAK+E,MAAMxF,EAAEnB,IAAIU,EAAE,EAAE,GAAGC,IAAIL,EAAE,OAAOmD,KAAKoC,IAAIvF,EAAEmD,KAAKa,GAAGtE,GAAG,GAAGW,IAAIH,EAAE,OAAOiD,KAAKoC,IAAIrF,EAAEiD,KAAKW,GAAGpE,GAAG,GAAGW,IAAIP,EAAE,OAAOQ,EAAE,GAAG,GAAGD,IAAIN,EAAE,OAAOO,EAAE,GAAG,IAAIC,GAAGJ,EAAE,CAAC,EAAEA,EAAEP,GAAGJ,EAAEW,EAAEN,GAAGJ,EAAEU,EAAER,GAAvxI,IAA4xIQ,GAAGE,IAAI,EAAES,EAAEqC,KAAKG,GAAGoC,UAAUhG,EAAEa,EAAE,OAAOoC,EAAEX,EAAElB,EAAEqC,KAAK,EAAErC,EAAEwF,SAAS,SAASzF,EAAErB,GAAG,OAAO2D,KAAKtB,KAAK,EAAEhB,EAAErB,EAAE,EAAEsB,EAAEyF,OAAO,SAAS1F,GAAG,IAAIrB,EAAE2D,KAAK1D,EAAE0D,KAAK2C,UAAU,IAAI3C,KAAK4B,UAAU,OAAOtF,EAAE+G,aAAapG,EAAE,IAAIV,EAAEmB,GAAG,uBAAuBlB,EAAEgD,EAAEvB,EAAE+B,MAAMvD,EAAEuD,KAAKmB,GAAGzE,EAAEsD,KAAKqB,GAAG1E,EAAEqD,KAAKa,GAAGjE,EAAEN,EAAEgB,SAAST,EAAEP,EAAEkB,OAAOV,EAAE,SAASY,EAAEpB,EAAEE,EAAEC,GAAG,OAAOiB,IAAIA,EAAEpB,IAAIoB,EAAErB,EAAEE,KAAKC,EAAEF,GAAGoG,MAAM,EAAEjG,EAAE,EAAEM,EAAE,SAASW,GAAG,OAAO8B,EAAE/C,EAAEA,EAAE,IAAI,GAAGiB,EAAE,IAAI,EAAEV,EAAEV,EAAEgH,UAAU,SAAS5F,EAAErB,EAAEC,GAAG,IAAIC,EAAEmB,EAAE,GAAG,KAAK,KAAK,OAAOpB,EAAEC,EAAE0C,cAAc1C,CAAC,EAAEW,EAAE,CAACqG,GAAG3F,OAAOoC,KAAKW,IAAI+B,OAAO,GAAGc,KAAKxD,KAAKW,GAAGvD,EAAET,EAAE,EAAE8G,GAAGjE,EAAE/C,EAAEE,EAAE,EAAE,EAAE,KAAK+G,IAAI5G,EAAER,EAAEqH,YAAYhH,EAAEE,EAAE,GAAG+G,KAAK9G,EAAED,EAAEF,GAAGmC,EAAEkB,KAAKe,GAAG8C,GAAGrE,EAAE/C,EAAEuD,KAAKe,GAAG,EAAE,KAAK/D,EAAEY,OAAOoC,KAAKiB,IAAI6C,GAAGhH,EAAER,EAAEyH,YAAY/D,KAAKiB,GAAGrE,EAAE,GAAGoH,IAAIlH,EAAER,EAAE2H,cAAcjE,KAAKiB,GAAGrE,EAAE,GAAGsH,KAAKtH,EAAEoD,KAAKiB,IAAIkD,EAAEvG,OAAOnB,GAAG2H,GAAG5E,EAAE/C,EAAEA,EAAE,EAAE,KAAKK,EAAEC,EAAE,GAAGsH,GAAGtH,EAAE,GAAGJ,EAAEK,EAAEP,EAAEC,GAAE,GAAI4H,EAAEtH,EAAEP,EAAEC,GAAE,GAAIiB,EAAEC,OAAOlB,GAAG6H,GAAG/E,EAAE/C,EAAEC,EAAE,EAAE,KAAKD,EAAEmB,OAAOoC,KAAKuB,IAAIiD,GAAGhF,EAAE/C,EAAEuD,KAAKuB,GAAG,EAAE,KAAKkD,IAAIjF,EAAE/C,EAAEuD,KAAKyB,IAAI,EAAE,KAAKiD,EAAElI,GAAG,OAAOD,EAAE2C,QAAQ/B,GAAG,SAASO,EAAErB,GAAG,OAAOA,GAAGa,EAAEQ,IAAIlB,EAAE0C,QAAQ,IAAI,GAAG,GAAG,EAAEvB,EAAEO,UAAU,WAAW,OAAO,IAAIC,KAAK+E,MAAMlD,KAAKG,GAAGwE,oBAAoB,GAAG,EAAEhH,EAAEiH,KAAK,SAASrI,EAAES,EAAEC,GAAG,IAAIC,EAAEC,EAAEqC,EAAEZ,EAAE5B,GAAGI,EAAEyB,EAAEtC,GAAGoB,GAAGP,EAAEc,YAAY8B,KAAK9B,aAAa7B,EAAE2B,EAAEgC,KAAK5C,EAAE+B,EAAEK,EAAE7B,EAAEqC,KAAK5C,GAAG,OAAO+B,GAAGjC,EAAE,CAAC,EAAEA,EAAEH,GAAGoC,EAAE,GAAGjC,EAAEL,GAAGsC,EAAEjC,EAAEJ,GAAGqC,EAAE,EAAEjC,EAAEN,IAAIoB,EAAEL,GAAG,OAAOT,EAAEP,IAAIqB,EAAEL,GAAG,MAAMT,EAAER,GAAGsB,EAAE1B,EAAEY,EAAET,GAAGuB,EAAE3B,EAAEa,EAAEV,GAAGwB,EAAh/K,IAAo/Kd,GAAGC,IAAIa,EAAEf,EAAEkC,EAAEK,EAAE7C,EAAEwC,EAAE,EAAExB,EAAEoF,YAAY,WAAW,OAAO/C,KAAKgC,MAAMnF,GAAGkE,EAAE,EAAEpD,EAAEgF,QAAQ,WAAW,OAAO7D,EAAEkB,KAAKN,GAAG,EAAE/B,EAAE8B,OAAO,SAAS/B,EAAErB,GAAG,IAAIqB,EAAE,OAAOsC,KAAKN,GAAG,IAAIpD,EAAE0D,KAAKvB,QAAQlC,EAAE8C,EAAE3B,EAAErB,GAAE,GAAI,OAAOE,IAAID,EAAEoD,GAAGnD,GAAGD,CAAC,EAAEqB,EAAEc,MAAM,WAAW,OAAOe,EAAEX,EAAEmB,KAAKG,GAAGH,KAAK,EAAErC,EAAE6E,OAAO,WAAW,OAAO,IAAIpC,KAAKJ,KAAKsC,UAAU,EAAE3E,EAAEkH,OAAO,WAAW,OAAO7E,KAAK4B,UAAU5B,KAAK8E,cAAc,IAAI,EAAEnH,EAAEmH,YAAY,WAAW,OAAO9E,KAAKG,GAAG2E,aAAa,EAAEnH,EAAEkE,SAAS,WAAW,OAAO7B,KAAKG,GAAG4E,aAAa,EAAE3H,CAAC,CAAtwI,GAA0wI4H,EAAE5F,EAAEc,UAAU,OAAOrB,EAAEqB,UAAU8E,EAAE,CAAC,CAAC,MAAMzI,GAAG,CAAC,KAAKC,GAAG,CAAC,KAAKC,GAAG,CAAC,KAAKC,GAAG,CAAC,KAAKC,GAAG,CAAC,KAAKE,GAAG,CAAC,KAAKE,GAAG,CAAC,KAAKC,IAAIiI,SAAS,SAASvH,GAAGsH,EAAEtH,EAAE,IAAI,SAASrB,GAAG,OAAO2D,KAAKmC,GAAG9F,EAAEqB,EAAE,GAAGA,EAAE,GAAG,CAAC,IAAImB,EAAEqG,OAAO,SAASxH,EAAErB,GAAG,OAAOqB,EAAEyH,KAAKzH,EAAErB,EAAE+C,EAAEP,GAAGnB,EAAEyH,IAAG,GAAItG,CAAC,EAAEA,EAAEY,OAAOJ,EAAER,EAAEuG,QAAQxG,EAAEC,EAAEwD,KAAK,SAAS3E,GAAG,OAAOmB,EAAE,IAAInB,EAAE,EAAEmB,EAAEwG,GAAGvG,EAAEK,GAAGN,EAAEyG,GAAGxG,EAAED,EAAED,EAAE,CAAC,EAAEC,CAAC,CAAv7MxC,E,kBCAfF,EAAOC,QAA0J,WAAW,aAAa,IAAIC,EAAE,CAACkJ,IAAI,YAAYC,GAAG,SAASC,EAAE,aAAaC,GAAG,eAAeC,IAAI,sBAAsBC,KAAK,6BAA6B,OAAO,SAASlI,EAAEd,EAAEN,GAAG,IAAIC,EAAEK,EAAEsD,UAAU1D,EAAED,EAAE6G,OAAO9G,EAAE+I,GAAGQ,QAAQxJ,EAAEE,EAAE6G,OAAO,SAAS1F,QAAG,IAASA,IAAIA,EAAE,wBAAwB,IAAId,EAAEoD,KAAK2C,UAAUkD,QAAQvJ,EAAE,SAASoB,EAAEd,GAAG,OAAOc,EAAEwB,QAAQ,qCAAqC,SAASxB,EAAEpB,EAAEC,GAAG,IAAIC,EAAED,GAAGA,EAAEuJ,cAAc,OAAOxJ,GAAGM,EAAEL,IAAIF,EAAEE,IAAIK,EAAEJ,GAAG0C,QAAQ,kCAAkC,SAAS7C,EAAEqB,EAAEd,GAAG,OAAOc,GAAGd,EAAE8F,MAAM,EAAE,GAAG,GAAG,CAA5N,CAA8NhF,OAAE,IAASd,EAAE,CAAC,EAAEA,GAAG,OAAOJ,EAAEuJ,KAAK/F,KAAK1D,EAAE,CAAC,CAAC,CAAhtBoB,E,kBCAfvB,EAAOC,QAA8I,WAAW,aAAa,IAAIsB,EAAE,SAASlB,EAAE,uBAAuBH,EAAE,eAAe,OAAO,SAASI,EAAEI,EAAEP,GAAG,IAAII,EAAEG,EAAEqD,UAAU5D,EAAEqD,IAAI,SAASjC,GAAwC,OAAO,IAAIb,EAA1C,CAACyB,KAAKZ,EAAEiC,KAAI,EAAGL,KAAKC,WAA0B,EAAE7C,EAAEiD,IAAI,SAASnD,GAAG,IAAIH,EAAEC,EAAE0D,KAAKwC,SAAS,CAAC/C,OAAOO,KAAKN,GAAGC,KAAI,IAAK,OAAOnD,EAAEH,EAAEqC,IAAIsB,KAAK9B,YAAYR,GAAGrB,CAAC,EAAEK,EAAEsJ,MAAM,WAAW,OAAO1J,EAAE0D,KAAKwC,SAAS,CAAC/C,OAAOO,KAAKN,GAAGC,KAAI,GAAI,EAAE,IAAI/C,EAAEF,EAAEuD,MAAMvD,EAAEuD,MAAM,SAASvC,GAAGA,EAAEiC,MAAMK,KAAKJ,IAAG,GAAII,KAAK2B,SAASjF,EAAEgB,EAAEqC,WAAWC,KAAKD,QAAQrC,EAAEqC,SAASnD,EAAEmJ,KAAK/F,KAAKtC,EAAE,EAAE,IAAInB,EAAEG,EAAEgE,KAAKhE,EAAEgE,KAAK,WAAW,GAAGV,KAAKJ,GAAG,CAAC,IAAIlC,EAAEsC,KAAKG,GAAGH,KAAKW,GAAGjD,EAAEuI,iBAAiBjG,KAAKa,GAAGnD,EAAEwI,cAAclG,KAAKe,GAAGrD,EAAEyI,aAAanG,KAAKiB,GAAGvD,EAAE0I,YAAYpG,KAAKmB,GAAGzD,EAAE2I,cAAcrG,KAAKqB,GAAG3D,EAAE4I,gBAAgBtG,KAAKuB,GAAG7D,EAAE6I,gBAAgBvG,KAAKyB,IAAI/D,EAAE8I,oBAAoB,MAAMjK,EAAEwJ,KAAK/F,KAAK,EAAE,IAAIrD,EAAED,EAAEwB,UAAUxB,EAAEwB,UAAU,SAASzB,EAAEI,GAAG,IAAIP,EAAE0D,KAAK2B,SAASjF,EAAE,GAAGJ,EAAEG,GAAG,OAAOuD,KAAKJ,GAAG,EAAEtD,EAAE0D,KAAKD,SAASpD,EAAEoJ,KAAK/F,MAAMA,KAAKD,QAAQ,GAAG,iBAAiBtD,IAAIA,EAAE,SAASiB,QAAG,IAASA,IAAIA,EAAE,IAAI,IAAIjB,EAAEiB,EAAE6C,MAAM/D,GAAG,IAAIC,EAAE,OAAO,KAAK,IAAII,GAAG,GAAGJ,EAAE,IAAI8D,MAAMlE,IAAI,CAAC,IAAI,EAAE,GAAGC,EAAEO,EAAE,GAAGH,EAAE,IAAIG,EAAE,KAAKA,EAAE,GAAG,OAAO,IAAIH,EAAE,EAAE,MAAMJ,EAAEI,GAAGA,CAAC,CAA1J,CAA4JD,GAAG,OAAOA,GAAG,OAAOuD,KAAK,IAAItD,EAAEyB,KAAKC,IAAI3B,IAAI,GAAG,GAAGA,EAAEA,EAAEG,EAAEoD,KAAK,GAAGnD,EAAE,OAAOD,EAAEmD,QAAQrD,EAAEE,EAAEgD,GAAG,IAAInD,EAAEG,EAAE,GAAG,IAAIH,EAAE,CAAC,IAAIF,EAAEyD,KAAKJ,GAAGI,KAAKwC,SAASmC,qBAAqB,EAAE3E,KAAK9B,aAAatB,EAAEoD,KAAKgG,QAAQtH,IAAIhC,EAAEH,EAAEmB,IAAIqC,QAAQrD,EAAEE,EAAEkD,GAAG2G,aAAalK,CAAC,MAAMK,EAAEoD,KAAKL,MAAM,OAAO/C,CAAC,EAAE,IAAIE,EAAEJ,EAAE0G,OAAO1G,EAAE0G,OAAO,SAAS1F,GAAG,IAAIlB,EAAEkB,IAAIsC,KAAKJ,GAAG,yBAAyB,IAAI,OAAO9C,EAAEiJ,KAAK/F,KAAKxD,EAAE,EAAEE,EAAE4F,QAAQ,WAAW,IAAI5E,EAAEsC,KAAK2B,SAASjF,EAAEsD,KAAKD,SAAS,EAAEC,KAAKD,SAASC,KAAKF,GAAG2G,cAAczG,KAAKG,GAAGwE,qBAAqB,OAAO3E,KAAKG,GAAGmC,UAAU,IAAI5E,CAAC,EAAEhB,EAAEgK,MAAM,WAAW,QAAQ1G,KAAKJ,EAAE,EAAElD,EAAEoI,YAAY,WAAW,OAAO9E,KAAKwC,SAASsC,aAAa,EAAEpI,EAAEmF,SAAS,WAAW,OAAO7B,KAAKwC,SAASuC,aAAa,EAAE,IAAI9H,EAAEP,EAAE8F,OAAO9F,EAAE8F,OAAO,SAAS9E,GAAG,MAAM,MAAMA,GAAGsC,KAAKD,QAAQzD,EAAE0D,KAAKoD,OAAO,4BAA4BZ,SAASvF,EAAE8I,KAAK/F,KAAK,EAAE,IAAIjD,EAAEL,EAAEkI,KAAKlI,EAAEkI,KAAK,SAASlH,EAAElB,EAAEH,GAAG,GAAGqB,GAAGsC,KAAKJ,KAAKlC,EAAEkC,GAAG,OAAO7C,EAAEgJ,KAAK/F,KAAKtC,EAAElB,EAAEH,GAAG,IAAII,EAAEuD,KAAKgG,QAAQnJ,EAAEP,EAAEoB,GAAGsI,QAAQ,OAAOjJ,EAAEgJ,KAAKtJ,EAAEI,EAAEL,EAAEH,EAAE,CAAC,CAAC,CAAtnEG,E,0ECC3D,iBAATkB,GAAoBrB,GAAOsK,UAAUC,cAAclJ,GAAQA,GAAQ,KA4ClF,SAAgBrB,EAAUqB,GAAA,IACrBrB,EAAOqB,EAAQmJ,wBAAA,OAAAC,IAKbzK,EAAKyK,KAAOH,SAASI,gBAAgBC,WAAaL,SAASM,KAAKD,WAAAE,KAC/D7K,EAAK6K,MAAQP,SAASI,gBAAgBI,YAAcR,SAASM,KAAKE,YAAA,CAO1E,SAAgB3K,EAASkB,GAAA,OACI,OAApBA,EAAG0J,YAAA,CAGZ,SAAgB9K,EAAoBoB,GAAA,IAE/BrB,EAAOqB,EAAGmJ,wBAAA,OAGbxK,EAAKyK,KAAO,GACNzK,EAAK6K,MAAQ,GACb7K,EAAKgL,SAAWC,OAAOC,aAAeZ,SAASI,gBAAgBS,eAAAnL,EAC1DoL,QAAUH,OAAOI,YAAcf,SAASI,gBAAgBY,YAAA,CChCrE,SAAgBpL,EAAamB,GAAA,OACrBA,EAAEkK,YAAclK,EAAEmK,QAAQf,IAAMpJ,EAAEoK,SAAShB,GAAA,CAGnD,SAAgBlK,EAAcc,GAAA,OACtBA,EAAEmK,QAAQX,KAAOxJ,EAAEoK,SAASZ,IAAA,CAGpC,SAAgBjK,EAAeS,GAAA,OACPA,EAAEmK,QAAQf,IAAMpJ,EAAEmK,QAAQR,OAC9C3J,EAAEoK,SAAShB,IAAMpJ,EAAEoK,SAAST,OAC5B3J,EAAEkK,YAAclK,EAAEqK,YAAA,CAItB,SAAgBrL,EAAcgB,GAAA,OACPA,EAAEmK,QAAQX,KAAOxJ,EAAEmK,QAAQJ,MAC9C/J,EAAEoK,SAASZ,KAAOxJ,EAAEoK,SAASL,KAAA,CClDjC,SAAgB3K,EAASY,GAAA,OACjBsK,WAAWtK,EAAEuK,QAAQ,IAyC7B,SAAgBlL,EAAUW,EAAOrB,EAAOG,GAAA,IAASF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAC5C/C,IAAAA,EACOF,EAAQoB,EAAM,GAAKA,EAAMA,EAAMG,OAAS,QAE/ClB,EAAc,IAAImB,MAAMK,KAAKC,IAAI/B,IAAQ6L,KAAK1L,GAAA,OAC1CF,EAAQK,EAAYwL,OAAOzK,GAASA,EAAMyK,OAAOxL,EAAA,CAS1D,SAAgBK,EAAeU,EAAQrB,GAAA,OAC9BqB,EAAO,IAAIG,OAASxB,CAAA,CAyB7B,SAAgBuC,EAAmBlB,EAAOrB,GAAA,OAAAwD,EAErC1B,KAAKiK,IAAI1K,EAAQ2K,IAAehM,EAAAc,EAChCgB,KAAKmK,IAAI5K,EAAQ2K,IAAehM,EAAA,CASrC,SAAgBQ,EAAca,GAAA,IAAWrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,WACpC0D,OAAOsF,MAAM7K,SAAA,IACRA,IACCuF,OAAOuF,SAAS9K,IACjBrB,GAAeqB,EAAY,GAkBpC,SAAgByB,EAAUzB,GAAA,IACtBrB,OAAA,EAAQG,OAAA,EAAOF,OAAA,KAEfoB,aAAqB0C,KAAA,OAChB,IAAIA,KAAK1C,EAAU6E,WAAA,GAGH,qBAAd7E,EAAA,YAAA+K,GAAA/K,KAAwC,OAAdA,EAAA,OAC5BA,EAGc,IAElBpB,KALID,EAGAyB,MAAM4K,QAAQhL,GAAA,MAEXA,EAAAlB,EACFkB,EAAUpB,GAAAD,EAEXC,GAAO6C,EAAU3C,GAAA,OAGnBH,CAAA,CC3ID,SAASsB,EAAqBD,EAAMrB,GAAA,IACtCG,OAAA,EAAQF,OAAA,SACRoB,GAAQrB,GAAAG,EACFH,EAAWqB,EAAApB,EAChBoB,IAAAlB,EAEKkB,EAAOrB,EAAAC,EACZD,GAAA,CAGGG,EAAQF,EAAA,CAGjB,SAAgBa,EAAqBO,EAAQrB,GAAA,IAC5CG,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAalD,EAAOwB,OAASH,EAAOG,OAAA,OAGjCrB,EAAa,EAAAkB,EACNX,EAAUW,EAAQlB,GAAAH,EAElBU,EAAUV,EAAQG,GAAA,CAEpBkB,EAAQrB,EAAA,CAGjB,SAAgBsM,EAAejL,EAAKrB,GAAA,GAC9BqB,EAAA,OAGDA,EAAIG,OAASxB,EACTqB,EAAIgF,MAAM,EAAGrG,EAAI,GAAK,MAEtBqB,CAAA,CAIT,SAAgBmC,EAAmBnC,GAAA,IAC9BrB,OAAA,KACiB,iBAAVqB,EAAoBrB,EAASqB,OACnC,GAAqB,iBAAVA,IAAArB,EACN4G,OAAOvF,GACZuF,OAAOsF,MAAMlM,IAAS,OAAOqB,EAAA,IAI9BlB,EAAI2B,KAAKE,MAAMF,KAAKyK,MAAMzK,KAAKC,IAAI/B,KAAA,GACnCG,GAAK,EAAG,OAAOH,EAAA,IACfC,EAAI6B,KAAKE,MAAM7B,EAAI,GACnBG,EAAawB,KAAK0K,IAAI,GAAIrM,EAAQ,EAAJF,KAAWD,EAAS8B,KAAK0K,IAAI,GAAIrM,IAAIyL,QAAQ,UAGxE9J,KAAK+E,MAAgB,IAAVvG,GAAe,IAAM,KAAO,GAAI,IAAK,IAAK,IAAK,KAAKL,EAAA,CAIvE,SAAgBwM,EAAwBpL,EAAOrB,GAAA,IAG1C,IADAG,EAAA,GACIF,EAAE,EAAEA,EAAEoB,EAAMG,OAAOvB,IAAAE,EACnBuM,KAAA,CAAMrL,EAAMpB,GAAID,EAAMC,KAAA,IAa1BG,EAAe,SAACiB,EAASrB,EAAUG,EAAMF,GAAA,IAGxCG,EAZM,SAACiB,EAAQrB,GAAA,IACfG,EAAUH,EAAO,GAAKqB,EAAO,GAC7BpB,EAAUD,EAAO,GAAKqB,EAAO,UAAAG,OAExBM,KAAK6K,KAAK7K,KAAK0K,IAAIrM,EAAS,GAAK2B,KAAK0K,IAAIvM,EAAS,IAAA2M,MACpD9K,KAAK+K,MAAM5M,EAASE,GAAA,CAOpBG,CAFAN,GAAYqB,EACZlB,GAAQkB,GAEZnB,EAAQE,EAAEwM,OAAS3M,EAAU6B,KAAKgL,GAAK,GACvCvM,EAfW,GAeFH,EAAEoB,OAAA,OACPH,EAAQ,GAAKS,KAAKmK,IAAI/L,GAASK,EAC/Bc,EAAQ,GAAKS,KAAKiK,IAAI7L,GAASK,EAAA,SAUzB,SAACc,EAAQrB,GAAA,OAChBqB,EAAO0L,QAAO,SAAC1L,EAAKlB,EAAOF,EAAGK,GAAA,OAAY,IAANL,EACrCE,EAAM,OAAMA,EAAM,GAClBkB,EAAA,IATa,SAACA,EAAOrB,EAAGG,GAAA,IAC1BF,EAAMG,EAAaD,EAAEH,EAAI,GAAIG,EAAEH,EAAI,GAAIqB,GACvCf,EAAMF,EAAaiB,EAAOlB,EAAEH,EAAI,GAAIG,EAAEH,EAAI,IAAI,cACtCC,EAAI,OAAMA,EAAI,OAAMK,EAAI,OAAMA,EAAI,OAAMe,EAAM,OAAMA,EAAM,GAMzDrB,CAAQG,EAAOF,EAAGK,EAAA,GAAM,IAHvB,CAMCH,EATuD,CCvExE,SAASqC,EAAWnB,GAAA,OACfA,EAAI,IAAY,IACXA,EAAI,EAAU,EAChBA,CAAA,CAGR,SAAgB4G,EAAmB5G,EAAOrB,GAAA,IACrCG,EAAM6M,GAAS3L,GACfpB,GAAA,EACU,KAAVE,EAAI,KAAAA,EACDA,EAAIkG,MAAM,GAAApG,GAAA,GACL,IAERK,EAAM2M,SAAS9M,EAAI,IACnBC,EAAIoC,GAAYlC,GAAO,IAAMN,GAC7BE,EAAIsC,GAAalC,GAAO,EAAK,KAAUN,GACL,OAC9BC,EAAS,IAAI,KADbuC,GAAkB,IAANlC,GAAkBN,GACLE,GAAK,EAAME,GAAK,IAAKoF,SAAS,ICtBhE,SAASmD,EAAEtH,EAAMrB,GAAA,MACO,iBAATqB,GAAoBrB,GAAOsK,UAAUC,cAAclJ,GAAQA,GAAQ,KAGlF,SAAgB+H,EAAU/H,EAAKrB,GAAA,IAC1BG,EAAUmK,SAAS4C,gBAAgB,6BAA8B7L,GAAA,IAEhE,IAAIpB,KAAKD,EAAG,KACZM,EAAMN,EAAEC,GAAA,GAEF,WAANA,EAAA0I,EACDrI,GAAK6M,YAAYhN,QAEf,GAAU,WAANF,EAAgB,KACpBG,EAAMuI,EAAErI,GAAAF,EACRgN,WAAWC,aAAalN,EAASC,GAAAD,EAC7BgN,YAAY/M,EAAA,KAEJ,WAANH,EACQ,qBAARK,EAAA,YAAA8L,GAAA9L,KAAAgN,OACFC,KAAKjN,GAAKkN,KAAI,SAAAnM,GAAAlB,EACZsN,MAAMpM,GAAQf,EAAIe,EAAA,KAInB,cAANpB,IAAAA,EAAyB,SACnB,cAANA,EAAAE,EACFuN,YAAyBpN,EAAAH,EAEjBwN,aAAa1N,EAAGK,GAAA,QAKpBH,CAAA,CAGR,SAASgD,EAAuB9B,EAAYrB,GAAA,OACpCoJ,EAAU,kBAAAwE,OACRvM,EAAAwM,GACJ7N,EAAA8N,GACA,EAAAC,GACA,EAAAC,GACA,EAAAC,GACA,IAIN,SAASlN,EAAgBM,EAAUrB,EAAQG,EAAOF,GAAA,OAC1CmJ,EAAU,QAAAwE,OACNvM,EAAAoM,MAAA,eACctN,EAAA+N,OACdlO,EAAA,eACMC,GAAA,CAmBlB,SAAgBkO,EAAa9M,GAAA,IAAyBlB,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,UACjDjD,EAAA,CAAAmO,UACQ/M,EAAAgN,UAF2BnL,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAU,IAGrC,OAET/C,IAAQF,EAAK2N,OAASzN,GAClBiJ,EAAU,IAAKnJ,EAAA,CAWvB,SAAgB+C,EAAS3B,GAAA,OACjB+H,EAAU,QAAAgF,UAAAlL,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAD0B,GAAAvC,EAGvCU,EAAAiN,OAAA,CAAAC,OAAArL,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAHkD,OAAA2I,KAAA3I,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAa,sBAAAA,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAoB,KAsDxF,SAAgBsL,EAAanN,EAAYrB,GAAA,IAAOG,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAC3CjD,EAAY,sBAA6BD,EAAQ,KAAMG,EAAU,UAAY,WAC7EG,EAAc6C,EAAuB9B,EAAYpB,GACjDG,EAAA,CAAa,EAAG,GAAK,WACtBD,IAAAC,EAAA,CACW,GAAK,GAAK,IAAAW,EAGRT,EAAa,KAAMN,EAAOI,EAAU,IAAAW,EACpCT,EAAa,MAAON,EAAOI,EAAU,IAAAW,EACrCT,EAAa,OAAQN,EAAOI,EAAU,IAE/CH,CAAA,CAyBR,SAAgB6H,EAAWzG,EAAWrB,EAAGG,EAAGF,EAAMK,GAAA,IAAqBJ,EAAAgD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAClE3C,EAAA,CAAA6N,UACQ/M,EAAAmC,EACRxD,EAAAc,EACAX,EAAAsO,MACIxO,EAAAyO,OACCzO,EAAA0O,GACJrO,EAAAuL,KAPoD3I,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAK,QAQvD,OAAAoK,OAGAC,KAAKrN,GAAMsN,KAAI,SAAAnM,GAAAd,EAChBc,GAAOnB,EAAKmB,EAAA,IAGX+H,EAAU,OAAQ7I,EAAA,CAiE1B,SAAgBqO,EAASvN,EAAWrB,EAAGG,EAAGF,GAAA,IAASK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAC9C9C,EAAWE,EAAQuO,UAAYC,GAAA,OAI5B1F,EAAU,QAAAgF,UACL/M,EAAAmC,EACRxD,EAAAc,EACAX,EAAA4O,SAAA,IANKzO,EAAQyO,GAAmBzO,EAAQyO,GAAM3O,EAAW,GAOnD,iBACIA,EAAW,KAAAyL,KAPdvL,EAAQuL,MAAQmD,GAAA,cACV1O,EAAQ2O,YAAc,QAAAC,UAS3BjP,GAAA,CAIb,SAASkP,EAAa9N,EAAGrB,EAAOG,EAAIF,GAAA,IAAIK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MACnC5C,EAAQiO,SAAQjO,EAAQiO,OAASa,IAAA,IACjChP,EAAIgJ,EAAU,QAAAgF,UACN,iBAAmB9N,EAAQ8N,UAAAN,GAClC,EAAAC,GACA,EAAAC,GACA7N,EAAA8N,GACAhO,EAAAqO,OAAA,CAAAC,OAEKjO,EAAQiO,UAIdrO,EAAOkJ,EAAU,QAAA5F,EACjB,EAAA1C,EACAX,EAAKF,EAAKE,EAAKkP,GAAelP,EAAKkP,GAAeP,GAAAC,GACjDD,GAAY,iBACHA,GAAY,mBACV,SAAAI,UACJlP,EAAQ,KAGhBO,EAAO6I,EAAU,KAAAiF,UAAA,aACKhN,EAAA,gBAAAd,EAGrB4M,YAAY/M,GAAAG,EACZ4M,YAAYjN,GAEVK,CAAA,CAGR,SAAS+O,EAAajO,EAAGrB,EAAOG,EAAIF,GAAA,IAAIK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MACnC5C,EAAQiO,SAAQjO,EAAQiO,OAASa,IACjC9O,EAAQiP,WAAUjP,EAAQiP,SAAW,IACrCjP,EAAQkP,iBAAgBxP,EAAQwD,EAAmBxD,IAAA,IAKnDI,EAAIgJ,EAAU,QAAAgF,UAHF,mBAAqB9N,EAAQ8N,WACtB,WAArB9N,EAAQiP,SAAwB,SAAU,IAAAzB,GAIvC3N,EAAA4N,GACA9N,EAAA+N,GACA,EAAAC,GACA,EAAAK,OAAA,CAAAC,OAEKjO,EAAQiO,UAIdrO,EAAOkJ,EAAU,QAAA5F,EACjBrD,EAAKF,EAAKE,EAAKkP,GAAelP,EAAKkP,GAAAvO,EACnC,EAAAiO,GACED,GAAY,EAAI,EAAK,iBACbA,GAAY,mBACV3O,EAAKF,EAAK,MAAQ,QAAAiP,UACtBlP,EAAM,KAGdO,EAAO6I,EAAU,KAAAiF,UAAA,gBACOhN,EAAA,qBACT,WAGP,IAATnB,GAAuB,MAATA,IAAAK,EACXkN,MAAMc,OAAS,yBAAAhO,EAGhB4M,YAAY/M,GAAAG,EACZ4M,YAAYjN,GAEVK,CAAA,CChWR,SAAgBoC,EAAUtB,EAAMrB,EAAUG,EAAUF,GAAA,IAC/CK,EAA0B,iBAAbN,EAAwBA,EAAWA,EAAS0B,KAAK,aAEjEL,EAAA,CACCgN,UAAWlO,EAASuB,KAAK,OAC1BzB,EACAwP,GACA,aACCpB,UAAW/N,GAAA,CAQd,SAAgBoP,EAAkBrO,EAAOrB,EAAMG,GAAA,OACvCwC,EAAUtB,EAAA,CAAQ,EAAGlB,GAAA,CAAQ,EAAGH,GAAO2P,GAAA,CAkB/C,SAAgBC,EAAWvO,EAAKrB,EAAGG,EAAMF,GAAA,IAAOK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAO,EAAA9C,EACpCkB,EAAqBnB,GAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,OAAW2M,UAAA3P,EAAA4P,GAAA1P,EAAA,GAA7CG,EAAAL,EAAA,GAAQU,EAAAV,EAAA,UAAAU,GACRN,EACe,SAAjBe,EAAI0O,SAAA,EACK1O,EAAI2O,WAAW,IAGxBvB,MAAOxO,EAAOyO,OAAQnO,GACvB0P,GACAR,IAIe9M,EAAUtB,EADRA,EAAI6O,aAAa,aAAahP,MAAM,KAAK,GAAGmF,MAAM,GAAI,IAC3BrG,EAAGY,GAAI+O,KAAA,EAG3CtO,EAAA,CAAMoN,MAAOxO,EAAOyO,OAAQnO,EAAQiD,EAAGxD,EAAGc,EAAGF,GAAIqP,GAAeR,IAAA,CA0C3E,SAAgBU,EAAe9O,EAASrB,GAAA,OAC/BqB,EAAA,CAAUV,EAAGX,GAAUiQ,GAAeR,GAAA,CC1F/C,SAASW,EAAkB/O,EAASrB,EAAOG,GAAA,IAAKF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAW,SAAU5C,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,UAAgB9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAEhFhD,EAAcmB,EAAQgP,WAAA,GACtB9P,EAAac,EAAQgP,WAAA,GAAU,IAE/B,IAAIzP,KAAiBZ,EAAO,KAC3BK,OAAA,EAAAA,EACiB,cAAlBO,EACe0J,SAAS4C,gBAAgB,6BAA8B,oBAEvD5C,SAAS4C,gBAAgB,6BAA8B,eAErEzM,EAAeL,EAAUQ,IAAkBS,EAAQ6O,aAAatP,GAChEF,EAAQV,EAAMY,GAEdD,EAAA,CAAA2P,cACY1P,EAAA2P,KACT9P,EAAA+P,GACF9P,EAAA+P,MACG,KAAAC,IACFvQ,EAAI,IAAO,IAAAwQ,OACRlQ,EAAe,IAAMC,EAAAkQ,WACjBC,GAAO5Q,GAAA6Q,SACT,MAAAC,SACA,SAAAlF,KACJ,UAIa,IAGf,IAAItJ,KAJNjC,IAAAK,EACFqQ,KAAmB1Q,GAGNK,EAAAN,EACEsN,aAAapL,EAAG5B,EAAS4B,IAAArC,EAG7BiN,YAAY9M,GAErBC,EAAAC,EACSoN,aAAa/M,EAAA,aAA4BF,EAAA,KAAAH,EAEzCoN,aAAa/M,EAAeF,EAAA,QAIjCR,EAAaK,EAAA,CAGtB,SAAgB0Q,EAAU5P,EAASrB,GAAAqB,EAC1BoM,MAAMY,UAAYrO,EAAAqB,EAClBoM,MAAMyD,gBAAkBlR,EAAAqB,EACxBoM,MAAM0D,YAAcnR,EAAAqB,EACpBoM,MAAM2D,aAAepR,EAAAqB,EACrBoM,MAAM4D,WAAarR,CAAA,CAG5B,SAASsR,EAAWjQ,EAAcrB,GAAA,IAC7BG,EAAA,GACAF,EAAA,GAAAD,EAEKwN,KAAI,SAAAnM,GAAA,IAIRjB,EAAaF,EAHbF,EAAOqB,EAAQ,GACff,EAASN,EAAKoN,WAED/L,EAET,GAAKrB,EAAA,IAAAO,EACe6P,EAAAhK,WAAA,EAAAmL,GAAqBlQ,IAAAT,EAAAkP,GAAAvP,EAAA,GAAAH,EAAAQ,EAAA,GAAAV,EAAAU,EAAA,GAAAT,EAErCuM,KAAKxM,GAAAD,EACJyM,KAAA,CAAMtM,EAAaE,IAE5BA,GAAAA,EACIkR,aAAapR,EAAaJ,EAAA,QAI/BM,EAAUe,EAAagP,WAAA,GAAU,OAAApQ,EAExBuN,KAAI,SAACnM,EAAapB,GAC1BoB,EAAY,KAAAA,EACH,GAAGmQ,aAAarR,EAAYF,GAAIoB,EAAY,IAAArB,EAC/CC,GAAG,GAAKE,EAAYF,GAAA,IAIxBK,CAAA,CAGR,SAAgBmR,EAAiBpQ,EAAQrB,EAAYG,GAAA,GACpB,IAA7BA,EAAkBqB,OAAA,KAEjBvB,EAAiBqR,EAAWtR,EAAYG,GACzCH,EAAWoN,YAAc/L,IAAAA,EACpBqQ,YAAY1R,GAAAqB,EACZ8L,YAAYlN,IAAA0R,YAKT,WACP1R,EAAemN,YAAc/L,IAAAA,EACxBqQ,YAAYzR,GAAAoB,EACZ8L,YAAYnN,GAAA,GAElB4R,GAAA,ECpGJ,SAAgBC,EAAiB7R,GAAA,IAC5BG,EAAQH,EAAIqQ,WAAA,GAAUlQ,EACpB2R,UAAUzP,IAAI,mBAAAlC,EACdwN,aAAa,QAAS,8BAAAxN,EACtBwN,aAAa,cAAe,oCAC9B1N,EAAUoB,EAAE0Q,OAAO,SAAA7C,UACT8C,KAAA7R,EAERkN,aAAapN,EAASE,EAAM8R,YAAA,IAE9B3R,EAAYe,EAAE0Q,OAAO,cAAAzR,EACf6M,YAAYhN,GAEfG,EAAU4O,SAAA,CCblB,SAASgD,EAAW7Q,GAAA,IACfrB,EAAS,IAAI+D,KAAK1C,GAAA,OAAArB,EACfmS,WAAWnS,EAAOiF,aAAejF,EAAOsI,qBACxCtI,CAAA,CAGR,SAAgBoS,EAAY/Q,GAAA,IACvBrB,EAAKqB,EAAKsD,UACVxE,EAAKkB,EAAKoD,WAAa,SAE1BpD,EAAKkD,eACJpE,EAAG,EAAI,GAAK,KAAOA,GACnBH,EAAG,EAAI,GAAK,KAAOA,GACnB0B,KAAK,KAGR,SAAgB2Q,EAAMhR,GAAA,OACd,IAAI0C,KAAK1C,EAAK6E,UAAA,CAiBtB,SAAgBoM,EAAgBjR,EAAWrB,GAAA,IACtCG,EAAgBoS,EAAelR,GAAA,OAC5BS,KAAKQ,KAGb,SAA+BjB,EAAWrB,GAAA,IACrCG,EAAqBqS,GAAaC,GAAA,OAC9BP,EAAWlS,GAAWkS,EAAW7Q,IAAclB,CAAA,CALtCuS,CAAevS,EAAeH,GAAW2S,GAAA,CAQ3D,SAAgBC,EAAevR,EAAWrB,GAAA,OAClCqB,EAAUoD,aAAezE,EAAQyE,YACpCpD,EAAUkD,gBAAkBvE,EAAQuE,aAAA,CAGzC,SAAgBsO,EAAaxR,GAAA,IAAGrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAC3B/C,EAAY2S,GAAYzR,GAAA,OACrBrB,EAAQG,EAAUkG,MAAM,EAAG,GAAKlG,CAAA,CAGxC,SAAgB4S,EAAoB1R,EAAOrB,GAAA,OACnC,IAAI+D,KAAK/D,EAAMqB,EAAQ,EAAG,GAIlC,SAAgBkR,EAAelR,GAAA,IAC1BrB,EAAUqS,EAAMhR,GACdlB,EAAMH,EAAQ6E,SAAA,OACT,IAAR1E,GAAA6S,EACMhT,GAAW,EAAKG,GAElBH,CAAA,CAIR,SAAgBgT,EAAQ3R,EAAMrB,GAAAqB,EACxB4R,QAAQ5R,EAAKsD,UAAY3E,EAAA,CC6V/B,SAAgBkT,EAAa7R,EAAMrB,EAAWG,GAAA,IACzCF,EAAOqN,OAAOC,KAAK4F,IAAkBC,QAAO,SAAApT,GAAA,OAAKqB,EAAKgS,SAASrT,EAAA,IAC/DM,EAAS6S,GAAiBlT,EAAK,WAAAqN,OAC5BgG,OAAOhT,EAAA,CAAAiT,UACFvT,EAAAwT,QACFrT,IAEH,IAAIsT,GAAenT,EAAA,CC1b3B,SAASoT,EAAUrS,GAAA,GAKX,IAAJA,EAAA,OACM,EAAG,MAET6K,MAAM7K,GAAA,OACAsS,UAAW,iBAAkBC,SAAU,SAE5C5T,EAAMqB,EAAI,EAAI,GAAK,MACnB8K,SAAS9K,GAAA,OACJsS,SAAgB,iBAAN3T,EAAwB4T,SAAU,KAAAvS,EAGjDS,KAAKC,IAAIV,GAAA,IACTlB,EAAM2B,KAAKE,MAAMF,KAAKyK,MAAMlL,IAAA,OAGxBrB,GAFEqB,EAAES,KAAK0K,IAAI,GAAIrM,IAENA,EAAA,CAGpB,SAAS0T,EAAuBxS,GAAA,IAAKrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAI,EACpC/C,EAAa2B,KAAKQ,KAAKjB,GACvBpB,EAAa6B,KAAKE,MAAMhC,GACxBM,EAAQH,EAAaF,EAErBG,EAAYE,EACZJ,EAAW,EAGZI,EAAQ,IACPA,EAAQ,GAAM,IAAAA,IAAAH,EAGKF,GAAAG,EAEVE,EAAM,EAAAJ,EACP,GAITI,GAAS,IAAAJ,EAEAI,GAAAF,EADC,IAKA,IAAVE,IAAAF,EACU,EAAAF,EACD,OAIR,IADAK,EAAA,GACIK,EAAI,EAAGA,GAAKR,EAAWQ,IAAAL,EACpBmM,KAAKzM,EAAaC,EAAWU,GAAA,OAEjCL,CAAA,CAGR,SAASuT,EAAkBzS,GAAA,IAAUrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAS,EAAA/C,EACZuT,EAAUrS,GAAApB,EAAA6P,GAAA3P,EAAA,GAAtCG,EAAAL,EAAA,GAAgBG,EAAAH,EAAA,GACjBC,EAAiBF,EAAWA,EAAS8B,KAAK0K,IAAI,GAAIpM,GAAW,EAK7DG,EAAYsT,EAAAvT,EAFCA,EAAesL,QAAQ,GAEe1L,GAAA,OAC3CK,EAAUiN,KAAI,SAAAnM,GAAA,OAASA,EAAQS,KAAK0K,IAAI,GAAIpM,EAAA,IAIzD,SAAgB2T,GAAmB1S,GAAA,SAYzBrB,EAA0BqB,EAAUrB,GAAA,IAOxC,IANAG,EAAY2T,EAAkBzS,GAE9BpB,EAAeE,EAAU,GAAKA,EAAU,GAGxCG,EAAQ,EACJF,EAAI,EAAGE,EAAQN,EAAaI,IAAAE,GAC1BL,EAAAE,EACC6T,SAAU,EAAK1T,GAAA,OAEnBH,CAAA,KAvBkCA,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAMtCjD,EAAW6B,KAAKmS,IAAA7N,MAAAtE,KAAAyP,GAAOlQ,IACvBf,EAAWwB,KAAK2E,IAAAL,MAAAtE,KAAAyP,GAAOlQ,IAGTjB,EAAA,MAkBfH,GAAY,GAAKK,GAAY,EACpBoT,EAAUzT,GAAU,GAAAG,EAC3BD,EAGS2T,EAAkB7T,EAAUK,GAF5BwT,EAAkB7T,QAQ3B,GAAGA,EAAW,GAAKK,EAAW,EAAG,KAOjCJ,EAAc4B,KAAKC,IAAIzB,GAExBL,GAAYC,GACHwT,EAAUzT,GAAU,GAAAG,EACnBJ,EAA0BC,EAAUC,KAGrCwT,EAAUxT,GAAa,GAAAE,EACfJ,EAA0BE,EAAaD,GACjCiU,UAAU1G,KAAI,SAAAnM,GAAA,OAAW,EAANA,CAAA,UAOzC,GAAGpB,GAAY,GAAKK,GAAY,EAAG,KAInCC,EAAiBuB,KAAKC,IAAIzB,GAC1BM,EAAiBkB,KAAKC,IAAI9B,GAEnByT,EAAUnT,GAAgB,GAAAH,GAAAA,EACjCD,EAGS2T,EAAkBvT,EAAgBK,GAFlCkT,EAAkBvT,IAKT2T,UAAU1G,KAAI,SAAAnM,GAAA,OAAW,EAANA,CAAA,WAGnCjB,CAAA,CAGR,SAAgB+T,GAAa9S,GAAA,IAExBrB,EAAWoU,GAAgB/S,GAAA,OAC5BA,EAAKgT,QAAQ,IAAM,EAGThT,EAAKgT,QAAQ,GAChBhT,EAAK,GAAK,GAIL,EADJA,EAAK,GACUrB,GAKX,EADJqB,EAAKA,EAAKG,OAAS,GACJxB,GAAYqB,EAAKG,OAAS,GAiBrD,SAAgB4S,GAAgB/S,GAAA,OACxBA,EAAa,GAAKA,EAAa,GAGvC,SAAgBiT,GAAcjT,GAAA,OACtBA,EAAaA,EAAaG,OAAO,GAAKH,EAAa,GAG3D,SAAgBkT,GAAMlT,EAAKrB,GAAA,OACnBS,EAAST,EAAM6P,SAAWxO,EAAMrB,EAAMwU,gBAAA,CAqC9C,SAAgBC,GAAiBpT,EAAOrB,GAAA,OAChCA,EAAaoT,QAAO,SAAApT,GAAA,OAAKA,EAAIqB,CAAA,IAAOG,MAAA,CC1OrC,SAASkT,GAASrT,EAAMrB,GAAAqB,EACzBsT,OAAStT,EAAKsT,QAAA,OAEfxU,EAAgBkB,EAAKsT,OAAOnT,OAG5BvB,EAAWoB,EAAKuT,SAChBtU,EAAY,IAAImB,MAAMtB,GAAe0L,KAAK,UAC1C5L,IAAAA,EAAA,EAAA0Q,OAGMrQ,KAAAL,EAIDuN,KAAI,SAAAnM,GAAA,GAERA,EAAEsP,OAEC,KAEF1Q,EAAOoB,EAAEsP,OAAA1Q,GAAAA,EACNA,EAAKuN,KAAI,SAAAnM,GAAA,OAAS6K,MAAM7K,GAAa,EAANA,CAAA,KAG9BG,OAASrB,EACTF,EAAKoG,MAAM,EAAGlG,GAEdO,EAAUT,EAAME,EAAgBF,EAAKuB,OAAQ,GAAAH,EAEnDsP,OAAS1Q,CAAA,MAAAoB,EAZTsP,OAASrQ,EAgBRe,EAAEwT,YACDC,GAAyBzB,SAASrT,GAAAqB,EACpCwT,UAAY7U,EAAA,IASbqB,EAAK0T,UAAA1T,EACF0T,SAASvH,KAAI,SAAAnM,GAAA,GACdA,EAAE2T,IAAM3T,EAAE4T,MAAO,KAAAjV,EAAA,CACCqB,EAAE2T,IAAK3T,EAAE4T,OAAA5T,EAA1B4T,MAAAjV,EAAA,GAAAqB,EAAS2T,IAAAhV,EAAA,OAKRqB,CAAA,CAGR,SAAgB6T,GAAa7T,GAAA,IACxBrB,EAAgBqB,EAASsT,OAAOnT,OAChCrB,EAAY,IAAIsB,MAAMzB,GAAe6L,KAAK,GAE1C5L,EAAA,CAAA0U,OACKtT,EAASsT,OAAOtO,MAAM,GAAI,GAAAuO,SACxBvT,EAASuT,SAASpH,KAAI,SAAAnM,GAAA,OAAAL,KAExB,GAAA2P,OACExQ,EAAUkG,MAAM,GAAI,GAAAwO,UACjBxT,EAAEwT,UAAA,YAKbxT,EAAS8T,WAAAlV,EACFkV,SAAA,EAAAC,MAEA,EAAAC,MACA,MAKPhU,EAAS0T,WAAA9U,EACF8U,SAAA,EAAAE,MAEA,EAAAD,IACF,EAAAK,MACE,MAKHpV,CAAA,EC7FR,SAAqBoB,EAAKrB,QAAA,IACnBA,IAAiBA,EAAA,IACtB,IAAIG,EAAWH,EAAIsV,SAEnB,GAAgC,oBAAbhL,SAAnB,CAEA,IAAIrK,EAAOqK,SAASiL,MAAQjL,SAASkL,qBAAqB,QAAQ,GAC9DlV,EAAQgK,SAASmL,cAAc,SACnCnV,EAAM0Q,KAAO,WAEI,QAAb7Q,GACEF,EAAKgS,WACPhS,EAAKoN,aAAa/M,EAAOL,EAAKgS,YAKhChS,EAAKkN,YAAY7M,GAGfA,EAAMoV,WACRpV,EAAMoV,WAAWC,QAAUtU,EAE3Bf,EAAM6M,YAAY7C,SAASsL,eAAevU,GAAA,EAvB9C,CAuB8C,yuDAAA+K,GAAA,mBAAAyJ,QAAA,iBAAAA,OAAAC,SAAA,SAAAzU,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAAwU,QAAAxU,EAAA0U,cAAAF,QAAAxU,IAAAwU,OAAAhS,UAAA,gBAAAxC,CAAA,EAAA2U,IAAA,oBAAA3U,EAAAA,GAAA,KAAA+T,MAAA/T,CAAA,UAAArB,EAAAA,GAAA,SAAAC,EAAAE,EAAAC,GAAA,QAAAF,EAAAF,EAAAG,GAAAC,GAAAG,EAAAL,EAAAkV,MAAA7U,aAAAc,EAAA4U,QAAAC,QAAA3V,EAAA6U,OAAAe,MAAA,SAAA9U,GAAApB,EAAA,OAAAoB,EAAA,aAAAA,GAAApB,EAAA,QAAAoB,EAAA,IAAAf,EAAAJ,EAAAkW,KAAA,kBAAAlW,EAAAkV,MAAA,OAAA/T,GAAAf,EAAA,QAAAe,EAAA,WAAAf,EAAAe,EAAArB,GAAA,OAAAqB,GAAA,aAAAjB,EAAA8V,QAAA,CAAAd,MAAApV,EAAAoW,MAAA,sBAAAhW,EAAAiW,OAAArW,GAAA,cAAAI,EAAA8V,QAAA,CAAAd,MAAApV,EAAAoW,MAAA,KAAAhW,EAAAA,EAAAkW,MAAArW,EAAAG,EAAAmW,IAAAnW,EAAAoW,KAAAtW,EAAA,SAAAE,EAAAF,EAAA,KAAAuW,QAAA,SAAApV,EAAArB,GAAA,WAAAiW,SAAA,SAAA9V,EAAAG,GAAA,IAAAC,EAAA,CAAAgW,IAAAlV,EAAAmV,IAAAxW,EAAAkW,QAAA/V,EAAAkW,OAAA/V,EAAAgW,KAAA,MAAApW,EAAAA,EAAAA,EAAAoW,KAAA/V,GAAAH,EAAAF,EAAAK,EAAAN,EAAAoB,EAAArB,GAAA,wBAAAA,EAAA0W,SAAA,KAAAA,YAAA,sBAAAb,QAAAA,OAAAc,gBAAA3W,EAAA6D,UAAAgS,OAAAc,eAAA,yBAAA3W,EAAA6D,UAAAyS,KAAA,SAAAjV,GAAA,YAAAoV,QAAA,OAAApV,EAAA,EAAArB,EAAA6D,UAAA+S,MAAA,SAAAvV,GAAA,YAAAoV,QAAA,QAAApV,EAAA,EAAArB,EAAA6D,UAAA6S,OAAA,SAAArV,GAAA,YAAAoV,QAAA,SAAApV,EAAA,cAAAA,EAAArB,GAAA,KAAAqB,aAAArB,GAAA,UAAA6W,UAAA,uCAAAC,GAAA,oBAAAzV,EAAAA,EAAArB,GAAA,QAAAG,EAAA,EAAAA,EAAAH,EAAAwB,OAAArB,IAAA,KAAAF,EAAAD,EAAAG,GAAAF,EAAA8W,WAAA9W,EAAA8W,aAAA,EAAA9W,EAAA+W,cAAA,YAAA/W,IAAAA,EAAAgX,UAAA,GAAA3J,OAAA4J,eAAA7V,EAAApB,EAAAsW,IAAAtW,EAAA,kBAAAD,EAAAG,EAAAF,GAAA,OAAAE,GAAAkB,EAAArB,EAAA6D,UAAA1D,GAAAF,GAAAoB,EAAArB,EAAAC,GAAAD,CAAA,KAAAmX,GAAA,SAAA9V,EAAArB,EAAAG,EAAAF,GAAA,OAAAD,IAAAA,EAAAoX,SAAAvT,WAAA,IAAAvD,EAAAgN,OAAA+J,yBAAArX,EAAAG,GAAA,YAAAG,EAAA,KAAAF,EAAAkN,OAAAgK,eAAAtX,GAAA,cAAAI,OAAA,EAAAiB,EAAAjB,EAAAD,EAAAF,EAAA,cAAAK,EAAA,OAAAA,EAAA8U,MAAA,IAAAlV,EAAAI,EAAAqG,IAAA,gBAAAzG,EAAAA,EAAAwJ,KAAAzJ,QAAA,GAAAsX,GAAA,SAAAlW,EAAArB,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAA6W,UAAA,kEAAA7W,GAAAqB,EAAAwC,UAAAyJ,OAAAyE,OAAA/R,GAAAA,EAAA6D,UAAA,CAAAkS,YAAA,CAAAX,MAAA/T,EAAA0V,YAAA,EAAAE,UAAA,EAAAD,cAAA,KAAAhX,IAAAsN,OAAAkK,eAAAlK,OAAAkK,eAAAnW,EAAArB,GAAAqB,EAAAoW,UAAAzX,EAAA,EAAA0X,GAAA,SAAArW,EAAArB,GAAA,IAAAqB,EAAA,UAAAsW,eAAA,oEAAA3X,GAAA,iBAAAA,GAAA,mBAAAA,EAAAqB,EAAArB,CAAA,EAAA8P,GAAA,SAAA9P,EAAAG,GAAA,GAAAsB,MAAA4K,QAAArM,GAAA,OAAAA,EAAA,GAAA6V,OAAAC,YAAAxI,OAAAtN,GAAA,gBAAAqB,EAAArB,GAAA,IAAAG,EAAA,GAAAF,GAAA,EAAAK,GAAA,EAAAF,OAAA,cAAAF,EAAAK,EAAAc,EAAAwU,OAAAC,cAAA7V,GAAAC,EAAAK,EAAA+V,QAAAF,QAAAjW,EAAAuM,KAAAxM,EAAAkV,QAAApV,GAAAG,EAAAqB,SAAAxB,GAAAC,GAAA,UAAAoB,GAAAf,GAAA,EAAAF,EAAAiB,CAAA,cAAApB,GAAAM,EAAAmW,QAAAnW,EAAAmW,QAAA,YAAApW,EAAA,MAAAF,CAAA,SAAAD,CAAA,CAAAkB,CAAArB,EAAAG,GAAA,UAAA0W,UAAA,yDAAAtF,GAAA,SAAAlQ,GAAA,GAAAI,MAAA4K,QAAAhL,GAAA,SAAArB,EAAA,EAAAG,EAAAsB,MAAAJ,EAAAG,QAAAxB,EAAAqB,EAAAG,OAAAxB,IAAAG,EAAAH,GAAAqB,EAAArB,GAAA,OAAAG,CAAA,QAAAsB,MAAA8O,KAAAlP,EAAA,EbT9CA,EAAE0Q,OAAS,SAAC/R,EAAKG,GAAA,IACZF,EAAUqK,SAASmL,cAAczV,GAAA,IAEhC,IAAIM,KAAKH,EAAG,KACZC,EAAMD,EAAEG,GAAA,GAEF,WAANA,EAAAe,EACDjB,GAAK+M,YAAYlN,QAEf,GAAU,WAANK,EAAgB,KACpBJ,EAAMmB,EAAEjB,GAAAF,EACRkN,WAAWC,aAAapN,EAASC,GAAAD,EAC7BkN,YAAYjN,EAAA,KAEJ,WAANI,EACQ,qBAARF,EAAA,YAAAgM,GAAAhM,KAAAkN,OACFC,KAAKnN,GAAKoN,KAAI,SAAAnM,GAAApB,EACZwN,MAAMpM,GAAQjB,EAAIiB,EAAA,IAGlBf,KAAKL,EAAAA,EACPK,GAAKF,EAAAH,EAGL0N,aAAarN,EAAGF,EAAA,QAInBH,CAAA,ECxBD,IAAM2X,GAAA,CAAApM,QAAA,CAAAf,IAEN,GAAAO,OACG,GAAAH,KACF,GAAAO,MACC,IAAAK,SAAA,CAAAhB,IAGF,GAAAO,OACG,GAAAH,KACF,GAAAO,MACC,IAAAyM,WAGI,IAAAtM,YACC,GAAAG,aACC,GAAAoM,cAEC,IA6BHhD,GAAA,CAA4B,OAAQ,OAWpCiD,GAA+B,EAS/BC,GAAqB,EAI5BC,GAAA,CAAwB,aAAc,OAAQ,SAAU,MAAO,SACpE,SAAU,QAAS,cAAe,SAAU,UAAW,aAAc,aAKzDC,GAAA,CAAAC,IACPF,GAAAG,KACCH,GAAAI,IACDJ,GAAAK,WACOL,GAAAM,QAAA,CARiB,UAAW,UAAW,UAAW,UAAW,WAAAC,MAUlEP,IAIKjM,GAAclK,KAAKgL,GAAK,IatGhB2L,GAAA,oBAAAzY,EAAAqB,GAAA,IAAAlB,EAAAkB,EAEnBqX,OAAAzY,OAAA,IAAAE,EAAS,KAAAA,EAAAG,EAAAe,EACTsX,OAAAvY,OAAA,IAAAE,EAAA,GAAAA,EAAA0V,GAAA,KAAAhW,GAAA,KAEK0Y,OAASzY,EAAA,KACT0Y,OAASvY,EAAA,KACTwY,UAAY,QACZC,WAAa,QACbC,WAAA,QACAC,gBAAkB,OAElBvV,EAAI,OACJ1C,EAAI,OAEJ2J,IAAM,OACNI,KAAO,OAEPmO,OAAA,QAAAlC,GAAA9W,EAAA,EAAAuW,IAAA,QAAAnB,MAAA,gBAIA6D,aAAA,IAAA1C,IAAA,UAAAnB,MAAA,gBAIAvJ,OAAA,KACAqN,cAAA,IAAA3C,IAAA,cAAAnB,MAAA,eAAApV,EAAA,UAIAmZ,UAAY9X,EAAE0Q,OAAO,OAAAnE,OACjBjK,KAAK+U,OAAAtK,UACF,2BAAAc,UAAA,yHAKPkK,UAAA,KAEAC,MAAQ1V,KAAKwV,UAAU5O,cAAc,eACrC+O,cAAgB3V,KAAKwV,UAAU5O,cAAc,yBAE7CmO,OAAOa,iBAAiB,cAAc,WAAAvZ,EACrCoZ,SAAA,OAAA7C,IAAA,OAAAnB,MAAA,eAKFjV,EALEH,EAAA,KAMH2D,KAAK6V,OAAA,KACFL,UAAUxL,aAAa,mBAAoBhK,KAAK6V,OAAArZ,EAEnDwD,KAAKoV,gBAAA,WACYpV,KAAKkV,WAAA,YAAsBlV,KAAKiV,UAExCjV,KAAKiV,UAAA,WAAoBjV,KAAKkV,WAAA,iBAErCQ,MAAMnK,UAAY/O,EAAA,KAClBmZ,cAAcpK,UAAY,QAE1B4J,WAAWtL,KAAI,SAACrN,EAAKF,GAAA,IACnBK,EAAQN,EAAK2Y,OAAO1Y,IAAM,QAC5BG,EAA0B,IAAlBD,EAAIsZ,WAAmBtZ,EAAIsZ,UAAYtZ,EAAIsZ,UAAYtZ,EAAIiV,MAEnElV,EAAKmB,EAAE0Q,OAAO,MAAAzD,OAAA,2BAEWhO,GAAA4O,UAAA,oCAE6B,IAAV9O,GAAeA,EAAQA,EAAQ,6BAC3ED,EAAIkZ,MAAQlZ,EAAIkZ,MAAQ,MAAArZ,EAGvBsZ,cAAcnM,YAAYjN,EAAA,OAAAqW,IAAA,eAAAnB,MAAA,eAK5B/T,EAAQsC,KAAKwV,UAAUO,YAAA,KAEtBjP,IAAM9G,KAAK7C,EAAI6C,KAAKwV,UAAUQ,abIU,OaFxC9O,KAAOlH,KAAKH,EAAInC,EAAM,MACvBrB,EAAU2D,KAAK+U,OAAOgB,YAAcrY,EAEpClB,EAAUwD,KAAKwV,UAAU5O,cAAc,mBAExC5G,KAAKkH,KAAO,EAAA1K,EACNsN,MAAM5C,KAAA,eAAsB,EAAIlH,KAAKkH,KAAA,WACxCA,KAAO,OACN,GAAGlH,KAAKkH,KAAO7K,EAAS,KAE1BC,EAAA,eADQ0D,KAAKkH,KAAO7K,GAAA,MAAAG,EAEhBsN,MAAM5C,KAAO5K,EAAA,KAEhB4K,KAAO7K,CAAA,MAAAG,EAEJsN,MAAM5C,KAAA,SAAA0L,IAAA,YAAAnB,MAAA,SAIN/T,EAAGrB,GAAA,IAAGG,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAAYjD,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAAiB5C,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,IAAS,OAChD0V,UAAYzY,EAAMa,KAAA,KAClB6X,WAAa1Y,EAAMiV,MAAA,KACnB0D,WAAa7Y,EAAA,KACbuD,EAAInC,EAAA,KACJP,EAAId,EAAA,KACJ+Y,gBAAkB5Y,EAAMyZ,YAAc,OACtCJ,MAAQlZ,EAAA,KACRuZ,SAAA,IAAAtD,IAAA,UAAAnB,MAAA,gBAIA+D,UAAU1L,MAAMhD,IAAM,WACtB0O,UAAU1L,MAAM5C,KAAO,WACvBsO,UAAU1L,MAAMqM,QAAU,OAAAvD,IAAA,UAAAnB,MAAA,gBAI1B+D,UAAU1L,MAAMhD,IAAM9G,KAAK8G,IAAM,UACjC0O,UAAU1L,MAAM5C,KAAOlH,KAAKkH,KAAO,UACnCsO,UAAU1L,MAAMqM,QAAU,QAAA9Z,CAAA,CAzHZ,GVHf+Z,GAAA,cACS,UAAAC,KACN,UAAAC,OACE,UAAAC,IACH,UAAAC,OACG,UAAAC,OACA,UAAAC,MACD,wBACM,UAAAC,OACL,UAAAC,QACC,UAAAC,MACF,UAAAC,KACD,uBACM,sBACD,WA8BDzN,GAAW,SAAC3L,GAAA,MAEpB,4BAA6B4C,KAAK5C,GAAA,8BACEqZ,KAAKrZ,GAC1CmM,KAAI,SAACnM,EAAGrB,GAAA,OAAa,IAANA,EAAU4G,OAAOvF,GAAGmE,SAAS,IAAM,OAClDuH,QAAO,SAAC1L,EAAGrB,GAAA,SAAUqB,EAAIrB,CAAA,IAErB+Z,GAAiB1Y,IAAUA,CAAA,EC9CtBsZ,GAAmB,EAC1BtL,GAAe,EACfuL,GAAkB,GACX9L,GAAY,GACnBM,GAAkB,UAClBJ,GAAY,UAkmBP6L,GAAA,CAAA1C,IACH,SAAC9W,GAAA,IACHrB,OAAA,EACiB,SAAlBqB,EAAK0O,WAAA/P,EACUqB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB7P,EAAUkB,EAAKgP,YAAA,OAAAlQ,EACXsN,MAAM5B,KAAO,UAAA1L,EACbsN,MAAMqM,QAAU,MAErB9Z,GAAAG,EACMwN,aAAa,YAAa3N,GAE5BG,CAAA,EAAA2a,IAGD,SAACzZ,GAAA,IACHrB,OAAA,EACiB,WAAlBqB,EAAK0O,WAAA/P,EACUqB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB7P,EAAUkB,EAAKgP,YACfpQ,EAASoB,EAAK6O,aAAa,KAC3B5P,EAAOe,EAAK6O,aAAa,eAAA/P,EACrBwN,aAAa,IAAKV,SAAShN,GJ7jBA,GAAAE,EI8jB3BwN,aAAa,OAAQrN,GAAAH,EACrBsN,MAAMqM,QAAU,MAErB9Z,GAAAG,EACMwN,aAAa,YAAa3N,GAE5BG,CAAA,EAAA4a,YAGO,SAAC1Z,GAAA,IACXrB,OAAA,EACiB,WAAlBqB,EAAK0O,WAAA/P,EACUqB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB7P,EAAUkB,EAAKgP,YACfpQ,EAASoB,EAAK6O,aAAa,KAC3B5P,EAAOe,EAAK6O,aAAa,eAAA/P,EACrBwN,aAAa,IAAKV,SAAShN,GJhlBA,GAAAE,EIilB3BwN,aAAa,OAAQrN,GAAAH,EACrBsN,MAAMqM,QAAU,MAErB9Z,GAAAG,EACMwN,aAAa,YAAa3N,GAE5BG,CAAA,GAIE6a,GAAA,CAAA7C,IACH,SAAC9W,EAAMrB,GAAA,IACTG,OAAA,EACiB,SAAlBkB,EAAK0O,WAAA5P,EACUkB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB/P,EAAA,CAAc,IAAK,IAAK,QAAS,UAAAqN,OAC9BqD,OAAOtP,EAAK4Z,YACjB7H,QAAO,SAAA/R,GAAA,OAAQpB,EAAWoT,SAAShS,EAAKL,OAASK,EAAK6Z,SAAA,IACtD1N,KAAI,SAAAnM,GAAArB,EACI2N,aAAatM,EAAKL,KAAMK,EAAK8Z,UAAA,IAGpChb,GAAAH,EACM2N,aAAa,YAAaxN,EAAA,EAAA2a,IAI7B,SAACzZ,EAAMrB,GAAA,IACTG,OAAA,EACiB,WAAlBkB,EAAK0O,WAAA5P,EACUkB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB/P,EAAA,CAAc,KAAM,MAAAqN,OACjBqD,OAAOtP,EAAK4Z,YACjB7H,QAAO,SAAA/R,GAAA,OAAQpB,EAAWoT,SAAShS,EAAKL,OAASK,EAAK6Z,SAAA,IACtD1N,KAAI,SAAAnM,GAAArB,EACI2N,aAAatM,EAAKL,KAAMK,EAAK8Z,UAAA,IAGpChb,GAAAH,EACM2N,aAAa,YAAaxN,EAAA,EAAA4a,YAIrB,SAAC1Z,EAAMrB,GAAA,IACjBG,OAAA,EACiB,WAAlBkB,EAAK0O,WAAA5P,EACUkB,EAAK6O,aAAa,aAAA7O,EAC5BA,EAAK2O,WAAW,QAEpB/P,EAAA,CAAc,KAAM,MAAAqN,OACjBqD,OAAOtP,EAAK4Z,YACjB7H,QAAO,SAAA/R,GAAA,OAAQpB,EAAWoT,SAAShS,EAAKL,OAASK,EAAK6Z,SAAA,IACtD1N,KAAI,SAAAnM,GAAArB,EACI2N,aAAatM,EAAKL,KAAMK,EAAK8Z,UAAA,IAGpChb,GAAAH,EACM2N,aAAa,YAAaxN,EAAA,GCrtBxB8P,GAAgB,IAChBmL,GAAgB,IAChBzL,GAAuBM,GACvB2B,GAAsB,IAEtBnC,GAAa,SCHpBoB,GAAA,CAAAwK,KACC,kBAAAC,OACE,UAAAC,OAEA,gBAAAC,QACC,aAAAC,UACE,iBQVCzJ,GAAU,0sDCUF0J,GAAA,oBAAA1b,EACRqB,EAAQlB,GAAA,GAAA6V,GAAA,KAAAhW,GAAAG,EAET2C,EAAU3C,GAAA,KAEfuY,OAA2B,iBAAXrX,EAClBiJ,SAASC,cAAclJ,GACvBA,IAEGsC,KAAK+U,kBAAkBiD,aAAA,MACtB,IAAIC,MAAM,uDAGZC,aAAe1b,EAAA,KAEfkZ,MAAQlZ,EAAQkZ,OAAS,QACzBrI,KAAO7Q,EAAQ6Q,MAAQ,QAEvB8K,SAAWnY,KAAKoY,YAAY5b,EAAQ6b,MAAA,KACpCA,KAAOrY,KAAKsY,iBAAiBtY,KAAKmY,UAAA,KAElCnD,OAAShV,KAAKuY,eAAe/b,EAAQwY,OAAQhV,KAAKqN,MAAA,KAElDmL,OAAA,CAAAC,YACS,EAAAC,WACD,EAAAC,YACCnc,EAAQmc,aAAe,EAAAC,aAAA,IACnBpc,EAAQoc,QAA2Bpc,EAAQoc,QAAU,EAAAC,gBACrDrc,EAAQqc,iBAAmB,QAGxCC,SAAWC,KAAK9Y,MAAM8Y,KAAKC,UAAU/E,KAAA,IACtC3X,EAAI0D,KAAK8Y,SAAA,KACRG,YAAYzc,GACbwD,KAAK0V,MAAM7X,SAAAvB,EAAYsL,YAAc,GACrC5H,KAAKwY,OAAOE,aAAYpc,EAAEyL,aAAe,QACxCmR,UAAY1c,EAAQuO,QAAUzO,EAAE4X,WAAA,KAEhCiF,MAAA,QACAC,QAAA,QAEAC,YfUkC,IeRpCrZ,KAAKwY,OAAOG,cAAA,KACTW,SAAA,SAGDC,UAAU/c,EAAA,QAAA2W,GAAA9W,EAAA,EAAAuW,IAAA,cAAAnB,MAAA,SAGJ/T,GAAA,OACJA,CAAA,IAAAkV,IAAA,mBAAAnB,MAAA,SAGS/T,GAAA,OACTA,CAAA,IAAAkV,IAAA,iBAAAnB,MAAA,SAGO/T,EAAQrB,GAAA,IAChBG,EAAA,UAAAkB,GACIA,GAAA,IAAcyK,OAAOoM,GAAelY,KACvC4I,SAAQ,SAACvH,GAAA,IACTrB,EAAQgN,GAAS3L,IZnC1B,SAA6BA,GAGf,MADA,uCAEC4C,KAAK5C,IADN,6GACwB4C,KAAK5C,EAAA,CYgCpC8b,CAAand,GAGCod,QAFTC,KAAK,IAAMhc,EAAS,2BADZlB,EAGJuM,KAAK1M,EAFW,IAKvBG,CAAA,IAAAoW,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,YAAAnB,MAAA,eAAA/T,EAAA,KASHrB,EAAS2D,KAAKkZ,UAAA,KACbhF,WAAa7X,EAAA,KACb0O,OAAS1O,EAASY,EAAe+C,KAAK8Y,UAAA,KAGtCa,YAAc,kBAAMjc,EAAKkc,MAAA,EAAK,EAC/BC,iBAAA,KACEC,eAAiB,IAAID,eAAe7Z,KAAK2Z,aAAA,KACzCG,eAAeC,QAAQ/Z,KAAK+U,SAAAzN,OAE3BsO,iBAAiB,SAAU5V,KAAK2Z,aAAArS,OAChCsO,iBAAiB,oBAAqB5V,KAAK2Z,YAAA,IAAA/G,IAAA,UAAAnB,MAAA,WAI9CzR,KAAK8Z,gBAAgB9Z,KAAK8Z,eAAeE,aAAA1S,OACtC2S,oBAAoB,SAAUja,KAAK2Z,aAAArS,OACnC2S,oBAAoB,oBAAqBja,KAAK2Z,YAAA,IAAA/G,IAAA,QAAAnB,MAAA,gBAKhDyI,gBAAA,KACAC,cAAA,KACA7E,cAAA,KAEAsE,MAAA,GAAK,EAAO,IAAAhH,IAAA,gBAAAnB,MAAA,gBAKZsD,OAAOxJ,UAAY,OAEpBlP,EAAA,CAAA4N,OACKjK,KAAK+U,OAAAtK,UACF,mBAGTzK,KAAKoa,mBAAA/d,EACFsO,OAAA,CAAWG,MAAO9K,KAAKoa,iBAAmB,YAG3C5E,UAAY9X,EAAE0Q,OAAO,MAAO/R,EAAA,IAAAuW,IAAA,cAAAnB,MAAA,gBAI5B4I,IAAM,IAAIvF,GAAA,CAAAC,OACN/U,KAAKwV,UAAAR,OACLhV,KAAKgV,SAAA,KAETsF,aAAA,IAAA1H,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,OAAAnB,MAAA,eAAA/T,EAAA,KAKDrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAAuBjD,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GACvBlD,GAAmBG,EAASwD,KAAK+U,UAAA,KAIhCoF,cAAA,KAEAI,KAAKle,GAAA,KACLme,gBAAA,KACAC,kBAAA,KAEAC,WAAWzV,SAAQ,SAAA5I,GAAA,OAAKA,EAAEgZ,MAAM3X,EAAKid,SAAA,SAErCC,OAAO5a,KAAK0a,YAAA,GAEdpe,IAAA,KACG+b,KAAOrY,KAAKmY,SAAAnK,YACN,WAAAtQ,EAAYmd,OAAOnd,EAAK2a,KAAA,GAASrY,KAAKqZ,cAAA,KAG7CyB,eAAA,KAEAC,gBAAgBze,GAAA,IAAAsW,IAAA,OAAAnB,MAAA,eAAAmB,IAAA,cAAAnB,MAAA,gBAMhBuJ,UhBhGP,SAAuCtd,GAAA,IAClCrB,EAASiL,OAAO2T,iBAAiBvd,GACjClB,EAAUwL,WAAW3L,EAAO6e,aAC/BlT,WAAW3L,EAAO8e,cAAA,OAEZzd,EAAQiK,YAAcnL,CAAA,CgB2FXG,CAAuBqD,KAAK+U,QAAA,KACxCjK,MAAQ9K,KAAKgb,UAAYte,EAAcsD,KAAK8Y,SAAA,IAAAlG,IAAA,gBAAAnB,MAAA,WAI9CzR,KAAKob,KAAA,KACF5F,UAAUzH,YAAY/N,KAAKob,KAAA,IAE7B1d,EAAIsC,KAAK8Y,SAAA,KAERsC,IXhHP,SAAiC1d,EAAQrB,EAAWG,EAAOF,GAAA,OACnDmJ,EAAU,OAAAgF,UACLpO,EAAA4N,OACHvM,EAAAoN,MACDtO,EAAAuO,OACCzO,GAAA,CW2GG+e,CACVrb,KAAKwV,UACL,qBACAxV,KAAKgb,UACLhb,KAAKkU,YAAA,KAEDoH,QX7GP,SAA4B5d,GAAA,OACpB+H,EAAU,QAAAwE,OACRvM,GAAA,CW2GOoB,CAAYkB,KAAKob,KAE7Bpb,KAAK0V,MAAM7X,SAAA,KACR0d,QAAUtQ,EACd,QACAvN,EAAEmK,QAAQX,KACVxJ,EAAEmK,QAAQf,IACV9G,KAAK0V,MAAA,CAAAxK,SAEMxN,EAAEyW,cAAAjM,KACN,UAAAkD,GACF1N,EAAEyW,iBAAA,IAKL9X,EAAME,EAAamB,GAAA,KAClBid,SAAWnQ,EACfxK,KAAKqN,KAAO,sCACCzQ,EAAcc,GAAA,KAAOrB,EAAA,KAGhC2D,KAAKwY,OAAOE,aAAArc,GACP2D,KAAK+K,OAASrN,EAAEoK,SAAST,OAAA,KAC3BmU,WAAahR,EACjB,4BACa5N,EAAcc,GAAA,KAAOrB,EAAA,MAIjC2D,KAAK0V,MAAM7X,QAAA,KAAeud,IAAI5R,YAAYxJ,KAAKub,SAAA,KAC7CH,IAAI5R,YAAYxJ,KAAK2a,UACvB3a,KAAKwY,OAAOE,YAAA,KAAmB0C,IAAI5R,YAAYxJ,KAAKwb,YAAA,KAElDC,gBAAgB7e,EAAcc,GAAInB,EAAamB,GAAA,IAAAkV,IAAA,kBAAAnB,MAAA,SAGrC/T,EAAGrB,GAAA,KACbge,IAAI9P,OAAA,CAAA1K,EACLnC,EAAAP,EACAd,EAAA,IAAAuW,IAAA,kBAAAnB,MAAA,gBAIoBiJ,WAAa,IAAIgB,GAAA,IAAA9I,IAAA,SAAAnB,MAAA,SAEnC/T,GACFA,GAAA+b,QACKkC,MAAM,2BAEVtD,KAAOrY,KAAKoY,YAAY1a,GAAA,KACxB6c,OAAA,KACAK,OAAO5a,KAAK0a,WAAY1a,KAAKwY,OAAOI,SAAA,KACpCkC,cAAA,IAAAlI,IAAA,SAAAnB,MAAA,eAAA/T,EAAA,KAGCrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAWS,KAAK0a,WAAYle,IAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,KAAAA,UAAA,GAC/BS,KAAKwY,OAAOG,aAAA,KAETW,SAASzP,KAAI,SAAAnM,GAAA,OAAKA,EAAE+L,WAAWsE,YAAYrQ,EAAA,QAG7CpB,EAAA,GAAAD,EAEO4I,SAAQ,SAAAvH,GAAApB,EACEA,EAAkB6L,OAAOzK,EAAEmd,OAAOre,GAAA,IAEpDF,EAAkBuB,OAAS,GAAAiQ,EACZ9N,KAAKwV,UAAWxV,KAAKob,IAAK9e,GAAA0R,YAChC,WAAA3R,EACC4I,SAAQ,SAAAvH,GAAA,OAAKA,EAAEke,MAAA,IAAAle,EACrBme,WAAA,GfpMiC,OAAAxf,EeuM5B4I,SAAQ,SAAAvH,GAAA,OAAKA,EAAEke,MAAA,SACrBC,YAAA,IAAAjJ,IAAA,YAAAnB,MAAA,WAKHzR,KAAKwY,OAAOG,cAAA,KACTmD,cAAA,KACAC,YAAA,IAAAnJ,IAAA,eAAAnB,MAAA,eAAAmB,IAAA,kBAAAnB,MAAA,eAAA/T,EAAA,KAMSrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GACXS,KAAKwY,OAAOG,aAEbtc,IAAA,KACG2f,cAAA,KAEAC,WAAA,IACEjc,KAAKkc,WAAWC,KAAKnc,MAAA,GACrBA,KAAKoc,YAAYD,KAAKnc,MAAA,GACtBA,KAAKqc,UAAUF,KAAKnc,MAAA,GACpBA,KAAKsc,aAAaH,KAAKnc,MAAA,GACvBA,KAAKuc,YAAYJ,KAAKnc,OAAA2G,SAGpBiP,iBAAiB,WAAW,SAACvZ,GAClCC,EAAoBoB,EAAK8X,aAAAnZ,EACvBA,GAAKiL,OAAOkV,MACb9e,EAAKue,WAAW5f,EAAEogB,UAAA/e,EACfue,WAAW5f,EAAEogB,WAAA,QAAA7J,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,gBAAAnB,MAAA,eAAAmB,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,YAAAnB,MAAA,eAAAmB,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,eAAAnB,MAAA,eAAAmB,IAAA,YAAAnB,MAAA,eAAAmB,IAAA,cAAAnB,MAAA,eAAAmB,IAAA,aAAAnB,MAAA,eAAAmB,IAAA,eAAAnB,MAAA,eAAAmB,IAAA,kBAAAnB,MAAA,eAAAmB,IAAA,eAAAnB,MAAA,eAAAmB,IAAA,sBAAAnB,MAAA,eAAAmB,IAAA,gBAAAnB,MAAA,eAAAmB,IAAA,SAAAnB,MAAA,eA2BlB/T,EAAWwQ,EAAiBlO,KAAKob,MR7ThC,SAAsB1d,EAAUrB,GAAA,IAClCG,EAAImK,SAASmL,cAAc,KAAAtV,EAC7BsN,MAAQ,oBACNxN,EAAO,IAAIogB,KAAKrgB,EAAA,CAAOgR,KAAM,iCAC7B1Q,EAAM2K,OAAOqV,IAAIC,gBAAgBtgB,GAAAE,EACnCqgB,KAAOlgB,EAAAH,EACPsgB,SAAWpf,EAAAiJ,SACJM,KAAKuC,YAAYhN,GAAAA,EACxBugB,QAAA/O,YACS,WAAArH,SACDM,KAAK8G,YAAYvR,GAAA8K,OACnBqV,IAAIK,gBAAgBrgB,EAAA,GACzB,KQiTmCsgB,CACxBjd,KAAK0V,OAAS,SAAUhY,GAAA,KAAArB,CAAA,CAvTlB,GCJA6gB,GAAA,SAAAxf,GAAA,SAAArB,EACRqB,EAAQlB,GAAA,OAAA6V,GAAA,KAAAhW,GAAA0X,GAAA,MAAA1X,EAAAyX,WAAAnK,OAAAgK,eAAAtX,IAAA0J,KAAA,KACbrI,EAAQlB,GAAA,QAAAoX,GAAAvX,EAAAqB,GAAAyV,GAAA9W,EAAA,EAAAuW,IAAA,YAAAnB,MAAA,SAGL/T,GAAA8V,GAAAnX,EAAA6D,UAAA4T,WAAAnK,OAAAgK,eAAAtX,EAAA6D,WAAA,kBAAA6F,KAAA,KACOrI,GAAA,KAEX8a,OAAO2E,gBAAkBzf,EAAK0f,gBAAA,IAAsBD,eAAA,KACpD3E,OAAO6E,UAAY3f,EAAK2f,WAAa,QACrC7E,OAAO8E,gBAAkB5f,EAAK4f,iBAAmB,MAAA1K,IAAA,OAAAnB,MAAA,eAAA/T,EAAA,KAIlDrB,EAAI2D,KAAKmZ,MACT3c,EAAYwD,KAAKwY,OAAO6E,UAAAhhB,EAC1BkhB,YAAA,OAEEjhB,EAAY0D,KAAKqY,KAAKrH,OAAOnH,KAAI,SAACxN,EAAOG,GAAA,IACxCF,EAAQ,SAAAoB,EACP2a,KAAKpH,SAASpH,KAAI,SAAAnM,GAAApB,GACboB,EAAEsP,OAAOxQ,EAAA,KAEXF,EAAOD,EAAA,IACboT,QAAO,SAAA/R,GAAA,OAAcA,EAAE,IAAM,KAE5Bf,EAASL,EAAA,GACVA,EAAUuB,OAASrB,EAAW,CAAAF,EAEtBkhB,MAAK,SAAC9f,EAAGrB,GAAA,OAAeA,EAAE,GAAKqB,EAAE,MAAAf,EAElCL,EAAUoG,MAAM,EAAGlG,EAAU,OAGlCC,EAAiB,EAFLH,EAAUoG,MAAMlG,EAAU,GAGhCqN,KAAI,SAAAnM,GAAAjB,GAAwBiB,EAAE,MAAAf,EACjCoM,KAAA,CAAMtM,EAAgB,cACxBuY,OAAOxY,EAAU,GAAK,OAAAH,EAG1B2U,OAAA,GAAArU,EACKkN,KAAI,SAAAnM,GAAArB,EACRkhB,YAAYxU,KfgEjB,SAAsBrL,GAAA,OAGduF,OAAO9E,KAAK+E,MAAMxF,EAAI,MAAQ,OenEhBM,CAAMN,EAAE,KAAArB,EACzB2U,OAAOjI,KAAKrL,EAAE,OAAArB,EAGfohB,WAAaphB,EAAEkhB,YAAYnU,QAAO,SAAC1L,EAAGrB,GAAA,OAAMqB,EAAIrB,CAAA,GAAG,QAEhDqhB,OAAA,CAAA7d,EACDG,KAAK8K,MAAQ,EAAA3N,EACb6C,KAAK+K,OAAS,MAAA6H,IAAA,eAAAnB,MAAA,eAAA/T,EAAA,KAKdrB,EAAI2D,KAAKmZ,MAAA,KACRqC,WAAWzR,YAAc,QACzB4T,aAAethB,EAAEkhB,YAAY7a,MAAM,EAAG1C,KAAKwY,OAAO8E,iBAAA,IAEnD9gB,EAAQ,EACRF,EAAI,OACHqhB,aAAa9T,KAAI,SAAClN,EAAGF,GAAA,IACrBF,EAAW,IACXK,EAAUuB,KAAKE,OACjBX,EAAKoN,MAAQpO,EAAcgB,EAAKob,WAAWvc,GAEzCmB,EAAKigB,aAAa9f,OAASjB,IAAAL,EACnBmB,EAAKoN,MAAMpN,EAAKigB,aAAa9f,QAEtCrB,EAAQI,IAAAJ,EACF,EAAAF,GACH,QAEFW,EAAIV,EAAWC,EAAQ,EACvBM,EAAQY,EAAK8a,OAAOK,gBAAkBlQ,EAAetM,EAAE2U,OAAOvU,GAAIF,EAAS,IAAMF,EAAE2U,OAAOvU,GAC1FM,EAAYW,EAAK8a,OAAO2E,eAAiBzf,EAAK8a,OAAO2E,eAAexgB,GAAKA,EACzEK,EZ+JP,SAA0BU,EAAGrB,EAAGG,GAAA,IAAMF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAK,OAAQ5C,EAAA4C,UAAA,GAAA5C,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAC/BoJ,EAAehM,EAAOsa,IAAmBta,EAAA,IAExDF,EAAA,CAAAgO,UACQ,aAAAmT,GACP,EAAAC,GACA,EAAAthB,EACDC,EAAA0L,KACG5L,GAEHC,EAAOkJ,EAAU,QAAAgF,UACT,sBAAA5K,EACR,EAAA1C,EACA,EAAA2gB,GACE3S,GAAa,KAAAC,GACbD,GAAU,EAAK,iBACM,IAAZA,GAAmB,mBAClB,QAAAjD,KACTmD,GAAAE,UACK5O,IAGRC,EAAQ6I,EAAU,KAAAiF,UAAA,aACGhN,EAAA,KAAMrB,EAAA,aAAAO,EAEzB4M,YAAY/D,EAAU,SAAUhJ,IAAAG,EAChC4M,YAAYjN,GAEXK,CAAA,CY3LKmhB,CACT9gB,EACAX,EACA,EACAoB,EAAKsX,OAAOvY,GACTK,EAAA,KAAUC,GAAA,GACbW,EAEI8d,WAAWhS,YAAYxM,GAAAR,GAAA,QAAAH,CAAA,CApFV,CAAyB0b,IRHjC/I,GAAqB,EAErBF,GAAe,IACfD,GAAa,MAEbM,GAAA,CAAe,UAAW,WAAY,QAAS,QAAS,MACpE,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAIlD6O,GAAA,CAAmB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OCNpElO,GAAA,oBAAApS,EAAArB,GAAA,IAAAG,EAAAH,EAEJ4hB,WAAA3hB,OAAA,IAAAE,EAAa,GAAAA,EAAAG,EAAAN,EACb6hB,eAAAzhB,OAAA,IAAAE,EAAiB,GAAAA,EACjBJ,EAAAF,EAAAuT,UAEAhT,EAAAP,EAAAwT,QACA5S,EAAAZ,EAAA8hB,aACAzhB,EAAAL,EAAA+hB,gBAAA/L,GAAA,KAAA3U,GAAA,KAEKwgB,eAAiBzhB,EAAA,KACjBmT,UAAYrT,EAAA,KAEZ4hB,aAAelhB,EAAA,KACf4S,QAAUjT,EAAA,KAEVwhB,gBAAkB1hB,EAAA,KAElB2hB,MAAA,QACArN,OAAA,QAEAiN,WAAa3hB,EAAA,KACb2hB,WAAyC,mBAArBje,KAAKie,WAC3Bje,KAAKie,aAAeje,KAAKie,WAAA,KAEvB/H,SAAA,QAAA/C,GAAAzV,EAAA,EAAAkV,IAAA,UAAAnB,MAAA,SAGE/T,GAAA,KACF2a,KAAO3a,GAAQsC,KAAK6P,SAAA,IAAA+C,IAAA,QAAAnB,MAAA,SAGpB/T,GAAA,KACA4gB,MAAQ9T,EAAaxK,KAAKie,WAAYje,KAAKke,eAAgBxgB,EAAA,IAAAkV,IAAA,OAAAnB,MAAA,gBAI3DmJ,OAAO5a,KAAKqY,MAAA,KACZkG,QAAUve,KAAKqY,IAAA,IAAAzF,IAAA,SAAAnB,MAAA,SAGd/T,GAAA,IAAArB,EAAA,UACDgiB,MAAQre,KAAKme,aAAazgB,GAAA,KAE1B4gB,MAAMvU,YAAc,QACpBsU,MAAMpZ,SAAQ,SAAAvH,GAAArB,EACbiiB,MAAM9U,YAAY9L,EAAA,SAEnBsT,OAAO/L,SAAQ,SAAAvH,GAAArB,EACdiiB,MAAM9U,YAAY9L,EAAA,OAAAkV,IAAA,SAAAnB,MAAA,eAIlB/T,IAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,KAAAA,UAAA,QACD2W,UAAA,IACD7Z,EAAA,UACDqB,IAAArB,EACgB2D,KAAKoe,gBAAgBpe,KAAKqY,OAAA,IAEtChc,CAAA,KAAAqB,CAAA,CA3DH,GA+DF8R,GAAA,CAAAgP,YAAA,CAAAP,WAEU,eAAAE,aAAA,SACCzgB,GAAA,OACLA,EAAK+gB,aAAa5U,KAAI,SAACxN,EAAGG,GAAA,IAC5BF,EAAQ+C,EAAShD,EAAG,aAAcqB,EAAKsX,OAAOxY,GAAI,OAAQkB,EAAKghB,aAAA,OAAApiB,EAC7DwN,MAAM6U,WAAa,iBAClBriB,CAAA,KAAA8hB,gBAAA,SAIO1gB,GAAA,OACRsC,KAAKqe,MAAMxU,KAAI,SAACxN,EAAOG,GAAA,OAAMgQ,EAAenQ,EAAOqB,EAAQ+gB,aAAajiB,GAAA,MAAAoiB,UAAA,CAAAX,WAIpE,aAAAE,aAAA,SACCzgB,GAAA,OACLA,EAAK+gB,aAAa5U,KAAI,SAACxN,EAAGG,GAAA,IAC5BF,EAAQ+C,EAAShD,EAAG,WAAY,OAAQqB,EAAKsX,OAAOxY,IAAA,OAAAF,EAClDwN,MAAM6U,WAAa,iBAClBriB,CAAA,KAAA8hB,gBAAA,SAIO1gB,GAAA,OACRsC,KAAKqe,MAAMxU,KAAI,SAACxN,EAAOG,GAAA,OAC7BgQ,EAAenQ,EAAOqB,EAAQ+gB,aAAajiB,GAAA,MAAAqiB,eAAA,CAAAZ,WAKjC,kBAAAE,aAAA,SACCzgB,GAAA,IAAArB,EAAA,YACLqB,EAAKohB,WAAWjV,KAAI,SAACrN,EAAGF,GAAA,OLkElC,SAA8BoB,EAAGrB,EAAGG,EAAOF,GAAA,IAC1CK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM6U,GAA8B3X,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAK,cAkBlCkG,EAAU,OAAQ,CAARgF,UAfL,iBAAA5K,EACRnC,EAAAP,EACAd,EAAAyO,MACItO,EAAAuO,OACCzO,EAAA4L,KACFzL,EAAAkO,OAAA,CAAAC,OAEKtG,EAAmB7H,GAAO,8BAGVH,EAASE,GAAA,KAAUA,EAAA,KAAUF,EAAA,eACvCK,IAAA,CK/ELoiB,CAAcviB,EADhB,EACsBkB,EAAKshB,OAAO1iB,GACzCD,EAAKuT,UAAUqP,UAAW5iB,EAAKuT,UAAUsP,SAAUxhB,EAAKsX,OAAO1Y,GAAA,KAAA8hB,gBAAA,SAKlD1gB,GAAA,GACZA,EAAS,MAAO,EAAP,GAAAyhB,MAAA,CAAAlB,WAID,SAAAE,aAAA,SACCzgB,GAAA,IAAArB,EAAA,YACLqB,EAAK0hB,UAAUvV,KAAI,SAACrN,EAAUF,GAAA,OLqPxC,SAAsBoB,EAAGrB,EAAOG,GAAA,IAAOF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MACjC1C,EAAca,KAAIA,EAAI,GAEvBpB,EAAQ+iB,MAAK/iB,EAAQ+iB,IAAM,QAC3B/iB,EAAQiO,SAAQjO,EAAQiO,OAAS,GACjCjO,EAAQgjB,OAAMhjB,EAAQgjB,KAAO,QAC7BhjB,EAAQsO,SAAQtO,EAAQsO,OAASa,IACjCnP,EAAQmO,YAAWnO,EAAQmO,UAAY,QAEvC9N,GAAM,EAAIqa,GACVva,EAAsB,SAAjBH,EAAQgjB,KAAkB9iB,EAAQwa,GAAmB,QAE1C,SAAjB1a,EAAQgjB,MAAmC,UAAhBhjB,EAAQ+iB,MAAA1iB,EAChCH,EAAQwa,GAAAva,EACRD,GAQCmP,EAAajO,EAAGrB,EARjBM,GAKAL,EAAQiO,OAAA9N,GACRH,EAAQiO,OAEoB,CAAAK,OACzBtO,EAAQsO,OAAAH,UACLnO,EAAQmO,UAAAmB,SACTtP,EAAQsP,SAAAC,eACFvP,EAAQuP,gBAAA,CK9QtB0T,CAAM/iB,EAAUkB,EAAKsT,OAAO1U,GAAID,EAAKuT,UAAU9E,MAAA,CAC7CwU,KAAMjjB,EAAKuT,UAAU0P,KAAMD,IAAKhjB,EAAKuT,UAAUyP,IAAKxT,eAAgBxP,EAAKuT,UAAU/D,gBAAA,KAAAuS,gBAAA,SAIvE1gB,GAAA,IACXrB,EAASqB,EAAQ0hB,UACjB5iB,EAAYkB,EAAQsT,OACpB1U,EAAS0D,KAAKue,QAAQa,UACtBziB,EAAYqD,KAAKue,QAAQvN,OAAAvU,EAEVU,EAAqBb,EAAQD,GAAAE,EAAA4P,GAAA1P,EAAA,GAAAH,EAAAC,EAAA,GAAAF,EAAAE,EAAA,OAAAK,EACvBO,EAAqBR,EAAWH,GAAAS,EAAAkP,GAAAvP,EAAA,UAAAD,EAAAM,EAAA,GAAAT,EAAAS,EAAA,QAEpD2d,OAAA,CAAAwE,UACO9iB,EAAA0U,OACHxU,IAGFwD,KAAKqe,MAAMxU,KAAI,SAACnM,EAAMlB,GAAA,OACrBuP,EACNrO,EAAMrB,EAAOG,GAAIF,EAAOE,GAAA,MAAAgjB,MAAA,CAAAvB,WAOf,SAAAE,aAAA,SACCzgB,GAAA,IAAArB,EAAA,YACLqB,EAAK0hB,UAAUvV,KAAI,SAACrN,EAAUF,GAAA,OLoPxC,SAAsBoB,EAAGrB,EAAOG,GAAA,IAAQF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAClC1C,EAAca,KAAIA,EAAI,GAEvBpB,EAAQ+iB,MAAK/iB,EAAQ+iB,IAAM,UAC3B/iB,EAAQiO,SAAQjO,EAAQiO,OAAS,GACjCjO,EAAQgjB,OAAMhjB,EAAQgjB,KAAO,QAC7BhjB,EAAQsO,SAAQtO,EAAQsO,OAASa,IACjCnP,EAAQmO,YAAWnO,EAAQmO,UAAY,QAavC9N,EAAKH,EAASwa,GACdva,EAAsB,SAAjBH,EAAQgjB,MAAmB,EAAItI,GAAmBxa,EAAA,MAEvC,SAAjBF,EAAQgjB,MAAmC,QAAhBhjB,EAAQ+iB,MAAA1iB,GAE/B,EAAIqa,GAAAva,EACL,GAGC+O,EAAa9N,EAAGrB,EAAOM,EAAIF,EAAA,CAAAmO,OACzBtO,EAAQsO,OAAAH,UACLnO,EAAQmO,UAAAmB,SACTtP,EAAQsP,UAAA,CKnRhB6T,CAAMjjB,EAAUkB,EAAKgiB,WAAWpjB,GAAID,EAAKuT,UAAU7E,OAAA,CACjDuU,KAAMjjB,EAAKuT,UAAU0P,KAAMD,IAAKhjB,EAAKuT,UAAUyP,KAAA,KAAAjB,gBAAA,SAInC1gB,GAAA,IACXrB,EAASqB,EAAQ0hB,UACjB5iB,EAAYkB,EAAQgiB,WACpBpjB,EAAS0D,KAAKue,QAAQa,UACtBziB,EAAYqD,KAAKue,QAAQmB,WAAAjjB,EAEVU,EAAqBb,EAAQD,GAAAE,EAAA4P,GAAA1P,EAAA,GAAAH,EAAAC,EAAA,GAAAF,EAAAE,EAAA,OAAAK,EACvBO,EAAqBR,EAAWH,GAAAS,EAAAkP,GAAAvP,EAAA,UAAAD,EAAAM,EAAA,GAAAT,EAAAS,EAAA,QAEpD2d,OAAA,CAAAwE,UACO9iB,EAAAojB,WACCljB,IAGNwD,KAAKqe,MAAMxU,KAAI,SAACnM,EAAMlB,GAAA,OJrJhC,SAAkCkB,EAAOrB,EAAMG,GAAA,OACvCwC,EAAUtB,EAAA,CAAQlB,EAAM,GAAI,CAACH,EAAM,GAAI2P,GAAA,CIqJpCtH,CACNhH,EAAMrB,EAAOG,GAAIF,EAAOE,GAAA,MAAAgV,SAAA,CAAAyM,WAOf,YAAAE,aAAA,SACCzgB,GAAA,IAAArB,EAAA,YACLqB,EAAKmM,KAAI,SAAAnM,GAAA,OLyPnB,SAAwBA,EAAGrB,EAAOG,GAAA,IAAOF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MACpCjD,EAAQqjB,WAAUrjB,EAAQqjB,SAAW,aAIrChjB,EAAW8I,EAAU,QAAAgF,UACb,cAAA5K,EAJiB,SAArBvD,EAAQqjB,SAAsBjU,GACnClP,EAAQQ,EAAeX,EAAO,GAAKqP,GAAAvO,EAKlC,EAAAiO,GACED,IAAa,EAAK,iBACVA,GAAY,mBACV,QAAAI,UACJlP,EAAM,KAGdI,EAAOkP,EAAajO,EAAG,GAAI,EAAGlB,EAAA,CAAAoO,OACzBtO,EAAQsO,QAAUa,GAAAhB,UACfnO,EAAQmO,WAAa,GAAAmB,SACtBtP,EAAQsP,WAAA,OAAAnP,EAGd+M,YAAY7M,GAEVF,CAAA,CK/QJmjB,CAAQliB,EAAEmiB,SAAUniB,EAAEgU,MAAOrV,EAAKuT,UAAU9E,MAAA,CAC1C6U,SAAUjiB,EAAE0b,QAAQuG,SAAUL,KAAM,OAAQ1T,SAAU,eAAAwS,gBAAA,SAG1C1gB,GAAA,IAAArB,EACWc,EAAqB6C,KAAKue,QAAS7gB,GAAAlB,EAAA2P,GAAA9P,EAAA,QAAvDkiB,QAAA/hB,EAAA,OAEFF,GAAAoB,EAAAlB,EAAA,IAAiBqN,KAAI,SAAAnM,GAAA,OAAKA,EAAEmiB,QAAA,IAC5BljB,EAAYe,EAAQmM,KAAI,SAAAnM,GAAA,OAAKA,EAAEgU,KAAA,IAC/BjV,EAAaiB,EAAQmM,KAAI,SAAAnM,GAAA,OAAKA,EAAE0b,OAAA,IAEhC7c,EAASyD,KAAKue,QAAQ1U,KAAI,SAAAnM,GAAA,OAAKA,EAAEmiB,QAAA,gBAEhCjF,OAAOre,EAAOsN,KAAI,SAACnM,EAAKrB,GAAA,OAAAwjB,SAEjBtjB,EAAOF,GAAAqV,MACV/U,EAAUN,GAAA+c,QACR3c,EAAWJ,GAAA,KAIf2D,KAAKqe,MAAMxU,KAAI,SAACnM,EAAMrB,GAAA,OACrB0P,EACNrO,EAAMpB,EAAOD,GAAIE,EAAOF,GAAA,MAAA+U,SAAA,CAAA6M,WAOf,YAAAE,aAAA,SACCzgB,GAAA,IAAArB,EAAA,YACLqB,EAAKmM,KAAI,SAAAnM,GAAA,OLkPnB,SAAwBA,EAAIrB,EAAIG,EAAOF,GAAA,IAAOK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAEzC9C,EAASiB,EAAKrB,EAEdE,EAAOkJ,EAAU,QAAAgF,UAAA,WAAAE,OAAA,CAAAzC,KAAA,4BAAA0C,OAIXa,GAAA,mBACejP,EAAA,KAAUC,GAAAoD,EAG/B,EAAA1C,EACA,EAAA2N,MACItO,EAAAuO,OACCtO,IAGLE,EAAQgjB,WAAUhjB,EAAQgjB,SAAW,aAIrC/iB,EAAW6I,EAAU,QAAAgF,UACb,cAAA5K,EAJiB,SAArBlD,EAAQgjB,SAAsBjU,GACnClP,EAAQQ,EAAeV,EAAM,GAAI,KAAOoP,GAAAvO,EAKvC,EAAAiO,GACED,IAAa,EAAK,iBACVA,GAAY,mBACV,QAAAI,UACJjP,EAAM,KAGdW,EAASwI,EAAU,KAAAiF,UAAA,gBACKrO,EAAA,aAAAY,EAGrBuM,YAAYjN,GAAAU,EACZuM,YAAY5M,GAEZK,CAAA,CKxRJ6iB,CAAQpiB,EAAEqiB,SAAUriB,EAAEsiB,OAAQ3jB,EAAKuT,UAAU9E,MAC5CpN,EAAEgU,MAAA,CAAQiO,SAAUjiB,EAAE0b,QAAQuG,UAAA,KAAAvB,gBAAA,SAGjB1gB,GAAA,IAAArB,EACWc,EAAqB6C,KAAKue,QAAS7gB,GAAAlB,EAAA2P,GAAA9P,EAAA,QAAvDkiB,QAAA/hB,EAAA,OAEFF,GAAAoB,EAAAlB,EAAA,IAAiBqN,KAAI,SAAAnM,GAAA,OAAKA,EAAEsiB,MAAA,IAC5BrjB,EAAYe,EAAQmM,KAAI,SAAAnM,GAAA,OAAKA,EAAEgU,KAAA,IAC/BjV,EAAYiB,EAAQmM,KAAI,SAAAnM,GAAA,OAAKA,EAAEqiB,QAAA,IAC/BxjB,EAAamB,EAAQmM,KAAI,SAAAnM,GAAA,OAAKA,EAAE0b,OAAA,IAEhCxc,EAASoD,KAAKue,QAAQ1U,KAAI,SAAAnM,GAAA,OAAKA,EAAEsiB,MAAA,IACjC/iB,EAAY+C,KAAKue,QAAQ1U,KAAI,SAAAnM,GAAA,OAAKA,EAAEqiB,QAAA,SAEnCnF,OAAOhe,EAAOiN,KAAI,SAACnM,EAAKrB,GAAA,OAAA0jB,SAEjB9iB,EAAUZ,GAAA2jB,OACZpjB,EAAOP,GAAAqV,MACR/U,EAAUN,GAAA+c,QACR7c,EAAWF,GAAA,SAIlBK,EAAA,eAEC2hB,MAAMxU,KAAI,SAACnM,EAAWrB,GAAAK,EACRA,EAAgByL,OJrNtC,SAA8BzK,EAAWrB,EAAOG,EAAOF,GAAA,IAClDK,EAAYN,EAAQG,EACpBC,EAAOiB,EAAU2O,WAAW,WAG/B5P,EAAA,CACEsO,OAAQpO,EAAW,mBAHVF,EAAK8P,aAAa,cAGyB5P,GACtDqP,GACAF,IAGe9M,EAAUtB,EAAA,CAAY,EAAGpB,GAAA,CAAS,EAAGE,GAAQwP,IAAA,CI0MjBiU,CACxCviB,EAAWjB,EAAUJ,GAAIC,EAAOD,GAAIO,EAAOP,IAAA,IAItCK,CAAA,GAAAwjB,WAAA,CAAAjC,WAKI,iBAAoB,sBAAwBje,KAAK4P,UAAUiG,KAAA,EAAAsI,aAAA,SAC1DzgB,GAAA,IAAArB,EAAA,KAAAG,EACuDwD,KAAK4P,UAAnEtT,EAAAE,EAAAqZ,MAAOlZ,EAAAH,EAAA2jB,SAAU1jB,EAAAD,EAAA4jB,UAAW7jB,EAAAC,EAAA6jB,WAAYzjB,EAAAJ,EAAA8jB,OAEzCrjB,EAAAT,EAFiD+jB,WAEjC7jB,EAAI,cAEnB8jB,qBAAA,GAAA9iB,EAEA+iB,KAAK5W,KAAI,SAACnM,EAAMlB,GACN,IAAXA,GAAAH,EACG2U,OAAOjI,KACXkC,EAAS,cAAehO,GARL,GAQyBiS,EAAa5S,GAAA,GAAawJ,cAAA,CAAAoF,SAE1D,KAAAxN,EAKTmM,KAAI,SAACnM,EAAKlB,GAAA,GACXkB,EAAIwK,KAAM,KACR5L,EAAA,aACUoB,EAAIgjB,SAAA,aACHhjB,EAAIijB,UAAA,WACNnkB,GAETG,EAASwH,EAAW,MAAOlH,EAAGP,EAAGH,EAAYK,EAAQc,EAAIwK,KAAM5L,GAAAD,EAC9DmkB,qBAAqBzX,KAAKpM,EAAA,CAAAD,GAE3BD,CAAA,IAAAC,EAEF,EAAAO,GACCN,CAAA,IAGCqD,KAAKwgB,oBAAA,EAAApC,gBAAA,SAGG1gB,GAAA,GACZA,EAAS,MAAO,EAAP,GAAAkjB,SAAA,CAAA3C,WAKD,iBAAoB,sCAAwCje,KAAK4P,UAAUiG,KAAA,EAAAsI,aAAA,SAC1EzgB,GAAA,IACRrB,EAAI2D,KAAK4P,UAAA,YACRiR,SAAW,WACXC,MAAQpjB,EAAKqjB,WAAWlX,KAAI,SAACrN,EAAGF,GAAA,OLuMxC,SAA2BoB,EAAGrB,EAAMG,EAAOF,GAAA,IAAOK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM,GAAI9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM,EAAGhD,EAAAgD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAO,EAAG3C,EAAA2C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAAAtC,EAC5DU,EAAqBtB,EAAMO,EAAKsP,UAAAxP,EAAAyP,GAAAlP,EAAA,GAA7CH,EAAAJ,EAAA,GAAQK,EAAAL,EAAA,GAAAK,GACRR,EAES,IAAXO,IAAAA,EACOF,EAAKokB,UAAAjkB,GACTH,EAAKokB,WAINnkB,EAAca,KAAIA,EAAI,GACtBb,EAAcE,KAAIA,EAAI,GACtBF,EAAcC,GAAA,KAAeA,EAAS,GACtCD,EAAcL,GAAA,KAAcA,EAAQ,OAErCQ,EAAOyI,EAAU,QAAAgF,UAAA,WAAAX,MAAA,SAEJxN,EAAA,mBACIG,EAAAoD,EACjBnC,EAAAP,EACAJ,EAAA+N,MACItO,EAAAuO,OACCjO,IAAA,IAAAH,GAGA,KAEKA,EAAMkB,OAEb,CAAAb,EACDgN,aAAa,IAAK,GAAAhN,EAClBgN,aAAa,IAAK,OACnBpL,EAAO6G,EAAU,QAAAgF,UACT,mBAAA5K,EACRrD,EAAM,EAAAW,EACN,EAAAiO,GACED,GAAY,GAAK,EAAK,iBACdA,GAAY,mBACV,SAAAI,UACJ5O,IAGRqB,EAAQyH,EAAU,wBACDhJ,EAAAiO,UAAA,aACIhN,EAAA,KAAMX,EAAA,aAAAiB,EAEzBwL,YAAYxM,GAAAgB,EACZwL,YAAY5K,GAEXZ,CAAA,QArBAhB,CAAA,CKlOEikB,CACNvjB,EAAKohB,WAAWxiB,GAChBE,EACAkB,EAAKwjB,SACL7kB,EAAE8kB,MACFzjB,EAAKsT,OAAO1U,GACZA,EACAoB,EAAK0jB,QAAQ9kB,GAAA,CAAA4P,SAEFxO,EAAKwO,SAAAmV,UACJ3jB,EAAK2jB,UAAAL,UACL3kB,EAAE2kB,WAAA,IAIThhB,KAAK8gB,KAAA,EAAA1C,gBAAA,SAEG1gB,GAAA,IACXrB,EAAUqB,EAAQohB,WAClBtiB,EAAUkB,EAAQqjB,WAClBzkB,EAAaoB,EAAQ0jB,QACrBzkB,EAAYe,EAAQsT,OAEpBvU,EAAUuD,KAAKue,QAAQO,WACvBviB,EAAUyD,KAAKue,QAAQwC,WACvBnkB,EAAaoD,KAAKue,QAAQ6C,QAC1BnkB,EAAY+C,KAAKue,QAAQvN,OAAAtU,EAERS,EAAqBV,EAASJ,GAAAS,EAAAqP,GAAAzP,EAAA,GAAAD,EAAAK,EAAA,GAAAT,EAAAS,EAAA,OAAAC,EAC9BI,EAAqBZ,EAASC,GAAAQ,EAAAmP,GAAApP,EAAA,GAAAR,EAAAS,EAAA,GAAAR,EAAAQ,EAAA,OAAA4B,EACxBzB,EAAqBP,EAAYN,GAAAO,EAAAsP,GAAAvN,EAAA,GAAAhC,EAAAC,EAAA,GAAAP,EAAAO,EAAA,OAAAmB,EACnCb,EAAqBF,EAAWN,GAAAwC,EAAAgN,GAAAnO,EAAA,GAAAf,EAAAkC,EAAA,GAAAxC,EAAAwC,EAAA,QAEpDyb,OAAA,CAAAkE,WACQriB,EAAAskB,WACAxkB,EAAA6kB,QACHxkB,EAAAoU,OACDrU,EAAAuP,SAEElM,KAAKue,QAAQrS,SAAAmV,UACZrhB,KAAKue,QAAQ8C,UAAAH,SACdlhB,KAAKue,QAAQ2C,WAAA,IAGpBvjB,EAAA,eAEC0gB,MAAMxU,KAAI,SAAClN,EAAKF,GAAAkB,EACFA,EAAgBwK,OAAO8D,EACxCtP,EAAKN,EAAQI,GAAID,EAAQC,GAAIiB,EAAQwjB,SAAU5kB,EAAWG,GAAA,CACzDyP,SAAUxO,EAAQwO,WAAA,IAIdvO,CAAA,GAAA2jB,UAAA,CAAArD,WAKI,iBAAoB,sCAAwCje,KAAK4P,UAAUiG,KAAA,EAAAsI,aAAA,SAC1EzgB,GAAA,IACRrB,EAAI2D,KAAK4P,UAAA,YACRiR,SAAW,WACXU,MAAA,GACDllB,EAAEmlB,WAAA,KACAD,MLiOT,SAAyB7jB,EAAOrB,EAAOG,GAAA,IAAOF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAAY5C,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAErD9C,EADaJ,EAAMwN,KAAI,SAACxN,EAAGG,GAAA,OAAOkB,EAAMlB,GAAK,IAAMH,CAAA,IAC5B0B,KAAK,KAG5BzB,EAAQmlB,SACXhlB,EAAYqM,EAAwBpL,EAAOrB,IAAA,IAExCE,EAAO8C,EAAS,IAAI5C,EAAW,kBAAmBD,GAAA,GAGnDF,EAAQolB,SAAU,KAChB9kB,EAAciO,EAAalO,EAAK2e,QAAS9e,GAAAD,EACxCuN,MAAMc,OAAA,QAAiBhO,EAAA,QAGzBK,EAAA,CAAA0kB,KACGplB,GAAA,GAIJD,EAAQslB,WAAY,KAClBllB,EAAqBmO,EAAalO,EAAK2e,QAAS9e,GAAA,GAEhDM,EAAU,IAASY,EAAM,OAAMf,EAAKuP,SAAA,IAAczP,EAAA,IAAgBiB,EAAMgF,OAAO,GAAG,OAAM/F,EAAKuP,SAAAjP,EAC3F4kB,OAASxiB,EAASvC,EAAA,cAAwB,eAAgBJ,EAAA,YAG1DO,CAAA,CK7PSC,CACZQ,EAAKohB,WACLphB,EAAKqjB,WACL1kB,EAAE8kB,MAAA,CAAAO,SAESrlB,EAAEqlB,SAAAE,WACAvlB,EAAEulB,WAAAH,OACNplB,EAAEolB,QAAA,CAAAnG,QAGDjf,EAAEif,QAAApP,SACDxO,EAAKwO,YAAA,KAKb4U,MAAA,GACDzkB,EAAEylB,WAAA,KACAhB,MAAQpjB,EAAKqjB,WAAWlX,KAAI,SAACrN,EAAGF,GAAA,OLyKzC,SAA2BoB,EAAGrB,EAAGG,EAAQF,GAAA,IAAOK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM,GAAI9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM,EAC3DhD,EAAMkJ,EAAU,UAAAqE,MAAA,SACHxN,EAAA,mBACIG,EAAAmhB,GAChBlgB,EAAAmgB,GACAxhB,EAAAE,EACDC,IAAA,IAAAG,GAGK,KAEKA,EAAMkB,OAEb,CAAAtB,EACFyN,aAAa,KAAM,GAAAzN,EACnByN,aAAa,KAAM,OAEnBpN,EAAO6I,EAAU,QAAAgF,UACT,mBAAA5K,EACR,EAAA1C,EACA,EAAAiO,GACED,GAAY,GAAK,EAAI3O,EAAU,iBACvB2O,GAAY,mBACV,SAAAI,UACJ5O,IAGRM,EAAQwI,EAAU,wBACDhJ,EAAAiO,UAAA,aACIhN,EAAA,KAAMrB,EAAA,aAAAY,EAEzBuM,YAAYjN,GAAAU,EACZuM,YAAY5M,GAEXK,CAAA,QAtBAV,CAAA,CKpLGwlB,CACNrkB,EAAKohB,WAAWxiB,GAChBE,EACAkB,EAAK4iB,OACLjkB,EAAE8kB,MACD9kB,EAAE2lB,iBAAmBtkB,EAAKsP,OAAO1Q,GAAK,GACvCA,EAAA,KAKIqN,OAAOqD,OAAOhN,KAAKuhB,OAAOpZ,OAAOnI,KAAK8gB,MAAA,EAAA1C,gBAAA,SAE9B1gB,GAAA,IACXrB,EAAUqB,EAAQohB,WAClBtiB,EAAUkB,EAAQqjB,WAClBzkB,EAAYoB,EAAQsP,OAEpBrQ,EAAUqD,KAAKue,QAAQO,WACvBriB,EAAUuD,KAAKue,QAAQwC,WACvBxkB,EAAYyD,KAAKue,QAAQvR,OAAApQ,EAERO,EAAqBR,EAASN,GAAAY,EAAAkP,GAAAvP,EAAA,GAAAD,EAAAM,EAAA,GAAAZ,EAAAY,EAAA,OAAAP,EAC9BS,EAAqBV,EAASD,GAAAM,EAAAqP,GAAAzP,EAAA,GAAAD,EAAAK,EAAA,GAAAN,EAAAM,EAAA,OAAAC,EAC1BI,EAAqBZ,EAAWD,GAAAU,EAAAmP,GAAApP,EAAA,GAAAR,EAAAS,EAAA,GAAAV,EAAAU,EAAA,QAEpD4d,OAAA,CAAAkE,WACQniB,EAAAokB,WACAtkB,EAAAuQ,OACJ1Q,EAAA4P,SAEElM,KAAKue,QAAQrS,SAAAoU,OACftgB,KAAKue,QAAQ+B,SAAA,IAGlB1hB,EAAA,UAED+K,OAAOC,KAAK5J,KAAKuhB,OAAO1jB,SAAAe,EACRA,EAAgBuJ,OJzVtC,SAA4BzK,EAAOrB,EAAUG,EAAUF,EAAUK,GAAA,IAC5DF,EAAA,GACAF,EAAYC,EAASqN,KAAI,SAACnM,EAAGlB,GAAA,OAAOH,EAASG,GAAK,IAAMkB,CAAA,IAAIK,KAAK,KAEjEpB,IACHJ,EAAYuM,EAAwBzM,EAAUG,IAAA,IAEzCI,EAAA,CAAYc,EAAMikB,KAAA,CAAO3kB,EAAE,IAAMT,GAAYkb,GAAe3L,IAAA,GAAArP,EACnDsM,KAAKnM,GAEjBc,EAAMmkB,OAAQ,KACZ5kB,EAAgBZ,EAAS,OAAMC,EAAA,IAC/BI,EAAA,IAAeL,EAASqG,OAAO,GAAG,QAAOpG,EAEvCQ,EAAA,CACLY,EAAMmkB,OAAA,CACL7kB,EAAE,IAAMC,EAAaV,EAAYG,GAClC+a,GACA3L,IAAArP,EAEcsM,KAAKjM,EAAA,QAGdL,CAAA,CIkUqCwlB,CACxCjiB,KAAKuhB,MAAOllB,EAASG,EAASkB,EAAQwO,SAAUlM,KAAK4P,UAAU6R,UAG9DzhB,KAAK8gB,MAAMjjB,QAAA,KACRijB,MAAMjX,KAAI,SAACnM,EAAKpB,GAAAsC,EACFA,EAAgBuJ,OJ1WvC,SAA2BzK,EAAKrB,EAAGG,GAAA,MACd,WAAjBkB,EAAI0O,SAAA,CAEUpN,EAAUtB,EADRA,EAAI6O,aAAa,aAAahP,MAAM,KAAK,GAAGmF,MAAM,GAAI,IAC3BrG,EAAGG,GAAIwP,KAAA,EAG3CtO,EAAA,CAAMkgB,GAAIvhB,EAAGwhB,GAAIrhB,GAAI8P,GAAeR,IAAA,CIoWDoW,CACxCxkB,EAAKrB,EAAQC,GAAIE,EAAQF,IAAA,IAIrBsC,CAAA,IQ3aWujB,GAAA,SAAAzkB,GAAA,SAAAlB,EACRkB,EAAQrB,GAAAgW,GAAA,KAAA7V,GAAA,IAAAF,EAAAyX,GAAA,MAAAvX,EAAAsX,WAAAnK,OAAAgK,eAAAnX,IAAAuJ,KAAA,KACbrI,EAAQrB,IAAA,OAAAC,EACT+Q,KAAO,aAAA/Q,EACP+Y,QAAA/Y,CAAA,QAAAsX,GAAApX,EAAAkB,GAAAyV,GAAA3W,EAAA,EAAAoW,IAAA,cAAAnB,MAAA,SAGM/T,GAAA,IACPrB,EAAI2D,KAAK8Y,SAAA,KACRsJ,WAAa1kB,EAAQ0kB,YAAA,OAEtB5lB,EAAIwD,KAAKoiB,WAAA5lB,EACXuO,OAASvO,EAAEuO,QjB0D8B,GAAAvO,EiBzDzC6lB,MAAQ7lB,EAAE6lB,OAASjO,GAAA/X,EAEnByL,SAASL,MAAQ,GAAApL,EACjB0L,aAAe,GAAA1L,EACf6X,WAA0C,GAA5B1X,EAAEuO,OAAmB,GAAVvO,EAAE6lB,MAAA,IAAAzP,IAAA,kBAAAnB,MAAA,eAIzB/T,EAAIsC,KAAKmZ,MAET9c,EAAA,EAEF,kBAAA4iB,UAEYjf,KAAKoiB,WAAWrX,OAAAmU,SACjBlf,KAAKoiB,WAAWC,OAE3B,kBAAAvD,WAEcphB,EAAEohB,WAAAE,OACNthB,EAAEshB,OAAAhK,OACFhV,KAAKgV,OAAA,EAEbmH,KAAKnc,QAAAA,KAIJ0a,WAAa,IAAIgB,IAAIrf,EACxBwN,KAAI,SAAAnM,GAAA,IACArB,EAAYkT,EAAA9M,WAAA,EAAAmL,GAAgBlQ,IAAA,OACxBA,EAAK,GAAIrB,EAAA,QAAAuW,IAAA,OAAAnB,MAAA,eAAA/T,EAAA,KAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,aAAA6F,KAAA,UAMf1J,EAAI2D,KAAKmZ,MAAA9c,EAEXyiB,WAAA,GAAAziB,EACA2iB,OAAA,OAEE1iB,EAAO,EAAAD,EACTkhB,YAAY1T,KAAI,SAACrN,GAAA,IACdG,EAAQe,EAAKoN,MAAQtO,EAAQH,EAAEohB,WAAAphB,EACjC2iB,OAAOjW,KAAKpM,GAAAN,EACZyiB,WAAW/V,KAAKzM,GAAAA,GACVK,CAAA,OAAAiW,IAAA,kBAAAnB,MAAA,eAAAmB,IAAA,cAAAnB,MAAA,eAAA/T,EAAA,KAOLlB,EAAIwD,KAAKmZ,MAAA,KACR3D,UAAUI,iBAAiB,aAAa,SAACtZ,GAAA,IACzCK,EAAOe,EAAKgd,WAAW1X,IAAI,kBAAkBqb,MAC7C5hB,EAAMH,EAAEgmB,OAAA,GACT3lB,EAAK+S,SAASjT,GAAM,KAElBF,EAAII,EAAK+T,QAAQjU,GACjBG,EAAOP,EAAUqB,EAAK8X,WAAYvY,EAAOZ,EAAUI,GAEnDC,EAAIO,EAAKiK,KAAOtK,EAAKsK,KAAOoC,SAAS7M,EAAI8P,aAAa,UAAU,EAChEzP,EAAIG,EAAK6J,IAAMlK,EAAKkK,IACpB/J,GAASW,EAAK6kB,iBAAmB7kB,EAAK6kB,gBAAgB1kB,OAAO,EAC9DH,EAAK6kB,gBAAgBhmB,GAAKmB,EAAKyb,MAAMnI,OAAOzU,IAAM,KACjDS,EAAWR,EAAE+gB,YAAYhhB,GAAGC,EAAEihB,WAAA/f,EAE7B2c,IAAImI,UAAU9lB,EAAGI,EAAA,CAAIO,KAAMN,EAAO0U,OAAiB,IAATzU,GAAciL,QAAQ,GAAK,MAAAvK,EACrE2c,IAAIoI,SAAA,SAAAjmB,CAAA,CAlFQ,CAAwB0gB,ICIxBwF,GAAA,SAAAhlB,GAAA,SAAAlB,EACRkB,EAAQrB,GAAAgW,GAAA,KAAA7V,GAAA,IAAAF,EAAAyX,GAAA,MAAAvX,EAAAsX,WAAAnK,OAAAgK,eAAAnX,IAAAuJ,KAAA,KACbrI,EAAQrB,IAAA,OAAAC,EACT+Q,KAAO,MAAA/Q,EACP+c,YAAc,EAAA/c,EACdoE,KAAO,EAAApE,EAEP+Y,QAAA/Y,CAAA,QAAAsX,GAAApX,EAAAkB,GAAAyV,GAAA3W,EAAA,EAAAoW,IAAA,YAAAnB,MAAA,SAGI/T,GAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,kBAAA6F,KAAA,KACOrI,GAAA,KACXilB,UAAY3iB,KAAK2iB,UAAUxG,KAAKnc,MAAAA,KAChC4iB,WAAa5iB,KAAK4iB,WAAWzG,KAAKnc,MAAAA,KAElC6iB,WAAanlB,EAAKmlB,YAAc,QAChCrK,OAAOsK,WAAaplB,EAAKolB,YAAc,OAEvCC,UAAYrlB,EAAKqlB,YAAA,CAAa,IAAAnQ,IAAA,OAAAnB,MAAA,eAAA/T,EAAA,KAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,aAAA6F,KAAA,UAK/B1J,EAAI2D,KAAKmZ,MAAA,KACRmH,OAAUtgB,KAAK+K,OAAS/K,KAAK8K,MAAQ9K,KAAK0d,OAAO7d,EAAIG,KAAK0d,OAAOvgB,EAAA,IAE9Db,EAAsB0D,KAAtBsgB,OAAQ3jB,EAAcqD,KAAd+iB,UAEVtmB,EAAuBJ,EAAE2mB,kBAAA,GAAA3mB,EAC7BoiB,aAAA,GAAApiB,EACA2mB,iBAAA,OACEzmB,EAAW,IAAMyD,KAAKwY,OAAOsK,WAAAzmB,EAC/BkhB,YAAY1T,KAAI,SAACrN,EAAOI,GAAA,IACnBK,EAAaV,EACbG,EAAmBF,EAAQH,EAAEohB,WlB+DZ,IkB9DjB3gB,EAAWJ,EAAkB,IAAM,EAAG,EACtCK,EAAYJ,GAAaD,EAAkBA,EAC3CM,EAAWT,GAAsBQ,EACjCF,EAAgB+B,EAAmB3B,EAAYX,GAC/C0B,EAAcY,EAAmB5B,EAAUV,GAE3C6C,EAAezB,EAAKgD,MAAQjE,EAAqBG,GAEnDe,OAAA,EAASR,OAAA,EACVO,EAAKgD,MAAA/C,EACIwB,EAAeA,EAAa8jB,cAAgBpmB,EAAAM,EAC9CgC,EAAeA,EAAa+jB,YAAcrmB,IAAAc,EAExCd,EAAAM,EACFa,GAAA,IAEJ2K,EACe,MAApBjM,Ed6DJ,SAA8BgB,EAAerB,EAAaG,EAAQF,GAAA,IAAQK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAU,EAAG9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAS,EAC1FhD,EAAyBC,EAAOqD,EAAInC,EAAcmC,EAAvCjD,EAA0CJ,EAAOW,EAAIO,EAAcP,EAC9EF,EAA6BT,EAAOqD,EAAIxD,EAAYwD,EAA3CnD,EAAyD,EAAXF,EAAOW,EAA7CL,EAAoDN,EAAOW,EAAId,EAAYc,EAAA,UACtFX,EAAOqD,EAAA,IAAKrD,EAAOW,EAAA,UAC1BZ,EAAA,IAAaK,EAAA,WACZN,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,YACpDM,EAAA,IAAWP,EAAA,YACVH,EAAA,IAAaG,EAAA,WACZJ,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,YACpDM,EAAA,IAAWH,EAAA,KcrERsC,CAAczB,EAAUR,EAAQO,EAAKggB,OAAQhgB,EAAK4iB,OAAQ3jB,EAAWG,GdmD5E,SAA+BY,EAAerB,EAAaG,EAAQF,GAAA,IAAQK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAU,EAAG9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAS,EAC3FhD,EAAyBC,EAAOqD,EAAInC,EAAcmC,EAAvCjD,EAA0CJ,EAAOW,EAAIO,EAAcP,EAC9EF,EAAqBT,EAAOqD,EAAIxD,EAAYwD,EAAnCnD,EAAsCF,EAAOW,EAAId,EAAYc,EAAA,UAChEX,EAAOqD,EAAA,IAAKrD,EAAOW,EAAA,UAC1BZ,EAAA,IAAaK,EAAA,WACZN,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,YACpDM,EAAA,IAAWP,EAAA,KcxDRymB,CAAexlB,EAAUR,EAAQO,EAAKggB,OAAQhgB,EAAK4iB,OAAQ3jB,EAAWG,GAAAT,EAExEoiB,aAAa1V,KAAKJ,GAAAtM,EAClB2mB,iBAAiBja,KAAA,CAAAka,cAAApmB,EAAAqmB,YAAAllB,EAAAyT,MAGXjV,EAAA4mB,MACA/mB,EAAEohB,WAAAqF,WAAA7lB,EAAAomB,SAAArmB,EAAAiM,MAGFlM,GAAA,SAIJ2D,KAAO,KAAAkS,IAAA,kBAAAnB,MAAA,eAIR/T,EAAIsC,KAAKmZ,MAET9c,EAAA,EAEF,eAEA,kBAAAoiB,aAEgB/gB,EAAE+gB,aAAAzJ,OACRhV,KAAKgV,OAAA,EAEbmH,KAAKnc,QAAAA,KAIJ0a,WAAa,IAAIgB,IAAIrf,EACxBwN,KAAI,SAAAnM,GAAA,IACArB,EAAYkT,EAAA9M,WAAA,EAAAmL,GAAgBlQ,IAAA,OACxBA,EAAK,GAAIrB,EAAA,QAAAuW,IAAA,sBAAAnB,MAAA,SAIA/T,GAAA,IACbrB,EAAqB2D,KAArBsgB,OAAO9jB,EAAcwD,KAAd6iB,WACPvmB,EAAWsC,EAAmBlB,EAASolB,WAAYplB,EAASuL,MAAQ,EAAG5M,GAAA,qBACtDC,EAASuD,EAAKrD,EAAA,MAAiBF,EAASa,EAAKX,EAAA,WAAAoW,IAAA,aAAAnB,MAAA,SAG1D/T,EAAKlB,EAAEF,EAAKK,GAAA,GAClBe,EAAA,KACEjB,EAAQuD,KAAKgV,OAAOxY,GAAA,GACvBF,EAAM,CAAAgR,EACE5P,EAAMsC,KAAKsjB,oBAAoBtjB,KAAKmZ,MAAM6J,iBAAiBxmB,KAAAkB,EAChEoM,MAAM5B,KAAO5D,EAAmB7H,EAAO,QACxCF,EAAQF,EAAU2D,KAAKob,KACvBxe,EAAID,EAAE4mB,MAAQhnB,EAAM2K,KAAO,GAC3BjK,EAAIN,EAAE6mB,MAAQjnB,EAAMuK,IAAM,GAC1BpK,GAASsD,KAAKyjB,kBAAoBzjB,KAAKyjB,iBAAiB5lB,OAAS,EAClEmC,KAAKyjB,iBAAiBjnB,GAAKwD,KAAKmZ,MAAMnI,OAAOxU,IAAM,KAClDM,GAAuC,IAA5BkD,KAAKmZ,MAAMoE,YAAY/gB,GAAWwD,KAAKmZ,MAAMsE,YAAYxV,QAAQ,QAC3EoS,IAAImI,UAAU5lB,EAAGK,EAAA,CAAII,KAAMX,EAAO+U,MAAO3U,EAAU,WACnDud,IAAIoI,SAAA,MAAAnV,EAEC5P,EAAK,2BACV2c,IAAI5E,UAAA/X,EACJoM,MAAM5B,KAAOzL,CAAA,KAAAmW,IAAA,cAAAnB,MAAA,gBAKd+D,UAAUI,iBAAiB,YAAa5V,KAAK2iB,WAAA,KAC7CnN,UAAUI,iBAAiB,aAAc5V,KAAK4iB,WAAA,IAAAhQ,IAAA,YAAAnB,MAAA,SAG1C/T,GAAA,IACHrB,EAASqB,EAAE4kB,OACb9lB,EAASwD,KAAK0a,WAAW1X,IAAI,aAAaqb,MAC1C/hB,EAAY0D,KAAK0jB,oBACjB/mB,EAAaqD,KAAK2jB,eAAA,GACnBnnB,EAAOkT,SAASrT,GAAS,KACvBI,EAAID,EAAOkU,QAAQrU,GAAA,KAClBunB,WAAWjnB,EAAYL,GAAA,GAAU,KACjCqnB,eAAiBtnB,EAAA,KACjBqnB,oBAAsBjnB,EAAA,KACtBmnB,WAAWvnB,EAAQI,GAAA,EAASiB,EAAA,WAE5BklB,YAAA,IAAAhQ,IAAA,aAAAnB,MAAA,gBAKDmS,WAAW5jB,KAAK2jB,eAAe3jB,KAAK0jB,qBAAA,EAAoB,KAAAlnB,CAAA,CA/I1C,CAAiB0gB,ICIjB2G,GAAA,SAAAnmB,GAAA,SAAArB,EACRqB,EAAQlB,GAAA6V,GAAA,KAAAhW,GAAA,IAAAC,EAAAyX,GAAA,MAAA1X,EAAAyX,WAAAnK,OAAAgK,eAAAtX,IAAA0J,KAAA,KACbrI,EAAQlB,IAAAF,EACT+Q,KAAO,UAAA/Q,EAEPwnB,WAAatnB,EAAQsnB,YAAc,OAEpCnnB,EAAA,CAAe,SAAU,UACzBF,EAAiBE,EAAY+S,SAASlT,EAAQunB,gBAC/CvnB,EAAQunB,eAAiB,gBAAAznB,EACvB0nB,oBAAsBrnB,EAAY+T,QAAQjU,GAAAH,EAE1C+Y,QAAA/Y,CAAA,QAAAsX,GAAAvX,EAAAqB,GAAAyV,GAAA9W,EAAA,EAAAuW,IAAA,cAAAnB,MAAA,SAGM/T,GAAA,IACPrB,EAAI2D,KAAK8Y,SAAA,KACRmL,gBAA8C,IAA5BvmB,EAAQumB,gBAAwB,EAAI,EAAA5nB,EAEzDyL,SAAShB,IAAM,GAAAzK,EACfyL,SAAST,OAAS,EAAAhL,EAClB0L,aAAe,GAAA1L,EACf6X,WA1Bc,GA0BYlF,GACzB/R,EAAeZ,GAAA,IAEdG,EAAIwD,KAAKqY,KACT/b,EAAU0D,KAAKikB,gBXrCY,GWqC0B,OACpD7J,iBA/BW,IA+BSzL,EAAgBnS,EAAE8U,MAAO9U,EAAE6U,KACjD/U,GAAuBI,EAAcL,EAAA,IAAAuW,IAAA,cAAAnB,MAAA,eAIpC/T,EAAUsC,KAAKikB,gBX3CY,GW2C0B,EACrD5nB,EAAY2D,KAAKmZ,MAAM+K,UAAYlkB,KAAKmZ,MAAM+K,UAAY,QACzDlJ,UAtCW,IAsCE3e,EAAYqB,GAC3BhB,EAAcsD,KAAK8Y,SAAA,IAAAlG,IAAA,cAAAnB,MAAA,eAGX/T,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAKS,KAAKqY,KAAA,GAClB3a,EAAK4T,OAAS5T,EAAK2T,KAAO3T,EAAK4T,MAAQ5T,EAAK2T,IAAA,MACxC,IAAI4G,MAAM,kDAGbva,EAAK4T,QAAA5T,EACH4T,MAAQ,IAAIlR,KAAA1C,EACZ4T,MAAM6S,YAAazmB,EAAK4T,MAAM1Q,cAAgB,IAEhDlD,EAAK2T,MAAA3T,EAAY2T,IAAM,IAAIjR,MAAA1C,EAC1B0mB,WAAa1mB,EAAK0mB,YAAA,GAEpB9a,SAASK,OAAOC,KAAKlM,EAAK0mB,YAAY,IAAM,IAAQ,KAClD/nB,EAAA,GAAAsN,OACGC,KAAKlM,EAAK0mB,YAAYnf,SAAQ,SAAAzI,GAAA,IAChCF,EAAO,IAAI8D,KAAK5D,EAAesS,IAAAzS,EAC5BoS,EAAYnS,IAASoB,EAAK0mB,WAAW5nB,EAAA,IAAAkB,EAExC0mB,WAAa/nB,CAAA,QAGZqB,CAAA,IAAAkV,IAAA,OAAAnB,MAAA,eAIH/T,EAAIsC,KAAKmZ,MAAAzb,EAEX4T,MAAQ5C,EAAM1O,KAAKqY,KAAK/G,OAAA5T,EACxB2T,IAAM3C,EAAM1O,KAAKqY,KAAKhH,KAAA3T,EAEtB2mB,eAAiB3V,EAAMhR,EAAE4T,OAAA5T,EACzBwmB,UAAYvV,EAAgBjR,EAAE4T,MAAO5T,EAAE2T,KAAA3T,EACvC4mB,aTwIJ,SAAiC5mB,EAAQrB,GAAA,IASpC,IALAG,EAAe2B,KAAKmS,IAAA7N,MAAAtE,KAAAyP,GAAOlQ,IAE3BpB,EAAmB,GAAKD,EAAmB,GAC3CM,EAAA,GAEIF,EAAI,EAAGA,EAAIJ,EAAkBI,IAAK,KACrCF,EAAaC,GAAgBF,EAAmBG,GAAAE,EACvCoM,KAAKxM,EAAA,QAGZI,CAAA,CStJW4nB,CAChB5a,OAAOqD,OAAOhN,KAAKqY,KAAK+L,YnBJc,GAAA1mB,EmBMrC8mB,cAAgBxkB,KAAKykB,YAAA,IAAA7R,IAAA,kBAAAnB,MAAA,eAAA/T,EAAA,KAInBrB,EAAI2D,KAAKmZ,MACT3c,EAAUwD,KAAKikB,gBAAkB,EAAI,EAErC3nB,EAAmBD,EAAEmoB,cAAc3a,KAAI,SAACvN,EAAQK,GAAA,OACnD,cAAAkZ,MAEQvZ,EAAOuZ,MAAAsK,SAvFA,GAAAC,UAAA,GAAAC,WnByEiB,GAAAC,OmBkBvB5iB,EAAKwa,aAAaoI,QAAU,EAAAC,WA3FtB,GA4FFlkB,EAAEmoB,cACZ/U,QAAO,SAAC/R,EAAQrB,GAAA,OAAMA,EAAIM,CAAA,IAC1BkN,KAAI,SAAAnM,GAAA,OAAUA,EAAO+iB,KAAK5iB,OAASrB,CAAA,IACnC4M,QAAO,SAAC1L,EAAGrB,GAAA,OAAMqB,EAAIrB,CAAA,GAAG,IAG3B,kBACQA,EAAEmoB,cAAc7nB,EAAA,EACtBwf,KAAKze,GAAA,IAAAsC,KAIH0a,WAAa,IAAIgB,IAAIpf,EACxBuN,KAAI,SAACnM,EAAMrB,GAAA,IACPG,EAAY+S,EAAA9M,WAAA,EAAAmL,GAAgBlQ,IAAA,OACxBA,EAAK,GAAK,IAAMrB,EAAGG,EAAA,SAIzBG,EAAI,EAAAqhB,GACQ/Y,SAAQ,SAAC5I,EAASG,GAAA,IAC7B,EAAG,EAAG,GAAGkT,SAASlT,GAAI,KACrBF,EAAU2O,EAAS,kBAAkB,EAActO,EAAGN,EAAA,CAAA6O,SnBzC3B,GAAAE,GmB4CzB,EAAAE,WACQ,QAAA5N,EAGTid,SAASnR,YAAYlN,EAAA,CAAAK,GAzHZ,SAAAiW,IAAA,SAAAnB,MAAA,SA+HV/T,GACFA,GAAA+b,QACKkC,MAAM,2BAGVtD,KAAOrY,KAAKoY,YAAY1a,GAAA,KACxBkc,OAAA,KACAU,aAAA,IAAA1H,IAAA,cAAAnB,MAAA,eAAA/T,EAAA,UAIA8X,UAAUI,iBAAiB,aAAa,SAACvZ,GAAAqB,EACxCgd,WAAWzV,SAAQ,SAAAzI,GAAA,IACnBF,EAAaE,EAAK6hB,MAClB1hB,EAAYN,EAAEimB,OAAA,GACfhmB,EAAWoT,SAAS/S,GAAY,KAE9BF,EAAQE,EAAU4P,aAAa,cAC/BhQ,EAAYI,EAAU4P,aAAa,aAAahP,MAAM,KAEtDX,EAAQsS,EAAa5F,SAAS/M,EAAU,IAAI,GAAG,GAE/CU,EAAOS,EAAK8X,UAAU3O,wBAAyBnK,EAAOC,EAAUkK,wBAEhE/J,EAAQwM,SAASjN,EAAEimB,OAAO/V,aAAa,UACvCxP,EAAIL,EAAKwK,KAAOjK,EAAKiK,KAAOpK,EAAM,EAClCE,EAAIN,EAAKoK,IAAM7J,EAAK6J,IACpBlI,EAAQnC,EAAQ,IAAMiB,EAAKomB,WAC3BjnB,EAAO,OAASD,EAAQ,IAAML,EAAU,GAAK,KAAOA,EAAU,GAAAmB,EAE7D2c,IAAImI,UAAUzlB,EAAGC,EAAA,CAAIK,KAAMR,EAAM4U,MAAO7S,EAAOqX,WAAY,OAAAvY,EAC3D2c,IAAIoI,SAAA,WAAA7P,IAAA,eAAAnB,MAAA,eAAA/T,EAAA,UAOP8d,WAAWzR,YAAc,OAC1B1N,EAAI,EAEJG,EAASwD,KAAKkY,aAAaoI,QAAU,EAErChkB,EAAW2O,EAAS,iBAAkB5O,EA1K1B,GA0KgC,QAAA6O,SAEpC,GAAAE,GACN,IAAA/O,EAGD,QACAmf,WAAWhS,YAAYlN,GAAA,KAEvB0Y,OAAOtS,MAAM,EnB5GqB,GmB4GSmH,KAAI,SAACvN,EAAOK,GAAA,IACrDF,EAAS0H,EAAW,sBAAuB9H,EAAI,GAAkBM,EApLxD,GnByEiB,GmB4GPH,EAAQF,GAAAoB,EAC5B8d,WAAWhS,YAAY/M,EAAA,QAIzBE,EAAWsO,EAAS,iBADR5O,EAAI,GAA8C,EAzLlD,GA0LwC,QAAA6O,SAE5C,GAAAE,GACN,SAGDoQ,WAAWhS,YAAY7M,EAAA,IAAAiW,IAAA,aAAAnB,MAAA,eAaxB,IATA/T,EAAIsC,KAAKmZ,MAAA9c,EAAA,CACoBqB,EAAE4T,MAAMxQ,WAAYpD,EAAE4T,MAAM1Q,eAAtDpE,EAAAH,EAAA,GAAYC,EAAAD,EAAA,GAAAM,EAAA,CACUe,EAAE2T,IAAIvQ,WAAYpD,EAAE2T,IAAIzQ,eAE/CnE,EAAAE,EAAA,GAAyBH,EAAa,EAA6B,IAAAG,EAAA,GAAbL,GAExDC,EAAA,GAEAK,EAAe8R,EAAMhR,EAAE4T,OACnBrU,EAAI,EAAGA,EAAIR,EAAYQ,IAAK,KAC/BP,EAAUgB,EAAE2T,IAAA,IACZpC,EAAerS,EAAcc,EAAE2T,KAAM,KAAAvU,EAAA,CACnBF,EAAakE,WAAYlE,EAAagE,eAAAlE,EACjD0S,EAAAtS,EAAA,GAAAA,EAAA,IAAAP,EAEGwM,KAAK/I,KAAK0kB,gBAAgB9nB,EAAcF,IAAA2S,EAE9C3S,EAAS,GAAAE,EACFF,CAAA,QAGTH,CAAA,IAAAqW,IAAA,kBAAAnB,MAAA,SAGQ/T,GAAA,IAAWrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAQ,GAAA/C,EAAA,CACbkB,EAAUoD,WAAYpD,EAAUkD,eAAhDtE,EAAAE,EAAA,GAAOG,EAAAH,EAAA,GACRC,EAAcmS,EAAelR,GAG7BnB,EAAA,CAAAsZ,MACIvZ,EAAAmkB,KAAA,IAAApR,EAAAhT,EAHEqS,EAAMrS,IAAY+S,EAAmB9S,EAAOK,GAOrC,OAIb,IAHAC,EAAiB+R,EAAgBlS,EAAaJ,GAE9CY,EAAA,GAAWP,OAAA,EACPI,EAAI,EAAGA,EAAIF,EAAgBE,IAAAJ,EAC5BsD,KAAK2kB,OAAOloB,EAAaH,GAAAW,EAC1B8L,KAAKrM,GAAA2S,EAAA5S,EAEI,IAAI2D,KAAK1D,EAAIsS,GAAqB,GAAG0R,UAC9B,mBAGnBhkB,EAAIsS,GAAqB,GAAG2R,YAAAtR,EACtB5S,EAAa,GAAAQ,EAChB8L,KAAK/I,KAAK2kB,OAAOloB,EAAaH,GAAA,KAAOC,EAG9BkkB,KAAOxjB,EAEbV,CAAA,IAAAqW,IAAA,SAAAnB,MAAA,SAGD/T,EAAWrB,GAAA,IAOb,IAPoBG,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GACpBjD,EAAI0D,KAAKmZ,MAGTxc,EAAc+R,EAAMhR,GACpBjB,EAAA,GAEIF,EAAI,EAAGA,EAAIyS,GAAoBzS,IAAK8S,EAAQ1S,EAAa,GAAI,KAChEC,EAAA,GAGAK,EAAwBN,GAAeL,EAAEgV,OAAS3U,GAAeL,EAAE+U,IAEpE7U,GAASG,EAAYmE,aAAezE,IAAUY,EAAAL,EACzC8jB,SAAWjS,EAAY9R,GAAAC,EAErBoD,KAAK4kB,mBAAmBjoB,GAAAF,EAE9BsM,KAAKnM,EAAA,QAGHH,CAAA,IAAAmW,IAAA,qBAAAnB,MAAA,SAGW/T,GAAA,IACdrB,EAAWoS,EAAY/Q,GACvBlB,EAAYwD,KAAKqY,KAAK+L,WAAW/nB,GAAA,OAAAqkB,SAE1BrkB,EAAAskB,UACCnkB,GAAa,EAAA0L,KAClBlI,KAAKgV,OAAOlE,GAAiBtU,EAAWwD,KAAKmZ,MAAMmL,eAAA,KAAAjoB,CAAA,CAtRvC,CAAgB0b,ICFhB8M,GAAA,SAAAnnB,GAAA,SAAAlB,EACRkB,EAAQrB,GAAAgW,GAAA,KAAA7V,GAAA,IAAAF,EAAAyX,GAAA,MAAAvX,EAAAsX,WAAAnK,OAAAgK,eAAAnX,IAAAuJ,KAAA,KACbrI,EAAQrB,IAAA,OAAAC,EAET8lB,WAAa/lB,EAAK+lB,YAAA,GAAA9lB,EAClBwoB,YAAczoB,EAAKyoB,aAAA,GAAAxoB,EAEnB+Q,KAAOhR,EAAKgR,MAAQ,OAAA/Q,EACpBoE,KAAO,EAAApE,EAEP+Y,QAAA/Y,CAAA,QAAAsX,GAAApX,EAAAkB,GAAAyV,GAAA3W,EAAA,EAAAoW,IAAA,cAAAnB,MAAA,WAIFzR,KAAKqY,KAAKpH,SAASpT,QAAU,SAC1B2a,OAAOE,WAAa,OACpBI,SAAShR,SAAST,OAAS,OAAAuL,IAAA,YAAAnB,MAAA,SAIxB/T,GAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,kBAAA6F,KAAA,KACOrI,GAAAA,EAERqnB,YAAcrnB,EAAQqnB,aAAA,GAAArnB,EACtB0f,eAAiB1f,EAAQ0f,gBAAA,QAE5B5E,OAAOwM,UAAYtnB,EAAQqnB,YAAYC,WAAa,YACpDxM,OAAOyM,UAAYvnB,EAAQqnB,YAAYE,WAAa,YACpDzM,OAAO0M,UAAYxnB,EAAQqnB,YAAYG,WAAa,OACpD1M,OAAO2M,oBAAsBznB,EAAQqnB,YAAYI,qBAAuB,OAExE3M,OAAO4M,eAAiB1nB,EAAQ0f,eAAegI,eAAA,KAC/C5M,OAAO2E,eAAiBzf,EAAQ0f,eAAeD,eAAA,KAE/C3E,OAAOwJ,iBAAmBtkB,EAAQskB,gBAAA,IAAApP,IAAA,cAAAnB,MAAA,kBAIhCV,GAAAxR,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GADSS,KAAKqY,KACCrY,KAAKqN,KAAA,IAAAuF,IAAA,mBAAAnB,MAAA,kBAIpBF,GAAAhS,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GADcS,KAAKqY,KAAA,IAAAzF,IAAA,OAAAnB,MAAA,eAItB/T,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,QACC8lB,iBACD3nB,GAAA,KACE4nB,oBAAoBtlB,KAAKulB,gBAA+B,SAAdvlB,KAAKqN,MAAA,KAEhDmY,iBAAA,IAAA5S,IAAA,iBAAAnB,MAAA,eAID/T,EAAIsC,KAAKmZ,MACT9c,EAAS2D,KAAKqY,KAAKrH,OAAAtT,EACrB+nB,cAAgBppB,EAAOwB,OAAAH,EAEvBgoB,UAAY1lB,KAAK8K,MAAOpN,EAAE+nB,cAAA/nB,EAE1BioB,QAAUjoB,EAAEgoB,UAAU,EAAAhoB,EAMtB8hB,MAAA,CAAAxO,OACO3U,EAAA+iB,UACG/iB,EAAOwN,KAAI,SAACxN,EAAGG,GAAA,OACzBM,EAASY,EAAEioB,QAAUnpB,EAAIkB,EAAEgoB,UAAA,QAAA9S,IAAA,sBAAAnB,MAAA,SAKV/T,GAAA,IACbrB,EAAO+T,GAAmB1S,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GADa,SAEvC/C,EAAkBwD,KAAK+K,OAAS4F,GAActU,GAC9CC,EAAiBmU,GAAgBpU,GAAQG,EACzCG,EAAWqD,KAAK+K,OAAUyF,GAAanU,GAAQC,EAAA,KAEhD6c,MAAMgG,MAAA,CAAAnO,OACF3U,EAAA+iB,UACG/iB,EAAKwN,KAAI,SAAAnM,GAAA,OAAKf,EAAWe,EAAIlB,CAAA,IAAAqU,gBACvBrU,EAAA0P,SACPvP,GAAA,KAINipB,oBAAA,KACAC,gBAAA,KACAC,cAAA,IAAAlT,IAAA,oBAAAnB,MAAA,eAID/T,EAAIsC,KAAKmZ,MACT9c,EAAW,SAAAA,GAAA,OAAUA,EAAOwN,KAAI,SAAAxN,GAAA,OAAOuU,GAAMvU,EAAKqB,EAAEyhB,MAAA,KAAAzhB,EAEtDuT,SAAWjR,KAAKqY,KAAKpH,SAASpH,KAAI,SAACnM,EAAGlB,GAAA,IACnCF,EAASoB,EAAEsP,OACXrQ,EAAee,EAAEqoB,cAAA,UAAA1oB,KAEdK,EAAEL,MAAQK,EAAEL,KAAK6B,QAAQ,UAAU,SAACxB,GAAA,MAAiB,KAARA,EAAc,QAAkB,KAARA,EAAc,OAAS,UAAAmY,MAC3FrZ,EAAA0U,UACIxT,EAAEwT,UAAAlE,OAEL1Q,EAAAykB,WACI1kB,EAASC,GAAAypB,aAEPppB,EAAAqpB,eACE3pB,EAASM,GAAA,OAAAiW,IAAA,gBAAAnB,MAAA,eAMvB/T,EAAIsC,KAAKmZ,MACVnZ,KAAKoiB,WAAW6D,QAAAvoB,EAChBwoB,UAAYxoB,EAAEuT,SAASvT,EAAEuT,SAASpT,OAAS,GAAGmoB,gBAAAtoB,EAG/CwoB,UAAY,IAAIpoB,MAAMJ,EAAE+nB,eAAevd,KAAK,MAAAxK,EAC5CuT,SAASpH,KAAI,SAAAxN,GAAAA,EACZ0kB,WAAWlX,KAAI,SAACxN,EAAKG,GACnBH,EAAMqB,EAAEwoB,UAAU1pB,KAAAkB,EAClBwoB,UAAU1pB,GAAKH,EAAA,WAAAuW,IAAA,eAAAnB,MAAA,eAOhB/T,EAAIsC,KAAKmZ,MACVnZ,KAAKqY,KAAK7G,WAAA,KACP2H,MAAM3H,SAAWxR,KAAKqY,KAAK7G,SAAS3H,KAAI,SAAAxN,GAAA,OAAAA,EAC1CwjB,SAAWjP,GAAMvU,EAAEoV,MAAO/T,EAAEyhB,OAC1B9iB,EAAE+c,UAAS/c,EAAE+c,QAAA,IAIV/c,CAAA,KAGN2D,KAAKqY,KAAKjH,WAAA,KACP+H,MAAM/H,SAAWpR,KAAKqY,KAAKjH,SAASvH,KAAI,SAAAxN,GAAA,OAAAA,EAC1C0jB,SAAWnP,GAAMvU,EAAEiV,MAAO5T,EAAEyhB,OAAA9iB,EAC5B2jB,OAASpP,GAAMvU,EAAEgV,IAAK3T,EAAEyhB,OACtB9iB,EAAE+c,UAAS/c,EAAE+c,QAAA,IACV/c,CAAA,QAAAuW,IAAA,gBAAAnB,MAAA,eAAA/T,EAAArB,EAAA,KAMLG,EAAM,YAEPwD,KAAKoiB,WAAW6D,QAAS,CAAAzpB,EACrB,mBACFF,EAAa,IAAIwB,MAAMkC,KAAKmZ,MAAMsM,eAAevd,KAAK,QACrDmQ,KAAKpH,SAASpH,KAAI,SAACnM,EAAGf,GAAA,IACtBF,EAASJ,EAAKgc,KAAKpH,SAAStU,GAAGqQ,OAAAtP,EACjClB,GAAOF,EAAaA,EAAWuN,KAAI,SAACnM,EAAGrB,GAAA,OAAMqB,EAAIjB,EAAOJ,EAAA,WAIxDM,EAAgBqD,KAAKqY,KAAKpH,SAASpH,KAAI,SAAAnM,GAAA,OAAKA,EAAElB,EAAA,WAC/CwD,KAAKqY,KAAK7G,UAAA7U,EACEoM,KAAK/I,KAAKqY,KAAK7G,SAAS3H,KAAI,SAAAnM,GAAA,OAAKA,EAAE+T,KAAA,KAE/CzR,KAAKqY,KAAKjH,UAAA,KACPiH,KAAKjH,SAASvH,KAAI,SAAAnM,GAAAf,EACRoM,KAAA,CAAMrL,EAAE2T,IAAK3T,EAAE4T,OAAA,KAAA5T,EAAA,IAIrByK,OAAA1F,MAAA/E,EAAAkQ,GAAUjR,GAAA,IAAAiW,IAAA,kBAAAnB,MAAA,eAAA/T,EAAA,KAIhBrB,EAAA,EAEF,SAAAijB,KAEOtf,KAAKwY,OAAOyM,UAAAna,MACX9K,KAAK8K,MAAAe,eACI7L,KAAKwY,OAAO2M,qBAG7B,kBACQnlB,KAAKmZ,MAAMgG,KAAA,EACjBhD,KAAKnc,OAAA,CAIP,SAAAsf,KAEOtf,KAAKwY,OAAOwM,UAAAja,OACV/K,KAAK+K,QAGd,eACKrN,EAAIsC,KAAKmZ,MAAA,OAAAzb,EACX8hB,MAAME,WTpHb,SAAmChiB,GAAA,IAAYrB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,MAAW/C,IAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,KAAAA,UAAA,GACrDjD,EAAeoB,EAAarB,EAAOwB,OACpCvB,GAAgB,IAAGA,EAAe,OACjCK,EAAiBL,EAAe+X,GAEhC5X,OAAA,KACDD,EAAU,KAERD,EAAiB4B,KAAKmS,IAAA7N,MAAAtE,KAAAyP,GAAOvR,EAAOwN,KAAI,SAAAnM,GAAA,OAASA,EAAMG,MAAA,MAAApB,EAC1C0B,KAAKQ,KAAKpC,EAAeI,EAAA,QAG1BN,EAAOwN,KAAI,SAACnM,EAAOrB,GAAA,OAAAqB,GAC1B,IACAG,OAASlB,IAEbH,EAOAH,EAAII,GAAmB,IAAAiB,EACjB,IAAAA,EAPNf,EAAe,EAAI,EACbe,EAAMgF,MAAM,EAAG/F,EAAe,GAAK,OAEnCe,EAAMgF,MAAM,EAAG/F,GAAkB,MAQrCe,CAAA,ISwFiByoB,CAAmBnmB,KAAK8K,MAC5CpN,EAAE8hB,MAAMxO,OAAQhR,KAAKwY,OAAO0M,WAEtBxnB,EAAE8hB,KAAA,EACRrD,KAAKnc,OAAA,CAIP,YAAA8K,MAEQ9K,KAAK8K,MAAAuU,IACP,SAEN,kBACQrf,KAAKmZ,MAAM/H,QAAA,EACjB+K,KAAKnc,QAILxD,EAAcwD,KAAKmZ,MAAMlI,SAASxB,QAAO,SAAA/R,GAAA,MAAqB,QAAhBA,EAAEwT,SAAA,IAChD5U,EAAe0D,KAAKmZ,MAAMlI,SAASxB,QAAO,SAAA/R,GAAA,MAAqB,SAAhBA,EAAEwT,SAAA,IAEjDvU,EAAcH,EAAYqN,KAAI,SAAAxN,GAAA,IAC7BC,EAAQD,EAAEwZ,MAAA,OAEb,YAAmBxZ,EAAEwZ,MAAA,CAAAA,MAEbvZ,EAAA6kB,MACAzjB,EAAKsX,OAAO1Y,GAAA2pB,QACVvoB,EAAK0kB,WAAW6D,QAAAjE,iBAGPtkB,EAAK8a,OAAOwJ,iBAAAhB,UpB9KG,EoB+KtBtjB,EAAKqN,QAEjB,eACKrN,EAAIsC,KAAKmZ,MACT9c,EAAIqB,EAAEuT,SAAS3U,GACfK,EAAUqD,KAAKoiB,WAAW6D,QAE1BxpB,EAAauD,KAAKoiB,WAAWgE,YpBvLD,GoBwL5B7pB,EAAYmB,EAAEgoB,WAAa,EAAIjpB,GAC/BG,EAAWL,GAAWI,EAAU,EAAIH,EAAYqB,QAEhDZ,EAAaS,EAAE8hB,MAAMJ,UAAUvV,KAAI,SAAAnM,GAAA,OAAKA,EAAInB,EAAU,KACtDI,IAAAM,EACUA,EAAW4M,KAAI,SAAAnM,GAAA,OAAKA,EAAId,EAAWN,CAAA,SAG7CI,EAAS,IAAIoB,MAAMJ,EAAE+nB,eAAevd,KAAK,IAC1ClI,KAAKwY,OAAOwJ,mBAAAtlB,EACXC,GAAWN,EAAEwZ,QAAUnY,EAAEuT,SAASpT,OAAS,EACpCxB,EAAE0pB,aAEF1pB,EAAE2Q,QAAA,IAITlQ,EAAU,IAAIgB,MAAMJ,EAAE+nB,eAAevd,KAAK,UAC3CvL,IAAAG,EACQT,EAAE0kB,WAAWlX,KAAI,SAACnM,EAAGlB,GAAA,OAAMkB,EAAIrB,EAAE2pB,eAAexpB,EAAA,MAAAsiB,WAI9C7hB,EAAA8jB,WACA1kB,EAAE0kB,WAAAK,QACLtkB,EAAAkU,OAEDtU,EAAAwP,SAEExO,EAAEyhB,MAAMjT,SAAAmV,UACP9kB,EAAA2kB,SACDtkB,EAAA,EAEVuf,KAAKze,GAAA,IAILjB,EAAcH,EAAauN,KAAI,SAAAxN,GAAA,IAC9BG,EAAQH,EAAEwZ,MAAA,OAEb,aAAoBxZ,EAAEwZ,MAAA,CAAAA,MAEdrZ,EAAA2kB,MACAzjB,EAAKsX,OAAOxY,GAAA8e,QACV5d,EAAK4d,QAAAoG,SACJhkB,EAAKonB,YAAYpD,SAAAE,WACflkB,EAAKonB,YAAYlD,WAAAH,OACrB/jB,EAAKonB,YAAYrD,OAAAK,SACfpkB,EAAKonB,YAAYhD,SAAAN,SACjB9jB,EAAKonB,YAAYtD,SAAAQ,iBAGTtkB,EAAK8a,OAAOwJ,kBAE/B,eACKtkB,EAAIsC,KAAKmZ,MACT9c,EAAIqB,EAAEuT,SAASzU,GACfF,EAAUoB,EAAEyhB,MAAMC,UAAU,GAAK1hB,EAAEyhB,MAAMjT,SAC1CxO,EAAEyhB,MAAMC,UAAU,GAAK1hB,EAAEyhB,MAAMjT,SAAA,OAAA4S,WAGrBphB,EAAE8hB,MAAMJ,UAAA2B,WACR1kB,EAAE0kB,WAAA/T,OAEN3Q,EAAE2Q,OAAAd,SAEA5P,EAAAgkB,OACFtgB,KAAK8kB,YAAYuB,SpBxPI,IoB0P7BlK,KAAKze,GAAA,IAILnB,EAAA,EAEF,YAAAuO,MAEQ9K,KAAK8K,MAAAuU,IACP,SAEN,kBACQrf,KAAKmZ,MAAM3H,QAAA,EACjB2K,KAAKnc,QAAA3D,EAIUA,EAAiB8L,OAAOxL,EAAaF,EAAaF,GAAA,IAEjEK,EAAA,CAAa,WAAY,iBACxB0pB,mBAAA,QAEA5L,WAAa,IAAIgB,IAAIrf,EACxBoT,QAAO,SAAApT,GAAA,OAASO,EAAU8S,SAASrT,EAAK,KAAOqB,EAAKyb,MAAM9c,EAAK,OAC/DwN,KAAI,SAAAxN,GAAA,IACAG,EAAY+S,EAAA9M,WAAA,EAAAmL,GAAgBvR,IAAA,OAC7BA,EAAK,GAAGqT,SAAS,cAAgBrT,EAAK,GAAGqT,SAAS,cAAAhS,EAC/C4oB,mBAAmBvd,KAAKvM,GAAA,CAEtBH,EAAK,GAAIG,EAAA,QAAAoW,IAAA,kBAAAnB,MAAA,eAAA/T,EAAA,UAKd6oB,YAAA,OAEDlqB,EAAI2D,KAAKmZ,MACT3c,EAAUwD,KAAKwY,OAAO4M,eACtB9oB,EAAU0D,KAAKwY,OAAO2E,eACb9gB,EAAEmjB,MAAMxO,OAEdnH,KAAI,SAAClN,EAAOF,GAAA,IACdF,EAASmB,EAAKyb,MAAMlI,SAASpH,KAAI,SAACxN,EAAKG,GAAA,IACtCG,EAAQN,EAAI2Q,OAAOvQ,GAAA,OAAAiZ,MAEfrZ,EAAIgB,KAAAoU,MACJ9U,EAAA6pB,KACDnqB,EAAI0kB,WAAWtkB,GAAA0kB,MACdzjB,EAAKsX,OAAOxY,GAAAsZ,UACRxZ,EAAUA,EAAQK,GAASA,EAAA,IAAAe,EAInC6oB,YAAY9pB,GAAA,CAAAiV,MACT/U,EAAA8pB,eACSjqB,EAAUA,EAAQG,GAASA,EAAA+pB,KACrCrqB,EAAEmjB,MAAMJ,UAAU3iB,GAAAuQ,OAChBzQ,EAAAoqB,SACEtqB,EAAE6pB,UAAUzpB,GAAA,OAAAmW,IAAA,cAAAnB,MAAA,eAAA/T,EAAA,UAOnB8X,UAAUI,iBAAiB,aAAa,SAACpZ,GAAA,IACzCF,EAAIoB,EAAKob,SACTnc,EAAIN,EAAUqB,EAAK8X,WACnB/Y,EAAOD,EAAE+mB,MAAQ5mB,EAAEuK,KAAOtK,EAAcN,GACxCW,EAAOT,EAAEgnB,MAAQ7mB,EAAEmK,IAEpB7J,EAAOS,EAAKqN,OAASxO,EAAaD,IACjCW,EAAQV,EAAaD,GAAAoB,EACnBkpB,oBAAoBnqB,GAAAiB,EAEpB2c,IAAI5E,SAAA,OAAA7C,IAAA,sBAAAnB,MAAA,SAKQ/T,GAAA,IACfrB,EAAI2D,KAAKmZ,MAAA,GACT9c,EAAE6pB,UAAA,KAEF1pB,EVnMN,SAAkCkB,EAAMrB,GAAA,IAAKG,EAAA+C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GACxCjD,EAAUD,EAAI+M,QAAO,SAAS/M,EAAMG,GAAA,OAC/B2B,KAAKC,IAAI5B,EAAOkB,GAAQS,KAAKC,IAAI/B,EAAOqB,GAAQlB,EAAOH,CAAA,cAGzDG,EAAQH,EAAIqU,QAAQpU,GAAWA,CAAA,CU8LzBuqB,CAAkBnpB,EAAMrB,EAAEmjB,MAAMJ,WAAA,GAAW,GACnD5iB,GAAS,EAAG,KACXF,EAAM0D,KAAKumB,YAAY/pB,GAAA,KAEtB6d,IAAImI,UACRlmB,EAAIoqB,KAAO1mB,KAAKqa,IAAI9P,OAAO1K,EAC3BvD,EAAIqqB,SAAW3mB,KAAKqa,IAAI9P,OAAOpN,EAAA,CAC9BE,KAAMf,EAAImqB,eAAgBhV,MAAO,IAClCnV,EAAI0Q,OACJxQ,GAAA,KAGI6d,IAAIoI,SAAA,MAAA7P,IAAA,eAAAnB,MAAA,eAAA/T,EAAA,KAKNrB,EAAI2D,KAAKqY,KACVhc,EAAE4U,SAASpT,OAAS,SACjB2d,WAAWzR,YAAc,GAAA1N,EAC5B4U,SAASpH,KAAI,SAACxN,EAAGG,GAAA,IAIdF,EhB5NR,SAA0BoB,EAAGrB,EAAGG,GAAA,IAAMF,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAK,OAAQ5C,EAAA4C,UAAA,GAAA5C,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,IAAAA,UAAA,GAC/BoJ,EAAehM,EAAOsa,IAAmBta,EAAA,IAExDF,EAAA,CAAAgO,UACQ,aAAA5K,EACR,EAAA1C,EACA,EAAA2N,MACItO,EAAAuO,OACC,MAAA7C,KACF5L,GAEHC,EAAOkJ,EAAU,QAAAgF,UACT,sBAAA5K,EACR,EAAA1C,EACA,EAAAiO,GACc,EAAZD,GAAiB,iBACI,IAAZA,GAAmB,mBAClB,QAAAjD,KACTmD,GAAAE,UACK5O,IAGRC,EAAQ6I,EAAU,KAAAiF,UAAA,aACGhN,EAAA,KAAMrB,EAAA,aAAAO,EAEzB4M,YAAY/D,EAAU,OAAQhJ,IAAAG,EAC9B4M,YAAYjN,GAEXK,CAAA,CgBgMOkqB,CpB3WqB,IoB6WpBtqB,EACX,IpB9W+B,IoBgX/BkB,EAAKsX,OAAOxY,GACZH,EAAEgB,KACFK,EAAK8a,OAAOK,iBAAAnb,EACR8d,WAAWhS,YAAYlN,EAAA,QAAAsW,IAAA,cAAAnB,MAAA,eAAA/T,EAAA,KAS3BsC,KAAKU,KAAA,KACFA,KAAO,GAGVV,KAAK+mB,eAAA,KACFA,cAAc9hB,SAAQ,SAAAvH,GAAA,IACtBrB,EAAIqB,EAAEspB,QAAA3qB,EACRoN,WAAWsE,YAAY1R,EAAA,SAItB0qB,cAAgB/mB,KAAKsmB,mBAAmBzc,KAAI,SAAAnM,GAAA,OAAA2P,KAEzC3P,EAAEmjB,SAAAmG,aAAA,EACClG,MACFpjB,EAAEojB,MAAA,aAIR9gB,KAAKmZ,MAAM8N,eAAA,KACR9N,MAAM8N,aAAejnB,KAAKmZ,MAAMsM,cAAgB,QAIjDsB,cAAcld,KAAI,SAAAxN,GAAA,IAClBG,EAAcH,EAAEykB,MAAMpjB,EAAKyb,MAAM8N,cAAA5qB,EAEnC2qB,QAAU9P,GAAY7a,EAAEgR,MAAM7Q,GAAAkB,EAC3Bid,SAASnR,YAAYnN,EAAE2qB,QAAA,QAAApU,IAAA,sBAAAnB,MAAA,WAK1BzR,KAAK+mB,eAAA,KACFA,cAAc9hB,SAAQ,SAAAvH,GAAA,IACtBrB,EAAIqB,EAAEspB,QAAA3qB,EACRoN,WAAWsE,YAAY1R,EAAA,OAAAuW,IAAA,cAAAnB,MAAA,eAAA/T,EAAA,UAMtBqX,OAAOa,iBAAiB,eAAe,WAAAlY,EACtCwpB,eAAA,OAAAtU,IAAA,YAAAnB,MAAA,eAAA/T,EAAA,UAKD4oB,mBAAmBzc,KAAI,SAAAxN,GAAAA,EACzBykB,MAAMjX,KAAI,SAAAxN,GAAAA,EACNuZ,iBAAiB,SAAS,eAC1BpZ,EAAQH,EAAKkQ,aAAa,oBAAA7O,EACzBypB,oBAAoB3qB,EAAA,eAMvB6d,IAAI7E,UAAUI,iBAAiB,SAAS,eACxCvZ,EAAQqB,EAAK2c,IAAI7E,UAAUjJ,aAAa,oBAAA7O,EACvCypB,oBAAoB9qB,EAAA,OAAAuW,IAAA,gBAAAnB,MAAA,eAAA/T,EAAA,UAKrBqpB,cAAcld,KAAI,SAAAxN,GAAA,IAClBG,EAAcH,EAAEykB,MAAMpjB,EAAKyb,MAAM8N,cAAA5P,GACvBhb,EAAEgR,MAAM7Q,EAAaH,EAAE2qB,QAAA,OAAApU,IAAA,cAAAnB,MAAA,gBAKjC0V,oBAAoBnnB,KAAKmZ,MAAM8N,aAAe,MAAArU,IAAA,eAAAnB,MAAA,gBAI9C0V,oBAAoBnnB,KAAKmZ,MAAM8N,aAAe,MAAArU,IAAA,eAAAnB,MAAA,eAGvC/T,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAMS,KAAKmZ,MAAM8N,aACzB5qB,EAAI2D,KAAKmZ,MAAA,OAAAtD,MAELnY,EAAAgU,MACArV,EAAEmjB,MAAMxO,OAAOtT,GAAAsP,OACd3Q,EAAE4U,SAASpH,KAAI,SAAAxN,GAAA,OAAKA,EAAE2Q,OAAOtP,EAAA,QAAAkV,IAAA,sBAAAnB,MAAA,SAKnB/T,GAAA,IACfrB,EAAI2D,KAAKmZ,OAAAzb,EACL4L,SAAS5L,IACN,IAAGA,EAAQ,GACnBA,GAASrB,EAAEmjB,MAAMxO,OAAOnT,SAAQH,EAAQrB,EAAEmjB,MAAMxO,OAAOnT,OAAS,GAChEH,IAAUrB,EAAE4qB,eAAA5qB,EACb4qB,aAAevpB,ErBnbnB,SAAqBA,EAAQrB,EAAMG,GAAA,IAC9BF,EAAMqK,SAASygB,YAAY,cAEL,IAErB,IAAIzqB,KAJsBL,EAE3B+qB,UAAUhrB,GAAA,GAAM,GAENG,EAAAF,EACTK,GAAKH,EAAWG,GAGde,EAAO4pB,cAAchrB,EAAA,CqB0aVG,CACZuD,KAAK+U,OAAQ,cAAe/U,KAAKunB,gBAAA,IAAA3U,IAAA,eAAAnB,MAAA,SAM1B/T,EAAOrB,GAAA,IAAeC,EAAAiD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAMS,KAAKmZ,MAAMsM,cAAAjS,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,qBAAA6F,KAAA,KAChCrI,EAAOrB,EAAeC,GAAA,KACpC+b,KAAKrH,OAAOwW,OAAOlrB,EAAO,EAAGoB,GAAA,KAC7B2a,KAAKpH,SAASpH,KAAI,SAACnM,EAAGlB,GAAAkB,EACxBsP,OAAOwa,OAAOlrB,EAAO,EAAGD,EAAcG,GAAA,SAEpCqe,OAAO7a,KAAKqY,KAAA,IAAAzF,IAAA,kBAAAnB,MAAA,eAGF/T,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAQS,KAAKmZ,MAAMsM,cAAc,EAC5CzlB,KAAKqY,KAAKrH,OAAOnT,QAAU,IAAA2V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,wBAAA6F,KAAA,KAGTrI,GAAA,KACjB2a,KAAKrH,OAAOwW,OAAO9pB,EAAO,QAC1B2a,KAAKpH,SAASpH,KAAI,SAAAxN,GAAAA,EACpB2Q,OAAOwa,OAAO9pB,EAAO,WAEnBmd,OAAO7a,KAAKqY,MAAA,IAAAzF,IAAA,gBAAAnB,MAAA,SAGJ/T,GAAA,IAAerB,EAAAkD,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAM,OAC7B8Y,KAAKpH,SAAS5U,GAAO2Q,OAAStP,EAAA,KAC9Bmd,OAAO7a,KAAKqY,KAAA,IAAAzF,IAAA,iBAAAnB,MAAA,SAKH/T,GAAA,KACT2a,KAAKpH,SAASpH,KAAI,SAACxN,EAAGG,GACvBkB,EAASlB,KAAAH,EACT2Q,OAAStP,EAASlB,GAAA,SAGjBqe,OAAO7a,KAAKqY,KAAA,KAAA7b,CAAA,CA5jBE,CAAkBub,ICFlB0P,GAAA,SAAA/pB,GAAA,SAAAlB,EACRkB,EAAQrB,GAAAgW,GAAA,KAAA7V,GAAA,IAAAF,EAAAyX,GAAA,MAAAvX,EAAAsX,WAAAnK,OAAAgK,eAAAnX,IAAAuJ,KAAA,KACbrI,EAAQrB,IAAA,OAAAC,EACT+Q,KAAO,QAAA/Q,EACP+c,YAAc,EAAA/c,EACdoE,KAAO,EAAApE,EAEP+Y,QAAA/Y,CAAA,QAAAsX,GAAApX,EAAAkB,GAAAyV,GAAA3W,EAAA,EAAAoW,IAAA,YAAAnB,MAAA,SAGI/T,GAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,kBAAA6F,KAAA,KACOrI,GAAA,KACXilB,UAAY3iB,KAAK2iB,UAAUxG,KAAKnc,MAAAA,KAChC4iB,WAAa5iB,KAAK4iB,WAAWzG,KAAKnc,MAAAA,KAElC6iB,WAAanlB,EAAKmlB,YAAc,QAChCrK,OAAOsK,WAAaplB,EAAKolB,YAAc,OAEvCC,UAAYrlB,EAAKqlB,YAAA,EAAa,KAC9BrE,YAAchhB,EAAKghB,aAAe,MAAA9L,IAAA,OAAAnB,MAAA,eAAA/T,EAAA,KAAA8V,GAAAhX,EAAA0D,UAAA4T,WAAAnK,OAAAgK,eAAAnX,EAAA0D,WAAA,aAAA6F,KAAA,UAKnC1J,EAAI2D,KAAKmZ,MAAA,KACRmH,OACJtgB,KAAK+K,OAAS/K,KAAK8K,MAChB9K,KAAK0d,OAAO7d,EAAIG,KAAK0e,YAAc,EACnC1e,KAAK0d,OAAOvgB,EAAI6C,KAAK0e,YAAc,MAE/BpiB,EAAsB0D,KAAtBsgB,OAAQ3jB,EAAcqD,KAAd+iB,UAEVtmB,EAAuBJ,EAAE2mB,kBAAA,GAAA3mB,EAC7BoiB,aAAA,GAAApiB,EACA2mB,iBAAA,OACEzmB,EAAW,IAAMyD,KAAKwY,OAAOsK,WAAAzmB,EAE/BkhB,YAAY1T,KAAI,SAACrN,EAAOI,GAAA,IACnBK,EAAaV,EACbG,EAAmBF,EAAQH,EAAEohB,WrB0DZ,IqBzDjB3gB,EAAWJ,EAAkB,IAAM,EAAG,EACtCK,EAAYJ,GAAaD,EAAkBA,EAC3CM,EAAWT,GAAsBQ,EACjCF,EAAgB+B,EAAmB3B,EAAYX,GAC/C0B,EAAcY,EAAmB5B,EAAUV,GAE3C6C,EAAezB,EAAKgD,MAAQjE,EAAqBG,GAEnDe,OAAA,EAASR,OAAA,EACVO,EAAKgD,MAAA/C,EACIwB,EAAeA,EAAa8jB,cAAgBpmB,EAAAM,EAC9CgC,EAAeA,EAAa+jB,YAAcrmB,IAAAc,EAExCd,EAAAM,EACFa,GAAA,IAEJ2K,EACe,MAApBjM,EjB6EJ,SAAoCgB,EAAerB,EAAaG,EAAQF,GAAA,IAAQK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAU,EAAG9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAS,EAChGhD,EAAyBC,EAAOqD,EAAInC,EAAcmC,EAAvCjD,EAA0CJ,EAAOW,EAAIO,EAAcP,EAC9EF,EAA6BT,EAAOqD,EAAIxD,EAAYwD,EAA3CnD,EAAuD,EAATJ,EAAaM,EAAoC,UAElGL,EAAA,IAAaK,EAAA,WACnBN,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,YACpDM,EAAA,IAAWP,EAAA,UACVH,EAAA,IAAaG,EAAA,WACZJ,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,YACpDM,EAAA,KAPiFT,EAAOW,EAAIO,EAAcP,EAO/F,CiBrFRuqB,CAAoB/pB,EAAUR,EAAQO,EAAKggB,OAAQhgB,EAAK4iB,OAAQ5iB,EAAKqlB,UAAWjmB,GjBmEvF,SAAqCY,EAAerB,EAAaG,EAAQF,GAAA,IAAQK,EAAA4C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAU,EAAG9C,EAAA8C,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAS,EAE3B,WAD7C/C,EAAOqD,EAAInC,EAAcmC,GAG5C,KAH+CrD,EAAOW,EAAIO,EAAcP,GAG3D,WACnBb,EAAA,IAAUA,EAAA,MAAYG,EAAA,KAAYE,EAAY,EAAI,aAH7BH,EAAOqD,EAAIxD,EAAYwD,GAI9C,KAJiDrD,EAAOW,EAAId,EAAYc,EAI7D,CiBxERc,CAAqBN,EAAUR,EAAQO,EAAKggB,OAAQhgB,EAAK4iB,OAAQ5iB,EAAKqlB,UAAWjmB,GAAAT,EAEnFoiB,aAAa1V,KAAKJ,GAAAtM,EAClB2mB,iBAAiBja,KAAA,CAAAka,cAAApmB,EAAAqmB,YAAAllB,EAAAyT,MAGXjV,EAAA4mB,MACA/mB,EAAEohB,WAAAqF,WAAA7lB,EAAAomB,SAAArmB,EAAAiM,MAGFlM,GAAA,SAIJ2D,KAAO,KAAAkS,IAAA,kBAAAnB,MAAA,eAIR/T,EAAIsC,KAAKmZ,MAET9c,EAAA,EAEF,iBAEA,kBAAAoiB,aAEgB/gB,EAAE+gB,aAAAzJ,OACRhV,KAAKgV,OAAA0J,YACA1e,KAAK0e,YAAA,EAElBvC,KAAKnc,QAAAA,KAIJ0a,WAAa,IAAIgB,IAAIrf,EACxBwN,KAAI,SAAAnM,GAAA,IACArB,EAAYkT,EAAA9M,WAAA,EAAAmL,GAAgBlQ,IAAA,OACxBA,EAAK,GAAIrB,EAAA,QAAAuW,IAAA,sBAAAnB,MAAA,SAIA/T,GAAA,IACZrB,EAAuB2D,KAAvBsgB,OAAQ9jB,EAAewD,KAAf6iB,WACTvmB,EAAWsC,EAAmBlB,EAASolB,WAAYplB,EAASuL,MAAQ,EAAG5M,GAAA,qBACtDC,EAASuD,EAAKrD,EAAA,MAAiBF,EAASa,EAAKX,EAAA,WAAAoW,IAAA,aAAAnB,MAAA,SAG1D/T,EAAKlB,EAAEF,EAAKK,GAAA,GAClBe,EAAA,KACEjB,EAAQuD,KAAKgV,OAAOxY,GAAA,GACvBF,EAAM,CAAAgR,EACE5P,EAAMsC,KAAKsjB,oBAAoBtjB,KAAKmZ,MAAM6J,iBAAiBxmB,KAAAkB,EAChEoM,MAAMc,OAAStG,EAAmB7H,EAAO,QAC1CF,EAAQF,EAAU2D,KAAKob,KACvBxe,EAAID,EAAE4mB,MAAQhnB,EAAM2K,KAAO,GAC3BjK,EAAIN,EAAE6mB,MAAQjnB,EAAMuK,IAAM,GAC1BpK,GAASsD,KAAKyjB,kBAAoBzjB,KAAKyjB,iBAAiB5lB,OAAS,EAClEmC,KAAKyjB,iBAAiBjnB,GAAKwD,KAAKmZ,MAAMnI,OAAOxU,IAAM,KAClDM,GAAuC,IAA5BkD,KAAKmZ,MAAMoE,YAAY/gB,GAAWwD,KAAKmZ,MAAMsE,YAAYxV,QAAQ,QAC3EoS,IAAImI,UAAU5lB,EAAGK,EAAA,CAAII,KAAMX,EAAO+U,MAAO3U,EAAU,WACnDud,IAAIoI,SAAA,MAAAnV,EAEC5P,EAAK,2BACV2c,IAAI5E,UAAA/X,EACJoM,MAAMc,OAASnO,CAAA,KAAAmW,IAAA,cAAAnB,MAAA,gBAKhB+D,UAAUI,iBAAiB,YAAa5V,KAAK2iB,WAAA,KAC7CnN,UAAUI,iBAAiB,aAAc5V,KAAK4iB,WAAA,IAAAhQ,IAAA,YAAAnB,MAAA,SAG1C/T,GAAA,IACHrB,EAASqB,EAAE4kB,OACb9lB,EAASwD,KAAK0a,WAAW1X,IAAI,eAAeqb,MAC5C/hB,EAAY0D,KAAK0jB,oBACjB/mB,EAAaqD,KAAK2jB,eAAA,GACnBnnB,EAAOkT,SAASrT,GAAS,KACvBI,EAAID,EAAOkU,QAAQrU,GAAA,KAClBunB,WAAWjnB,EAAYL,GAAA,GAAU,KACjCqnB,eAAiBtnB,EAAA,KACjBqnB,oBAAsBjnB,EAAA,KACtBmnB,WAAWvnB,EAAQI,GAAA,EAASiB,EAAA,WAE5BklB,YAAA,IAAAhQ,IAAA,aAAAnB,MAAA,gBAKDmS,WAAW5jB,KAAK2jB,eAAe3jB,KAAK0jB,qBAAA,EAAoB,KAAAlnB,CAAA,CArJ1C,CAAmB0gB,ICAlCyK,GAAA,CAAAnT,IACAqQ,GAAApQ,KACCoQ,GAAAlQ,WAEMwN,GAAAvN,QACHiP,GAAAnP,IACJgO,GAAA7N,MACE4S,IAmBsCG,GAAAje,OAAAke,OAAA,CAAAC,MAD7C,SAAApqB,EAAYrB,EAAQG,GAAA,OAAA6V,GAAA,KAAA3U,GAfrB,WAAS,IAAeA,EAAA6B,UAAA1B,OAAA,YAAA0B,UAAA,GAAAA,UAAA,GAAY,OAAQlD,EAAAkD,UAAA,GAAQ/C,EAAA+C,UAAA,SACjC,eAAd7B,GAAAlB,EACK6Q,KAAO,OACR,IAAIwX,GAAUxoB,EAAQG,IAGzBmrB,GAAWjqB,GAKT,IAAIiqB,GAAWjqB,GAAWrB,EAAQG,QAAAid,QAJhCkC,MAAM,yBAA2Bje,EAAA,CASlCqqB,CAAevrB,EAAQ6Q,KAAMhR,EAAQG,EAAA,EAAAwrB,gBAAA7F,GAAA8F,SAAAvF,GAAAwF,QAAArE,GAAAsE,UAAAtD,KCjC1C,OAKalb,OAAOgG,OAAA,GALpB,CAEJyY,KAAiB,gBACjBA,QAAiB,SAE2BR,GAAA,C,KCNxCS,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAapsB,QAGrB,IAAID,EAASksB,EAAyBE,GAAY,CAGjDnsB,QAAS,CAAC,GAOX,OAHAssB,EAAoBH,GAAUxiB,KAAK5J,EAAOC,QAASD,EAAQA,EAAOC,QAASksB,GAGpEnsB,EAAOC,OACf,CCrBAksB,EAAoBhsB,EAAKH,IACxB,IAAIwsB,EAASxsB,GAAUA,EAAOysB,WAC7B,IAAOzsB,EAAiB,QACxB,IAAM,EAEP,OADAmsB,EAAoBtrB,EAAE2rB,EAAQ,CAAEhsB,EAAGgsB,IAC5BA,CAAM,ECLdL,EAAoBtrB,EAAI,CAACZ,EAASysB,KACjC,IAAI,IAAIjW,KAAOiW,EACXP,EAAoB1rB,EAAEisB,EAAYjW,KAAS0V,EAAoB1rB,EAAER,EAASwW,IAC5EjJ,OAAO4J,eAAenX,EAASwW,EAAK,CAAEQ,YAAY,EAAMpQ,IAAK6lB,EAAWjW,IAE1E,ECND0V,EAAoB1rB,EAAI,CAACksB,EAAKC,IAAUpf,OAAOzJ,UAAU8oB,eAAejjB,KAAK+iB,EAAKC,GCClFT,EAAoB/rB,EAAKH,IACH,oBAAX8V,QAA0BA,OAAO+W,aAC1Ctf,OAAO4J,eAAenX,EAAS8V,OAAO+W,YAAa,CAAExX,MAAO,WAE7D9H,OAAO4J,eAAenX,EAAS,aAAc,CAAEqV,OAAO,GAAO,E,mCCL9D,MAAM,EAA+ByX,OAAOC,IAAInmB,IAAI,OAAQ,a,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,iBCAtD,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,kC,aCA7C,SAASomB,EAAQN,GAG9B,OAAOM,EAAU,mBAAqBlX,QAAU,iBAAmBA,OAAOC,SAAW,SAAU2W,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAO,mBAAqB5W,QAAU4W,EAAI1W,cAAgBF,QAAU4W,IAAQ5W,OAAOhS,UAAY,gBAAkB4oB,CAC1H,EAAGM,EAAQN,EACb,CCPe,SAASO,EAAgBP,EAAKlW,EAAKnB,GAYhD,OAXAmB,ECAa,SAAwBC,GACrC,IAAID,ECFS,SAAsB0W,EAAOC,GAC1C,GAAuB,WAAnBH,EAAQE,IAAiC,OAAVA,EAAgB,OAAOA,EAC1D,IAAIE,EAAOF,EAAMpX,OAAOuX,aACxB,QAAahB,IAATe,EAAoB,CACtB,IAAIE,EAAMF,EAAKzjB,KAAKujB,EAAOC,GAC3B,GAAqB,WAAjBH,EAAQM,GAAmB,OAAOA,EACtC,MAAM,IAAIxW,UAAU,+CACtB,CACA,OAA4BtV,OAAiB0rB,EAC/C,CDPYG,CAAY5W,EAAK,UAC3B,MAAwB,WAAjBuW,EAAQxW,GAAoBA,EAAMhV,OAAOgV,EAClD,CDHQ+W,CAAc/W,MACTkW,EACTnf,OAAO4J,eAAeuV,EAAKlW,EAAK,CAC9BnB,MAAOA,EACP2B,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZwV,EAAIlW,GAAOnB,EAENqX,CACT,CGdA,MAAM,EAA+BI,OAAOC,IAAInmB,IAAI,OAAQ,oC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,sC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,0B,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,iC,aCM7C,MAAM4mB,UAA6B,KAChDxX,cACEyX,SAAStqB,WACT8pB,EAAgBrpB,KAAM,WAAY,CAAC,QAAS,cAAe,UAC3DqpB,EAAgBrpB,KAAM,oBAAgB,GACtCqpB,EAAgBrpB,KAAM,mBAAmB,EAC3C,CACA8pB,SAASC,GACPF,MAAMC,SAASC,GACf/pB,KAAKgqB,kBACP,CACAC,yBACEjqB,KAAKkqB,iBAAkB,EACvBvsB,EAAEwsB,SACF,MAAM9R,QAAa,YAAY,CAC7B+R,OAAQ,MACRC,IAAK,oBAAoB,UAAY,cACrCC,OAAQ,CACNC,OAAQ,cAGZvqB,KAAKwqB,aAAenS,EACpBrY,KAAKkqB,iBAAkB,EACvBvsB,EAAEwsB,QACJ,CACA1f,YACE,MAAO,yCACT,CACAggB,UACE,OAAO9sB,EAAE,MAAO,CACd8M,UAAW,0BACV9M,EAAE,KAAM,CACT8M,UAAW,0BACV,qBAAqB,oDAAqD9M,EAAE,MAAO,CACpF8M,UAAW,6BACV9M,EAAE,MAAO,CACV8M,UAAW,2BACV9M,EAAE,MAAO,CACV8M,UAAW,0BACV,qBAAqB,oDAAqDzK,KAAK0qB,SAAS7gB,KAAI8gB,IAC7F,MAAMC,EAAa5qB,KAAKkqB,gBAAkB,qBAAqB,8CAAgDlqB,KAAK6qB,cAAcF,GAClI,OAAOhtB,EAAE,MAAO,CACd8M,UAAW,2BACV9M,EAAE,KAAM,CACT8M,UAAW,4BACV,qBAAqB,sCAAwCkgB,EAAS,aAAchtB,EAAE,MAAO,CAC9F8M,UAAW,yBACXiL,MAAOkV,GACN5qB,KAAKkqB,gBAAkBvsB,EAAE,IAAkB,CAC5CmtB,QAAS,WACN,IAAiBF,IAAa,KAChCjtB,EAAE,MAAO,CACZ8M,UAAW,6BACV9M,EAAE,IAAM,CACTkf,KAAM,UAAU,YAAa,CAC3B3S,GAAI,uBAEL,qBAAqB,kDAC1B,CACA2gB,cAAcF,GACZ,OAAO3qB,KAAKwqB,aAAaG,EAC3B,EAEFzB,OAAOC,IAAIzqB,IAAI,oBAAqB,wCAAyCkrB,GCrE7E,MAAM,EAA+BV,OAAOC,IAAInmB,IAAI,OAAQ,kC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,oC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,4B,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,4B,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,iC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,0B,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,0B,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,yB,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,iC,aCA5D,MAAM,EAA+BkmB,OAAOC,IAAInmB,IAAI,OAAQ,+B,iDCQ5D,WAAa,KACE,MAAM+nB,UAA2C,KAC9D3Y,cACEyX,SAAStqB,WAET8pB,EAAgBrpB,KAAM,QAAS,CAC7BgrB,OAAQ,CACNC,aAAc,MAAQ7nB,OAAO,cAC7B8nB,WAAY,MAAQ9nB,OAAO,eAE7B+nB,IAAK,CACHC,UAAW,MACXC,QAAS,QAGf,CACAC,OAAOvB,GACLF,MAAMyB,OAAOvB,GACT/pB,KAAKurB,MAAM9Z,QACbzR,KAAKmZ,MAAM6R,OAAS,CAClBC,aAAc,QAAmC,IAAzBjrB,KAAKurB,MAAM9Z,MAAMH,OAAclO,OAAO,cAC9D8nB,WAAY,QAAiC,IAAvBlrB,KAAKurB,MAAM9Z,MAAMJ,KAAYjO,OAAO,eAGhE,CACAqH,YACE,MAAO,iDACT,CACAiL,QACE,OAAO,qBAAqB,qDAC9B,CACA+U,UACE,OAAO9sB,EAAE,MAAO,CACd8M,UAAW,cACVzK,KAAKwrB,QAAQC,UAClB,CACAD,QACE,MAAMA,EAAQ,IAAI,KA4BlB,OA3BAA,EAAM9sB,IAAI,QAASf,EAAE,IAAK,KAAM,qBAAqB,6DAA8D,KACnH6tB,EAAM9sB,IAAI,aAAcf,EAAE,MAAO,CAC/B8M,UAAW,cACV9M,EAAE,QAAS,CACZ+tB,QAAS1rB,KAAKmZ,MAAMgS,IAAIC,WACvB,qBAAqB,4DAA6DztB,EAAE,QAAS,CAC9F0P,KAAM,OACNnD,GAAIlK,KAAKmZ,MAAMgS,IAAIC,UACnB3Z,MAAOzR,KAAKmZ,MAAM6R,OAAOC,aACzBU,SAAU3rB,KAAK4rB,YAAY,gBAC3BnhB,UAAW,iBACR,IACL+gB,EAAM9sB,IAAI,WAAYf,EAAE,MAAO,CAC7B8M,UAAW,cACV9M,EAAE,QAAS,CACZ+tB,QAAS1rB,KAAKmZ,MAAMgS,IAAIE,SACvB,qBAAqB,0DAA2D1tB,EAAE,QAAS,CAC5F0P,KAAM,OACNnD,GAAIlK,KAAKmZ,MAAMgS,IAAIE,QACnB5Z,MAAOzR,KAAKmZ,MAAM6R,OAAOE,WACzBS,SAAU3rB,KAAK4rB,YAAY,cAC3BnhB,UAAW,iBACR,IACL+gB,EAAM9sB,IAAI,SAAUf,EAAE,IAAQ,CAC5B8M,UAAW,yBACX4C,KAAM,UACL,qBAAqB,+DAAgE,GACjFme,CACT,CACAI,YAAYC,GACV,OAAOxvB,IACL2D,KAAKmZ,MAAM6R,OAAOa,GAASxvB,EAAEyvB,cAAcra,KAAK,CAEpD,CACAsa,aAEE,MAAO,CACLza,MAAOnT,KAAKE,OAAO,QAAU2B,KAAKmZ,MAAM6R,OAAOC,aAAe,KAAO,KAErE5Z,IAAKlT,KAAKE,OAAO,QAAU2B,KAAKmZ,MAAM6R,OAAOE,WAAa,KAAKc,KAAK,IAAIC,OAAO,IAAIC,OAAO,IAAIC,YAAY,KAAO,KAErH,CACAC,SAAS/vB,GACPA,EAAEgwB,iBACF,MAAMhU,EAAOrY,KAAK+rB,aACd1T,EAAKhH,IAAMgH,EAAK/G,MAClBtR,KAAKssB,WAAa,CAChBjf,KAAM,QACNkf,SAAU,qBAAqB,0EAInCvsB,KAAKurB,MAAMiB,cAAcnU,GACzBrY,KAAKysB,OACP,EAEFvD,OAAOC,IAAIzqB,IAAI,oBAAqB,sDAAuDqsB,G,+BCrF3F,WAAa,KACb,WAAa,KACE,MAAM2B,UAAyB,KAC5Cta,cACEyX,SAAStqB,WACT8pB,EAAgBrpB,KAAM,WAAY,CAAC,QAAS,cAAe,UAC3DqpB,EAAgBrpB,KAAM,eAAW,GACjCqpB,EAAgBrpB,KAAM,aAAS,GAC/BqpB,EAAgBrpB,KAAM,eAAgB,MACtCqpB,EAAgBrpB,KAAM,YAAa,CAAC,GACpCqpB,EAAgBrpB,KAAM,oBAAgB,GACtCqpB,EAAgBrpB,KAAM,mBAAoB,CAAC,GAC3CqpB,EAAgBrpB,KAAM,UAAU,GAChCqpB,EAAgBrpB,KAAM,mBAAmB,GACzCqpB,EAAgBrpB,KAAM,eAAgBA,KAAK0qB,SAASthB,QAAO,CAACujB,EAAKC,KAC/DD,EAAIC,GAAQ,WACLD,IACN,CAAC,IACJtD,EAAgBrpB,KAAM,gBAAiBA,KAAK0qB,SAASthB,QAAO,CAACujB,EAAKC,KAChED,EAAIC,GAAQ,WACLD,IACN,CAAC,IACJtD,EAAgBrpB,KAAM,iBAAkB,SACxCqpB,EAAgBrpB,KAAM,sBAAkB,GACxCqpB,EAAgBrpB,KAAM,mBAAe,GACrCqpB,EAAgBrpB,KAAM,mBAAe,EACvC,CACA8pB,SAASC,GACPF,MAAMC,SAASC,GACf/pB,KAAKgqB,kBACP,CACAC,yBACEjqB,KAAKkqB,iBAAkB,EACvBvsB,EAAEwsB,SACF,MAAM9R,QAAa,YAAY,CAC7B+R,OAAQ,MACRC,IAAK,oBAAoB,UAAY,cACrCC,OAAQ,CACNC,OAAQ,cAGZvqB,KAAKwqB,aAAenS,EACpBrY,KAAKkqB,iBAAkB,EACvBvsB,EAAEwsB,QACJ,CACAF,oBAAoB4C,GAClB7sB,KAAK8sB,aAAaD,GAAS,UAC3BlvB,EAAEwsB,SACF,IACE,MAAM9R,QAAa,YAAY,CAC7B+R,OAAQ,MACRC,IAAK,oBAAoB,UAAY,cACrCC,OAAQ,CACNC,OAAQ,QACRsC,WAGJ7sB,KAAK+sB,UAAUF,GAASxU,EACxBrY,KAAK8sB,aAAaD,GAAS,SAG3B,IAAIG,EAAY,IAAI5sB,KACpB4sB,EAAUC,YAAY,EAAG,EAAG,EAAG,GAC/B,MAAMC,EAAQF,EAAUzqB,UAAY,IACpCvC,KAAKmtB,QAAU,CACbD,MAAO,CACL5b,MAAO4b,EACP7b,IAAK6b,EAAQ,MACbE,KAAM,MAERC,YAAa,CACX/b,MAAO4b,EAAQ,OACf7b,IAAK6b,EACLE,KAAM,OAERE,gBAAiB,CACfhc,MAAO4b,EAAQ,QACf7b,IAAK6b,EAAQ,OACbE,KAAM,OAERG,aAAc,CACZjc,MAAO4b,EAAQ,QACf7b,IAAK6b,EACLE,KAAM,OAERI,iBAAkB,CAChBlc,MAAO4b,EAAQ,QACf7b,IAAK6b,EAAQ,QACbE,KAAM,OAERK,eAAgB,CACdnc,MAAO4b,EAAQ,SACf7b,IAAK6b,EACLE,KAAM,SAGVptB,KAAK0tB,eAAiB,aAIxB,CAHE,MAAOrxB,GACPod,QAAQkC,MAAMtf,GACd2D,KAAK8sB,aAAaD,GAAS,MAC7B,CACAlvB,EAAEwsB,QACJ,CACAF,0BAA0B4C,GACxB7sB,KAAK2tB,cAAcd,GAAS,UAC5BlvB,EAAEwsB,SAIF,MAAMyD,EAAQ,IACT5tB,KAAK6tB,cAEV,IACE,MAAMxV,QAAa,YAAY,CAC7B+R,OAAQ,MACRC,IAAK,oBAAoB,UAAY,cACrCC,OAAQ,CACNC,OAAQ,SACRsC,QACAiB,UAAW,CACTxc,MAAOsc,EAAMtc,MACbD,IAAKuc,EAAMvc,QAIjB,GAAI0H,KAAKC,UAAU4U,KAAW7U,KAAKC,UAAUhZ,KAAK6tB,cAGhD,OAEF7tB,KAAK+tB,iBAAiBlB,GAASxU,EAC/BrY,KAAK2tB,cAAcd,GAAS,SAC5BlvB,EAAEwsB,QASJ,CARE,MAAO9tB,GACP,GAAI0c,KAAKC,UAAU4U,KAAW7U,KAAKC,UAAUhZ,KAAK6tB,cAGhD,OAEFpU,QAAQkC,MAAMtf,GACd2D,KAAK2tB,cAAcd,GAAS,MAC9B,CACF,CACApiB,YACE,MAAO,kBACT,CACAggB,UACE,IAAIuD,EAAoBC,EACxB,MAAMC,EAA6H,YAA5E,WAAxBluB,KAAK0tB,eAA8B1tB,KAAK2tB,cAAgB3tB,KAAK8sB,cAAc9sB,KAAKmuB,gBACzGC,EAAaF,EAAwB,KAA+B,WAAxBluB,KAAK0tB,eAA8B,CACnFpc,MAAmD,OAA3C0c,EAAqBhuB,KAAK6tB,mBAAwB,EAASG,EAAmB3c,IACtFA,IAAkD,OAA5C4c,EAAsBjuB,KAAK6tB,mBAAwB,EAASI,EAAoB5c,IACtF+b,KAAM,OACJptB,KAAKmtB,QAAQntB,KAAK0tB,gBAUtB,MAT4B,WAAxB1tB,KAAK0tB,eACF1tB,KAAK+tB,iBAAiB/tB,KAAKmuB,iBAA+D,aAA5CnuB,KAAK2tB,cAAc3tB,KAAKmuB,iBACzEnuB,KAAKquB,oBAAoBruB,KAAKmuB,gBAG3BnuB,KAAK+sB,UAAU/sB,KAAKmuB,iBAA8D,aAA3CnuB,KAAK8sB,aAAa9sB,KAAKmuB,iBACjEnuB,KAAKsuB,cAActuB,KAAKmuB,gBAGrBxwB,EAAE,MAAO,CACd8M,UAAW,0BACV9M,EAAE,MAAO,CACV8M,UAAW,6BACV9M,EAAE,MAAO,CACV8M,UAAW,2BACV9M,EAAE,MAAO,CACV8M,UAAW,0BACV,qBAAqB,mDAAoD9M,EAAE,MAAO,CACnF8M,UAAW,0BACVyjB,EAAwBvwB,EAAE,IAAkB,CAC7C4wB,KAAM,QACNzD,QAAS,WACNntB,EAAE,IAAgB,CACrB6wB,SAAUN,EACVO,gBAAiB,sBACjBC,UAAW,qBACV/kB,OAAOC,KAAK5J,KAAKmtB,SAAStjB,KAAI0gB,GAAU5sB,EAAE,IAAQ,CACnDiV,IAAK2X,EACLoE,OAAQpE,IAAWvqB,KAAK0tB,eACxBkB,QAAS5uB,KAAK6uB,aAAa1S,KAAKnc,KAAMuqB,GACtCuE,KAAMvE,IAAWvqB,KAAK0tB,gBAAiB,gBACtC,qBAAqB,sCAAsCvlB,OAAOoiB,EAAQ,cAAapiB,OAAO,CAACxK,EAAE,IAAQ,CAC1GiV,IAAK,SACL+b,OAAgC,WAAxB3uB,KAAK0tB,eACbkB,QAAS,KACP,MAAMrD,EAAQ,CACZiB,cAAeuC,IACThW,KAAKC,UAAU+V,KAAWhW,KAAKC,UAAUhZ,KAAK6tB,gBAIlD7tB,KAAK+tB,iBAAmB,CAAC,EACzBpkB,OAAOC,KAAK5J,KAAK2tB,eAAe1oB,SAAQ6D,GAAK9I,KAAK2tB,cAAc7kB,GAAK,aACrE9I,KAAK6tB,aAAekB,EACpB/uB,KAAK6uB,aAAa,UAAS,GAM3B7uB,KAAK6tB,eACPtC,EAAM9Z,MAAQzR,KAAK6tB,cAErB,eAAe9C,EAAoCQ,EAAM,EAE3DuD,KAA8B,WAAxB9uB,KAAK0tB,gBAA8B,gBAChB,WAAxB1tB,KAAK0tB,eAA8B,IAAY,qBAAqB,4DAA6D,CAClIsB,SAAU,QAAoC,IAA1BhvB,KAAK6tB,aAAavc,OAAclO,OAAO,MAC3DZ,OAAQ,QAAkC,IAAxBxC,KAAK6tB,aAAaxc,KAAYjO,OAAO,SACnD,qBAAqB,yDAA0DpD,KAAK0qB,SAAS7gB,KAAI8gB,IACrG,MAAMC,EAAa5qB,KAAKkqB,gBAAkB,qBAAqB,8CAAgDlqB,KAAK6qB,cAAcF,GAC5HsE,EAAkBf,EAAwB,qBAAqB,8CAAgDluB,KAAKkvB,eAAevE,EAAQyD,GAC3Ie,EAA0C,WAAxBnvB,KAAK0tB,eAA8B,KAAOQ,EAAwB,qBAAqB,8CAAgDluB,KAAKkvB,eAAevE,EAAQ3qB,KAAKovB,cAAchB,IACxMiB,EAAenB,GAA6C,IAApBiB,GAA6C,OAApBA,EAA2B,GAAKF,EAAkBE,GAAmBA,EAAkB,IAC9J,OAAOxxB,EAAE,SAAU,CACjB8M,UAAW,IAAU,2CAA4C,CAC/DkkB,OAAQ3uB,KAAKmuB,iBAAmBxD,IAElCiE,QAAS5uB,KAAKsvB,aAAanT,KAAKnc,KAAM2qB,IACrChtB,EAAE,KAAM,CACT8M,UAAW,4BACV,qBAAqB,sCAAwCkgB,EAAS,aAAchtB,EAAE,MAAO,CAC9F8M,UAAW,yBACXiL,MAAOkV,GACN5qB,KAAKkqB,gBAAkBvsB,EAAE,IAAkB,CAC5CmtB,QAAS,WACN,IAAiBF,IAAcjtB,EAAE,MAAO,CAC3C8M,UAAW,0BACXiL,MAAOuZ,GACNf,EAAwBvwB,EAAE,IAAkB,CAC7CmtB,QAAS,WACN,IAAiBmE,GAAmC,IAAjBI,GAAsB1xB,EAAE,IAAK,KAAM,IAAKA,EAAE,OAAQ,CACxF8M,UAAW,qDAAuD4kB,EAAe,EAAI,KAAO,SAC3F1xB,EAAE,IAAM,CACTN,KAAM,iBAAmBgyB,EAAe,EAAI,KAAO,UACjDlxB,KAAKC,IAAIixB,GAAcpnB,QAAQ,GAAI,OAAO,KAC3CtK,EAAE,IAAK,KAAMuwB,EAAwBvwB,EAAE,MAAO,CACjDiV,IAAK,UACLnI,UAAW,yBACX,eAAgB,QACf9M,EAAE,IAAkB,CACrB4wB,KAAM,WACF5wB,EAAE,MAAO,CACbiV,IAAK,SACLnI,UAAW,yBACX,eAAgB,QAChBqf,SAAU9pB,KAAKuvB,UAAUpT,KAAKnc,MAC9BwvB,SAAUxvB,KAAKuvB,UAAUpT,KAAKnc,SAC3BA,KAAKyvB,QAAU9xB,EAAE,IAAa,CACjC+xB,KAAM,qBAAqB,iDACxB1vB,KAAKyvB,UAAYzvB,KAAK2vB,OAAShyB,EAAE,IAAQ,CAC5C8M,UAAW,sCACXqkB,KAAM,qBACNF,QAAS,KACP5uB,KAAK2vB,MAAMC,QAAQ,GAEpB,qBAAqB,2DAC1B,CACAL,UAAUxF,GACR,IAAI8F,EAAqBC,EACzB,GAAI9vB,KAAK2vB,OAAS3vB,KAAK+vB,cAAgB/vB,KAAKmuB,gBAAkBnuB,KAAKgwB,cAAgBhwB,KAAK0tB,eACtF,OAEF,MAAMnD,EAAiC,WAAxBvqB,KAAK0tB,eAA8B,CAChDpc,MAAoD,OAA5Cue,EAAsB7vB,KAAK6tB,mBAAwB,EAASgC,EAAoBve,MACxFD,IAAkD,OAA5Cye,EAAsB9vB,KAAK6tB,mBAAwB,EAASiC,EAAoBze,IACtF+b,KAAM,OACJptB,KAAKmtB,QAAQntB,KAAK0tB,gBAChBuC,EAAe1F,EAAOlZ,IAAMkZ,EAAOjZ,MACnCN,EAAS,GACTod,EAAa,GACb8B,EAAa,GACnB,IAAK,IAAI1zB,EAAI+tB,EAAOjZ,MAAO9U,EAAI+tB,EAAOlZ,IAAK7U,GAAK+tB,EAAO6C,KAAM,CAC3D,IAAI1b,EACA6Y,EAAO6C,KAAO,MAChB1b,EAAQ,SAAWlV,GAAGmD,MAAMyD,OAAO,QAEnCsO,EAAQ,SAAWlV,GAAGmD,MAAMyD,OAAO,SAC/BmnB,EAAO6C,KAAO,QAChB1b,GAAS,MAAQ,SAAWlV,EAAI+tB,EAAO6C,KAAO,GAAGztB,MAAMyD,OAAO,WAGlE4N,EAAOjI,KAAK2I,GACZ0c,EAAWrlB,KAAK/I,KAAKkvB,eAAelvB,KAAKmuB,eAAgB,CACvD7c,MAAO9U,EACP6U,IAAK7U,EAAI+tB,EAAO6C,QAElB8C,EAAWnnB,KAAK/I,KAAKkvB,eAAelvB,KAAKmuB,eAAgB,CACvD7c,MAAO9U,EAAIyzB,EACX5e,IAAK7U,EAAIyzB,IAEb,CACA,GAA0B,IAAtB7B,EAAWvwB,OAGb,OAFAmC,KAAKyvB,QAAS,OACd9xB,EAAEwsB,SAGFnqB,KAAKyvB,QAAS,EACd9xB,EAAEwsB,SAEJ,MAOM9R,EAAO,CACXrH,SACAC,SATe,CAAC,CAChB5T,KAAM,IAAY,qBAAqB,sDACvC2P,OAAQohB,GACP,CACD/wB,KAAM,IAAY,qBAAqB,uDACvC2P,OAAQkjB,KASLlwB,KAAK2vB,OAAiE,GAAtDhpB,SAASwpB,wBAAwBnwB,KAAK2vB,MAAM5a,QAiB/D/U,KAAK2vB,MAAM9U,OAAOxC,GAhBlBrY,KAAK2vB,MAAQ,IAAI,EAAA7H,MAAMiC,EAAMqG,IAAK,CAChC/X,OACAhL,KAAM,OACNtC,OAAQ,IACRga,YAAa,CACXC,UAAW,OACXC,UAAW,OACXC,WAAW,GAEbJ,YAAa,CACXhD,SAAU,EACVF,WAAY,GAEd5M,OAAQ,CAAC,oBAAoB,qBAAsB,WAKvDhV,KAAK+vB,YAAc/vB,KAAKmuB,eACxBnuB,KAAKgwB,YAAchwB,KAAK0tB,cAC1B,CACA4B,aAAa3E,GACX3qB,KAAKmuB,eAAiBxD,CACxB,CACAkE,aAAatE,GACXvqB,KAAK0tB,eAAiBnD,CACxB,CACAM,cAAcF,GACZ,OAAO3qB,KAAKwqB,aAAaG,EAC3B,CACAuE,eAAevE,EAAQJ,GACrB,MAAM8F,GAAiC,WAAxBrwB,KAAK0tB,eAA8B1tB,KAAK+tB,iBAAmB/tB,KAAK+sB,WAAWpC,GAC1F,IAAI2F,EAAQ,EACZ,IAAK,MAAM5yB,KAAK2yB,EAAO,CACrB,MAAME,EAAOjnB,SAAS5L,GAClB6yB,GAAQhG,EAAOjZ,OAASif,EAAOhG,EAAOlZ,MACxCif,GAASD,EAAME,GAEnB,CACA,OAAOD,CACT,CACAlB,cAAchB,GACZ,MAAO,CACL9c,MAAO8c,EAAW9c,OAAS8c,EAAW/c,IAAM+c,EAAW9c,OACvDD,IAAK+c,EAAW9c,MAEpB,EAEF4X,OAAOC,IAAIzqB,IAAI,oBAAqB,oCAAqCguB,GC9X1D,MAAM8D,UAAuB,KAC1C/F,UACE,OAAO9sB,EAAE,MAAO,CACd8M,UAAW,kBACV9M,EAAE,MAAO,CACV8M,UAAW,aACV9M,EAAE+uB,EAAkB,OACzB,EAEFxD,OAAOC,IAAIzqB,IAAI,oBAAqB,kCAAmC8xB,GCNvE,qBAAqB,qBAAqB,MACxC,IAAAtrB,QAAO,cAAyB,oBAAoB,SAAUurB,GAC5DA,EAAQ/xB,IAAI,aAAcf,EAAEisB,EAAsB,MAAO,GAC3D,IACA,sBAAsB,qBAAqB8G,aAAaF,EAAe,G","sources":["webpack://@flarum/statistics/../../../node_modules/dayjs/dayjs.min.js","webpack://@flarum/statistics/../../../node_modules/dayjs/plugin/localizedFormat.js","webpack://@flarum/statistics/../../../node_modules/dayjs/plugin/utc.js","webpack://@flarum/statistics/../src/js/utils/dom.js","webpack://@flarum/statistics/../src/js/utils/constants.js","webpack://@flarum/statistics/../src/js/utils/helpers.js","webpack://@flarum/statistics/../src/js/utils/draw-utils.js","webpack://@flarum/statistics/../src/js/utils/colors.js","webpack://@flarum/statistics/../src/js/utils/draw.js","webpack://@flarum/statistics/../src/js/utils/animate.js","webpack://@flarum/statistics/../src/js/utils/animation.js","webpack://@flarum/statistics/../src/js/utils/export.js","webpack://@flarum/statistics/../src/js/utils/date-utils.js","webpack://@flarum/statistics/../src/js/objects/ChartComponents.js","webpack://@flarum/statistics/../src/js/utils/intervals.js","webpack://@flarum/statistics/../src/js/utils/axis-chart-utils.js","webpack://@flarum/statistics/../node_modules/style-inject/dist/style-inject.es.js","webpack://@flarum/statistics/../src/js/objects/SvgTip.js","webpack://@flarum/statistics/../src/css/chartsCss.js","webpack://@flarum/statistics/../src/js/charts/BaseChart.js","webpack://@flarum/statistics/../src/js/charts/AggregationChart.js","webpack://@flarum/statistics/../src/js/charts/PercentageChart.js","webpack://@flarum/statistics/../src/js/charts/PieChart.js","webpack://@flarum/statistics/../src/js/charts/Heatmap.js","webpack://@flarum/statistics/../src/js/charts/AxisChart.js","webpack://@flarum/statistics/../src/js/charts/DonutChart.js","webpack://@flarum/statistics/../src/js/chart.js","webpack://@flarum/statistics/../src/js/index.js","webpack://@flarum/statistics/webpack/bootstrap","webpack://@flarum/statistics/webpack/runtime/compat get default export","webpack://@flarum/statistics/webpack/runtime/define property getters","webpack://@flarum/statistics/webpack/runtime/hasOwnProperty shorthand","webpack://@flarum/statistics/webpack/runtime/make namespace object","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'admin/app')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'admin/components/DashboardPage')\"","webpack://@flarum/statistics/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@flarum/statistics/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@flarum/statistics/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@flarum/statistics/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'admin/components/DashboardWidget')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/LoadingIndicator')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/Link')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/utils/abbreviateNumber')\"","webpack://@flarum/statistics/./src/admin/components/MiniStatisticsWidget.tsx","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'admin/components/ExtensionPage')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/SelectDropdown')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/utils/extractText')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/Placeholder')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/Icon')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/utils/ItemList')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'admin/utils/generateElementId')\"","webpack://@flarum/statistics/external root \"flarum.reg.get('core', 'common/components/FormModal')\"","webpack://@flarum/statistics/./src/admin/components/StatisticsWidgetDateSelectionModal.tsx","webpack://@flarum/statistics/./src/admin/components/StatisticsWidget.tsx","webpack://@flarum/statistics/./src/admin/components/StatisticsPage.tsx","webpack://@flarum/statistics/./src/admin/index.tsx"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(this,(function(){\"use strict\";var t=\"minute\",i=/[+-]\\d\\d(?::?\\d\\d)?/g,e=/([+-]|\\d\\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var r=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if(\"string\"==typeof s&&(s=function(t){void 0===t&&(t=\"\");var s=t.match(i);if(!s)return null;var f=(\"\"+s[0]).match(e)||[\"-\",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:\"+\"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(f)return o.$offset=u,o.$u=0===s,o;if(0!==s){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+r,t)).$offset=u,o.$x.$localOffset=r}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return\"s\"===t&&this.$offset?n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}}));","export function $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nexport function findNodeIndex(node)\n{\n\tvar i = 0;\n\twhile (node.previousSibling) {\n\t\tnode = node.previousSibling;\n\t\ti++;\n\t}\n\treturn i;\n}\n\n$.create = (tag, o) => {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t} else if (i === \"styles\") {\n\t\t\tif(typeof val === \"object\") {\n\t\t\t\tObject.keys(val).map(prop => {\n\t\t\t\t\telement.style[prop] = val[prop];\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (i in element ) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\nexport function getOffset(element) {\n\tlet rect = element.getBoundingClientRect();\n\treturn {\n\t\t// https://stackoverflow.com/a/7436602/6495043\n\t\t// rect.top varies with scroll, so we add whatever has been\n\t\t// scrolled to it to get absolute distance from actual page top\n\t\ttop: rect.top + (document.documentElement.scrollTop || document.body.scrollTop),\n\t\tleft: rect.left + (document.documentElement.scrollLeft || document.body.scrollLeft)\n\t};\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n// an element's offsetParent property will return null whenever it, or any of its parents,\n// is hidden via the display style property.\nexport function isHidden(el) {\n\treturn (el.offsetParent === null);\n}\n\nexport function isElementInViewport(el) {\n\t// Although straightforward: https://stackoverflow.com/a/7557433/6495043\n\tvar rect = el.getBoundingClientRect();\n\n\treturn (\n\t\trect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\n\t);\n}\n\nexport function getElementContentWidth(element) {\n\tvar styles = window.getComputedStyle(element);\n\tvar padding = parseFloat(styles.paddingLeft) +\n\t\tparseFloat(styles.paddingRight);\n\n\treturn element.clientWidth - padding;\n}\n\nexport function bind(element, o){\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function unbind(element, o){\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function fire(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n}\n\n// https://css-tricks.com/snippets/javascript/loop-queryselectorall-matches/\nexport function forEachNode(nodeList, callback, scope) {\n\tif(!nodeList) return;\n\tfor (var i = 0; i < nodeList.length; i++) {\n\t\tcallback.call(scope, nodeList[i], i);\n\t}\n}\n\nexport function activate($parent, $child, commonClass, activeClass='active', index = -1) {\n\tlet $children = $parent.querySelectorAll(`.${commonClass}.${activeClass}`);\n\n\tforEachNode($children, (node, i) => {\n\t\tif(index >= 0 && i <= index) return;\n\t\tnode.classList.remove(activeClass);\n\t});\n\n\t$child.classList.add(activeClass);\n}\n","export const ALL_CHART_TYPES = ['line', 'scatter', 'bar', 'percentage', 'heatmap', 'pie'];\n\nexport const COMPATIBLE_CHARTS = {\n\tbar: ['line', 'scatter', 'percentage', 'pie'],\n\tline: ['scatter', 'bar', 'percentage', 'pie'],\n\tpie: ['line', 'scatter', 'percentage', 'bar'],\n\tpercentage: ['bar', 'line', 'scatter', 'pie'],\n\theatmap: []\n};\n\nexport const DATA_COLOR_DIVISIONS = {\n\tbar: 'datasets',\n\tline: 'datasets',\n\tpie: 'labels',\n\tpercentage: 'labels',\n\theatmap: HEATMAP_DISTRIBUTION_SIZE\n};\n\nexport const BASE_MEASURES = {\n\tmargins: {\n\t\ttop: 10,\n\t\tbottom: 10,\n\t\tleft: 20,\n\t\tright: 20\n\t},\n\tpaddings: {\n\t\ttop: 20,\n\t\tbottom: 40,\n\t\tleft: 30,\n\t\tright: 10\n\t},\n\n\tbaseHeight: 240,\n\ttitleHeight: 20,\n\tlegendHeight: 30,\n\n\ttitleFontSize: 12,\n};\n\nexport function getTopOffset(m) {\n\treturn m.titleHeight + m.margins.top + m.paddings.top;\n}\n\nexport function getLeftOffset(m) {\n\treturn m.margins.left + m.paddings.left;\n}\n\nexport function getExtraHeight(m) {\n\tlet totalExtraHeight = m.margins.top + m.margins.bottom\n\t\t+ m.paddings.top + m.paddings.bottom\n\t\t+ m.titleHeight + m.legendHeight;\n\treturn totalExtraHeight;\n}\n\nexport function getExtraWidth(m) {\n\tlet totalExtraWidth = m.margins.left + m.margins.right\n\t\t+ m.paddings.left + m.paddings.right;\n\n\treturn totalExtraWidth;\n}\n\nexport const INIT_CHART_UPDATE_TIMEOUT = 700;\nexport const CHART_POST_ANIMATE_TIMEOUT = 400;\n\nexport const DEFAULT_AXIS_CHART_TYPE = 'line';\nexport const AXIS_DATASET_CHART_TYPES = ['line', 'bar'];\n\nexport const AXIS_LEGEND_BAR_SIZE = 100;\n\nexport const BAR_CHART_SPACE_RATIO = 0.5;\nexport const MIN_BAR_PERCENT_HEIGHT = 0.00;\n\nexport const LINE_CHART_DOT_SIZE = 4;\nexport const DOT_OVERLAY_SIZE_INCR = 4;\n\nexport const PERCENTAGE_BAR_DEFAULT_HEIGHT = 20;\nexport const PERCENTAGE_BAR_DEFAULT_DEPTH = 2;\n\n// Fixed 5-color theme,\n// More colors are difficult to parse visually\nexport const HEATMAP_DISTRIBUTION_SIZE = 5;\n\nexport const HEATMAP_SQUARE_SIZE = 10;\nexport const HEATMAP_GUTTER_SIZE = 2;\n\nexport const DEFAULT_CHAR_WIDTH = 7;\n\nexport const TOOLTIP_POINTER_TRIANGLE_HEIGHT = 5;\n\nconst DEFAULT_CHART_COLORS = ['light-blue', 'blue', 'violet', 'red', 'orange',\n\t'yellow', 'green', 'light-green', 'purple', 'magenta', 'light-grey', 'dark-grey'];\nconst HEATMAP_COLORS_GREEN = ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127'];\nexport const HEATMAP_COLORS_BLUE = ['#ebedf0', '#c0ddf9', '#73b3f3', '#3886e1', '#17459e'];\nexport const HEATMAP_COLORS_YELLOW = ['#ebedf0', '#fdf436', '#ffc700', '#ff9100', '#06001c'];\n\nexport const DEFAULT_COLORS = {\n\tbar: DEFAULT_CHART_COLORS,\n\tline: DEFAULT_CHART_COLORS,\n\tpie: DEFAULT_CHART_COLORS,\n\tpercentage: DEFAULT_CHART_COLORS,\n\theatmap: HEATMAP_COLORS_GREEN,\n\tdonut: DEFAULT_CHART_COLORS\n};\n\n// Universal constants\nexport const ANGLE_RATIO = Math.PI / 180;\nexport const FULL_ANGLE = 360;\n","import { ANGLE_RATIO } from './constants';\n\n/**\n * Returns the value of a number upto 2 decimal places.\n * @param {Number} d Any number\n */\nexport function floatTwo(d) {\n\treturn parseFloat(d.toFixed(2));\n}\n\n/**\n * Returns whether or not two given arrays are equal.\n * @param {Array} arr1 First array\n * @param {Array} arr2 Second array\n */\nexport function arraysEqual(arr1, arr2) {\n\tif(arr1.length !== arr2.length) return false;\n\tlet areEqual = true;\n\tarr1.map((d, i) => {\n\t\tif(arr2[i] !== d) areEqual = false;\n\t});\n\treturn areEqual;\n}\n\n/**\n * Shuffles array in place. ES6 version\n * @param {Array} array An array containing the items.\n */\nexport function shuffle(array) {\n\t// Awesomeness: https://bost.ocks.org/mike/shuffle/\n\t// https://stackoverflow.com/a/2450976/6495043\n\t// https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array?noredirect=1&lq=1\n\n\tfor (let i = array.length - 1; i > 0; i--) {\n\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\t[array[i], array[j]] = [array[j], array[i]];\n\t}\n\n\treturn array;\n}\n\n/**\n * Fill an array with extra points\n * @param {Array} array Array\n * @param {Number} count number of filler elements\n * @param {Object} element element to fill with\n * @param {Boolean} start fill at start?\n */\nexport function fillArray(array, count, element, start=false) {\n\tif(!element) {\n\t\telement = start ? array[0] : array[array.length - 1];\n\t}\n\tlet fillerArray = new Array(Math.abs(count)).fill(element);\n\tarray = start ? fillerArray.concat(array) : array.concat(fillerArray);\n\treturn array;\n}\n\n/**\n * Returns pixel width of string.\n * @param {String} string\n * @param {Number} charWidth Width of single char in pixels\n */\nexport function getStringWidth(string, charWidth) {\n\treturn (string+\"\").length * charWidth;\n}\n\nexport function bindChange(obj, getFn, setFn) {\n\treturn new Proxy(obj, {\n\t\tset: function(target, prop, value) {\n\t\t\tsetFn();\n\t\t\treturn Reflect.set(target, prop, value);\n\t\t},\n\t\tget: function(target, prop) {\n\t\t\tgetFn();\n\t\t\treturn Reflect.get(target, prop);\n\t\t}\n\t});\n}\n\n// https://stackoverflow.com/a/29325222\nexport function getRandomBias(min, max, bias, influence) {\n\tconst range = max - min;\n\tconst biasValue = range * bias + min;\n\tvar rnd = Math.random() * range + min,\t\t// random in range\n\t\tmix = Math.random() * influence;\t\t// random mixer\n\treturn rnd * (1 - mix) + biasValue * mix;\t// mix full range and bias\n}\n\nexport function getPositionByAngle(angle, radius) {\n\treturn {\n\t\tx: Math.sin(angle * ANGLE_RATIO) * radius,\n\t\ty: Math.cos(angle * ANGLE_RATIO) * radius,\n\t};\n}\n\n/**\n * Check if a number is valid for svg attributes\n * @param {object} candidate Candidate to test\n * @param {Boolean} nonNegative flag to treat negative number as invalid\n */\nexport function isValidNumber(candidate, nonNegative=false) {\n\tif (Number.isNaN(candidate)) return false;\n\telse if (candidate === undefined) return false;\n\telse if (!Number.isFinite(candidate)) return false;\n\telse if (nonNegative && candidate < 0) return false;\n\telse return true;\n}\n\n/**\n * Round a number to the closes precision, max max precision 4\n * @param {Number} d Any Number\n */\nexport function round(d) {\n\t// https://floating-point-gui.de/\n\t// https://www.jacklmoore.com/notes/rounding-in-javascript/\n\treturn Number(Math.round(d + 'e4') + 'e-4');\n}\n\n/**\n * Creates a deep clone of an object\n * @param {Object} candidate Any Object\n */\n export function deepClone(candidate) {\n\tlet cloned, value, key;\n  \n\tif (candidate instanceof Date) {\n\t  return new Date(candidate.getTime());\n\t}\n  \n\tif (typeof candidate !== \"object\" || candidate === null) {\n\t  return candidate;\n\t}\n  \n\tcloned = Array.isArray(candidate) ? [] : {};\n  \n\tfor (key in candidate) {\n\t  value = candidate[key];\n  \n\t  cloned[key] = deepClone(value);\n\t}\n  \n\treturn cloned;\n  }","import { fillArray } from './helpers';\n\nexport function getBarHeightAndYAttr(yTop, zeroLine) {\n\tlet height, y;\n\tif (yTop <= zeroLine) {\n\t\theight = zeroLine - yTop;\n\t\ty = yTop;\n\t} else {\n\t\theight = yTop - zeroLine;\n\t\ty = zeroLine;\n\t}\n\n\treturn [height, y];\n}\n\nexport function equilizeNoOfElements(array1, array2,\n\textraCount = array2.length - array1.length) {\n\n\t// Doesn't work if either has zero elements.\n\tif(extraCount > 0) {\n\t\tarray1 = fillArray(array1, extraCount);\n\t} else {\n\t\tarray2 = fillArray(array2, extraCount);\n\t}\n\treturn [array1, array2];\n}\n\nexport function truncateString(txt, len) {\n\tif (!txt) {\n\t\treturn;\n\t}\n\tif (txt.length > len) {\n\t\treturn txt.slice(0, len-3) + '...';\n\t} else {\n\t\treturn txt;\n\t}\n}\n\nexport function shortenLargeNumber(label) {\n\tlet number;\n\tif (typeof label === 'number') number = label;\n\telse if (typeof label === 'string') {\n\t\tnumber = Number(label);\n\t\tif (Number.isNaN(number)) return label;\n\t}\n\n\t// Using absolute since log wont work for negative numbers\n\tlet p = Math.floor(Math.log10(Math.abs(number)));\n\tif (p <= 2) return number; // Return as is for a 3 digit number of less\n\tlet\tl = Math.floor(p / 3);\n\tlet shortened = (Math.pow(10, p - l * 3) * +(number / Math.pow(10, p)).toFixed(1));\n\n\t// Correct for floating point error upto 2 decimal places\n\treturn Math.round(shortened*100)/100 + ' ' + ['', 'K', 'M', 'B', 'T'][l];\n}\n\n// cubic bezier curve calculation (from example by François Romain)\nexport function getSplineCurvePointsStr(xList, yList) {\n\n\tlet points=[];\n\tfor(let i=0;i<xList.length;i++){\n\t\tpoints.push([xList[i], yList[i]]);\n\t}\n\n\tlet smoothing = 0.2;\n\tlet line = (pointA, pointB) => {\n\t\tlet lengthX = pointB[0] - pointA[0];\n\t\tlet lengthY = pointB[1] - pointA[1];\n\t\treturn {\n\t\t\tlength: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n\t\t\tangle: Math.atan2(lengthY, lengthX)\n\t\t};\n\t};\n    \n\tlet controlPoint = (current, previous, next, reverse) => {\n\t\tlet p = previous || current;\n\t\tlet n = next || current;\n\t\tlet o = line(p, n);\n\t\tlet angle = o.angle + (reverse ? Math.PI : 0);\n\t\tlet length = o.length * smoothing;\n\t\tlet x = current[0] + Math.cos(angle) * length;\n\t\tlet y = current[1] + Math.sin(angle) * length;\n\t\treturn [x, y];\n\t};\n    \n\tlet bezierCommand = (point, i, a) => {\n\t\tlet cps = controlPoint(a[i - 1], a[i - 2], point);\n\t\tlet cpe = controlPoint(point, a[i - 1], a[i + 1], true);\n\t\treturn `C ${cps[0]},${cps[1]} ${cpe[0]},${cpe[1]} ${point[0]},${point[1]}`;\n\t};\n    \n\tlet pointStr = (points, command) => {\n\t\treturn points.reduce((acc, point, i, a) => i === 0\n\t\t\t? `${point[0]},${point[1]}`\n\t\t\t: `${acc} ${command(point, i, a)}`, '');\n\t};\n    \n\treturn pointStr(points, bezierCommand);\n}\n","const PRESET_COLOR_MAP = {\n\t'light-blue': '#7cd6fd',\n\t'blue': '#5e64ff',\n\t'violet': '#743ee2',\n\t'red': '#ff5858',\n\t'orange': '#ffa00a',\n\t'yellow': '#feef72',\n\t'green': '#28a745',\n\t'light-green': '#98d85b',\n\t'purple': '#b554ff',\n\t'magenta': '#ffa3ef',\n\t'black': '#36114C',\n\t'grey': '#bdd3e6',\n\t'light-grey': '#f0f4f7',\n\t'dark-grey': '#b8c2cc'\n};\n\nfunction limitColor(r){\n\tif (r > 255) return 255;\n\telse if (r < 0) return 0;\n\treturn r;\n}\n\nexport function lightenDarkenColor(color, amt) {\n\tlet col = getColor(color);\n\tlet usePound = false;\n\tif (col[0] == \"#\") {\n\t\tcol = col.slice(1);\n\t\tusePound = true;\n\t}\n\tlet num = parseInt(col,16);\n\tlet r = limitColor((num >> 16) + amt);\n\tlet b = limitColor(((num >> 8) & 0x00FF) + amt);\n\tlet g = limitColor((num & 0x0000FF) + amt);\n\treturn (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nexport function isValidColor(string) {\n\t// https://stackoverflow.com/a/32685393\n\tlet HEX_RE = /(^\\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i;\n\tlet RGB_RE = /(^\\s*)(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/i;\n\treturn HEX_RE.test(string) || RGB_RE.test(string);\n}\n\nexport const getColor = (color) => {\n\t// When RGB color, convert to hexadecimal (alpha value is omitted)\n\tif((/rgb[a]{0,1}\\([\\d, ]+\\)/gim).test(color)) {\n\t\treturn (/\\D+(\\d*)\\D+(\\d*)\\D+(\\d*)/gim).exec(color)\n\t\t\t.map((x, i) => (i !== 0 ? Number(x).toString(16) : '#'))\n\t\t\t.reduce((c, ch) => `${c}${ch}`);\n\t}\n\treturn PRESET_COLOR_MAP[color] || color;\n};\n","import { getBarHeightAndYAttr, truncateString, shortenLargeNumber, getSplineCurvePointsStr } from './draw-utils';\nimport { getStringWidth, isValidNumber } from './helpers';\nimport { DOT_OVERLAY_SIZE_INCR, PERCENTAGE_BAR_DEFAULT_DEPTH } from './constants';\nimport { lightenDarkenColor } from './colors';\n\nexport const AXIS_TICK_LENGTH = 6;\nconst LABEL_MARGIN = 4;\nconst LABEL_MAX_CHARS = 15;\nexport const FONT_SIZE = 10;\nconst BASE_LINE_COLOR = '#dadada';\nconst FONT_FILL = '#555b51';\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nexport function createSVG(tag, o) {\n\tvar element = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t} else if (i === \"styles\") {\n\t\t\tif(typeof val === \"object\") {\n\t\t\t\tObject.keys(val).map(prop => {\n\t\t\t\t\telement.style[prop] = val[prop];\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif(i === \"className\") { i = \"class\"; }\n\t\t\tif(i === \"innerHTML\") {\n\t\t\t\telement['textContent'] = val;\n\t\t\t} else {\n\t\t\t\telement.setAttribute(i, val);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn element;\n}\n\nfunction renderVerticalGradient(svgDefElem, gradientId) {\n\treturn createSVG('linearGradient', {\n\t\tinside: svgDefElem,\n\t\tid: gradientId,\n\t\tx1: 0,\n\t\tx2: 0,\n\t\ty1: 0,\n\t\ty2: 1\n\t});\n}\n\nfunction setGradientStop(gradElem, offset, color, opacity) {\n\treturn createSVG('stop', {\n\t\t'inside': gradElem,\n\t\t'style': `stop-color: ${color}`,\n\t\t'offset': offset,\n\t\t'stop-opacity': opacity\n\t});\n}\n\nexport function makeSVGContainer(parent, className, width, height) {\n\treturn createSVG('svg', {\n\t\tclassName: className,\n\t\tinside: parent,\n\t\twidth: width,\n\t\theight: height\n\t});\n}\n\nexport function makeSVGDefs(svgContainer) {\n\treturn createSVG('defs', {\n\t\tinside: svgContainer,\n\t});\n}\n\nexport function makeSVGGroup(className, transform='', parent=undefined) {\n\tlet args = {\n\t\tclassName: className,\n\t\ttransform: transform\n\t};\n\tif(parent) args.inside = parent;\n\treturn createSVG('g', args);\n}\n\nexport function wrapInSVGGroup(elements, className='') {\n\tlet g = createSVG('g', {\n\t\tclassName: className\n\t});\n\telements.forEach(e => g.appendChild(e));\n\treturn g;\n}\n\nexport function makePath(pathStr, className='', stroke='none', fill='none', strokeWidth=2) {\n\treturn createSVG('path', {\n\t\tclassName: className,\n\t\td: pathStr,\n\t\tstyles: {\n\t\t\tstroke: stroke,\n\t\t\tfill: fill,\n\t\t\t'stroke-width': strokeWidth\n\t\t}\n\t});\n}\n\nexport function makeArcPathStr(startPosition, endPosition, center, radius, clockWise=1, largeArc=0){\n\tlet [arcStartX, arcStartY] = [center.x + startPosition.x, center.y + startPosition.y];\n\tlet [arcEndX, arcEndY] = [center.x + endPosition.x, center.y + endPosition.y];\n\treturn `M${center.x} ${center.y}\n\t\tL${arcStartX} ${arcStartY}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${arcEndY} z`;\n}\n\nexport function makeCircleStr(startPosition, endPosition, center, radius, clockWise=1, largeArc=0){\n\tlet [arcStartX, arcStartY] = [center.x + startPosition.x, center.y + startPosition.y];\n\tlet [arcEndX, midArc, arcEndY] = [center.x + endPosition.x, center.y * 2, center.y + endPosition.y];\n\treturn `M${center.x} ${center.y}\n\t\tL${arcStartX} ${arcStartY}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${midArc} z\n\t\tL${arcStartX} ${midArc}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${arcEndY} z`;\n}\n\nexport function makeArcStrokePathStr(startPosition, endPosition, center, radius, clockWise=1, largeArc=0){\n\tlet [arcStartX, arcStartY] = [center.x + startPosition.x, center.y + startPosition.y];\n\tlet [arcEndX, arcEndY] = [center.x + endPosition.x, center.y + endPosition.y];\n\n\treturn `M${arcStartX} ${arcStartY}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${arcEndY}`;\n}\n\nexport function makeStrokeCircleStr(startPosition, endPosition, center, radius, clockWise=1, largeArc=0){\n\tlet [arcStartX, arcStartY] = [center.x + startPosition.x, center.y + startPosition.y];\n\tlet [arcEndX, midArc, arcEndY] = [center.x + endPosition.x, radius * 2 + arcStartY, center.y + startPosition.y];\n\n\treturn `M${arcStartX} ${arcStartY}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${midArc}\n\t\tM${arcStartX} ${midArc}\n\t\tA ${radius} ${radius} 0 ${largeArc} ${clockWise ? 1 : 0}\n\t\t${arcEndX} ${arcEndY}`;\n}\n\nexport function makeGradient(svgDefElem, color, lighter = false) {\n\tlet gradientId ='path-fill-gradient' + '-' + color + '-' +(lighter ? 'lighter' : 'default');\n\tlet gradientDef = renderVerticalGradient(svgDefElem, gradientId);\n\tlet opacities = [1, 0.6, 0.2];\n\tif(lighter) {\n\t\topacities = [0.4, 0.2, 0];\n\t}\n\n\tsetGradientStop(gradientDef, \"0%\", color, opacities[0]);\n\tsetGradientStop(gradientDef, \"50%\", color, opacities[1]);\n\tsetGradientStop(gradientDef, \"100%\", color, opacities[2]);\n\n\treturn gradientId;\n}\n\nexport function percentageBar(x, y, width, height,\n\tdepth=PERCENTAGE_BAR_DEFAULT_DEPTH, fill='none') {\n\n\tlet args = {\n\t\tclassName: 'percentage-bar',\n\t\tx: x,\n\t\ty: y,\n\t\twidth: width,\n\t\theight: height,\n\t\tfill: fill,\n\t\tstyles: {\n\t\t\t'stroke': lightenDarkenColor(fill, -25),\n\t\t\t// Diabolically good: https://stackoverflow.com/a/9000859\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray\n\t\t\t'stroke-dasharray': `0, ${height + width}, ${width}, ${height}`,\n\t\t\t'stroke-width': depth\n\t\t},\n\t};\n\n\treturn createSVG(\"rect\", args);\n}\n\nexport function heatSquare(className, x, y, size, radius, fill='none', data={}) {\n\tlet args = {\n\t\tclassName: className,\n\t\tx: x,\n\t\ty: y,\n\t\twidth: size,\n\t\theight: size,\n\t\trx: radius,\n\t\tfill: fill\n\t};\n\n\tObject.keys(data).map(key => {\n\t\targs[key] = data[key];\n\t});\n\n\treturn createSVG(\"rect\", args);\n}\n\nexport function legendBar(x, y, size, fill='none', label, truncate=false) {\n\tlabel = truncate ? truncateString(label, LABEL_MAX_CHARS) : label;\n\n\tlet args = {\n\t\tclassName: 'legend-bar',\n\t\tx: 0,\n\t\ty: 0,\n\t\twidth: size,\n\t\theight: '2px',\n\t\tfill: fill\n\t};\n\tlet text = createSVG('text', {\n\t\tclassName: 'legend-dataset-text',\n\t\tx: 0,\n\t\ty: 0,\n\t\tdy: (FONT_SIZE * 2) + 'px',\n\t\t'font-size': (FONT_SIZE * 1.2) + 'px',\n\t\t'text-anchor': 'start',\n\t\tfill: FONT_FILL,\n\t\tinnerHTML: label\n\t});\n\n\tlet group = createSVG('g', {\n\t\ttransform: `translate(${x}, ${y})`\n\t});\n\tgroup.appendChild(createSVG(\"rect\", args));\n\tgroup.appendChild(text);\n\n\treturn group;\n}\n\nexport function legendDot(x, y, size, fill='none', label, truncate=false) {\n\tlabel = truncate ? truncateString(label, LABEL_MAX_CHARS) : label;\n\n\tlet args = {\n\t\tclassName: 'legend-dot',\n\t\tcx: 0,\n\t\tcy: 0,\n\t\tr: size,\n\t\tfill: fill\n\t};\n\tlet text = createSVG('text', {\n\t\tclassName: 'legend-dataset-text',\n\t\tx: 0,\n\t\ty: 0,\n\t\tdx: (FONT_SIZE) + 'px',\n\t\tdy: (FONT_SIZE/3) + 'px',\n\t\t'font-size': (FONT_SIZE * 1.2) + 'px',\n\t\t'text-anchor': 'start',\n\t\tfill: FONT_FILL,\n\t\tinnerHTML: label\n\t});\n\n\tlet group = createSVG('g', {\n\t\ttransform: `translate(${x}, ${y})`\n\t});\n\tgroup.appendChild(createSVG(\"circle\", args));\n\tgroup.appendChild(text);\n\n\treturn group;\n}\n\nexport function makeText(className, x, y, content, options = {}) {\n\tlet fontSize = options.fontSize || FONT_SIZE;\n\tlet dy = options.dy !== undefined ? options.dy : (fontSize / 2);\n\tlet fill = options.fill || FONT_FILL;\n\tlet textAnchor = options.textAnchor || 'start';\n\treturn createSVG('text', {\n\t\tclassName: className,\n\t\tx: x,\n\t\ty: y,\n\t\tdy: dy + 'px',\n\t\t'font-size': fontSize + 'px',\n\t\tfill: fill,\n\t\t'text-anchor': textAnchor,\n\t\tinnerHTML: content\n\t});\n}\n\nfunction makeVertLine(x, label, y1, y2, options={}) {\n\tif(!options.stroke) options.stroke = BASE_LINE_COLOR;\n\tlet l = createSVG('line', {\n\t\tclassName: 'line-vertical ' + options.className,\n\t\tx1: 0,\n\t\tx2: 0,\n\t\ty1: y1,\n\t\ty2: y2,\n\t\tstyles: {\n\t\t\tstroke: options.stroke\n\t\t}\n\t});\n\n\tlet text = createSVG('text', {\n\t\tx: 0,\n\t\ty: y1 > y2 ? y1 + LABEL_MARGIN : y1 - LABEL_MARGIN - FONT_SIZE,\n\t\tdy: FONT_SIZE + 'px',\n\t\t'font-size': FONT_SIZE + 'px',\n\t\t'text-anchor': 'middle',\n\t\tinnerHTML: label + \"\"\n\t});\n\n\tlet line = createSVG('g', {\n\t\ttransform: `translate(${ x }, 0)`\n\t});\n\n\tline.appendChild(l);\n\tline.appendChild(text);\n\n\treturn line;\n}\n\nfunction makeHoriLine(y, label, x1, x2, options={}) {\n\tif(!options.stroke) options.stroke = BASE_LINE_COLOR;\n\tif(!options.lineType) options.lineType = '';\n\tif (options.shortenNumbers) label = shortenLargeNumber(label);\n\n\tlet className = 'line-horizontal ' + options.className +\n\t\t(options.lineType === \"dashed\" ? \"dashed\": \"\");\n\n\tlet l = createSVG('line', {\n\t\tclassName: className,\n\t\tx1: x1,\n\t\tx2: x2,\n\t\ty1: 0,\n\t\ty2: 0,\n\t\tstyles: {\n\t\t\tstroke: options.stroke\n\t\t}\n\t});\n\n\tlet text = createSVG('text', {\n\t\tx: x1 < x2 ? x1 - LABEL_MARGIN : x1 + LABEL_MARGIN,\n\t\ty: 0,\n\t\tdy: (FONT_SIZE / 2 - 2) + 'px',\n\t\t'font-size': FONT_SIZE + 'px',\n\t\t'text-anchor': x1 < x2 ? 'end' : 'start',\n\t\tinnerHTML: label+\"\"\n\t});\n\n\tlet line = createSVG('g', {\n\t\ttransform: `translate(0, ${y})`,\n\t\t'stroke-opacity': 1\n\t});\n\n\tif(text === 0 || text === '0') {\n\t\tline.style.stroke = \"rgba(27, 31, 35, 0.6)\";\n\t}\n\n\tline.appendChild(l);\n\tline.appendChild(text);\n\n\treturn line;\n}\n\nexport function yLine(y, label, width, options={}) {\n\tif (!isValidNumber(y)) y = 0;\n\n\tif(!options.pos) options.pos = 'left';\n\tif(!options.offset) options.offset = 0;\n\tif(!options.mode) options.mode = 'span';\n\tif(!options.stroke) options.stroke = BASE_LINE_COLOR;\n\tif(!options.className) options.className = '';\n\n\tlet x1 = -1 * AXIS_TICK_LENGTH;\n\tlet x2 = options.mode === 'span' ? width + AXIS_TICK_LENGTH : 0;\n\n\tif(options.mode === 'tick' && options.pos === 'right') {\n\t\tx1 = width + AXIS_TICK_LENGTH;\n\t\tx2 = width;\n\t}\n\n\t// let offset = options.pos === 'left' ? -1 * options.offset : options.offset;\n\n\tx1 += options.offset;\n\tx2 += options.offset;\n\n\treturn makeHoriLine(y, label, x1, x2, {\n\t\tstroke: options.stroke,\n\t\tclassName: options.className,\n\t\tlineType: options.lineType,\n\t\tshortenNumbers: options.shortenNumbers\n\t});\n}\n\nexport function xLine(x, label, height, options={}) {\n\tif (!isValidNumber(x)) x = 0;\n\n\tif(!options.pos) options.pos = 'bottom';\n\tif(!options.offset) options.offset = 0;\n\tif(!options.mode) options.mode = 'span';\n\tif(!options.stroke) options.stroke = BASE_LINE_COLOR;\n\tif(!options.className) options.className = '';\n\n\t// Draw X axis line in span/tick mode with optional label\n\t//                        \ty2(span)\n\t// \t\t\t\t\t\t|\n\t// \t\t\t\t\t\t|\n\t//\t\t\t\tx line\t|\n\t//\t\t\t\t\t\t|\n\t// \t\t\t\t\t   \t|\n\t// ---------------------+-- y2(tick)\n\t//\t\t\t\t\t\t|\n\t//\t\t\t\t\t\t\ty1\n\n\tlet y1 = height + AXIS_TICK_LENGTH;\n\tlet y2 = options.mode === 'span' ? -1 * AXIS_TICK_LENGTH : height;\n\n\tif(options.mode === 'tick' && options.pos === 'top') {\n\t\t// top axis ticks\n\t\ty1 = -1 * AXIS_TICK_LENGTH;\n\t\ty2 = 0;\n\t}\n\n\treturn makeVertLine(x, label, y1, y2, {\n\t\tstroke: options.stroke,\n\t\tclassName: options.className,\n\t\tlineType: options.lineType\n\t});\n}\n\nexport function yMarker(y, label, width, options={}) {\n\tif(!options.labelPos) options.labelPos = 'right';\n\tlet x = options.labelPos === 'left' ? LABEL_MARGIN\n\t\t: width - getStringWidth(label, 5) - LABEL_MARGIN;\n\n\tlet labelSvg = createSVG('text', {\n\t\tclassName: 'chart-label',\n\t\tx: x,\n\t\ty: 0,\n\t\tdy: (FONT_SIZE / -2) + 'px',\n\t\t'font-size': FONT_SIZE + 'px',\n\t\t'text-anchor': 'start',\n\t\tinnerHTML: label+\"\"\n\t});\n\n\tlet line = makeHoriLine(y, '', 0, width, {\n\t\tstroke: options.stroke || BASE_LINE_COLOR,\n\t\tclassName: options.className || '',\n\t\tlineType: options.lineType\n\t});\n\n\tline.appendChild(labelSvg);\n\n\treturn line;\n}\n\nexport function yRegion(y1, y2, width, label, options={}) {\n\t// return a group\n\tlet height = y1 - y2;\n\n\tlet rect = createSVG('rect', {\n\t\tclassName: `bar mini`, // remove class\n\t\tstyles: {\n\t\t\tfill: `rgba(228, 234, 239, 0.49)`,\n\t\t\tstroke: BASE_LINE_COLOR,\n\t\t\t'stroke-dasharray': `${width}, ${height}`\n\t\t},\n\t\t// 'data-point-index': index,\n\t\tx: 0,\n\t\ty: 0,\n\t\twidth: width,\n\t\theight: height\n\t});\n\n\tif(!options.labelPos) options.labelPos = 'right';\n\tlet x = options.labelPos === 'left' ? LABEL_MARGIN\n\t\t: width - getStringWidth(label+\"\", 4.5) - LABEL_MARGIN;\n\n\tlet labelSvg = createSVG('text', {\n\t\tclassName: 'chart-label',\n\t\tx: x,\n\t\ty: 0,\n\t\tdy: (FONT_SIZE / -2) + 'px',\n\t\t'font-size': FONT_SIZE + 'px',\n\t\t'text-anchor': 'start',\n\t\tinnerHTML: label+\"\"\n\t});\n\n\tlet region = createSVG('g', {\n\t\ttransform: `translate(0, ${y2})`\n\t});\n\n\tregion.appendChild(rect);\n\tregion.appendChild(labelSvg);\n\n\treturn region;\n}\n\nexport function datasetBar(x, yTop, width, color, label='', index=0, offset=0, meta={}) {\n\tlet [height, y] = getBarHeightAndYAttr(yTop, meta.zeroLine);\n\ty -= offset;\n\n\tif(height === 0) {\n\t\theight = meta.minHeight;\n\t\ty -= meta.minHeight;\n\t}\n\n\t// Preprocess numbers to avoid svg building errors\n\tif (!isValidNumber(x)) x = 0;\n\tif (!isValidNumber(y)) y = 0;\n\tif (!isValidNumber(height, true)) height = 0;\n\tif (!isValidNumber(width, true)) width = 0;\n\n\tlet rect = createSVG('rect', {\n\t\tclassName: `bar mini`,\n\t\tstyle: `fill: ${color}`,\n\t\t'data-point-index': index,\n\t\tx: x,\n\t\ty: y,\n\t\twidth: width,\n\t\theight: height\n\t});\n\n\tlabel += \"\";\n\n\tif(!label && !label.length) {\n\t\treturn rect;\n\t} else {\n\t\trect.setAttribute('y', 0);\n\t\trect.setAttribute('x', 0);\n\t\tlet text = createSVG('text', {\n\t\t\tclassName: 'data-point-value',\n\t\t\tx: width/2,\n\t\t\ty: 0,\n\t\t\tdy: (FONT_SIZE / 2 * -1) + 'px',\n\t\t\t'font-size': FONT_SIZE + 'px',\n\t\t\t'text-anchor': 'middle',\n\t\t\tinnerHTML: label\n\t\t});\n\n\t\tlet group = createSVG('g', {\n\t\t\t'data-point-index': index,\n\t\t\ttransform: `translate(${x}, ${y})`\n\t\t});\n\t\tgroup.appendChild(rect);\n\t\tgroup.appendChild(text);\n\n\t\treturn group;\n\t}\n}\n\nexport function datasetDot(x, y, radius, color, label='', index=0) {\n\tlet dot = createSVG('circle', {\n\t\tstyle: `fill: ${color}`,\n\t\t'data-point-index': index,\n\t\tcx: x,\n\t\tcy: y,\n\t\tr: radius\n\t});\n\n\tlabel += \"\";\n\n\tif(!label && !label.length) {\n\t\treturn dot;\n\t} else {\n\t\tdot.setAttribute('cy', 0);\n\t\tdot.setAttribute('cx', 0);\n\n\t\tlet text = createSVG('text', {\n\t\t\tclassName: 'data-point-value',\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tdy: (FONT_SIZE / 2 * -1 - radius) + 'px',\n\t\t\t'font-size': FONT_SIZE + 'px',\n\t\t\t'text-anchor': 'middle',\n\t\t\tinnerHTML: label\n\t\t});\n\n\t\tlet group = createSVG('g', {\n\t\t\t'data-point-index': index,\n\t\t\ttransform: `translate(${x}, ${y})`\n\t\t});\n\t\tgroup.appendChild(dot);\n\t\tgroup.appendChild(text);\n\n\t\treturn group;\n\t}\n}\n\nexport function getPaths(xList, yList, color, options={}, meta={}) {\n\tlet pointsList = yList.map((y, i) => (xList[i] + ',' + y));\n\tlet pointsStr = pointsList.join(\"L\");\n\n\t// Spline\n\tif (options.spline)\n\t\tpointsStr = getSplineCurvePointsStr(xList, yList);\n\n\tlet path = makePath(\"M\"+pointsStr, 'line-graph-path', color);\n\n\t// HeatLine\n\tif(options.heatline) {\n\t\tlet gradient_id = makeGradient(meta.svgDefs, color);\n\t\tpath.style.stroke = `url(#${gradient_id})`;\n\t}\n\n\tlet paths = {\n\t\tpath: path\n\t};\n\n\t// Region\n\tif(options.regionFill) {\n\t\tlet gradient_id_region = makeGradient(meta.svgDefs, color, true);\n\n\t\tlet pathStr = \"M\" + `${xList[0]},${meta.zeroLine}L` + pointsStr + `L${xList.slice(-1)[0]},${meta.zeroLine}`;\n\t\tpaths.region = makePath(pathStr, `region-fill`, 'none', `url(#${gradient_id_region})`);\n\t}\n\n\treturn paths;\n}\n\nexport let makeOverlay = {\n\t'bar': (unit) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'rect') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet overlay = unit.cloneNode();\n\t\toverlay.style.fill = '#000000';\n\t\toverlay.style.opacity = '0.4';\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t\treturn overlay;\n\t},\n\n\t'dot': (unit) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'circle') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet overlay = unit.cloneNode();\n\t\tlet radius = unit.getAttribute('r');\n\t\tlet fill = unit.getAttribute('fill');\n\t\toverlay.setAttribute('r', parseInt(radius) + DOT_OVERLAY_SIZE_INCR);\n\t\toverlay.setAttribute('fill', fill);\n\t\toverlay.style.opacity = '0.6';\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t\treturn overlay;\n\t},\n\n\t'heat_square': (unit) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'circle') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet overlay = unit.cloneNode();\n\t\tlet radius = unit.getAttribute('r');\n\t\tlet fill = unit.getAttribute('fill');\n\t\toverlay.setAttribute('r', parseInt(radius) + DOT_OVERLAY_SIZE_INCR);\n\t\toverlay.setAttribute('fill', fill);\n\t\toverlay.style.opacity = '0.6';\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t\treturn overlay;\n\t}\n};\n\nexport let updateOverlay = {\n\t'bar': (unit, overlay) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'rect') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet attributes = ['x', 'y', 'width', 'height'];\n\t\tObject.values(unit.attributes)\n\t\t\t.filter(attr => attributes.includes(attr.name) && attr.specified)\n\t\t\t.map(attr => {\n\t\t\t\toverlay.setAttribute(attr.name, attr.nodeValue);\n\t\t\t});\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t},\n\n\t'dot': (unit, overlay) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'circle') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet attributes = ['cx', 'cy'];\n\t\tObject.values(unit.attributes)\n\t\t\t.filter(attr => attributes.includes(attr.name) && attr.specified)\n\t\t\t.map(attr => {\n\t\t\t\toverlay.setAttribute(attr.name, attr.nodeValue);\n\t\t\t});\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t},\n\n\t'heat_square': (unit, overlay) => {\n\t\tlet transformValue;\n\t\tif(unit.nodeName !== 'circle') {\n\t\t\ttransformValue = unit.getAttribute('transform');\n\t\t\tunit = unit.childNodes[0];\n\t\t}\n\t\tlet attributes = ['cx', 'cy'];\n\t\tObject.values(unit.attributes)\n\t\t\t.filter(attr => attributes.includes(attr.name) && attr.specified)\n\t\t\t.map(attr => {\n\t\t\t\toverlay.setAttribute(attr.name, attr.nodeValue);\n\t\t\t});\n\n\t\tif(transformValue) {\n\t\t\toverlay.setAttribute('transform', transformValue);\n\t\t}\n\t},\n};\n","import { getBarHeightAndYAttr, getSplineCurvePointsStr } from './draw-utils';\n\nexport const UNIT_ANIM_DUR = 350;\nexport const PATH_ANIM_DUR = 350;\nexport const MARKER_LINE_ANIM_DUR = UNIT_ANIM_DUR;\nexport const REPLACE_ALL_NEW_DUR = 250;\n\nexport const STD_EASING = 'easein';\n\nexport function translate(unit, oldCoord, newCoord, duration) {\n\tlet old = typeof oldCoord === 'string' ? oldCoord : oldCoord.join(', ');\n\treturn [\n\t\tunit,\n\t\t{transform: newCoord.join(', ')},\n\t\tduration,\n\t\tSTD_EASING,\n\t\t\"translate\",\n\t\t{transform: old}\n\t];\n}\n\nexport function translateVertLine(xLine, newX, oldX) {\n\treturn translate(xLine, [oldX, 0], [newX, 0], MARKER_LINE_ANIM_DUR);\n}\n\nexport function translateHoriLine(yLine, newY, oldY) {\n\treturn translate(yLine, [0, oldY], [0, newY], MARKER_LINE_ANIM_DUR);\n}\n\nexport function animateRegion(rectGroup, newY1, newY2, oldY2) {\n\tlet newHeight = newY1 - newY2;\n\tlet rect = rectGroup.childNodes[0];\n\tlet width = rect.getAttribute(\"width\");\n\tlet rectAnim = [\n\t\trect,\n\t\t{ height: newHeight, 'stroke-dasharray': `${width}, ${newHeight}` },\n\t\tMARKER_LINE_ANIM_DUR,\n\t\tSTD_EASING\n\t];\n\n\tlet groupAnim = translate(rectGroup, [0, oldY2], [0, newY2], MARKER_LINE_ANIM_DUR);\n\treturn [rectAnim, groupAnim];\n}\n\nexport function animateBar(bar, x, yTop, width, offset=0, meta={}) {\n\tlet [height, y] = getBarHeightAndYAttr(yTop, meta.zeroLine);\n\ty -= offset;\n\tif(bar.nodeName !== 'rect') {\n\t\tlet rect = bar.childNodes[0];\n\t\tlet rectAnim = [\n\t\t\trect,\n\t\t\t{width: width, height: height},\n\t\t\tUNIT_ANIM_DUR,\n\t\t\tSTD_EASING\n\t\t];\n\n\t\tlet oldCoordStr = bar.getAttribute(\"transform\").split(\"(\")[1].slice(0, -1);\n\t\tlet groupAnim = translate(bar, oldCoordStr, [x, y], MARKER_LINE_ANIM_DUR);\n\t\treturn [rectAnim, groupAnim];\n\t} else {\n\t\treturn [[bar, {width: width, height: height, x: x, y: y}, UNIT_ANIM_DUR, STD_EASING]];\n\t}\n\t// bar.animate({height: args.newHeight, y: yTop}, UNIT_ANIM_DUR, mina.easein);\n}\n\nexport function animateDot(dot, x, y) {\n\tif(dot.nodeName !== 'circle') {\n\t\tlet oldCoordStr = dot.getAttribute(\"transform\").split(\"(\")[1].slice(0, -1);\n\t\tlet groupAnim = translate(dot, oldCoordStr, [x, y], MARKER_LINE_ANIM_DUR);\n\t\treturn [groupAnim];\n\t} else {\n\t\treturn [[dot, {cx: x, cy: y}, UNIT_ANIM_DUR, STD_EASING]];\n\t}\n\t// dot.animate({cy: yTop}, UNIT_ANIM_DUR, mina.easein);\n}\n\nexport function animatePath(paths, newXList, newYList, zeroLine, spline) {\n\tlet pathComponents = [];\n\tlet pointsStr = newYList.map((y, i) => (newXList[i] + ',' + y)).join(\"L\");\n\n\tif (spline)\n\t\tpointsStr = getSplineCurvePointsStr(newXList, newYList);\n\n\tconst animPath = [paths.path, {d:\"M\" + pointsStr}, PATH_ANIM_DUR, STD_EASING];\n\tpathComponents.push(animPath);\n\n\tif(paths.region) {\n\t\tlet regStartPt = `${newXList[0]},${zeroLine}L`;\n\t\tlet regEndPt = `L${newXList.slice(-1)[0]}, ${zeroLine}`;\n\n\t\tconst animRegion = [\n\t\t\tpaths.region,\n\t\t\t{d:\"M\" + regStartPt + pointsStr + regEndPt},\n\t\t\tPATH_ANIM_DUR,\n\t\t\tSTD_EASING\n\t\t];\n\t\tpathComponents.push(animRegion);\n\t}\n\n\treturn pathComponents;\n}\n\nexport function animatePathStr(oldPath, pathStr) {\n\treturn [oldPath, {d: pathStr}, UNIT_ANIM_DUR, STD_EASING];\n}\n","// Leveraging SMIL Animations\n\nimport { REPLACE_ALL_NEW_DUR } from './animate';\n\nconst EASING = {\n\tease: \"0.25 0.1 0.25 1\",\n\tlinear: \"0 0 1 1\",\n\t// easein: \"0.42 0 1 1\",\n\teasein: \"0.1 0.8 0.2 1\",\n\teaseout: \"0 0 0.58 1\",\n\teaseinout: \"0.42 0 0.58 1\"\n};\n\nfunction animateSVGElement(element, props, dur, easingType=\"linear\", type=undefined, oldValues={}) {\n\n\tlet animElement = element.cloneNode(true);\n\tlet newElement = element.cloneNode(true);\n\n\tfor(var attributeName in props) {\n\t\tlet animateElement;\n\t\tif(attributeName === 'transform') {\n\t\t\tanimateElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animateTransform\");\n\t\t} else {\n\t\t\tanimateElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"animate\");\n\t\t}\n\t\tlet currentValue = oldValues[attributeName] || element.getAttribute(attributeName);\n\t\tlet value = props[attributeName];\n\n\t\tlet animAttr = {\n\t\t\tattributeName: attributeName,\n\t\t\tfrom: currentValue,\n\t\t\tto: value,\n\t\t\tbegin: \"0s\",\n\t\t\tdur: dur/1000 + \"s\",\n\t\t\tvalues: currentValue + \";\" + value,\n\t\t\tkeySplines: EASING[easingType],\n\t\t\tkeyTimes: \"0;1\",\n\t\t\tcalcMode: \"spline\",\n\t\t\tfill: 'freeze'\n\t\t};\n\n\t\tif(type) {\n\t\t\tanimAttr[\"type\"] = type;\n\t\t}\n\n\t\tfor (var i in animAttr) {\n\t\t\tanimateElement.setAttribute(i, animAttr[i]);\n\t\t}\n\n\t\tanimElement.appendChild(animateElement);\n\n\t\tif(type) {\n\t\t\tnewElement.setAttribute(attributeName, `translate(${value})`);\n\t\t} else {\n\t\t\tnewElement.setAttribute(attributeName, value);\n\t\t}\n\t}\n\n\treturn [animElement, newElement];\n}\n\nexport function transform(element, style) { // eslint-disable-line no-unused-vars\n\telement.style.transform = style;\n\telement.style.webkitTransform = style;\n\telement.style.msTransform = style;\n\telement.style.mozTransform = style;\n\telement.style.oTransform = style;\n}\n\nfunction animateSVG(svgContainer, elements) {\n\tlet newElements = [];\n\tlet animElements = [];\n\n\telements.map(element => {\n\t\tlet unit = element[0];\n\t\tlet parent = unit.parentNode;\n\n\t\tlet animElement, newElement;\n\n\t\telement[0] = unit;\n\t\t[animElement, newElement] = animateSVGElement(...element);\n\n\t\tnewElements.push(newElement);\n\t\tanimElements.push([animElement, parent]);\n\t\t\n\t\tif (parent) {\n\t\t\tparent.replaceChild(animElement, unit);\n\t\t}\n\t});\n\n\tlet animSvg = svgContainer.cloneNode(true);\n\n\tanimElements.map((animElement, i) => {\n\t\tif (animElement[1]) {\n\t\t\tanimElement[1].replaceChild(newElements[i], animElement[0]);\n\t\t\telements[i][0] = newElements[i];\n\t\t}\n\t});\n\n\treturn animSvg;\n}\n\nexport function runSMILAnimation(parent, svgElement, elementsToAnimate) {\n\tif(elementsToAnimate.length === 0) return;\n\n\tlet animSvgElement = animateSVG(svgElement, elementsToAnimate);\n\tif(svgElement.parentNode == parent) {\n\t\tparent.removeChild(svgElement);\n\t\tparent.appendChild(animSvgElement);\n\n\t}\n\n\t// Replace the new svgElement (data has already been replaced)\n\tsetTimeout(() => {\n\t\tif(animSvgElement.parentNode == parent) {\n\t\t\tparent.removeChild(animSvgElement);\n\t\t\tparent.appendChild(svgElement);\n\t\t}\n\t}, REPLACE_ALL_NEW_DUR);\n}\n","import { $ } from '../utils/dom';\nimport { CSSTEXT } from '../../css/chartsCss';\n\nexport function downloadFile(filename, data) {\n\tvar a = document.createElement('a');\n\ta.style = \"display: none\";\n\tvar blob = new Blob(data, {type: \"image/svg+xml; charset=utf-8\"});\n\tvar url = window.URL.createObjectURL(blob);\n\ta.href = url;\n\ta.download = filename;\n\tdocument.body.appendChild(a);\n\ta.click();\n\tsetTimeout(function(){\n\t\tdocument.body.removeChild(a);\n\t\twindow.URL.revokeObjectURL(url);\n\t}, 300);\n}\n\nexport function prepareForExport(svg) {\n\tlet clone = svg.cloneNode(true);\n\tclone.classList.add('chart-container');\n\tclone.setAttribute('xmlns', \"http://www.w3.org/2000/svg\");\n\tclone.setAttribute('xmlns:xlink', \"http://www.w3.org/1999/xlink\");\n\tlet styleEl = $.create('style', {\n\t\t'innerHTML': CSSTEXT\n\t});\n\tclone.insertBefore(styleEl, clone.firstChild);\n\n\tlet container = $.create('div');\n\tcontainer.appendChild(clone);\n\n\treturn container.innerHTML;\n}\n","// Playing around with dates\n\nexport const NO_OF_YEAR_MONTHS = 12;\nexport const NO_OF_DAYS_IN_WEEK = 7;\nexport const DAYS_IN_YEAR = 375;\nexport const NO_OF_MILLIS = 1000;\nexport const SEC_IN_DAY = 86400;\n\nexport const MONTH_NAMES = [\"January\", \"February\", \"March\", \"April\", \"May\",\n\t\"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nexport const MONTH_NAMES_SHORT = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n\t\"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nexport const DAY_NAMES_SHORT = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nexport const DAY_NAMES = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\",\n\t\"Thursday\", \"Friday\", \"Saturday\"];\n\n// https://stackoverflow.com/a/11252167/6495043\nfunction treatAsUtc(date) {\n\tlet result = new Date(date);\n\tresult.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n\treturn result;\n}\n\nexport function getYyyyMmDd(date) {\n\tlet dd = date.getDate();\n\tlet mm = date.getMonth() + 1; // getMonth() is zero-based\n\treturn [\n\t\tdate.getFullYear(),\n\t\t(mm>9 ? '' : '0') + mm,\n\t\t(dd>9 ? '' : '0') + dd\n\t].join('-');\n}\n\nexport function clone(date) {\n\treturn new Date(date.getTime());\n}\n\nexport function timestampSec(date) {\n\treturn date.getTime()/NO_OF_MILLIS;\n}\n\nexport function timestampToMidnight(timestamp, roundAhead = false) {\n\tlet midnightTs = Math.floor(timestamp - (timestamp % SEC_IN_DAY));\n\tif(roundAhead) {\n\t\treturn midnightTs + SEC_IN_DAY;\n\t}\n\treturn midnightTs;\n}\n\n// export function getMonthsBetween(startDate, endDate) {}\n\nexport function getWeeksBetween(startDate, endDate) {\n\tlet weekStartDate = setDayToSunday(startDate);\n\treturn Math.ceil(getDaysBetween(weekStartDate, endDate) / NO_OF_DAYS_IN_WEEK);\n}\n\nexport function getDaysBetween(startDate, endDate) {\n\tlet millisecondsPerDay = SEC_IN_DAY * NO_OF_MILLIS;\n\treturn (treatAsUtc(endDate) - treatAsUtc(startDate)) / millisecondsPerDay;\n}\n\nexport function areInSameMonth(startDate, endDate) {\n\treturn startDate.getMonth() === endDate.getMonth()\n\t\t&& startDate.getFullYear() === endDate.getFullYear();\n}\n\nexport function getMonthName(i, short=false) {\n\tlet monthName = MONTH_NAMES[i];\n\treturn short ? monthName.slice(0, 3) : monthName;\n}\n\nexport function getLastDateInMonth (month, year) {\n\treturn new Date(year, month + 1, 0); // 0: last day in previous month\n}\n\n// mutates\nexport function setDayToSunday(date) {\n\tlet newDate = clone(date);\n\tconst day = newDate.getDay();\n\tif(day !== 0) {\n\t\taddDays(newDate, (-1) * day);\n\t}\n\treturn newDate;\n}\n\n// mutates\nexport function addDays(date, numberOfDays) {\n\tdate.setDate(date.getDate() + numberOfDays);\n}\n","import { makeSVGGroup } from '../utils/draw';\nimport { makeText, makePath, xLine, yLine, yMarker, yRegion, datasetBar, datasetDot, percentageBar, getPaths, heatSquare } from '../utils/draw';\nimport { equilizeNoOfElements } from '../utils/draw-utils';\nimport { translateHoriLine, translateVertLine, animateRegion, animateBar,\n\tanimateDot, animatePath, animatePathStr } from '../utils/animate';\nimport { getMonthName } from '../utils/date-utils';\n\nclass ChartComponent {\n\tconstructor({\n\t\tlayerClass = '',\n\t\tlayerTransform = '',\n\t\tconstants,\n\n\t\tgetData,\n\t\tmakeElements,\n\t\tanimateElements\n\t}) {\n\t\tthis.layerTransform = layerTransform;\n\t\tthis.constants = constants;\n\n\t\tthis.makeElements = makeElements;\n\t\tthis.getData = getData;\n\n\t\tthis.animateElements = animateElements;\n\n\t\tthis.store = [];\n\t\tthis.labels = [];\n\n\t\tthis.layerClass = layerClass;\n\t\tthis.layerClass = typeof(this.layerClass) === 'function'\n\t\t\t? this.layerClass() : this.layerClass;\n\n\t\tthis.refresh();\n\t}\n\n\trefresh(data) {\n\t\tthis.data = data || this.getData();\n\t}\n\n\tsetup(parent) {\n\t\tthis.layer = makeSVGGroup(this.layerClass, this.layerTransform, parent);\n\t}\n\n\tmake() {\n\t\tthis.render(this.data);\n\t\tthis.oldData = this.data;\n\t}\n\n\trender(data) {\n\t\tthis.store = this.makeElements(data);\n\n\t\tthis.layer.textContent = '';\n\t\tthis.store.forEach(element => {\n\t\t\tthis.layer.appendChild(element);\n\t\t});\n\t\tthis.labels.forEach(element => {\n\t\t\tthis.layer.appendChild(element);\n\t\t});\n\t}\n\n\tupdate(animate = true) {\n\t\tthis.refresh();\n\t\tlet animateElements = [];\n\t\tif(animate) {\n\t\t\tanimateElements = this.animateElements(this.data) || [];\n\t\t}\n\t\treturn animateElements;\n\t}\n}\n\nlet componentConfigs = {\n\tdonutSlices: {\n\t\tlayerClass: 'donut-slices',\n\t\tmakeElements(data) {\n\t\t\treturn data.sliceStrings.map((s, i) => {\n\t\t\t\tlet slice = makePath(s, 'donut-path', data.colors[i], 'none', data.strokeWidth);\n\t\t\t\tslice.style.transition = 'transform .3s;';\n\t\t\t\treturn slice;\n\t\t\t});\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\treturn this.store.map((slice, i) => animatePathStr(slice, newData.sliceStrings[i]));\n\t\t},\n\t},\n\tpieSlices: {\n\t\tlayerClass: 'pie-slices',\n\t\tmakeElements(data) {\n\t\t\treturn data.sliceStrings.map((s, i) =>{\n\t\t\t\tlet slice = makePath(s, 'pie-path', 'none', data.colors[i]);\n\t\t\t\tslice.style.transition = 'transform .3s;';\n\t\t\t\treturn slice;\n\t\t\t});\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\treturn this.store.map((slice, i) =>\n\t\t\t\tanimatePathStr(slice, newData.sliceStrings[i])\n\t\t\t);\n\t\t}\n\t},\n\tpercentageBars: {\n\t\tlayerClass: 'percentage-bars',\n\t\tmakeElements(data) {\n\t\t\treturn data.xPositions.map((x, i) =>{\n\t\t\t\tlet y = 0;\n\t\t\t\tlet bar = percentageBar(x, y, data.widths[i],\n\t\t\t\t\tthis.constants.barHeight, this.constants.barDepth, data.colors[i]);\n\t\t\t\treturn bar;\n\t\t\t});\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\tif(newData) return [];\n\t\t}\n\t},\n\tyAxis: {\n\t\tlayerClass: 'y axis',\n\t\tmakeElements(data) {\n\t\t\treturn data.positions.map((position, i) =>\n\t\t\t\tyLine(position, data.labels[i], this.constants.width,\n\t\t\t\t\t{mode: this.constants.mode, pos: this.constants.pos, shortenNumbers: this.constants.shortenNumbers})\n\t\t\t);\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\tlet newPos = newData.positions;\n\t\t\tlet newLabels = newData.labels;\n\t\t\tlet oldPos = this.oldData.positions;\n\t\t\tlet oldLabels = this.oldData.labels;\n\n\t\t\t[oldPos, newPos] = equilizeNoOfElements(oldPos, newPos);\n\t\t\t[oldLabels, newLabels] = equilizeNoOfElements(oldLabels, newLabels);\n\n\t\t\tthis.render({\n\t\t\t\tpositions: oldPos,\n\t\t\t\tlabels: newLabels\n\t\t\t});\n\n\t\t\treturn this.store.map((line, i) => {\n\t\t\t\treturn translateHoriLine(\n\t\t\t\t\tline, newPos[i], oldPos[i]\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\n\txAxis: {\n\t\tlayerClass: 'x axis',\n\t\tmakeElements(data) {\n\t\t\treturn data.positions.map((position, i) =>\n\t\t\t\txLine(position, data.calcLabels[i], this.constants.height,\n\t\t\t\t\t{mode: this.constants.mode, pos: this.constants.pos})\n\t\t\t);\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\tlet newPos = newData.positions;\n\t\t\tlet newLabels = newData.calcLabels;\n\t\t\tlet oldPos = this.oldData.positions;\n\t\t\tlet oldLabels = this.oldData.calcLabels;\n\n\t\t\t[oldPos, newPos] = equilizeNoOfElements(oldPos, newPos);\n\t\t\t[oldLabels, newLabels] = equilizeNoOfElements(oldLabels, newLabels);\n\n\t\t\tthis.render({\n\t\t\t\tpositions: oldPos,\n\t\t\t\tcalcLabels: newLabels\n\t\t\t});\n\n\t\t\treturn this.store.map((line, i) => {\n\t\t\t\treturn translateVertLine(\n\t\t\t\t\tline, newPos[i], oldPos[i]\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\n\tyMarkers: {\n\t\tlayerClass: 'y-markers',\n\t\tmakeElements(data) {\n\t\t\treturn data.map(m =>\n\t\t\t\tyMarker(m.position, m.label, this.constants.width,\n\t\t\t\t\t{labelPos: m.options.labelPos, mode: 'span', lineType: 'dashed'})\n\t\t\t);\n\t\t},\n\t\tanimateElements(newData) {\n\t\t\t[this.oldData, newData] = equilizeNoOfElements(this.oldData, newData);\n\n\t\t\tlet newPos = newData.map(d => d.position);\n\t\t\tlet newLabels = newData.map(d => d.label);\n\t\t\tlet newOptions = newData.map(d => d.options);\n\n\t\t\tlet oldPos = this.oldData.map(d => d.position);\n\n\t\t\tthis.render(oldPos.map((pos, i) => {\n\t\t\t\treturn {\n\t\t\t\t\tposition: oldPos[i],\n\t\t\t\t\tlabel: newLabels[i],\n\t\t\t\t\toptions: newOptions[i]\n\t\t\t\t};\n\t\t\t}));\n\n\t\t\treturn this.store.map((line, i) => {\n\t\t\t\treturn translateHoriLine(\n\t\t\t\t\tline, newPos[i], oldPos[i]\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t},\n\n\tyRegions: {\n\t\tlayerClass: 'y-regions',\n\t\tmakeElements(data) {\n\t\t\treturn data.map(r =>\n\t\t\t\tyRegion(r.startPos, r.endPos, this.constants.width,\n\t\t\t\t\tr.label, {labelPos: r.options.labelPos})\n\t\t\t);\n\t\t},\n\t\tanimateElements(newData) {\n\t\t\t[this.oldData, newData] = equilizeNoOfElements(this.oldData, newData);\n\n\t\t\tlet newPos = newData.map(d => d.endPos);\n\t\t\tlet newLabels = newData.map(d => d.label);\n\t\t\tlet newStarts = newData.map(d => d.startPos);\n\t\t\tlet newOptions = newData.map(d => d.options);\n\n\t\t\tlet oldPos = this.oldData.map(d => d.endPos);\n\t\t\tlet oldStarts = this.oldData.map(d => d.startPos);\n\n\t\t\tthis.render(oldPos.map((pos, i) => {\n\t\t\t\treturn {\n\t\t\t\t\tstartPos: oldStarts[i],\n\t\t\t\t\tendPos: oldPos[i],\n\t\t\t\t\tlabel: newLabels[i],\n\t\t\t\t\toptions: newOptions[i]\n\t\t\t\t};\n\t\t\t}));\n\n\t\t\tlet animateElements = [];\n\n\t\t\tthis.store.map((rectGroup, i) => {\n\t\t\t\tanimateElements = animateElements.concat(animateRegion(\n\t\t\t\t\trectGroup, newStarts[i], newPos[i], oldPos[i]\n\t\t\t\t));\n\t\t\t});\n\n\t\t\treturn animateElements;\n\t\t}\n\t},\n\n\theatDomain: {\n\t\tlayerClass: function() { return 'heat-domain domain-' + this.constants.index; },\n\t\tmakeElements(data) {\n\t\t\tlet {index, colWidth, rowHeight, squareSize, radius, xTranslate} = this.constants;\n\t\t\tlet monthNameHeight = -12;\n\t\t\tlet x = xTranslate, y = 0;\n\n\t\t\tthis.serializedSubDomains = [];\n\n\t\t\tdata.cols.map((week, weekNo) => {\n\t\t\t\tif(weekNo === 1) {\n\t\t\t\t\tthis.labels.push(\n\t\t\t\t\t\tmakeText('domain-name', x, monthNameHeight, getMonthName(index, true).toUpperCase(),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfontSize: 9\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tweek.map((day, i) => {\n\t\t\t\t\tif(day.fill) {\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t'data-date': day.yyyyMmDd,\n\t\t\t\t\t\t\t'data-value': day.dataValue,\n\t\t\t\t\t\t\t'data-day': i\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlet square = heatSquare('day', x, y, squareSize, radius, day.fill, data);\n\t\t\t\t\t\tthis.serializedSubDomains.push(square);\n\t\t\t\t\t}\n\t\t\t\t\ty += rowHeight;\n\t\t\t\t});\n\t\t\t\ty = 0;\n\t\t\t\tx += colWidth;\n\t\t\t});\n\n\t\t\treturn this.serializedSubDomains;\n\t\t},\n\n\t\tanimateElements(newData) {\n\t\t\tif(newData) return [];\n\t\t}\n\t},\n\n\tbarGraph: {\n\t\tlayerClass: function() { return 'dataset-units dataset-bars dataset-' + this.constants.index; },\n\t\tmakeElements(data) {\n\t\t\tlet c = this.constants;\n\t\t\tthis.unitType = 'bar';\n\t\t\tthis.units = data.yPositions.map((y, j) => {\n\t\t\t\treturn datasetBar(\n\t\t\t\t\tdata.xPositions[j],\n\t\t\t\t\ty,\n\t\t\t\t\tdata.barWidth,\n\t\t\t\t\tc.color,\n\t\t\t\t\tdata.labels[j],\n\t\t\t\t\tj,\n\t\t\t\t\tdata.offsets[j],\n\t\t\t\t\t{\n\t\t\t\t\t\tzeroLine: data.zeroLine,\n\t\t\t\t\t\tbarsWidth: data.barsWidth,\n\t\t\t\t\t\tminHeight: c.minHeight\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn this.units;\n\t\t},\n\t\tanimateElements(newData) {\n\t\t\tlet newXPos = newData.xPositions;\n\t\t\tlet newYPos = newData.yPositions;\n\t\t\tlet newOffsets = newData.offsets;\n\t\t\tlet newLabels = newData.labels;\n\n\t\t\tlet oldXPos = this.oldData.xPositions;\n\t\t\tlet oldYPos = this.oldData.yPositions;\n\t\t\tlet oldOffsets = this.oldData.offsets;\n\t\t\tlet oldLabels = this.oldData.labels;\n\n\t\t\t[oldXPos, newXPos] = equilizeNoOfElements(oldXPos, newXPos);\n\t\t\t[oldYPos, newYPos] = equilizeNoOfElements(oldYPos, newYPos);\n\t\t\t[oldOffsets, newOffsets] = equilizeNoOfElements(oldOffsets, newOffsets);\n\t\t\t[oldLabels, newLabels] = equilizeNoOfElements(oldLabels, newLabels);\n\n\t\t\tthis.render({\n\t\t\t\txPositions: oldXPos,\n\t\t\t\tyPositions: oldYPos,\n\t\t\t\toffsets: oldOffsets,\n\t\t\t\tlabels: newLabels,\n\n\t\t\t\tzeroLine: this.oldData.zeroLine,\n\t\t\t\tbarsWidth: this.oldData.barsWidth,\n\t\t\t\tbarWidth: this.oldData.barWidth,\n\t\t\t});\n\n\t\t\tlet animateElements = [];\n\n\t\t\tthis.store.map((bar, i) => {\n\t\t\t\tanimateElements = animateElements.concat(animateBar(\n\t\t\t\t\tbar, newXPos[i], newYPos[i], newData.barWidth, newOffsets[i],\n\t\t\t\t\t{zeroLine: newData.zeroLine}\n\t\t\t\t));\n\t\t\t});\n\n\t\t\treturn animateElements;\n\t\t}\n\t},\n\n\tlineGraph: {\n\t\tlayerClass: function() { return 'dataset-units dataset-line dataset-' + this.constants.index; },\n\t\tmakeElements(data) {\n\t\t\tlet c = this.constants;\n\t\t\tthis.unitType = 'dot';\n\t\t\tthis.paths = {};\n\t\t\tif(!c.hideLine) {\n\t\t\t\tthis.paths = getPaths(\n\t\t\t\t\tdata.xPositions,\n\t\t\t\t\tdata.yPositions,\n\t\t\t\t\tc.color,\n\t\t\t\t\t{\n\t\t\t\t\t\theatline: c.heatline,\n\t\t\t\t\t\tregionFill: c.regionFill,\n\t\t\t\t\t\tspline: c.spline\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tsvgDefs: c.svgDefs,\n\t\t\t\t\t\tzeroLine: data.zeroLine\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthis.units = [];\n\t\t\tif(!c.hideDots) {\n\t\t\t\tthis.units = data.yPositions.map((y, j) => {\n\t\t\t\t\treturn datasetDot(\n\t\t\t\t\t\tdata.xPositions[j],\n\t\t\t\t\t\ty,\n\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\tc.color,\n\t\t\t\t\t\t(c.valuesOverPoints ? data.values[j] : ''),\n\t\t\t\t\t\tj\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn Object.values(this.paths).concat(this.units);\n\t\t},\n\t\tanimateElements(newData) {\n\t\t\tlet newXPos = newData.xPositions;\n\t\t\tlet newYPos = newData.yPositions;\n\t\t\tlet newValues = newData.values;\n\n\t\t\tlet oldXPos = this.oldData.xPositions;\n\t\t\tlet oldYPos = this.oldData.yPositions;\n\t\t\tlet oldValues = this.oldData.values;\n\n\t\t\t[oldXPos, newXPos] = equilizeNoOfElements(oldXPos, newXPos);\n\t\t\t[oldYPos, newYPos] = equilizeNoOfElements(oldYPos, newYPos);\n\t\t\t[oldValues, newValues] = equilizeNoOfElements(oldValues, newValues);\n\n\t\t\tthis.render({\n\t\t\t\txPositions: oldXPos,\n\t\t\t\tyPositions: oldYPos,\n\t\t\t\tvalues: newValues,\n\n\t\t\t\tzeroLine: this.oldData.zeroLine,\n\t\t\t\tradius: this.oldData.radius,\n\t\t\t});\n\n\t\t\tlet animateElements = [];\n\n\t\t\tif(Object.keys(this.paths).length) {\n\t\t\t\tanimateElements = animateElements.concat(animatePath(\n\t\t\t\t\tthis.paths, newXPos, newYPos, newData.zeroLine, this.constants.spline));\n\t\t\t}\n\n\t\t\tif(this.units.length) {\n\t\t\t\tthis.units.map((dot, i) => {\n\t\t\t\t\tanimateElements = animateElements.concat(animateDot(\n\t\t\t\t\t\tdot, newXPos[i], newYPos[i]));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn animateElements;\n\t\t}\n\t}\n};\n\nexport function getComponent(name, constants, getData) {\n\tlet keys = Object.keys(componentConfigs).filter(k => name.includes(k));\n\tlet config = componentConfigs[keys[0]];\n\tObject.assign(config, {\n\t\tconstants: constants,\n\t\tgetData: getData\n\t});\n\treturn new ChartComponent(config);\n}\n","import { floatTwo } from './helpers';\n\nfunction normalize(x) {\n\t// Calculates mantissa and exponent of a number\n\t// Returns normalized number and exponent\n\t// https://stackoverflow.com/q/9383593/6495043\n\n\tif(x===0) {\n\t\treturn [0, 0];\n\t}\n\tif(isNaN(x)) {\n\t\treturn {mantissa: -6755399441055744, exponent: 972};\n\t}\n\tvar sig = x > 0 ? 1 : -1;\n\tif(!isFinite(x)) {\n\t\treturn {mantissa: sig * 4503599627370496, exponent: 972};\n\t}\n\n\tx = Math.abs(x);\n\tvar exp = Math.floor(Math.log10(x));\n\tvar man = x/Math.pow(10, exp);\n\n\treturn [sig * man, exp];\n}\n\nfunction getChartRangeIntervals(max, min=0) {\n\tlet upperBound = Math.ceil(max);\n\tlet lowerBound = Math.floor(min);\n\tlet range = upperBound - lowerBound;\n\n\tlet noOfParts = range;\n\tlet partSize = 1;\n\n\t// To avoid too many partitions\n\tif(range > 5) {\n\t\tif(range % 2 !== 0) {\n\t\t\tupperBound++;\n\t\t\t// Recalc range\n\t\t\trange = upperBound - lowerBound;\n\t\t}\n\t\tnoOfParts = range/2;\n\t\tpartSize = 2;\n\t}\n\n\t// Special case: 1 and 2\n\tif(range <= 2) {\n\t\tnoOfParts = 4;\n\t\tpartSize = range/noOfParts;\n\t}\n\n\t// Special case: 0\n\tif(range === 0) {\n\t\tnoOfParts = 5;\n\t\tpartSize = 1;\n\t}\n\n\tlet intervals = [];\n\tfor(var i = 0; i <= noOfParts; i++){\n\t\tintervals.push(lowerBound + partSize * i);\n\t}\n\treturn intervals;\n}\n\nfunction getChartIntervals(maxValue, minValue=0) {\n\tlet [normalMaxValue, exponent] = normalize(maxValue);\n\tlet normalMinValue = minValue ? minValue/Math.pow(10, exponent): 0;\n\n\t// Allow only 7 significant digits\n\tnormalMaxValue = normalMaxValue.toFixed(6);\n\n\tlet intervals = getChartRangeIntervals(normalMaxValue, normalMinValue);\n\tintervals = intervals.map(value => value * Math.pow(10, exponent));\n\treturn intervals;\n}\n\nexport function calcChartIntervals(values, withMinimum=false) {\n\t//*** Where the magic happens ***\n\n\t// Calculates best-fit y intervals from given values\n\t// and returns the interval array\n\n\tlet maxValue = Math.max(...values);\n\tlet minValue = Math.min(...values);\n\n\t// Exponent to be used for pretty print\n\tlet exponent = 0, intervals = []; // eslint-disable-line no-unused-vars\n\n\tfunction getPositiveFirstIntervals(maxValue, absMinValue) {\n\t\tlet intervals = getChartIntervals(maxValue);\n\n\t\tlet intervalSize = intervals[1] - intervals[0];\n\n\t\t// Then unshift the negative values\n\t\tlet value = 0;\n\t\tfor(var i = 1; value < absMinValue; i++) {\n\t\t\tvalue += intervalSize;\n\t\t\tintervals.unshift((-1) * value);\n\t\t}\n\t\treturn intervals;\n\t}\n\n\t// CASE I: Both non-negative\n\n\tif(maxValue >= 0 && minValue >= 0) {\n\t\texponent = normalize(maxValue)[1];\n\t\tif(!withMinimum) {\n\t\t\tintervals = getChartIntervals(maxValue);\n\t\t} else {\n\t\t\tintervals = getChartIntervals(maxValue, minValue);\n\t\t}\n\t}\n\n\t// CASE II: Only minValue negative\n\n\telse if(maxValue > 0 && minValue < 0) {\n\t\t// `withMinimum` irrelevant in this case,\n\t\t// We'll be handling both sides of zero separately\n\t\t// (both starting from zero)\n\t\t// Because ceil() and floor() behave differently\n\t\t// in those two regions\n\n\t\tlet absMinValue = Math.abs(minValue);\n\n\t\tif(maxValue >= absMinValue) {\n\t\t\texponent = normalize(maxValue)[1];\n\t\t\tintervals = getPositiveFirstIntervals(maxValue, absMinValue);\n\t\t} else {\n\t\t\t// Mirror: maxValue => absMinValue, then change sign\n\t\t\texponent = normalize(absMinValue)[1];\n\t\t\tlet posIntervals = getPositiveFirstIntervals(absMinValue, maxValue);\n\t\t\tintervals = posIntervals.reverse().map(d => d * (-1));\n\t\t}\n\n\t}\n\n\t// CASE III: Both non-positive\n\n\telse if(maxValue <= 0 && minValue <= 0) {\n\t\t// Mirrored Case I:\n\t\t// Work with positives, then reverse the sign and array\n\n\t\tlet pseudoMaxValue = Math.abs(minValue);\n\t\tlet pseudoMinValue = Math.abs(maxValue);\n\n\t\texponent = normalize(pseudoMaxValue)[1];\n\t\tif(!withMinimum) {\n\t\t\tintervals = getChartIntervals(pseudoMaxValue);\n\t\t} else {\n\t\t\tintervals = getChartIntervals(pseudoMaxValue, pseudoMinValue);\n\t\t}\n\n\t\tintervals = intervals.reverse().map(d => d * (-1));\n\t}\n\n\treturn intervals;\n}\n\nexport function getZeroIndex(yPts) {\n\tlet zeroIndex;\n\tlet interval = getIntervalSize(yPts);\n\tif(yPts.indexOf(0) >= 0) {\n\t\t// the range has a given zero\n\t\t// zero-line on the chart\n\t\tzeroIndex = yPts.indexOf(0);\n\t} else if(yPts[0] > 0) {\n\t\t// Minimum value is positive\n\t\t// zero-line is off the chart: below\n\t\tlet min = yPts[0];\n\t\tzeroIndex = (-1) * min / interval;\n\t} else {\n\t\t// Maximum value is negative\n\t\t// zero-line is off the chart: above\n\t\tlet max = yPts[yPts.length - 1];\n\t\tzeroIndex = (-1) * max / interval + (yPts.length - 1);\n\t}\n\treturn zeroIndex;\n}\n\nexport function getRealIntervals(max, noOfIntervals, min = 0, asc = 1) {\n\tlet range = max - min;\n\tlet part = range * 1.0 / noOfIntervals;\n\tlet intervals = [];\n\n\tfor(var i = 0; i <= noOfIntervals; i++) {\n\t\tintervals.push(min + part * i);\n\t}\n\n\treturn asc ? intervals : intervals.reverse();\n}\n\nexport function getIntervalSize(orderedArray) {\n\treturn orderedArray[1] - orderedArray[0];\n}\n\nexport function getValueRange(orderedArray) {\n\treturn orderedArray[orderedArray.length-1] - orderedArray[0];\n}\n\nexport function scale(val, yAxis) {\n\treturn floatTwo(yAxis.zeroLine - val * yAxis.scaleMultiplier);\n}\n\nexport function isInRange(val, min, max) {\n\treturn val > min && val < max;\n}\n\nexport function isInRange2D(coord, minCoord, maxCoord) {\n\treturn isInRange(coord[0], minCoord[0], maxCoord[0])\n\t\t&& isInRange(coord[1], minCoord[1], maxCoord[1]);\n}\n\nexport function getClosestInArray(goal, arr, index = false) {\n\tlet closest = arr.reduce(function(prev, curr) {\n\t\treturn (Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev);\n\t}, []);\n\n\treturn index ? arr.indexOf(closest) : closest;\n}\n\nexport function calcDistribution(values, distributionSize) {\n\t// Assume non-negative values,\n\t// implying distribution minimum at zero\n\n\tlet dataMaxValue = Math.max(...values);\n\n\tlet distributionStep = 1 / (distributionSize - 1);\n\tlet distribution = [];\n\n\tfor(var i = 0; i < distributionSize; i++) {\n\t\tlet checkpoint = dataMaxValue * (distributionStep * i);\n\t\tdistribution.push(checkpoint);\n\t}\n\n\treturn distribution;\n}\n\nexport function getMaxCheckpoint(value, distribution) {\n\treturn distribution.filter(d => d < value).length;\n}\n","import { fillArray } from '../utils/helpers';\nimport { DEFAULT_AXIS_CHART_TYPE, AXIS_DATASET_CHART_TYPES, DEFAULT_CHAR_WIDTH } from '../utils/constants';\n\nexport function dataPrep(data, type) {\n\tdata.labels = data.labels || [];\n\n\tlet datasetLength = data.labels.length;\n\n\t// Datasets\n\tlet datasets = data.datasets;\n\tlet zeroArray = new Array(datasetLength).fill(0);\n\tif(!datasets) {\n\t\t// default\n\t\tdatasets = [{\n\t\t\tvalues: zeroArray\n\t\t}];\n\t}\n\n\tdatasets.map(d=> {\n\t\t// Set values\n\t\tif(!d.values) {\n\t\t\td.values = zeroArray;\n\t\t} else {\n\t\t\t// Check for non values\n\t\t\tlet vals = d.values;\n\t\t\tvals = vals.map(val => (!isNaN(val) ? val : 0));\n\n\t\t\t// Trim or extend\n\t\t\tif(vals.length > datasetLength) {\n\t\t\t\tvals = vals.slice(0, datasetLength);\n\t\t\t} else {\n\t\t\t\tvals = fillArray(vals, datasetLength - vals.length, 0);\n\t\t\t}\n\t\t\td.values = vals;\n\t\t}\n\n\t\t// Set type\n\t\tif(!d.chartType ) {\n\t\t\tif(!AXIS_DATASET_CHART_TYPES.includes(type)) type === DEFAULT_AXIS_CHART_TYPE;\n\t\t\td.chartType = type;\n\t\t}\n\n\t});\n\n\t// Markers\n\n\t// Regions\n\t// data.yRegions = data.yRegions || [];\n\tif(data.yRegions) {\n\t\tdata.yRegions.map(d => {\n\t\t\tif(d.end < d.start) {\n\t\t\t\t[d.start, d.end] = [d.end, d.start];\n\t\t\t}\n\t\t});\n\t}\n\n\treturn data;\n}\n\nexport function zeroDataPrep(realData) {\n\tlet datasetLength = realData.labels.length;\n\tlet zeroArray = new Array(datasetLength).fill(0);\n\n\tlet zeroData = {\n\t\tlabels: realData.labels.slice(0, -1),\n\t\tdatasets: realData.datasets.map(d => {\n\t\t\treturn {\n\t\t\t\tname: '',\n\t\t\t\tvalues: zeroArray.slice(0, -1),\n\t\t\t\tchartType: d.chartType\n\t\t\t};\n\t\t}),\n\t};\n\n\tif(realData.yMarkers) {\n\t\tzeroData.yMarkers = [\n\t\t\t{\n\t\t\t\tvalue: 0,\n\t\t\t\tlabel: ''\n\t\t\t}\n\t\t];\n\t}\n\n\tif(realData.yRegions) {\n\t\tzeroData.yRegions = [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tend: 0,\n\t\t\t\tlabel: ''\n\t\t\t}\n\t\t];\n\t}\n\n\treturn zeroData;\n}\n\nexport function getShortenedLabels(chartWidth, labels=[], isSeries=true) {\n\tlet allowedSpace = chartWidth / labels.length;\n\tif(allowedSpace <= 0) allowedSpace = 1;\n\tlet allowedLetters = allowedSpace / DEFAULT_CHAR_WIDTH;\n\n\tlet seriesMultiple;\n\tif(isSeries) {\n\t\t// Find the maximum label length for spacing calculations\n\t\tlet maxLabelLength = Math.max(...labels.map(label => label.length));\n\t\tseriesMultiple = Math.ceil(maxLabelLength/allowedLetters);\n\t}\n\n\tlet calcLabels = labels.map((label, i) => {\n\t\tlabel += \"\";\n\t\tif(label.length > allowedLetters) {\n\n\t\t\tif(!isSeries) {\n\t\t\t\tif(allowedLetters-3 > 0) {\n\t\t\t\t\tlabel = label.slice(0, allowedLetters-3) + \" ...\";\n\t\t\t\t} else {\n\t\t\t\t\tlabel = label.slice(0, allowedLetters) + '..';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(i % seriesMultiple !== 0) {\n\t\t\t\t\tlabel = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn label;\n\t});\n\n\treturn calcLabels;\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { $ } from '../utils/dom';\nimport { TOOLTIP_POINTER_TRIANGLE_HEIGHT } from '../utils/constants';\n\nexport default class SvgTip {\n\tconstructor({\n\t\tparent = null,\n\t\tcolors = []\n\t}) {\n\t\tthis.parent = parent;\n\t\tthis.colors = colors;\n\t\tthis.titleName = '';\n\t\tthis.titleValue = '';\n\t\tthis.listValues = [];\n\t\tthis.titleValueFirst = 0;\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.top = 0;\n\t\tthis.left = 0;\n\n\t\tthis.setup();\n\t}\n\n\tsetup() {\n\t\tthis.makeTooltip();\n\t}\n\n\trefresh() {\n\t\tthis.fill();\n\t\tthis.calcPosition();\n\t}\n\n\tmakeTooltip() {\n\t\tthis.container = $.create('div', {\n\t\t\tinside: this.parent,\n\t\t\tclassName: 'graph-svg-tip comparison',\n\t\t\tinnerHTML: `<span class=\"title\"></span>\n\t\t\t\t<ul class=\"data-point-list\"></ul>\n\t\t\t\t<div class=\"svg-pointer\"></div>`\n\t\t});\n\t\tthis.hideTip();\n\n\t\tthis.title = this.container.querySelector('.title');\n\t\tthis.dataPointList = this.container.querySelector('.data-point-list');\n\n\t\tthis.parent.addEventListener('mouseleave', () => {\n\t\t\tthis.hideTip();\n\t\t});\n\t}\n\n\tfill() {\n\t\tlet title;\n\t\tif(this.index) {\n\t\t\tthis.container.setAttribute('data-point-index', this.index);\n\t\t}\n\t\tif(this.titleValueFirst) {\n\t\t\ttitle = `<strong>${this.titleValue}</strong>${this.titleName}`;\n\t\t} else {\n\t\t\ttitle = `${this.titleName}<strong>${this.titleValue}</strong>`;\n\t\t}\n\t\tthis.title.innerHTML = title;\n\t\tthis.dataPointList.innerHTML = '';\n\n\t\tthis.listValues.map((set, i) => {\n\t\t\tconst color = this.colors[i] || 'black';\n\t\t\tlet value = set.formatted === 0 || set.formatted ? set.formatted : set.value;\n\n\t\t\tlet li = $.create('li', {\n\t\t\t\tstyles: {\n\t\t\t\t\t'border-top': `3px solid ${color}`\n\t\t\t\t},\n\t\t\t\tinnerHTML: `<strong style=\"display: block;\">${ value === 0 || value ? value : '' }</strong>\n\t\t\t\t\t${set.title ? set.title : '' }`\n\t\t\t});\n\n\t\t\tthis.dataPointList.appendChild(li);\n\t\t});\n\t}\n\n\tcalcPosition() {\n\t\tlet width = this.container.offsetWidth;\n\n\t\tthis.top = this.y - this.container.offsetHeight\n\t\t\t- TOOLTIP_POINTER_TRIANGLE_HEIGHT;\n\t\tthis.left = this.x - width/2;\n\t\tlet maxLeft = this.parent.offsetWidth - width;\n\n\t\tlet pointer = this.container.querySelector('.svg-pointer');\n\n\t\tif(this.left < 0) {\n\t\t\tpointer.style.left = `calc(50% - ${-1 * this.left}px)`;\n\t\t\tthis.left = 0;\n\t\t} else if(this.left > maxLeft) {\n\t\t\tlet delta = this.left - maxLeft;\n\t\t\tlet pointerOffset = `calc(50% + ${delta}px)`;\n\t\t\tpointer.style.left = pointerOffset;\n\n\t\t\tthis.left = maxLeft;\n\t\t} else {\n\t\t\tpointer.style.left = `50%`;\n\t\t}\n\t}\n\n\tsetValues(x, y, title = {}, listValues = [], index = -1) {\n\t\tthis.titleName = title.name;\n\t\tthis.titleValue = title.value;\n\t\tthis.listValues = listValues;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.titleValueFirst = title.valueFirst || 0;\n\t\tthis.index = index;\n\t\tthis.refresh();\n\t}\n\n\thideTip() {\n\t\tthis.container.style.top = '0px';\n\t\tthis.container.style.left = '0px';\n\t\tthis.container.style.opacity = '0';\n\t}\n\n\tshowTip() {\n\t\tthis.container.style.top = this.top + 'px';\n\t\tthis.container.style.left = this.left + 'px';\n\t\tthis.container.style.opacity = '1';\n\t}\n}\n","export const CSSTEXT = \".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}\";","import SvgTip from '../objects/SvgTip';\nimport { $, isElementInViewport, getElementContentWidth, isHidden } from '../utils/dom';\nimport { makeSVGContainer, makeSVGDefs, makeSVGGroup, makeText } from '../utils/draw';\nimport { BASE_MEASURES, getExtraHeight, getExtraWidth, getTopOffset, getLeftOffset,\n\tINIT_CHART_UPDATE_TIMEOUT, CHART_POST_ANIMATE_TIMEOUT, DEFAULT_COLORS} from '../utils/constants';\nimport { getColor, isValidColor } from '../utils/colors';\nimport { runSMILAnimation } from '../utils/animation';\nimport { downloadFile, prepareForExport } from '../utils/export';\nimport { deepClone } from  '../utils/helpers';\n\nexport default class BaseChart {\n\tconstructor(parent, options) {\n\t\t// deepclone options to avoid making changes to orignal object\n\t\toptions = deepClone(options);\n\n\t\tthis.parent = typeof parent === 'string'\n\t\t\t? document.querySelector(parent)\n\t\t\t: parent;\n\n\t\tif (!(this.parent instanceof HTMLElement)) {\n\t\t\tthrow new Error('No `parent` element to render on was provided.');\n\t\t}\n\n\t\tthis.rawChartArgs = options;\n\n\t\tthis.title = options.title || '';\n\t\tthis.type = options.type || '';\n\n\t\tthis.realData = this.prepareData(options.data);\n\t\tthis.data = this.prepareFirstData(this.realData);\n\n\t\tthis.colors = this.validateColors(options.colors, this.type);\n\n\t\tthis.config = {\n\t\t\tshowTooltip: 1, // calculate\n\t\t\tshowLegend: 1, // calculate\n\t\t\tisNavigable: options.isNavigable || 0,\n\t\t\tanimate: (typeof options.animate !== 'undefined') ? options.animate : 1,\n\t\t\ttruncateLegends: options.truncateLegends || 1\n\t\t};\n\n\t\tthis.measures = JSON.parse(JSON.stringify(BASE_MEASURES));\n\t\tlet m = this.measures;\n\t\tthis.setMeasures(options);\n\t\tif(!this.title.length) { m.titleHeight = 0; }\n\t\tif(!this.config.showLegend) m.legendHeight = 0;\n\t\tthis.argHeight = options.height || m.baseHeight;\n\n\t\tthis.state = {};\n\t\tthis.options = {};\n\n\t\tthis.initTimeout = INIT_CHART_UPDATE_TIMEOUT;\n\n\t\tif(this.config.isNavigable) {\n\t\t\tthis.overlays = [];\n\t\t}\n\n\t\tthis.configure(options);\n\t}\n\n\tprepareData(data) {\n\t\treturn data;\n\t}\n\n\tprepareFirstData(data) {\n\t\treturn data;\n\t}\n\n\tvalidateColors(colors, type) {\n\t\tconst validColors = [];\n\t\tcolors = (colors || []).concat(DEFAULT_COLORS[type]);\n\t\tcolors.forEach((string) => {\n\t\t\tconst color = getColor(string);\n\t\t\tif(!isValidColor(color)) {\n\t\t\t\tconsole.warn('\"' + string + '\" is not a valid color.');\n\t\t\t} else {\n\t\t\t\tvalidColors.push(color);\n\t\t\t}\n\t\t});\n\t\treturn validColors;\n\t}\n\n\tsetMeasures() {\n\t\t// Override measures, including those for title and legend\n\t\t// set config for legend and title\n\t}\n\n\tconfigure() {\n\t\tlet height = this.argHeight;\n\t\tthis.baseHeight = height;\n\t\tthis.height = height - getExtraHeight(this.measures);\n\n\t\t// Bind window events\n\t\tthis.boundDrawFn = () => this.draw(true);\n\t\tif (ResizeObserver) {\n\t\t\tthis.resizeObserver = new ResizeObserver(this.boundDrawFn);\n\t\t\tthis.resizeObserver.observe(this.parent);\n\t\t}\n\t\twindow.addEventListener('resize', this.boundDrawFn);\n\t\twindow.addEventListener('orientationchange', this.boundDrawFn);\n\t}\n\n\tdestroy() {\n\t\tif (this.resizeObserver) this.resizeObserver.disconnect();\n\t\twindow.removeEventListener('resize', this.boundDrawFn);\n\t\twindow.removeEventListener('orientationchange', this.boundDrawFn);\n\t}\n\n\t// Has to be called manually\n\tsetup() {\n\t\tthis.makeContainer();\n\t\tthis.updateWidth();\n\t\tthis.makeTooltip();\n\n\t\tthis.draw(false, true);\n\t}\n\n\tmakeContainer() {\n\t\t// Chart needs a dedicated parent element\n\t\tthis.parent.innerHTML = '';\n\n\t\tlet args = {\n\t\t\tinside: this.parent,\n\t\t\tclassName: 'chart-container'\n\t\t};\n\n\t\tif(this.independentWidth) {\n\t\t\targs.styles = { width: this.independentWidth + 'px' };\n\t\t}\n\n\t\tthis.container = $.create('div', args);\n\t}\n\n\tmakeTooltip() {\n\t\tthis.tip = new SvgTip({\n\t\t\tparent: this.container,\n\t\t\tcolors: this.colors\n\t\t});\n\t\tthis.bindTooltip();\n\t}\n\n\tbindTooltip() {}\n\n\tdraw(onlyWidthChange=false, init=false) {\n\t\tif (onlyWidthChange && isHidden(this.parent)) {\n\t\t\t// Don't update anything if the chart is hidden\n\t\t\treturn;\n\t\t}\n\t\tthis.updateWidth();\n\n\t\tthis.calc(onlyWidthChange);\n\t\tthis.makeChartArea();\n\t\tthis.setupComponents();\n\n\t\tthis.components.forEach(c => c.setup(this.drawArea));\n\t\t// this.components.forEach(c => c.make());\n\t\tthis.render(this.components, false);\n\n\t\tif(init) {\n\t\t\tthis.data = this.realData;\n\t\t\tsetTimeout(() => {this.update(this.data);}, this.initTimeout);\n\t\t}\n\n\t\tthis.renderLegend();\n\n\t\tthis.setupNavigation(init);\n\t}\n\n\tcalc() {} // builds state\n\n\tupdateWidth() {\n\t\tthis.baseWidth = getElementContentWidth(this.parent);\n\t\tthis.width = this.baseWidth - getExtraWidth(this.measures);\n\t}\n\n\tmakeChartArea() {\n\t\tif(this.svg) {\n\t\t\tthis.container.removeChild(this.svg);\n\t\t}\n\t\tlet m = this.measures;\n\n\t\tthis.svg = makeSVGContainer(\n\t\t\tthis.container,\n\t\t\t'frappe-chart chart',\n\t\t\tthis.baseWidth,\n\t\t\tthis.baseHeight\n\t\t);\n\t\tthis.svgDefs = makeSVGDefs(this.svg);\n\n\t\tif(this.title.length) {\n\t\t\tthis.titleEL = makeText(\n\t\t\t\t'title',\n\t\t\t\tm.margins.left,\n\t\t\t\tm.margins.top,\n\t\t\t\tthis.title,\n\t\t\t\t{\n\t\t\t\t\tfontSize: m.titleFontSize,\n\t\t\t\t\tfill: '#666666',\n\t\t\t\t\tdy: m.titleFontSize\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tlet top = getTopOffset(m);\n\t\tthis.drawArea = makeSVGGroup(\n\t\t\tthis.type + '-chart chart-draw-area',\n\t\t\t`translate(${getLeftOffset(m)}, ${top})`\n\t\t);\n\n\t\tif(this.config.showLegend) {\n\t\t\ttop += this.height + m.paddings.bottom;\n\t\t\tthis.legendArea = makeSVGGroup(\n\t\t\t\t'chart-legend',\n\t\t\t\t`translate(${getLeftOffset(m)}, ${top})`\n\t\t\t);\n\t\t}\n\n\t\tif(this.title.length) { this.svg.appendChild(this.titleEL); }\n\t\tthis.svg.appendChild(this.drawArea);\n\t\tif(this.config.showLegend) { this.svg.appendChild(this.legendArea); }\n\n\t\tthis.updateTipOffset(getLeftOffset(m), getTopOffset(m));\n\t}\n\n\tupdateTipOffset(x, y) {\n\t\tthis.tip.offset = {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\tsetupComponents() { this.components = new Map(); }\n\n\tupdate(data) {\n\t\tif(!data) {\n\t\t\tconsole.error('No data to update.');\n\t\t}\n\t\tthis.data = this.prepareData(data);\n\t\tthis.calc(); // builds state\n\t\tthis.render(this.components, this.config.animate);\n\t\tthis.renderLegend();\n\t}\n\n\trender(components=this.components, animate=true) {\n\t\tif(this.config.isNavigable) {\n\t\t\t// Remove all existing overlays\n\t\t\tthis.overlays.map(o => o.parentNode.removeChild(o));\n\t\t\t// ref.parentNode.insertBefore(element, ref);\n\t\t}\n\t\tlet elementsToAnimate = [];\n\t\t// Can decouple to this.refreshComponents() first to save animation timeout\n\t\tcomponents.forEach(c => {\n\t\t\telementsToAnimate = elementsToAnimate.concat(c.update(animate));\n\t\t});\n\t\tif(elementsToAnimate.length > 0) {\n\t\t\trunSMILAnimation(this.container, this.svg, elementsToAnimate);\n\t\t\tsetTimeout(() => {\n\t\t\t\tcomponents.forEach(c => c.make());\n\t\t\t\tthis.updateNav();\n\t\t\t}, CHART_POST_ANIMATE_TIMEOUT);\n\t\t} else {\n\t\t\tcomponents.forEach(c => c.make());\n\t\t\tthis.updateNav();\n\t\t}\n\t}\n\n\tupdateNav() {\n\t\tif(this.config.isNavigable) {\n\t\t\tthis.makeOverlay();\n\t\t\tthis.bindUnits();\n\t\t}\n\t}\n\n\trenderLegend() {}\n\n\tsetupNavigation(init=false) {\n\t\tif(!this.config.isNavigable) return;\n\n\t\tif(init) {\n\t\t\tthis.bindOverlay();\n\n\t\t\tthis.keyActions = {\n\t\t\t\t'13': this.onEnterKey.bind(this),\n\t\t\t\t'37': this.onLeftArrow.bind(this),\n\t\t\t\t'38': this.onUpArrow.bind(this),\n\t\t\t\t'39': this.onRightArrow.bind(this),\n\t\t\t\t'40': this.onDownArrow.bind(this),\n\t\t\t};\n\n\t\t\tdocument.addEventListener('keydown', (e) => {\n\t\t\t\tif(isElementInViewport(this.container)) {\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tif(this.keyActions[e.keyCode]) {\n\t\t\t\t\t\tthis.keyActions[e.keyCode]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tmakeOverlay() {}\n\tupdateOverlay() {}\n\tbindOverlay() {}\n\tbindUnits() {}\n\n\tonLeftArrow() {}\n\tonRightArrow() {}\n\tonUpArrow() {}\n\tonDownArrow() {}\n\tonEnterKey() {}\n\n\taddDataPoint() {}\n\tremoveDataPoint() {}\n\n\tgetDataPoint() {}\n\tsetCurrentDataPoint() {}\n\n\tupdateDataset() {}\n\n\texport() {\n\t\tlet chartSvg = prepareForExport(this.svg);\n\t\tdownloadFile(this.title || 'Chart', [chartSvg]);\n\t}\n}\n","import BaseChart from './BaseChart';\nimport { truncateString } from '../utils/draw-utils';\nimport { legendDot } from '../utils/draw';\nimport { round } from '../utils/helpers';\nimport { getExtraWidth } from '../utils/constants';\n\nexport default class AggregationChart extends BaseChart {\n\tconstructor(parent, args) {\n\t\tsuper(parent, args);\n\t}\n\n\tconfigure(args) {\n\t\tsuper.configure(args);\n\n\t\tthis.config.formatTooltipY = (args.tooltipOptions || {}).formatTooltipY;\n\t\tthis.config.maxSlices = args.maxSlices || 20;\n\t\tthis.config.maxLegendPoints = args.maxLegendPoints || 20;\n\t}\n\n\tcalc() {\n\t\tlet s = this.state;\n\t\tlet maxSlices = this.config.maxSlices;\n\t\ts.sliceTotals = [];\n\n\t\tlet allTotals = this.data.labels.map((label, i) => {\n\t\t\tlet total = 0;\n\t\t\tthis.data.datasets.map(e => {\n\t\t\t\ttotal += e.values[i];\n\t\t\t});\n\t\t\treturn [total, label];\n\t\t}).filter(d => { return d[0] >= 0; }); // keep only positive results\n\n\t\tlet totals = allTotals;\n\t\tif(allTotals.length > maxSlices) {\n\t\t\t// Prune and keep a grey area for rest as per maxSlices\n\t\t\tallTotals.sort((a, b) => { return b[0] - a[0]; });\n\n\t\t\ttotals = allTotals.slice(0, maxSlices-1);\n\t\t\tlet remaining = allTotals.slice(maxSlices-1);\n\n\t\t\tlet sumOfRemaining = 0;\n\t\t\tremaining.map(d => {sumOfRemaining += d[0];});\n\t\t\ttotals.push([sumOfRemaining, 'Rest']);\n\t\t\tthis.colors[maxSlices-1] = 'grey';\n\t\t}\n\n\t\ts.labels = [];\n\t\ttotals.map(d => {\n\t\t\ts.sliceTotals.push(round(d[0]));\n\t\t\ts.labels.push(d[1]);\n\t\t});\n\n\t\ts.grandTotal = s.sliceTotals.reduce((a, b) => a + b, 0);\n\n\t\tthis.center = {\n\t\t\tx: this.width / 2,\n\t\t\ty: this.height / 2\n\t\t};\n\t}\n\n\trenderLegend() {\n\t\tlet s = this.state;\n\t\tthis.legendArea.textContent = '';\n\t\tthis.legendTotals = s.sliceTotals.slice(0, this.config.maxLegendPoints);\n\n\t\tlet count = 0;\n\t\tlet y = 0;\n\t\tthis.legendTotals.map((d, i) => {\n\t\t\tlet barWidth = 150;\n\t\t\tlet divisor = Math.floor(\n\t\t\t\t(this.width - getExtraWidth(this.measures))/barWidth\n\t\t\t);\n\t\t\tif (this.legendTotals.length < divisor) {\n\t\t\t\tbarWidth = this.width/this.legendTotals.length;\n\t\t\t}\n\t\t\tif(count > divisor) {\n\t\t\t\tcount = 0;\n\t\t\t\ty += 20;\n\t\t\t}\n\t\t\tlet x = barWidth * count + 5;\n\t\t\tlet label = this.config.truncateLegends ? truncateString(s.labels[i], barWidth/10) : s.labels[i];\n\t\t\tlet formatted = this.config.formatTooltipY ? this.config.formatTooltipY(d) : d;\n\t\t\tlet dot = legendDot(\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\t5,\n\t\t\t\tthis.colors[i],\n\t\t\t\t`${label}: ${formatted}`,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.legendArea.appendChild(dot);\n\t\t\tcount++;\n\t\t});\n\t}\n}\n","import AggregationChart from './AggregationChart';\nimport { getOffset } from '../utils/dom';\nimport { getComponent } from '../objects/ChartComponents';\nimport { PERCENTAGE_BAR_DEFAULT_HEIGHT, PERCENTAGE_BAR_DEFAULT_DEPTH } from '../utils/constants';\n\nexport default class PercentageChart extends AggregationChart {\n\tconstructor(parent, args) {\n\t\tsuper(parent, args);\n\t\tthis.type = 'percentage';\n\t\tthis.setup();\n\t}\n\n\tsetMeasures(options) {\n\t\tlet m = this.measures;\n\t\tthis.barOptions = options.barOptions || {};\n\n\t\tlet b = this.barOptions;\n\t\tb.height = b.height || PERCENTAGE_BAR_DEFAULT_HEIGHT;\n\t\tb.depth = b.depth || PERCENTAGE_BAR_DEFAULT_DEPTH;\n\n\t\tm.paddings.right = 30;\n\t\tm.legendHeight = 60;\n\t\tm.baseHeight = (b.height + b.depth * 0.5) * 8;\n\t}\n\n\tsetupComponents() {\n\t\tlet s = this.state;\n\n\t\tlet componentConfigs = [\n\t\t\t[\n\t\t\t\t'percentageBars',\n\t\t\t\t{\n\t\t\t\t\tbarHeight: this.barOptions.height,\n\t\t\t\t\tbarDepth: this.barOptions.depth,\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\txPositions: s.xPositions,\n\t\t\t\t\t\twidths: s.widths,\n\t\t\t\t\t\tcolors: this.colors\n\t\t\t\t\t};\n\t\t\t\t}.bind(this)\n\t\t\t]\n\t\t];\n\n\t\tthis.components = new Map(componentConfigs\n\t\t\t.map(args => {\n\t\t\t\tlet component = getComponent(...args);\n\t\t\t\treturn [args[0], component];\n\t\t\t}));\n\t}\n\n\tcalc() {\n\t\tsuper.calc();\n\t\tlet s = this.state;\n\n\t\ts.xPositions = [];\n\t\ts.widths = [];\n\n\t\tlet xPos = 0;\n\t\ts.sliceTotals.map((value) => {\n\t\t\tlet width = this.width * value / s.grandTotal;\n\t\t\ts.widths.push(width);\n\t\t\ts.xPositions.push(xPos);\n\t\t\txPos += width;\n\t\t});\n\t}\n\n\tmakeDataByIndex() { }\n\n\tbindTooltip() {\n\t\tlet s = this.state;\n\t\tthis.container.addEventListener('mousemove', (e) => {\n\t\t\tlet bars = this.components.get('percentageBars').store;\n\t\t\tlet bar = e.target;\n\t\t\tif(bars.includes(bar)) {\n\n\t\t\t\tlet i = bars.indexOf(bar);\n\t\t\t\tlet gOff = getOffset(this.container), pOff = getOffset(bar);\n\n\t\t\t\tlet x = pOff.left - gOff.left + parseInt(bar.getAttribute('width'))/2;\n\t\t\t\tlet y = pOff.top - gOff.top;\n\t\t\t\tlet title = (this.formattedLabels && this.formattedLabels.length>0\n\t\t\t\t\t? this.formattedLabels[i] : this.state.labels[i]) + ': ';\n\t\t\t\tlet fraction = s.sliceTotals[i]/s.grandTotal;\n\n\t\t\t\tthis.tip.setValues(x, y, {name: title, value: (fraction*100).toFixed(1) + \"%\"});\n\t\t\t\tthis.tip.showTip();\n\t\t\t}\n\t\t});\n\t}\n}\n","import AggregationChart from './AggregationChart';\nimport { getComponent } from '../objects/ChartComponents';\nimport { getOffset } from '../utils/dom';\nimport { getPositionByAngle } from '../utils/helpers';\nimport { makeArcPathStr, makeCircleStr } from '../utils/draw';\nimport { lightenDarkenColor } from '../utils/colors';\nimport { transform } from '../utils/animation';\nimport { FULL_ANGLE } from '../utils/constants';\n\nexport default class PieChart extends AggregationChart {\n\tconstructor(parent, args) {\n\t\tsuper(parent, args);\n\t\tthis.type = 'pie';\n\t\tthis.initTimeout = 0;\n\t\tthis.init = 1;\n\n\t\tthis.setup();\n\t}\n\n\tconfigure(args) {\n\t\tsuper.configure(args);\n\t\tthis.mouseMove = this.mouseMove.bind(this);\n\t\tthis.mouseLeave = this.mouseLeave.bind(this);\n\n\t\tthis.hoverRadio = args.hoverRadio || 0.1;\n\t\tthis.config.startAngle = args.startAngle || 0;\n\n\t\tthis.clockWise = args.clockWise || false;\n\t}\n\n\tcalc() {\n\t\tsuper.calc();\n\t\tlet s = this.state;\n\t\tthis.radius = (this.height > this.width ? this.center.x : this.center.y);\n\n\t\tconst { radius, clockWise } = this;\n\n\t\tconst prevSlicesProperties = s.slicesProperties || [];\n\t\ts.sliceStrings = [];\n\t\ts.slicesProperties = [];\n\t\tlet curAngle = 180 - this.config.startAngle;\n\t\ts.sliceTotals.map((total, i) => {\n\t\t\tconst startAngle = curAngle;\n\t\t\tconst originDiffAngle = (total / s.grandTotal) * FULL_ANGLE;\n\t\t\tconst largeArc = originDiffAngle > 180 ? 1: 0;\n\t\t\tconst diffAngle = clockWise ? -originDiffAngle : originDiffAngle;\n\t\t\tconst endAngle = curAngle = curAngle + diffAngle;\n\t\t\tconst startPosition = getPositionByAngle(startAngle, radius);\n\t\t\tconst endPosition = getPositionByAngle(endAngle, radius);\n\n\t\t\tconst prevProperty = this.init && prevSlicesProperties[i];\n\n\t\t\tlet curStart,curEnd;\n\t\t\tif(this.init) {\n\t\t\t\tcurStart = prevProperty ? prevProperty.startPosition : startPosition;\n\t\t\t\tcurEnd = prevProperty ? prevProperty.endPosition : startPosition;\n\t\t\t} else {\n\t\t\t\tcurStart = startPosition;\n\t\t\t\tcurEnd = endPosition;\n\t\t\t}\n\t\t\tconst curPath =\n\t\t\t\toriginDiffAngle === 360\n\t\t\t\t\t? makeCircleStr(curStart, curEnd, this.center, this.radius, clockWise, largeArc)\n\t\t\t\t\t: makeArcPathStr(curStart, curEnd, this.center, this.radius, clockWise, largeArc);\n\n\t\t\ts.sliceStrings.push(curPath);\n\t\t\ts.slicesProperties.push({\n\t\t\t\tstartPosition,\n\t\t\t\tendPosition,\n\t\t\t\tvalue: total,\n\t\t\t\ttotal: s.grandTotal,\n\t\t\t\tstartAngle,\n\t\t\t\tendAngle,\n\t\t\t\tangle: diffAngle\n\t\t\t});\n\n\t\t});\n\t\tthis.init = 0;\n\t}\n\n\tsetupComponents() {\n\t\tlet s = this.state;\n\n\t\tlet componentConfigs = [\n\t\t\t[\n\t\t\t\t'pieSlices',\n\t\t\t\t{ },\n\t\t\t\tfunction() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsliceStrings: s.sliceStrings,\n\t\t\t\t\t\tcolors: this.colors\n\t\t\t\t\t};\n\t\t\t\t}.bind(this)\n\t\t\t]\n\t\t];\n\n\t\tthis.components = new Map(componentConfigs\n\t\t\t.map(args => {\n\t\t\t\tlet component = getComponent(...args);\n\t\t\t\treturn [args[0], component];\n\t\t\t}));\n\t}\n\n\tcalTranslateByAngle(property){\n\t\tconst{radius,hoverRadio} = this;\n\t\tconst position = getPositionByAngle(property.startAngle+(property.angle / 2),radius);\n\t\treturn `translate3d(${(position.x) * hoverRadio}px,${(position.y) * hoverRadio}px,0)`;\n\t}\n\n\thoverSlice(path,i,flag,e){\n\t\tif(!path) return;\n\t\tconst color = this.colors[i];\n\t\tif(flag) {\n\t\t\ttransform(path, this.calTranslateByAngle(this.state.slicesProperties[i]));\n\t\t\tpath.style.fill = lightenDarkenColor(color, 50);\n\t\t\tlet g_off = getOffset(this.svg);\n\t\t\tlet x = e.pageX - g_off.left + 10;\n\t\t\tlet y = e.pageY - g_off.top - 10;\n\t\t\tlet title = (this.formatted_labels && this.formatted_labels.length > 0\n\t\t\t\t? this.formatted_labels[i] : this.state.labels[i]) + ': ';\n\t\t\tlet percent = (this.state.sliceTotals[i] * 100 / this.state.grandTotal).toFixed(1);\n\t\t\tthis.tip.setValues(x, y, {name: title, value: percent + \"%\"});\n\t\t\tthis.tip.showTip();\n\t\t} else {\n\t\t\ttransform(path,'translate3d(0,0,0)');\n\t\t\tthis.tip.hideTip();\n\t\t\tpath.style.fill = color;\n\t\t}\n\t}\n\n\tbindTooltip() {\n\t\tthis.container.addEventListener('mousemove', this.mouseMove);\n\t\tthis.container.addEventListener('mouseleave', this.mouseLeave);\n\t}\n\n\tmouseMove(e){\n\t\tconst target = e.target;\n\t\tlet slices = this.components.get('pieSlices').store;\n\t\tlet prevIndex = this.curActiveSliceIndex;\n\t\tlet prevAcitve = this.curActiveSlice;\n\t\tif(slices.includes(target)) {\n\t\t\tlet i = slices.indexOf(target);\n\t\t\tthis.hoverSlice(prevAcitve, prevIndex,false);\n\t\t\tthis.curActiveSlice = target;\n\t\t\tthis.curActiveSliceIndex = i;\n\t\t\tthis.hoverSlice(target, i, true, e);\n\t\t} else {\n\t\t\tthis.mouseLeave();\n\t\t}\n\t}\n\n\tmouseLeave(){\n\t\tthis.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,false);\n\t}\n}\n","import BaseChart from './BaseChart';\nimport { getComponent } from '../objects/ChartComponents';\nimport { makeText, heatSquare } from '../utils/draw';\nimport { DAY_NAMES_SHORT, addDays, areInSameMonth, getLastDateInMonth, setDayToSunday, getYyyyMmDd, getWeeksBetween, getMonthName, clone,\n\tNO_OF_MILLIS, NO_OF_YEAR_MONTHS, NO_OF_DAYS_IN_WEEK } from '../utils/date-utils';\nimport { calcDistribution, getMaxCheckpoint } from '../utils/intervals';\nimport { getExtraHeight, getExtraWidth, HEATMAP_DISTRIBUTION_SIZE, HEATMAP_SQUARE_SIZE,\n\tHEATMAP_GUTTER_SIZE } from '../utils/constants';\n\nconst COL_WIDTH = HEATMAP_SQUARE_SIZE + HEATMAP_GUTTER_SIZE;\nconst ROW_HEIGHT = COL_WIDTH;\n// const DAY_INCR = 1;\n\nexport default class Heatmap extends BaseChart {\n\tconstructor(parent, options) {\n\t\tsuper(parent, options);\n\t\tthis.type = 'heatmap';\n\n\t\tthis.countLabel = options.countLabel || '';\n\n\t\tlet validStarts = ['Sunday', 'Monday'];\n\t\tlet startSubDomain = validStarts.includes(options.startSubDomain)\n\t\t\t? options.startSubDomain : 'Sunday';\n\t\tthis.startSubDomainIndex = validStarts.indexOf(startSubDomain);\n\n\t\tthis.setup();\n\t}\n\n\tsetMeasures(options) {\n\t\tlet m = this.measures;\n\t\tthis.discreteDomains = options.discreteDomains === 0 ? 0 : 1;\n\n\t\tm.paddings.top = ROW_HEIGHT * 3;\n\t\tm.paddings.bottom = 0;\n\t\tm.legendHeight = ROW_HEIGHT * 2;\n\t\tm.baseHeight = ROW_HEIGHT * NO_OF_DAYS_IN_WEEK\n\t\t\t+ getExtraHeight(m);\n\n\t\tlet d = this.data;\n\t\tlet spacing = this.discreteDomains ? NO_OF_YEAR_MONTHS : 0;\n\t\tthis.independentWidth = (getWeeksBetween(d.start, d.end)\n\t\t\t+ spacing) * COL_WIDTH + getExtraWidth(m);\n\t}\n\n\tupdateWidth() {\n\t\tlet spacing = this.discreteDomains ? NO_OF_YEAR_MONTHS : 0;\n\t\tlet noOfWeeks = this.state.noOfWeeks ? this.state.noOfWeeks : 52;\n\t\tthis.baseWidth = (noOfWeeks + spacing) * COL_WIDTH\n\t\t\t+ getExtraWidth(this.measures);\n\t}\n\n\tprepareData(data=this.data) {\n\t\tif(data.start && data.end && data.start > data.end) {\n\t\t\tthrow new Error('Start date cannot be greater than end date.');\n\t\t}\n\n\t\tif(!data.start) {\n\t\t\tdata.start = new Date();\n\t\t\tdata.start.setFullYear( data.start.getFullYear() - 1 );\n\t\t}\n\t\tif(!data.end) { data.end = new Date(); }\n\t\tdata.dataPoints = data.dataPoints || {};\n\n\t\tif(parseInt(Object.keys(data.dataPoints)[0]) > 100000) {\n\t\t\tlet points = {};\n\t\t\tObject.keys(data.dataPoints).forEach(timestampSec => {\n\t\t\t\tlet date = new Date(timestampSec * NO_OF_MILLIS);\n\t\t\t\tpoints[getYyyyMmDd(date)] = data.dataPoints[timestampSec];\n\t\t\t});\n\t\t\tdata.dataPoints = points;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tcalc() {\n\t\tlet s = this.state;\n\n\t\ts.start = clone(this.data.start);\n\t\ts.end = clone(this.data.end);\n\n\t\ts.firstWeekStart = clone(s.start);\n\t\ts.noOfWeeks = getWeeksBetween(s.start, s.end);\n\t\ts.distribution = calcDistribution(\n\t\t\tObject.values(this.data.dataPoints), HEATMAP_DISTRIBUTION_SIZE);\n\n\t\ts.domainConfigs = this.getDomains();\n\t}\n\n\tsetupComponents() {\n\t\tlet s = this.state;\n\t\tlet lessCol = this.discreteDomains ? 0 : 1;\n\n\t\tlet componentConfigs = s.domainConfigs.map((config, i) => [\n\t\t\t'heatDomain',\n\t\t\t{\n\t\t\t\tindex: config.index,\n\t\t\t\tcolWidth: COL_WIDTH,\n\t\t\t\trowHeight: ROW_HEIGHT,\n\t\t\t\tsquareSize: HEATMAP_SQUARE_SIZE,\n\t\t\t\tradius: this.rawChartArgs.radius || 0,\n\t\t\t\txTranslate: s.domainConfigs\n\t\t\t\t\t.filter((config, j) => j < i)\n\t\t\t\t\t.map(config => config.cols.length - lessCol)\n\t\t\t\t\t.reduce((a, b) => a + b, 0)\n\t\t\t\t\t* COL_WIDTH\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\treturn s.domainConfigs[i];\n\t\t\t}.bind(this)\n\n\t\t]);\n\n\t\tthis.components = new Map(componentConfigs\n\t\t\t.map((args, i) => {\n\t\t\t\tlet component = getComponent(...args);\n\t\t\t\treturn [args[0] + '-' + i, component];\n\t\t\t})\n\t\t);\n\n\t\tlet y = 0;\n\t\tDAY_NAMES_SHORT.forEach((dayName, i) => {\n\t\t\tif([1, 3, 5].includes(i)) {\n\t\t\t\tlet dayText = makeText('subdomain-name', -COL_WIDTH/2, y, dayName,\n\t\t\t\t\t{\n\t\t\t\t\t\tfontSize: HEATMAP_SQUARE_SIZE,\n\t\t\t\t\t\tdy: 8,\n\t\t\t\t\t\ttextAnchor: 'end'\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tthis.drawArea.appendChild(dayText);\n\t\t\t}\n\t\t\ty += ROW_HEIGHT;\n\t\t});\n\t}\n\n\tupdate(data) {\n\t\tif(!data) {\n\t\t\tconsole.error('No data to update.');\n\t\t}\n\n\t\tthis.data = this.prepareData(data);\n\t\tthis.draw();\n\t\tthis.bindTooltip();\n\t}\n\n\tbindTooltip() {\n\t\tthis.container.addEventListener('mousemove', (e) => {\n\t\t\tthis.components.forEach(comp => {\n\t\t\t\tlet daySquares = comp.store;\n\t\t\t\tlet daySquare = e.target;\n\t\t\t\tif(daySquares.includes(daySquare)) {\n\n\t\t\t\t\tlet count = daySquare.getAttribute('data-value');\n\t\t\t\t\tlet dateParts = daySquare.getAttribute('data-date').split('-');\n\n\t\t\t\t\tlet month = getMonthName(parseInt(dateParts[1])-1, true);\n\n\t\t\t\t\tlet gOff = this.container.getBoundingClientRect(), pOff = daySquare.getBoundingClientRect();\n\n\t\t\t\t\tlet width = parseInt(e.target.getAttribute('width'));\n\t\t\t\t\tlet x = pOff.left - gOff.left + width/2;\n\t\t\t\t\tlet y = pOff.top - gOff.top;\n\t\t\t\t\tlet value = count + ' ' + this.countLabel;\n\t\t\t\t\tlet name = ' on ' + month + ' ' + dateParts[0] + ', ' + dateParts[2];\n\n\t\t\t\t\tthis.tip.setValues(x, y, {name: name, value: value, valueFirst: 1}, []);\n\t\t\t\t\tthis.tip.showTip();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\trenderLegend() {\n\t\tthis.legendArea.textContent = '';\n\t\tlet x = 0;\n\t\tlet y = ROW_HEIGHT;\n\t\tlet radius = this.rawChartArgs.radius || 0;\n\n\t\tlet lessText = makeText('subdomain-name', x, y, 'Less',\n\t\t\t{\n\t\t\t\tfontSize: HEATMAP_SQUARE_SIZE + 1,\n\t\t\t\tdy: 9\n\t\t\t}\n\t\t);\n\t\tx = (COL_WIDTH * 2) + COL_WIDTH/2;\n\t\tthis.legendArea.appendChild(lessText);\n\n\t\tthis.colors.slice(0, HEATMAP_DISTRIBUTION_SIZE).map((color, i) => {\n\t\t\tconst square = heatSquare('heatmap-legend-unit', x + (COL_WIDTH + 3) * i,\n\t\t\t\ty, HEATMAP_SQUARE_SIZE, radius, color);\n\t\t\tthis.legendArea.appendChild(square);\n\t\t});\n\n\t\tlet moreTextX = x + HEATMAP_DISTRIBUTION_SIZE * (COL_WIDTH + 3) + COL_WIDTH/4;\n\t\tlet moreText = makeText('subdomain-name', moreTextX, y, 'More',\n\t\t\t{\n\t\t\t\tfontSize: HEATMAP_SQUARE_SIZE + 1,\n\t\t\t\tdy: 9\n\t\t\t}\n\t\t);\n\t\tthis.legendArea.appendChild(moreText);\n\t}\n\n\tgetDomains() {\n\t\tlet s = this.state;\n\t\tconst [startMonth, startYear] = [s.start.getMonth(), s.start.getFullYear()];\n\t\tconst [endMonth, endYear] = [s.end.getMonth(), s.end.getFullYear()];\n\n\t\tconst noOfMonths = (endMonth - startMonth + 1) + (endYear - startYear) * 12;\n\n\t\tlet domainConfigs = [];\n\n\t\tlet startOfMonth = clone(s.start);\n\t\tfor(var i = 0; i < noOfMonths; i++) {\n\t\t\tlet endDate = s.end;\n\t\t\tif(!areInSameMonth(startOfMonth, s.end)) {\n\t\t\t\tlet [month, year] = [startOfMonth.getMonth(), startOfMonth.getFullYear()];\n\t\t\t\tendDate = getLastDateInMonth(month, year);\n\t\t\t}\n\t\t\tdomainConfigs.push(this.getDomainConfig(startOfMonth, endDate));\n\n\t\t\taddDays(endDate, 1);\n\t\t\tstartOfMonth = endDate;\n\t\t}\n\n\t\treturn domainConfigs;\n\t}\n\n\tgetDomainConfig(startDate, endDate='') {\n\t\tlet [month, year] = [startDate.getMonth(), startDate.getFullYear()];\n\t\tlet startOfWeek = setDayToSunday(startDate); // TODO: Monday as well\n\t\tendDate = clone(endDate) || getLastDateInMonth(month, year);\n\n\t\tlet domainConfig = {\n\t\t\tindex: month,\n\t\t\tcols: []\n\t\t};\n\n\t\taddDays(endDate, 1);\n\t\tlet noOfMonthWeeks = getWeeksBetween(startOfWeek, endDate);\n\n\t\tlet cols = [], col;\n\t\tfor(var i = 0; i < noOfMonthWeeks; i++) {\n\t\t\tcol = this.getCol(startOfWeek, month);\n\t\t\tcols.push(col);\n\n\t\t\tstartOfWeek = new Date(col[NO_OF_DAYS_IN_WEEK - 1].yyyyMmDd);\n\t\t\taddDays(startOfWeek, 1);\n\t\t}\n\n\t\tif(col[NO_OF_DAYS_IN_WEEK - 1].dataValue !== undefined) {\n\t\t\taddDays(startOfWeek, 1);\n\t\t\tcols.push(this.getCol(startOfWeek, month, true));\n\t\t}\n\n\t\tdomainConfig.cols = cols;\n\n\t\treturn domainConfig;\n\t}\n\n\tgetCol(startDate, month, empty = false) {\n\t\tlet s = this.state;\n\n\t\t// startDate is the start of week\n\t\tlet currentDate = clone(startDate);\n\t\tlet col = [];\n\n\t\tfor(var i = 0; i < NO_OF_DAYS_IN_WEEK; i++, addDays(currentDate, 1)) {\n\t\t\tlet config = {};\n\n\t\t\t// Non-generic adjustment for entire heatmap, needs state\n\t\t\tlet currentDateWithinData = currentDate >= s.start && currentDate <= s.end;\n\n\t\t\tif(empty || currentDate.getMonth() !== month || !currentDateWithinData) {\n\t\t\t\tconfig.yyyyMmDd = getYyyyMmDd(currentDate);\n\t\t\t} else {\n\t\t\t\tconfig = this.getSubDomainConfig(currentDate);\n\t\t\t}\n\t\t\tcol.push(config);\n\t\t}\n\n\t\treturn col;\n\t}\n\n\tgetSubDomainConfig(date) {\n\t\tlet yyyyMmDd = getYyyyMmDd(date);\n\t\tlet dataValue = this.data.dataPoints[yyyyMmDd];\n\t\tlet config = {\n\t\t\tyyyyMmDd: yyyyMmDd,\n\t\t\tdataValue: dataValue || 0,\n\t\t\tfill: this.colors[getMaxCheckpoint(dataValue, this.state.distribution)]\n\t\t};\n\t\treturn config;\n\t}\n}\n","import BaseChart from './BaseChart';\nimport { dataPrep, zeroDataPrep, getShortenedLabels } from '../utils/axis-chart-utils';\nimport { AXIS_LEGEND_BAR_SIZE } from '../utils/constants';\nimport { getComponent } from '../objects/ChartComponents';\nimport { getOffset, fire } from '../utils/dom';\nimport { calcChartIntervals, getIntervalSize, getValueRange, getZeroIndex, scale, getClosestInArray } from '../utils/intervals';\nimport { floatTwo } from '../utils/helpers';\nimport { makeOverlay, updateOverlay, legendBar } from '../utils/draw';\nimport { getTopOffset, getLeftOffset, MIN_BAR_PERCENT_HEIGHT, BAR_CHART_SPACE_RATIO,\n\tLINE_CHART_DOT_SIZE } from '../utils/constants';\n\nexport default class AxisChart extends BaseChart {\n\tconstructor(parent, args) {\n\t\tsuper(parent, args);\n\n\t\tthis.barOptions = args.barOptions || {};\n\t\tthis.lineOptions = args.lineOptions || {};\n\n\t\tthis.type = args.type || 'line';\n\t\tthis.init = 1;\n\n\t\tthis.setup();\n\t}\n\n\tsetMeasures() {\n\t\tif(this.data.datasets.length <= 1) {\n\t\t\tthis.config.showLegend = 0;\n\t\t\tthis.measures.paddings.bottom = 30;\n\t\t}\n\t}\n\n\tconfigure(options) {\n\t\tsuper.configure(options);\n\n\t\toptions.axisOptions = options.axisOptions || {};\n\t\toptions.tooltipOptions = options.tooltipOptions || {};\n\n\t\tthis.config.xAxisMode = options.axisOptions.xAxisMode || 'span';\n\t\tthis.config.yAxisMode = options.axisOptions.yAxisMode || 'span';\n\t\tthis.config.xIsSeries = options.axisOptions.xIsSeries || 0;\n\t\tthis.config.shortenYAxisNumbers = options.axisOptions.shortenYAxisNumbers || 0;\n\n\t\tthis.config.formatTooltipX = options.tooltipOptions.formatTooltipX;\n\t\tthis.config.formatTooltipY = options.tooltipOptions.formatTooltipY;\n\n\t\tthis.config.valuesOverPoints = options.valuesOverPoints;\n\t}\n\n\tprepareData(data=this.data) {\n\t\treturn dataPrep(data, this.type);\n\t}\n\n\tprepareFirstData(data=this.data) {\n\t\treturn zeroDataPrep(data);\n\t}\n\n\tcalc(onlyWidthChange = false) {\n\t\tthis.calcXPositions();\n\t\tif(!onlyWidthChange) {\n\t\t\tthis.calcYAxisParameters(this.getAllYValues(), this.type === 'line');\n\t\t}\n\t\tthis.makeDataByIndex();\n\t}\n\n\tcalcXPositions() {\n\t\tlet s = this.state;\n\t\tlet labels = this.data.labels;\n\t\ts.datasetLength = labels.length;\n\n\t\ts.unitWidth = this.width/(s.datasetLength);\n\t\t// Default, as per bar, and mixed. Only line will be a special case\n\t\ts.xOffset = s.unitWidth/2;\n\n\t\t// // For a pure Line Chart\n\t\t// s.unitWidth = this.width/(s.datasetLength - 1);\n\t\t// s.xOffset = 0;\n\n\t\ts.xAxis = {\n\t\t\tlabels: labels,\n\t\t\tpositions: labels.map((d, i) =>\n\t\t\t\tfloatTwo(s.xOffset + i * s.unitWidth)\n\t\t\t)\n\t\t};\n\t}\n\n\tcalcYAxisParameters(dataValues, withMinimum = 'false') {\n\t\tconst yPts = calcChartIntervals(dataValues, withMinimum);\n\t\tconst scaleMultiplier = this.height / getValueRange(yPts);\n\t\tconst intervalHeight = getIntervalSize(yPts) * scaleMultiplier;\n\t\tconst zeroLine = this.height - (getZeroIndex(yPts) * intervalHeight);\n\n\t\tthis.state.yAxis = {\n\t\t\tlabels: yPts,\n\t\t\tpositions: yPts.map(d => zeroLine - d * scaleMultiplier),\n\t\t\tscaleMultiplier: scaleMultiplier,\n\t\t\tzeroLine: zeroLine,\n\t\t};\n\n\t\t// Dependent if above changes\n\t\tthis.calcDatasetPoints();\n\t\tthis.calcYExtremes();\n\t\tthis.calcYRegions();\n\t}\n\n\tcalcDatasetPoints() {\n\t\tlet s = this.state;\n\t\tlet scaleAll = values => values.map(val => scale(val, s.yAxis));\n\n\t\ts.datasets = this.data.datasets.map((d, i) => {\n\t\t\tlet values = d.values;\n\t\t\tlet cumulativeYs = d.cumulativeYs || [];\n\t\t\treturn {\n\t\t\t\tname: d.name && d.name.replace(/<|>|&/g, (char) => char == '&' ? '&amp;' : char == '<' ? '&lt;' : '&gt;'),\n\t\t\t\tindex: i,\n\t\t\t\tchartType: d.chartType,\n\n\t\t\t\tvalues: values,\n\t\t\t\tyPositions: scaleAll(values),\n\n\t\t\t\tcumulativeYs: cumulativeYs,\n\t\t\t\tcumulativeYPos: scaleAll(cumulativeYs),\n\t\t\t};\n\t\t});\n\t}\n\n\tcalcYExtremes() {\n\t\tlet s = this.state;\n\t\tif(this.barOptions.stacked) {\n\t\t\ts.yExtremes = s.datasets[s.datasets.length - 1].cumulativeYPos;\n\t\t\treturn;\n\t\t}\n\t\ts.yExtremes = new Array(s.datasetLength).fill(9999);\n\t\ts.datasets.map(d => {\n\t\t\td.yPositions.map((pos, j) => {\n\t\t\t\tif(pos < s.yExtremes[j]) {\n\t\t\t\t\ts.yExtremes[j] = pos;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tcalcYRegions() {\n\t\tlet s = this.state;\n\t\tif(this.data.yMarkers) {\n\t\t\tthis.state.yMarkers = this.data.yMarkers.map(d => {\n\t\t\t\td.position = scale(d.value, s.yAxis);\n\t\t\t\tif(!d.options) d.options = {};\n\t\t\t\t// if(!d.label.includes(':')) {\n\t\t\t\t// \td.label += ': ' + d.value;\n\t\t\t\t// }\n\t\t\t\treturn d;\n\t\t\t});\n\t\t}\n\t\tif(this.data.yRegions) {\n\t\t\tthis.state.yRegions = this.data.yRegions.map(d => {\n\t\t\t\td.startPos = scale(d.start, s.yAxis);\n\t\t\t\td.endPos = scale(d.end, s.yAxis);\n\t\t\t\tif(!d.options) d.options = {};\n\t\t\t\treturn d;\n\t\t\t});\n\t\t}\n\t}\n\n\tgetAllYValues() {\n\t\tlet key = 'values';\n\n\t\tif(this.barOptions.stacked) {\n\t\t\tkey = 'cumulativeYs';\n\t\t\tlet cumulative = new Array(this.state.datasetLength).fill(0);\n\t\t\tthis.data.datasets.map((d, i) => {\n\t\t\t\tlet values = this.data.datasets[i].values;\n\t\t\t\td[key] = cumulative = cumulative.map((c, i) => c + values[i]);\n\t\t\t});\n\t\t}\n\n\t\tlet allValueLists = this.data.datasets.map(d => d[key]);\n\t\tif(this.data.yMarkers) {\n\t\t\tallValueLists.push(this.data.yMarkers.map(d => d.value));\n\t\t}\n\t\tif(this.data.yRegions) {\n\t\t\tthis.data.yRegions.map(d => {\n\t\t\t\tallValueLists.push([d.end, d.start]);\n\t\t\t});\n\t\t}\n\n\t\treturn [].concat(...allValueLists);\n\t}\n\n\tsetupComponents() {\n\t\tlet componentConfigs = [\n\t\t\t[\n\t\t\t\t'yAxis',\n\t\t\t\t{\n\t\t\t\t\tmode: this.config.yAxisMode,\n\t\t\t\t\twidth: this.width,\n\t\t\t\t\tshortenNumbers: this.config.shortenYAxisNumbers\n\t\t\t\t\t// pos: 'right'\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\treturn this.state.yAxis;\n\t\t\t\t}.bind(this)\n\t\t\t],\n\n\t\t\t[\n\t\t\t\t'xAxis',\n\t\t\t\t{\n\t\t\t\t\tmode: this.config.xAxisMode,\n\t\t\t\t\theight: this.height,\n\t\t\t\t\t// pos: 'right'\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\tlet s = this.state;\n\t\t\t\t\ts.xAxis.calcLabels = getShortenedLabels(this.width,\n\t\t\t\t\t\ts.xAxis.labels, this.config.xIsSeries);\n\n\t\t\t\t\treturn s.xAxis;\n\t\t\t\t}.bind(this)\n\t\t\t],\n\n\t\t\t[\n\t\t\t\t'yRegions',\n\t\t\t\t{\n\t\t\t\t\twidth: this.width,\n\t\t\t\t\tpos: 'right'\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\treturn this.state.yRegions;\n\t\t\t\t}.bind(this)\n\t\t\t],\n\t\t];\n\n\t\tlet barDatasets = this.state.datasets.filter(d => d.chartType === 'bar');\n\t\tlet lineDatasets = this.state.datasets.filter(d => d.chartType === 'line');\n\n\t\tlet barsConfigs = barDatasets.map(d => {\n\t\t\tlet index = d.index;\n\t\t\treturn [\n\t\t\t\t'barGraph' + '-' + d.index,\n\t\t\t\t{\n\t\t\t\t\tindex: index,\n\t\t\t\t\tcolor: this.colors[index],\n\t\t\t\t\tstacked: this.barOptions.stacked,\n\n\t\t\t\t\t// same for all datasets\n\t\t\t\t\tvaluesOverPoints: this.config.valuesOverPoints,\n\t\t\t\t\tminHeight: this.height * MIN_BAR_PERCENT_HEIGHT,\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\tlet s = this.state;\n\t\t\t\t\tlet d = s.datasets[index];\n\t\t\t\t\tlet stacked = this.barOptions.stacked;\n\n\t\t\t\t\tlet spaceRatio = this.barOptions.spaceRatio || BAR_CHART_SPACE_RATIO;\n\t\t\t\t\tlet barsWidth = s.unitWidth * (1 - spaceRatio);\n\t\t\t\t\tlet barWidth = barsWidth/(stacked ? 1 : barDatasets.length);\n\n\t\t\t\t\tlet xPositions = s.xAxis.positions.map(x => x - barsWidth/2);\n\t\t\t\t\tif(!stacked) {\n\t\t\t\t\t\txPositions = xPositions.map(p => p + barWidth * index);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet labels = new Array(s.datasetLength).fill('');\n\t\t\t\t\tif(this.config.valuesOverPoints) {\n\t\t\t\t\t\tif(stacked && d.index === s.datasets.length - 1) {\n\t\t\t\t\t\t\tlabels = d.cumulativeYs;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabels = d.values;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet offsets = new Array(s.datasetLength).fill(0);\n\t\t\t\t\tif(stacked) {\n\t\t\t\t\t\toffsets = d.yPositions.map((y, j) => y - d.cumulativeYPos[j]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\txPositions: xPositions,\n\t\t\t\t\t\tyPositions: d.yPositions,\n\t\t\t\t\t\toffsets: offsets,\n\t\t\t\t\t\t// values: d.values,\n\t\t\t\t\t\tlabels: labels,\n\n\t\t\t\t\t\tzeroLine: s.yAxis.zeroLine,\n\t\t\t\t\t\tbarsWidth: barsWidth,\n\t\t\t\t\t\tbarWidth: barWidth,\n\t\t\t\t\t};\n\t\t\t\t}.bind(this)\n\t\t\t];\n\t\t});\n\n\t\tlet lineConfigs = lineDatasets.map(d => {\n\t\t\tlet index = d.index;\n\t\t\treturn [\n\t\t\t\t'lineGraph' + '-' + d.index,\n\t\t\t\t{\n\t\t\t\t\tindex: index,\n\t\t\t\t\tcolor: this.colors[index],\n\t\t\t\t\tsvgDefs: this.svgDefs,\n\t\t\t\t\theatline: this.lineOptions.heatline,\n\t\t\t\t\tregionFill: this.lineOptions.regionFill,\n\t\t\t\t\tspline: this.lineOptions.spline,\n\t\t\t\t\thideDots: this.lineOptions.hideDots,\n\t\t\t\t\thideLine: this.lineOptions.hideLine,\n\n\t\t\t\t\t// same for all datasets\n\t\t\t\t\tvaluesOverPoints: this.config.valuesOverPoints,\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\tlet s = this.state;\n\t\t\t\t\tlet d = s.datasets[index];\n\t\t\t\t\tlet minLine = s.yAxis.positions[0] < s.yAxis.zeroLine\n\t\t\t\t\t\t? s.yAxis.positions[0] : s.yAxis.zeroLine;\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\txPositions: s.xAxis.positions,\n\t\t\t\t\t\tyPositions: d.yPositions,\n\n\t\t\t\t\t\tvalues: d.values,\n\n\t\t\t\t\t\tzeroLine: minLine,\n\t\t\t\t\t\tradius: this.lineOptions.dotSize || LINE_CHART_DOT_SIZE,\n\t\t\t\t\t};\n\t\t\t\t}.bind(this)\n\t\t\t];\n\t\t});\n\n\t\tlet markerConfigs = [\n\t\t\t[\n\t\t\t\t'yMarkers',\n\t\t\t\t{\n\t\t\t\t\twidth: this.width,\n\t\t\t\t\tpos: 'right'\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\treturn this.state.yMarkers;\n\t\t\t\t}.bind(this)\n\t\t\t]\n\t\t];\n\n\t\tcomponentConfigs = componentConfigs.concat(barsConfigs, lineConfigs, markerConfigs);\n\n\t\tlet optionals = ['yMarkers', 'yRegions'];\n\t\tthis.dataUnitComponents = [];\n\n\t\tthis.components = new Map(componentConfigs\n\t\t\t.filter(args => !optionals.includes(args[0]) || this.state[args[0]])\n\t\t\t.map(args => {\n\t\t\t\tlet component = getComponent(...args);\n\t\t\t\tif(args[0].includes('lineGraph') || args[0].includes('barGraph')) {\n\t\t\t\t\tthis.dataUnitComponents.push(component);\n\t\t\t\t}\n\t\t\t\treturn [args[0], component];\n\t\t\t}));\n\t}\n\n\tmakeDataByIndex() {\n\t\tthis.dataByIndex = {};\n\n\t\tlet s = this.state;\n\t\tlet formatX = this.config.formatTooltipX;\n\t\tlet formatY = this.config.formatTooltipY;\n\t\tlet titles = s.xAxis.labels;\n\n\t\ttitles.map((label, index) => {\n\t\t\tlet values = this.state.datasets.map((set, i) => {\n\t\t\t\tlet value = set.values[index];\n\t\t\t\treturn {\n\t\t\t\t\ttitle: set.name,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tyPos: set.yPositions[index],\n\t\t\t\t\tcolor: this.colors[i],\n\t\t\t\t\tformatted: formatY ? formatY(value) : value,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.dataByIndex[index] = {\n\t\t\t\tlabel: label,\n\t\t\t\tformattedLabel: formatX ? formatX(label) : label,\n\t\t\t\txPos: s.xAxis.positions[index],\n\t\t\t\tvalues: values,\n\t\t\t\tyExtreme: s.yExtremes[index],\n\t\t\t};\n\t\t});\n\t}\n\n\tbindTooltip() {\n\t\t// NOTE: could be in tooltip itself, as it is a given functionality for its parent\n\t\tthis.container.addEventListener('mousemove', (e) => {\n\t\t\tlet m = this.measures;\n\t\t\tlet o = getOffset(this.container);\n\t\t\tlet relX = e.pageX - o.left - getLeftOffset(m);\n\t\t\tlet relY = e.pageY - o.top;\n\n\t\t\tif(relY < this.height + getTopOffset(m)\n\t\t\t\t&& relY >  getTopOffset(m)) {\n\t\t\t\tthis.mapTooltipXPosition(relX);\n\t\t\t} else {\n\t\t\t\tthis.tip.hideTip();\n\t\t\t}\n\t\t});\n\t}\n\n\tmapTooltipXPosition(relX) {\n\t\tlet s = this.state;\n\t\tif(!s.yExtremes) return;\n\n\t\tlet index = getClosestInArray(relX, s.xAxis.positions, true);\n\t\tif (index >= 0) {\n\t\t\tlet dbi = this.dataByIndex[index];\n\n\t\t\tthis.tip.setValues(\n\t\t\t\tdbi.xPos + this.tip.offset.x,\n\t\t\t\tdbi.yExtreme + this.tip.offset.y,\n\t\t\t\t{name: dbi.formattedLabel, value: ''},\n\t\t\t\tdbi.values,\n\t\t\t\tindex\n\t\t\t);\n\n\t\t\tthis.tip.showTip();\n\t\t}\n\t}\n\n\trenderLegend() {\n\t\tlet s = this.data;\n\t\tif(s.datasets.length > 1) {\n\t\t\tthis.legendArea.textContent = '';\n\t\t\ts.datasets.map((d, i) => {\n\t\t\t\tlet barWidth = AXIS_LEGEND_BAR_SIZE;\n\t\t\t\t// let rightEndPoint = this.baseWidth - this.measures.margins.left - this.measures.margins.right;\n\t\t\t\t// let multiplier = s.datasets.length - i;\n\t\t\t\tlet rect = legendBar(\n\t\t\t\t\t// rightEndPoint - multiplier * barWidth,\t// To right align\n\t\t\t\t\tbarWidth * i,\n\t\t\t\t\t'0',\n\t\t\t\t\tbarWidth,\n\t\t\t\t\tthis.colors[i],\n\t\t\t\t\td.name,\n\t\t\t\t\tthis.config.truncateLegends);\n\t\t\t\tthis.legendArea.appendChild(rect);\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\t// Overlay\n\tmakeOverlay() {\n\t\tif(this.init) {\n\t\t\tthis.init = 0;\n\t\t\treturn;\n\t\t}\n\t\tif(this.overlayGuides) {\n\t\t\tthis.overlayGuides.forEach(g => {\n\t\t\t\tlet o = g.overlay;\n\t\t\t\to.parentNode.removeChild(o);\n\t\t\t});\n\t\t}\n\n\t\tthis.overlayGuides = this.dataUnitComponents.map(c => {\n\t\t\treturn {\n\t\t\t\ttype: c.unitType,\n\t\t\t\toverlay: undefined,\n\t\t\t\tunits: c.units,\n\t\t\t};\n\t\t});\n\n\t\tif(this.state.currentIndex === undefined) {\n\t\t\tthis.state.currentIndex = this.state.datasetLength - 1;\n\t\t}\n\n\t\t// Render overlays\n\t\tthis.overlayGuides.map(d => {\n\t\t\tlet currentUnit = d.units[this.state.currentIndex];\n\n\t\t\td.overlay = makeOverlay[d.type](currentUnit);\n\t\t\tthis.drawArea.appendChild(d.overlay);\n\t\t});\n\t}\n\n\tupdateOverlayGuides() {\n\t\tif(this.overlayGuides) {\n\t\t\tthis.overlayGuides.forEach(g => {\n\t\t\t\tlet o = g.overlay;\n\t\t\t\to.parentNode.removeChild(o);\n\t\t\t});\n\t\t}\n\t}\n\n\tbindOverlay() {\n\t\tthis.parent.addEventListener('data-select', () => {\n\t\t\tthis.updateOverlay();\n\t\t});\n\t}\n\n\tbindUnits() {\n\t\tthis.dataUnitComponents.map(c => {\n\t\t\tc.units.map(unit => {\n\t\t\t\tunit.addEventListener('click', () => {\n\t\t\t\t\tlet index = unit.getAttribute('data-point-index');\n\t\t\t\t\tthis.setCurrentDataPoint(index);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\t// Note: Doesn't work as tooltip is absolutely positioned\n\t\tthis.tip.container.addEventListener('click', () => {\n\t\t\tlet index = this.tip.container.getAttribute('data-point-index');\n\t\t\tthis.setCurrentDataPoint(index);\n\t\t});\n\t}\n\n\tupdateOverlay() {\n\t\tthis.overlayGuides.map(d => {\n\t\t\tlet currentUnit = d.units[this.state.currentIndex];\n\t\t\tupdateOverlay[d.type](currentUnit, d.overlay);\n\t\t});\n\t}\n\n\tonLeftArrow() {\n\t\tthis.setCurrentDataPoint(this.state.currentIndex - 1);\n\t}\n\n\tonRightArrow() {\n\t\tthis.setCurrentDataPoint(this.state.currentIndex + 1);\n\t}\n\n\tgetDataPoint(index=this.state.currentIndex) {\n\t\tlet s = this.state;\n\t\tlet data_point = {\n\t\t\tindex: index,\n\t\t\tlabel: s.xAxis.labels[index],\n\t\t\tvalues: s.datasets.map(d => d.values[index])\n\t\t};\n\t\treturn data_point;\n\t}\n\n\tsetCurrentDataPoint(index) {\n\t\tlet s = this.state;\n\t\tindex = parseInt(index);\n\t\tif(index < 0) index = 0;\n\t\tif(index >= s.xAxis.labels.length) index = s.xAxis.labels.length - 1;\n\t\tif(index === s.currentIndex) return;\n\t\ts.currentIndex = index;\n\t\tfire(this.parent, \"data-select\", this.getDataPoint());\n\t}\n\n\n\n\t// API\n\taddDataPoint(label, datasetValues, index=this.state.datasetLength) {\n\t\tsuper.addDataPoint(label, datasetValues, index);\n\t\tthis.data.labels.splice(index, 0, label);\n\t\tthis.data.datasets.map((d, i) => {\n\t\t\td.values.splice(index, 0, datasetValues[i]);\n\t\t});\n\t\tthis.update(this.data);\n\t}\n\n\tremoveDataPoint(index = this.state.datasetLength-1) {\n\t\tif (this.data.labels.length <= 1) {\n\t\t\treturn;\n\t\t}\n\t\tsuper.removeDataPoint(index);\n\t\tthis.data.labels.splice(index, 1);\n\t\tthis.data.datasets.map(d => {\n\t\t\td.values.splice(index, 1);\n\t\t});\n\t\tthis.update(this.data);\n\t}\n\n\tupdateDataset(datasetValues, index=0) {\n\t\tthis.data.datasets[index].values = datasetValues;\n\t\tthis.update(this.data);\n\t}\n\t// addDataset(dataset, index) {}\n\t// removeDataset(index = 0) {}\n\n\tupdateDatasets(datasets) {\n\t\tthis.data.datasets.map((d, i) => {\n\t\t\tif(datasets[i]) {\n\t\t\t\td.values = datasets[i];\n\t\t\t}\n\t\t});\n\t\tthis.update(this.data);\n\t}\n\n\t// updateDataPoint(dataPoint, index = 0) {}\n\t// addDataPoint(dataPoint, index = 0) {}\n\t// removeDataPoint(index = 0) {}\n}\n","import AggregationChart from './AggregationChart';\nimport { getComponent } from '../objects/ChartComponents';\nimport { getOffset } from '../utils/dom';\nimport { getPositionByAngle } from '../utils/helpers';\nimport { makeArcStrokePathStr, makeStrokeCircleStr } from '../utils/draw';\nimport { lightenDarkenColor } from '../utils/colors';\nimport { transform } from '../utils/animation';\nimport { FULL_ANGLE } from '../utils/constants';\n\nexport default class DonutChart extends AggregationChart {\n\tconstructor(parent, args) {\n\t\tsuper(parent, args);\n\t\tthis.type = 'donut';\n\t\tthis.initTimeout = 0;\n\t\tthis.init = 1;\n\n\t\tthis.setup();\n\t}\n\n\tconfigure(args) {\n\t\tsuper.configure(args);\n\t\tthis.mouseMove = this.mouseMove.bind(this);\n\t\tthis.mouseLeave = this.mouseLeave.bind(this);\n\n\t\tthis.hoverRadio = args.hoverRadio || 0.1;\n\t\tthis.config.startAngle = args.startAngle || 0;\n\n\t\tthis.clockWise = args.clockWise || false;\n\t\tthis.strokeWidth = args.strokeWidth || 30;\n\t}\n\n\tcalc() {\n\t\tsuper.calc();\n\t\tlet s = this.state;\n\t\tthis.radius =\n\t\t\tthis.height > this.width\n\t\t\t\t? this.center.x - this.strokeWidth / 2\n\t\t\t\t: this.center.y - this.strokeWidth / 2;\n\n\t\tconst { radius, clockWise } = this;\n\n\t\tconst prevSlicesProperties = s.slicesProperties || [];\n\t\ts.sliceStrings = [];\n\t\ts.slicesProperties = [];\n\t\tlet curAngle = 180 - this.config.startAngle;\n\n\t\ts.sliceTotals.map((total, i) => {\n\t\t\tconst startAngle = curAngle;\n\t\t\tconst originDiffAngle = (total / s.grandTotal) * FULL_ANGLE;\n\t\t\tconst largeArc = originDiffAngle > 180 ? 1: 0;\n\t\t\tconst diffAngle = clockWise ? -originDiffAngle : originDiffAngle;\n\t\t\tconst endAngle = curAngle = curAngle + diffAngle;\n\t\t\tconst startPosition = getPositionByAngle(startAngle, radius);\n\t\t\tconst endPosition = getPositionByAngle(endAngle, radius);\n\n\t\t\tconst prevProperty = this.init && prevSlicesProperties[i];\n\n\t\t\tlet curStart,curEnd;\n\t\t\tif(this.init) {\n\t\t\t\tcurStart = prevProperty ? prevProperty.startPosition : startPosition;\n\t\t\t\tcurEnd = prevProperty ? prevProperty.endPosition : startPosition;\n\t\t\t} else {\n\t\t\t\tcurStart = startPosition;\n\t\t\t\tcurEnd = endPosition;\n\t\t\t}\n\t\t\tconst curPath =\n\t\t\t\toriginDiffAngle === 360\n\t\t\t\t\t? makeStrokeCircleStr(curStart, curEnd, this.center, this.radius, this.clockWise, largeArc)\n\t\t\t\t\t: makeArcStrokePathStr(curStart, curEnd, this.center, this.radius, this.clockWise, largeArc);\n\n\t\t\ts.sliceStrings.push(curPath);\n\t\t\ts.slicesProperties.push({\n\t\t\t\tstartPosition,\n\t\t\t\tendPosition,\n\t\t\t\tvalue: total,\n\t\t\t\ttotal: s.grandTotal,\n\t\t\t\tstartAngle,\n\t\t\t\tendAngle,\n\t\t\t\tangle: diffAngle\n\t\t\t});\n\n\t\t});\n\t\tthis.init = 0;\n\t}\n\n\tsetupComponents() {\n\t\tlet s = this.state;\n\n\t\tlet componentConfigs = [\n\t\t\t[\n\t\t\t\t'donutSlices',\n\t\t\t\t{ },\n\t\t\t\tfunction() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsliceStrings: s.sliceStrings,\n\t\t\t\t\t\tcolors: this.colors,\n\t\t\t\t\t\tstrokeWidth: this.strokeWidth,\n\t\t\t\t\t};\n\t\t\t\t}.bind(this)\n\t\t\t]\n\t\t];\n\n\t\tthis.components = new Map(componentConfigs\n\t\t\t.map(args => {\n\t\t\t\tlet component = getComponent(...args);\n\t\t\t\treturn [args[0], component];\n\t\t\t}));\n\t}\n\n\tcalTranslateByAngle(property){\n\t\tconst{ radius, hoverRadio } = this;\n\t\tconst position = getPositionByAngle(property.startAngle+(property.angle / 2),radius);\n\t\treturn `translate3d(${(position.x) * hoverRadio}px,${(position.y) * hoverRadio}px,0)`;\n\t}\n\n\thoverSlice(path,i,flag,e){\n\t\tif(!path) return;\n\t\tconst color = this.colors[i];\n\t\tif(flag) {\n\t\t\ttransform(path, this.calTranslateByAngle(this.state.slicesProperties[i]));\n\t\t\tpath.style.stroke = lightenDarkenColor(color, 50);\n\t\t\tlet g_off = getOffset(this.svg);\n\t\t\tlet x = e.pageX - g_off.left + 10;\n\t\t\tlet y = e.pageY - g_off.top - 10;\n\t\t\tlet title = (this.formatted_labels && this.formatted_labels.length > 0\n\t\t\t\t? this.formatted_labels[i] : this.state.labels[i]) + ': ';\n\t\t\tlet percent = (this.state.sliceTotals[i] * 100 / this.state.grandTotal).toFixed(1);\n\t\t\tthis.tip.setValues(x, y, {name: title, value: percent + \"%\"});\n\t\t\tthis.tip.showTip();\n\t\t} else {\n\t\t\ttransform(path,'translate3d(0,0,0)');\n\t\t\tthis.tip.hideTip();\n\t\t\tpath.style.stroke = color;\n\t\t}\n\t}\n\n\tbindTooltip() {\n\t\tthis.container.addEventListener('mousemove', this.mouseMove);\n\t\tthis.container.addEventListener('mouseleave', this.mouseLeave);\n\t}\n\n\tmouseMove(e){\n\t\tconst target = e.target;\n\t\tlet slices = this.components.get('donutSlices').store;\n\t\tlet prevIndex = this.curActiveSliceIndex;\n\t\tlet prevAcitve = this.curActiveSlice;\n\t\tif(slices.includes(target)) {\n\t\t\tlet i = slices.indexOf(target);\n\t\t\tthis.hoverSlice(prevAcitve, prevIndex,false);\n\t\t\tthis.curActiveSlice = target;\n\t\t\tthis.curActiveSliceIndex = i;\n\t\t\tthis.hoverSlice(target, i, true, e);\n\t\t} else {\n\t\t\tthis.mouseLeave();\n\t\t}\n\t}\n\n\tmouseLeave(){\n\t\tthis.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,false);\n\t}\n}\n","import '../css/charts.scss';\n\n// import MultiAxisChart from './charts/MultiAxisChart';\nimport PercentageChart from './charts/PercentageChart';\nimport PieChart from './charts/PieChart';\nimport Heatmap from './charts/Heatmap';\nimport AxisChart from './charts/AxisChart';\nimport DonutChart from './charts/DonutChart';\n\nconst chartTypes = {\n\tbar: AxisChart,\n\tline: AxisChart,\n\t// multiaxis: MultiAxisChart,\n\tpercentage: PercentageChart,\n\theatmap: Heatmap,\n\tpie: PieChart,\n\tdonut: DonutChart,\n};\n\nfunction getChartByType(chartType = 'line', parent, options) {\n\tif (chartType === 'axis-mixed') {\n\t\toptions.type = 'line';\n\t\treturn new AxisChart(parent, options);\n\t}\n\n\tif (!chartTypes[chartType]) {\n\t\tconsole.error(\"Undefined chart type: \" + chartType);\n\t\treturn;\n\t}\n\n\treturn new chartTypes[chartType](parent, options);\n}\n\nclass Chart {\n\tconstructor(parent, options) {\n\t\treturn getChartByType(options.type, parent, options);\n\t}\n}\n\nexport { Chart, PercentageChart, PieChart, Heatmap, AxisChart };","import * as Charts from './chart';\n\nlet frappe     = { };\n\nfrappe.NAME    = 'Frappe Charts';\nfrappe.VERSION = '1.6.2';\n\nfrappe         = Object.assign({ }, frappe, Charts);\n\nexport default frappe;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/components/DashboardPage');","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/components/DashboardWidget');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LoadingIndicator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Link');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/abbreviateNumber');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/admin/app';\nimport DashboardWidget from 'flarum/admin/components/DashboardWidget';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Link from 'flarum/common/components/Link';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\nexport default class MiniStatisticsWidget extends DashboardWidget {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"entities\", ['users', 'discussions', 'posts']);\n    _defineProperty(this, \"lifetimeData\", void 0);\n    _defineProperty(this, \"loadingLifetime\", true);\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.loadLifetimeData();\n  }\n  async loadLifetimeData() {\n    this.loadingLifetime = true;\n    m.redraw();\n    const data = await app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/statistics',\n      params: {\n        period: 'lifetime'\n      }\n    });\n    this.lifetimeData = data;\n    this.loadingLifetime = false;\n    m.redraw();\n  }\n  className() {\n    return 'StatisticsWidget StatisticsWidget--mini';\n  }\n  content() {\n    return m(\"div\", {\n      className: \"StatisticsWidget-table\"\n    }, m(\"h4\", {\n      className: \"StatisticsWidget-title\"\n    }, app.translator.trans('flarum-statistics.admin.statistics.mini_heading')), m(\"div\", {\n      className: \"StatisticsWidget-entities\"\n    }, m(\"div\", {\n      className: \"StatisticsWidget-labels\"\n    }, m(\"div\", {\n      className: \"StatisticsWidget-label\"\n    }, app.translator.trans('flarum-statistics.admin.statistics.total_label'))), this.entities.map(entity => {\n      const totalCount = this.loadingLifetime ? app.translator.trans('flarum-statistics.admin.statistics.loading') : this.getTotalCount(entity);\n      return m(\"div\", {\n        className: \"StatisticsWidget-entity\"\n      }, m(\"h3\", {\n        className: \"StatisticsWidget-heading\"\n      }, app.translator.trans('flarum-statistics.admin.statistics.' + entity + '_heading')), m(\"div\", {\n        className: \"StatisticsWidget-total\",\n        title: totalCount\n      }, this.loadingLifetime ? m(LoadingIndicator, {\n        display: \"inline\"\n      }) : abbreviateNumber(totalCount)));\n    })), m(\"div\", {\n      className: \"StatisticsWidget-viewFull\"\n    }, m(Link, {\n      href: app.route('extension', {\n        id: 'flarum-statistics'\n      })\n    }, app.translator.trans('flarum-statistics.admin.statistics.view_full'))));\n  }\n  getTotalCount(entity) {\n    return this.lifetimeData[entity];\n  }\n}\nflarum.reg.add('flarum-statistics', 'admin/components/MiniStatisticsWidget', MiniStatisticsWidget);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/components/ExtensionPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/SelectDropdown');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/extractText');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Placeholder');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Icon');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/ItemList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/utils/generateElementId');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/FormModal');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/admin/app';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport generateElementId from 'flarum/admin/utils/generateElementId';\nimport FormModal from 'flarum/common/components/FormModal';\nimport Button from 'flarum/common/components/Button';\nimport dayjs from 'dayjs';\nimport dayjsUtc from 'dayjs/plugin/utc';\ndayjs.extend(dayjsUtc);\nexport default class StatisticsWidgetDateSelectionModal extends FormModal {\n  constructor() {\n    super(...arguments);\n    /* @ts-expect-error core typings don't allow us to set the type of the state attr :( */\n    _defineProperty(this, \"state\", {\n      inputs: {\n        startDateVal: dayjs().format('YYYY-MM-DD'),\n        endDateVal: dayjs().format('YYYY-MM-DD')\n      },\n      ids: {\n        startDate: generateElementId(),\n        endDate: generateElementId()\n      }\n    });\n  }\n  oninit(vnode) {\n    super.oninit(vnode);\n    if (this.attrs.value) {\n      this.state.inputs = {\n        startDateVal: dayjs.utc(this.attrs.value.start * 1000).format('YYYY-MM-DD'),\n        endDateVal: dayjs.utc(this.attrs.value.end * 1000).format('YYYY-MM-DD')\n      };\n    }\n  }\n  className() {\n    return 'StatisticsWidgetDateSelectionModal Modal--small';\n  }\n  title() {\n    return app.translator.trans('flarum-statistics.admin.date_selection_modal.title');\n  }\n  content() {\n    return m(\"div\", {\n      className: \"Modal-body\"\n    }, this.items().toArray());\n  }\n  items() {\n    const items = new ItemList();\n    items.add('intro', m(\"p\", null, app.translator.trans('flarum-statistics.admin.date_selection_modal.description')), 100);\n    items.add('date_start', m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"label\", {\n      htmlFor: this.state.ids.startDate\n    }, app.translator.trans('flarum-statistics.admin.date_selection_modal.start_date')), m(\"input\", {\n      type: \"date\",\n      id: this.state.ids.startDate,\n      value: this.state.inputs.startDateVal,\n      onchange: this.updateState('startDateVal'),\n      className: \"FormControl\"\n    })), 90);\n    items.add('date_end', m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"label\", {\n      htmlFor: this.state.ids.endDate\n    }, app.translator.trans('flarum-statistics.admin.date_selection_modal.end_date')), m(\"input\", {\n      type: \"date\",\n      id: this.state.ids.endDate,\n      value: this.state.inputs.endDateVal,\n      onchange: this.updateState('endDateVal'),\n      className: \"FormControl\"\n    })), 80);\n    items.add('submit', m(Button, {\n      className: \"Button Button--primary\",\n      type: \"submit\"\n    }, app.translator.trans('flarum-statistics.admin.date_selection_modal.submit_button')), 0);\n    return items;\n  }\n  updateState(field) {\n    return e => {\n      this.state.inputs[field] = e.currentTarget.value;\n    };\n  }\n  submitData() {\n    // We force 'zulu' time (UTC)\n    return {\n      start: Math.floor(+dayjs.utc(this.state.inputs.startDateVal + 'Z') / 1000),\n      // Ensures that the end date is the end of the day\n      end: Math.floor(+dayjs.utc(this.state.inputs.endDateVal + 'Z').hour(23).minute(59).second(59).millisecond(999) / 1000)\n    };\n  }\n  onsubmit(e) {\n    e.preventDefault();\n    const data = this.submitData();\n    if (data.end < data.start) {\n      this.alertAttrs = {\n        type: 'error',\n        controls: app.translator.trans('flarum-statistics.admin.date_selection_modal.errors.end_before_start')\n      };\n      return;\n    }\n    this.attrs.onModalSubmit(data);\n    this.hide();\n  }\n}\nflarum.reg.add('flarum-statistics', 'admin/components/StatisticsWidgetDateSelectionModal', StatisticsWidgetDateSelectionModal);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/admin/app';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\nimport Button from 'flarum/common/components/Button';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\nimport extractText from 'flarum/common/utils/extractText';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport Icon from 'flarum/common/components/Icon';\nimport classList from 'flarum/common/utils/classList';\nimport DashboardWidget from 'flarum/admin/components/DashboardWidget';\nimport StatisticsWidgetDateSelectionModal from './StatisticsWidgetDateSelectionModal';\nimport dayjs from 'dayjs';\nimport dayjsUtc from 'dayjs/plugin/utc';\nimport dayjsLocalizedFormat from 'dayjs/plugin/localizedFormat';\n// @ts-expect-error No typings available\nimport { Chart } from 'frappe-charts';\ndayjs.extend(dayjsUtc);\ndayjs.extend(dayjsLocalizedFormat);\nexport default class StatisticsWidget extends DashboardWidget {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"entities\", ['users', 'discussions', 'posts']);\n    _defineProperty(this, \"periods\", void 0);\n    _defineProperty(this, \"chart\", void 0);\n    _defineProperty(this, \"customPeriod\", null);\n    _defineProperty(this, \"timedData\", {});\n    _defineProperty(this, \"lifetimeData\", void 0);\n    _defineProperty(this, \"customPeriodData\", {});\n    _defineProperty(this, \"noData\", false);\n    _defineProperty(this, \"loadingLifetime\", true);\n    _defineProperty(this, \"loadingTimed\", this.entities.reduce((acc, curr) => {\n      acc[curr] = 'unloaded';\n      return acc;\n    }, {}));\n    _defineProperty(this, \"loadingCustom\", this.entities.reduce((acc, curr) => {\n      acc[curr] = 'unloaded';\n      return acc;\n    }, {}));\n    _defineProperty(this, \"selectedEntity\", 'users');\n    _defineProperty(this, \"selectedPeriod\", void 0);\n    _defineProperty(this, \"chartEntity\", void 0);\n    _defineProperty(this, \"chartPeriod\", void 0);\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.loadLifetimeData();\n  }\n  async loadLifetimeData() {\n    this.loadingLifetime = true;\n    m.redraw();\n    const data = await app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/statistics',\n      params: {\n        period: 'lifetime'\n      }\n    });\n    this.lifetimeData = data;\n    this.loadingLifetime = false;\n    m.redraw();\n  }\n  async loadTimedData(model) {\n    this.loadingTimed[model] = 'loading';\n    m.redraw();\n    try {\n      const data = await app.request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/statistics',\n        params: {\n          period: 'timed',\n          model\n        }\n      });\n      this.timedData[model] = data;\n      this.loadingTimed[model] = 'loaded';\n\n      // Create a Date object which represents the start of the day.\n      let todayDate = new Date();\n      todayDate.setUTCHours(0, 0, 0, 0);\n      const today = todayDate.getTime() / 1000;\n      this.periods = {\n        today: {\n          start: today,\n          end: today + 86400,\n          step: 3600\n        },\n        last_7_days: {\n          start: today - 86400 * 7,\n          end: today,\n          step: 86400\n        },\n        previous_7_days: {\n          start: today - 86400 * 14,\n          end: today - 86400 * 7,\n          step: 86400\n        },\n        last_28_days: {\n          start: today - 86400 * 28,\n          end: today,\n          step: 86400\n        },\n        previous_28_days: {\n          start: today - 86400 * 28 * 2,\n          end: today - 86400 * 28,\n          step: 86400\n        },\n        last_12_months: {\n          start: today - 86400 * 364,\n          end: today,\n          step: 86400 * 7\n        }\n      };\n      this.selectedPeriod = 'last_7_days';\n    } catch (e) {\n      console.error(e);\n      this.loadingTimed[model] = 'fail';\n    }\n    m.redraw();\n  }\n  async loadCustomRangeData(model) {\n    this.loadingCustom[model] = 'loading';\n    m.redraw();\n\n    // We clone so we can check that the same period is still selected\n    // once the HTTP request is complete and the data is to be displayed\n    const range = {\n      ...this.customPeriod\n    };\n    try {\n      const data = await app.request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/statistics',\n        params: {\n          period: 'custom',\n          model,\n          dateRange: {\n            start: range.start,\n            end: range.end\n          }\n        }\n      });\n      if (JSON.stringify(range) !== JSON.stringify(this.customPeriod)) {\n        // The range this method was called with is no longer the selected.\n        // Bail out here.\n        return;\n      }\n      this.customPeriodData[model] = data;\n      this.loadingCustom[model] = 'loaded';\n      m.redraw();\n    } catch (e) {\n      if (JSON.stringify(range) !== JSON.stringify(this.customPeriod)) {\n        // The range this method was called with is no longer the selected.\n        // Bail out here.\n        return;\n      }\n      console.error(e);\n      this.loadingCustom[model] = 'fail';\n    }\n  }\n  className() {\n    return 'StatisticsWidget';\n  }\n  content() {\n    var _this$customPeriod, _this$customPeriod2;\n    const loadingSelectedEntity = (this.selectedPeriod === 'custom' ? this.loadingCustom : this.loadingTimed)[this.selectedEntity] !== 'loaded';\n    const thisPeriod = loadingSelectedEntity ? null : this.selectedPeriod === 'custom' ? {\n      start: (_this$customPeriod = this.customPeriod) == null ? void 0 : _this$customPeriod.end,\n      end: (_this$customPeriod2 = this.customPeriod) == null ? void 0 : _this$customPeriod2.end,\n      step: 86400\n    } : this.periods[this.selectedPeriod];\n    if (this.selectedPeriod === 'custom') {\n      if (!this.customPeriodData[this.selectedEntity] && this.loadingCustom[this.selectedEntity] === 'unloaded') {\n        this.loadCustomRangeData(this.selectedEntity);\n      }\n    } else {\n      if (!this.timedData[this.selectedEntity] && this.loadingTimed[this.selectedEntity] === 'unloaded') {\n        this.loadTimedData(this.selectedEntity);\n      }\n    }\n    return m(\"div\", {\n      className: \"StatisticsWidget-table\"\n    }, m(\"div\", {\n      className: \"StatisticsWidget-entities\"\n    }, m(\"div\", {\n      className: \"StatisticsWidget-labels\"\n    }, m(\"div\", {\n      className: \"StatisticsWidget-label\"\n    }, app.translator.trans('flarum-statistics.admin.statistics.total_label')), m(\"div\", {\n      className: \"StatisticsWidget-label\"\n    }, loadingSelectedEntity ? m(LoadingIndicator, {\n      size: \"small\",\n      display: \"inline\"\n    }) : m(SelectDropdown, {\n      disabled: loadingSelectedEntity,\n      buttonClassName: \"Button Button--text\",\n      caretIcon: \"fas fa-caret-down\"\n    }, Object.keys(this.periods).map(period => m(Button, {\n      key: period,\n      active: period === this.selectedPeriod,\n      onclick: this.changePeriod.bind(this, period),\n      icon: period === this.selectedPeriod ? 'fas fa-check' : true\n    }, app.translator.trans(\"flarum-statistics.admin.statistics.\".concat(period, \"_label\")))).concat([m(Button, {\n      key: \"custom\",\n      active: this.selectedPeriod === 'custom',\n      onclick: () => {\n        const attrs = {\n          onModalSubmit: dates => {\n            if (JSON.stringify(dates) === JSON.stringify(this.customPeriod)) {\n              // If same period is selected, don't reload data\n              return;\n            }\n            this.customPeriodData = {};\n            Object.keys(this.loadingCustom).forEach(k => this.loadingCustom[k] = 'unloaded');\n            this.customPeriod = dates;\n            this.changePeriod('custom');\n          }\n        };\n\n        // If we have a custom period set already,\n        // let's prefill the modal with it\n        if (this.customPeriod) {\n          attrs.value = this.customPeriod;\n        }\n        app.modal.show(StatisticsWidgetDateSelectionModal, attrs);\n      },\n      icon: this.selectedPeriod === 'custom' ? 'fas fa-check' : true\n    }, this.selectedPeriod === 'custom' ? extractText(app.translator.trans(\"flarum-statistics.admin.statistics.custom_label_specified\", {\n      fromDate: dayjs.utc(this.customPeriod.start * 1000).format('ll'),\n      toDate: dayjs.utc(this.customPeriod.end * 1000).format('ll')\n    })) : app.translator.trans(\"flarum-statistics.admin.statistics.custom_label\"))])))), this.entities.map(entity => {\n      const totalCount = this.loadingLifetime ? app.translator.trans('flarum-statistics.admin.statistics.loading') : this.getTotalCount(entity);\n      const thisPeriodCount = loadingSelectedEntity ? app.translator.trans('flarum-statistics.admin.statistics.loading') : this.getPeriodCount(entity, thisPeriod);\n      const lastPeriodCount = this.selectedPeriod === 'custom' ? null : loadingSelectedEntity ? app.translator.trans('flarum-statistics.admin.statistics.loading') : this.getPeriodCount(entity, this.getLastPeriod(thisPeriod));\n      const periodChange = loadingSelectedEntity || lastPeriodCount === 0 || lastPeriodCount === null ? 0 : (thisPeriodCount - lastPeriodCount) / lastPeriodCount * 100;\n      return m(\"button\", {\n        className: classList('Button--ua-reset StatisticsWidget-entity', {\n          active: this.selectedEntity === entity\n        }),\n        onclick: this.changeEntity.bind(this, entity)\n      }, m(\"h3\", {\n        className: \"StatisticsWidget-heading\"\n      }, app.translator.trans('flarum-statistics.admin.statistics.' + entity + '_heading')), m(\"div\", {\n        className: \"StatisticsWidget-total\",\n        title: totalCount\n      }, this.loadingLifetime ? m(LoadingIndicator, {\n        display: \"inline\"\n      }) : abbreviateNumber(totalCount)), m(\"div\", {\n        className: \"StatisticsWidget-period\",\n        title: thisPeriodCount\n      }, loadingSelectedEntity ? m(LoadingIndicator, {\n        display: \"inline\"\n      }) : abbreviateNumber(thisPeriodCount), periodChange !== 0 && m('[', null, ' ', m(\"span\", {\n        className: 'StatisticsWidget-change StatisticsWidget-change--' + (periodChange > 0 ? 'up' : 'down')\n      }, m(Icon, {\n        name: 'fas fa-arrow-' + (periodChange > 0 ? 'up' : 'down')\n      }), Math.abs(periodChange).toFixed(1), \"%\"))));\n    })), m('[', null, loadingSelectedEntity ? m(\"div\", {\n      key: \"loading\",\n      className: \"StatisticsWidget-chart\",\n      \"data-loading\": \"true\"\n    }, m(LoadingIndicator, {\n      size: \"large\"\n    })) : m(\"div\", {\n      key: \"loaded\",\n      className: \"StatisticsWidget-chart\",\n      \"data-loading\": \"false\",\n      oncreate: this.drawChart.bind(this),\n      onupdate: this.drawChart.bind(this)\n    })), this.noData && m(Placeholder, {\n      text: app.translator.trans(\"flarum-statistics.admin.statistics.no_data\")\n    }), !this.noData && !!this.chart && m(Button, {\n      className: \"StatisticsWidget-chartExport Button\",\n      icon: \"fas fa-file-export\",\n      onclick: () => {\n        this.chart.export();\n      }\n    }, app.translator.trans('flarum-statistics.admin.statistics.export_chart_button')));\n  }\n  drawChart(vnode) {\n    var _this$customPeriod3, _this$customPeriod4;\n    if (this.chart && this.chartEntity === this.selectedEntity && this.chartPeriod === this.selectedPeriod) {\n      return;\n    }\n    const period = this.selectedPeriod === 'custom' ? {\n      start: (_this$customPeriod3 = this.customPeriod) == null ? void 0 : _this$customPeriod3.start,\n      end: (_this$customPeriod4 = this.customPeriod) == null ? void 0 : _this$customPeriod4.end,\n      step: 86400\n    } : this.periods[this.selectedPeriod];\n    const periodLength = period.end - period.start;\n    const labels = [];\n    const thisPeriod = [];\n    const lastPeriod = [];\n    for (let i = period.start; i < period.end; i += period.step) {\n      let label;\n      if (period.step < 86400) {\n        label = dayjs.unix(i).utc().format('h A');\n      } else {\n        label = dayjs.unix(i).utc().format('D MMM');\n        if (period.step > 86400) {\n          label += ' - ' + dayjs.unix(i + period.step - 1).utc().format('D MMM');\n        }\n      }\n      labels.push(label);\n      thisPeriod.push(this.getPeriodCount(this.selectedEntity, {\n        start: i,\n        end: i + period.step\n      }));\n      lastPeriod.push(this.getPeriodCount(this.selectedEntity, {\n        start: i - periodLength,\n        end: i - periodLength\n      }));\n    }\n    if (thisPeriod.length === 0) {\n      this.noData = true;\n      m.redraw();\n      return;\n    } else {\n      this.noData = false;\n      m.redraw();\n    }\n    const datasets = [{\n      name: extractText(app.translator.trans('flarum-statistics.admin.statistics.current_period')),\n      values: thisPeriod\n    }, {\n      name: extractText(app.translator.trans('flarum-statistics.admin.statistics.previous_period')),\n      values: lastPeriod\n    }];\n    const data = {\n      labels,\n      datasets\n    };\n\n    // If the dom element no longer exists, recreate the chart\n    // https://stackoverflow.com/a/2620373/11091039\n    if (!this.chart || !(document.compareDocumentPosition(this.chart.parent) & 16)) {\n      this.chart = new Chart(vnode.dom, {\n        data,\n        type: 'line',\n        height: 280,\n        axisOptions: {\n          xAxisMode: 'tick',\n          yAxisMode: 'span',\n          xIsSeries: true\n        },\n        lineOptions: {\n          hideDots: 1,\n          regionFill: 1\n        },\n        colors: [app.forum.attribute('themePrimaryColor'), 'black']\n      });\n    } else {\n      this.chart.update(data);\n    }\n    this.chartEntity = this.selectedEntity;\n    this.chartPeriod = this.selectedPeriod;\n  }\n  changeEntity(entity) {\n    this.selectedEntity = entity;\n  }\n  changePeriod(period) {\n    this.selectedPeriod = period;\n  }\n  getTotalCount(entity) {\n    return this.lifetimeData[entity];\n  }\n  getPeriodCount(entity, period) {\n    const timed = (this.selectedPeriod === 'custom' ? this.customPeriodData : this.timedData)[entity];\n    let count = 0;\n    for (const t in timed) {\n      const time = parseInt(t);\n      if (time >= period.start && time < period.end) {\n        count += timed[time];\n      }\n    }\n    return count;\n  }\n  getLastPeriod(thisPeriod) {\n    return {\n      start: thisPeriod.start - (thisPeriod.end - thisPeriod.start),\n      end: thisPeriod.start\n    };\n  }\n}\nflarum.reg.add('flarum-statistics', 'admin/components/StatisticsWidget', StatisticsWidget);","import ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport StatisticsWidget from './StatisticsWidget';\nexport default class StatisticsPage extends ExtensionPage {\n  content() {\n    return m(\"div\", {\n      className: \"StatisticsPage\"\n    }, m(\"div\", {\n      className: \"container\"\n    }, m(StatisticsWidget, null)));\n  }\n}\nflarum.reg.add('flarum-statistics', 'admin/components/StatisticsPage', StatisticsPage);","import app from 'flarum/admin/app';\nimport { extend } from 'flarum/common/extend';\nimport DashboardPage from 'flarum/admin/components/DashboardPage';\nimport MiniStatisticsWidget from './components/MiniStatisticsWidget';\nimport StatisticsPage from './components/StatisticsPage';\napp.initializers.add('flarum-statistics', () => {\n  extend(DashboardPage.prototype, 'availableWidgets', function (widgets) {\n    widgets.add('statistics', m(MiniStatisticsWidget, null), 20);\n  });\n  app.extensionData.for('flarum-statistics').registerPage(StatisticsPage);\n});"],"names":["module","exports","e","n","r","i","s","u","a","o","f","h","c","d","l","$","y","M","name","weekdays","split","months","ordinal","t","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","_","S","args","arguments","O","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","T","forEach","extend","$i","isDayjs","en","Ls","LTS","LT","L","LL","LLL","LLLL","formats","toUpperCase","call","local","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","$localOffset","isUTC","document","querySelector","getBoundingClientRect","top","documentElement","scrollTop","body","left","scrollLeft","offsetParent","bottom","window","innerHeight","clientHeight","right","innerWidth","clientWidth","titleHeight","margins","paddings","legendHeight","parseFloat","toFixed","fill","concat","sin","Zt","cos","isNaN","isFinite","Ft","isArray","b","log10","pow","k","push","sqrt","angle","atan2","PI","reduce","ie","parseInt","createElementNS","appendChild","parentNode","insertBefore","Object","keys","map","style","textContent","setAttribute","inside","id","x1","x2","y1","y2","offset","N","className","transform","styles","stroke","j","width","height","rx","Y","fontSize","re","dy","le","textAnchor","innerHTML","B","oe","ae","V","lineType","shortenNumbers","ve","tt","pe","it","zeroLine","Vt","nodeName","childNodes","ce","getAttribute","st","rt","cloneNode","attributeName","from","to","begin","dur","values","keySplines","ge","keyTimes","calcMode","type","ot","webkitTransform","msTransform","mozTransform","oTransform","lt","Ut","replaceChild","ut","removeChild","setTimeout","fe","ct","classList","create","me","firstChild","dt","setMinutes","pt","ft","vt","xt","we","ke","gt","xe","mt","yt","Ae","bt","kt","setDate","wt","Le","filter","includes","assign","constants","getData","Te","At","mantissa","exponent","Pt","Tt","Lt","unshift","max","reverse","Ot","Mt","indexOf","Ct","Dt","scaleMultiplier","Et","_t","labels","datasets","chartType","Xt","yRegions","end","start","zt","yMarkers","value","label","insertAt","head","getElementsByTagName","createElement","styleSheet","cssText","createTextNode","Symbol","iterator","constructor","Ht","Promise","resolve","then","done","reject","next","key","arg","_invoke","return","asyncIterator","throw","TypeError","It","enumerable","configurable","writable","defineProperty","Rt","Function","getOwnPropertyDescriptor","getPrototypeOf","Yt","setPrototypeOf","__proto__","Bt","ReferenceError","Gt","baseHeight","titleFontSize","Jt","Kt","$t","Qt","bar","line","pie","percentage","heatmap","donut","te","parent","colors","titleName","titleValue","listValues","titleValueFirst","setup","makeTooltip","calcPosition","container","hideTip","title","dataPointList","addEventListener","index","formatted","offsetWidth","offsetHeight","valueFirst","refresh","opacity","ee","blue","violet","red","orange","yellow","green","purple","magenta","black","grey","exec","ne","se","ue","dot","heat_square","he","attributes","specified","nodeValue","de","ease","linear","easein","easeout","easeinout","ye","HTMLElement","Error","rawChartArgs","realData","prepareData","data","prepareFirstData","validateColors","config","showTooltip","showLegend","isNavigable","animate","truncateLegends","measures","JSON","stringify","setMeasures","argHeight","state","options","initTimeout","overlays","configure","P","console","warn","boundDrawFn","draw","ResizeObserver","resizeObserver","observe","disconnect","removeEventListener","makeContainer","updateWidth","independentWidth","tip","bindTooltip","calc","makeChartArea","setupComponents","components","drawArea","render","update","renderLegend","setupNavigation","baseWidth","getComputedStyle","paddingLeft","paddingRight","svg","C","svgDefs","titleEL","legendArea","updateTipOffset","Map","error","make","updateNav","makeOverlay","bindUnits","bindOverlay","keyActions","onEnterKey","bind","onLeftArrow","onUpArrow","onRightArrow","onDownArrow","event","keyCode","Blob","URL","createObjectURL","href","download","click","revokeObjectURL","ht","be","formatTooltipY","tooltipOptions","maxSlices","maxLegendPoints","sliceTotals","sort","grandTotal","center","legendTotals","cx","cy","dx","R","Pe","layerClass","layerTransform","makeElements","animateElements","store","layer","oldData","donutSlices","sliceStrings","strokeWidth","transition","pieSlices","percentageBars","xPositions","F","widths","barHeight","barDepth","yAxis","positions","pos","mode","U","xAxis","G","calcLabels","labelPos","q","position","X","startPos","endPos","et","heatDomain","colWidth","rowHeight","squareSize","radius","xTranslate","serializedSubDomains","cols","yyyyMmDd","dataValue","barGraph","unitType","units","yPositions","minHeight","J","barWidth","color","offsets","barsWidth","lineGraph","paths","hideLine","spline","heatline","path","regionFill","region","hideDots","K","valuesOverPoints","at","nt","Oe","barOptions","depth","target","formattedLabels","setValues","showTip","Me","mouseMove","mouseLeave","hoverRadio","startAngle","clockWise","slicesProperties","startPosition","endPosition","E","total","endAngle","calTranslateByAngle","pageX","pageY","formatted_labels","curActiveSliceIndex","curActiveSlice","hoverSlice","Ce","countLabel","startSubDomain","startSubDomainIndex","discreteDomains","noOfWeeks","setFullYear","dataPoints","firstWeekStart","distribution","St","domainConfigs","getDomains","getDomainConfig","getCol","getSubDomainConfig","De","lineOptions","axisOptions","xAxisMode","yAxisMode","xIsSeries","shortenYAxisNumbers","formatTooltipX","calcXPositions","calcYAxisParameters","getAllYValues","makeDataByIndex","datasetLength","unitWidth","xOffset","calcDatasetPoints","calcYExtremes","calcYRegions","cumulativeYs","cumulativeYPos","stacked","yExtremes","Wt","spaceRatio","dotSize","dataUnitComponents","dataByIndex","yPos","formattedLabel","xPos","yExtreme","mapTooltipXPosition","Nt","I","overlayGuides","overlay","currentIndex","updateOverlay","setCurrentDataPoint","createEvent","initEvent","dispatchEvent","getDataPoint","splice","Ne","W","Se","_e","freeze","Chart","jt","PercentageChart","PieChart","Heatmap","AxisChart","ze","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","obj","prop","hasOwnProperty","toStringTag","flarum","reg","_typeof","_defineProperty","input","hint","prim","toPrimitive","res","toPropertyKey","MiniStatisticsWidget","super","oncreate","vnode","loadLifetimeData","async","loadingLifetime","redraw","method","url","params","period","lifetimeData","content","entities","entity","totalCount","getTotalCount","display","StatisticsWidgetDateSelectionModal","inputs","startDateVal","endDateVal","ids","startDate","endDate","oninit","attrs","items","toArray","htmlFor","onchange","updateState","field","currentTarget","submitData","hour","minute","second","millisecond","onsubmit","preventDefault","alertAttrs","controls","onModalSubmit","hide","StatisticsWidget","acc","curr","model","loadingTimed","timedData","todayDate","setUTCHours","today","periods","step","last_7_days","previous_7_days","last_28_days","previous_28_days","last_12_months","selectedPeriod","loadingCustom","range","customPeriod","dateRange","customPeriodData","_this$customPeriod","_this$customPeriod2","loadingSelectedEntity","selectedEntity","thisPeriod","loadCustomRangeData","loadTimedData","size","disabled","buttonClassName","caretIcon","active","onclick","changePeriod","icon","dates","fromDate","thisPeriodCount","getPeriodCount","lastPeriodCount","getLastPeriod","periodChange","changeEntity","drawChart","onupdate","noData","text","chart","export","_this$customPeriod3","_this$customPeriod4","chartEntity","chartPeriod","periodLength","lastPeriod","compareDocumentPosition","dom","timed","count","time","StatisticsPage","widgets","registerPage"],"sourceRoot":""}