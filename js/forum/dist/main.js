var flarum=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=255)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var i=n(85);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,n){t.exports=n(236)},function(t,e,n){var i=n(205),r=n(201);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i?i(t,e):t.__proto__=e)}},function(t,e,n){var i=n(57);t.exports=function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(1)),a=i(n(2)),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,o.default)(this,t),n&&(e.children=n),this.constructor.initProps(e),this.props=e,this.element=null,this.retain=!1,this.init()}return(0,a.default)(t,[{key:"init",value:function(){}},{key:"onunload",value:function(){}},{key:"render",value:function(){var t=this,e=this.retain?{subtree:"retain"}:this.view();e.attrs=e.attrs||{};var n=e.attrs.config;return e.attrs.config=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];t.element=i[0],t.config.apply(t,i.slice(1)),n&&n.apply(t,i)},e}},{key:"$",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=$(this.element);return t?e.find(t):e})},{key:"config",value:function(){}},{key:"view",value:function(){throw new Error("Component#view must be implemented by subclass")}}],[{key:"component",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,r.default)({},t);e&&(n.children=e),this.initProps(n);var i=function(t){return t.props=n,t.render()};i.$original=this.prototype.view;var o={controller:this.bind(void 0,n),view:i,props:n,component:this};return n.key&&(o.attrs={key:n.key}),o}},{key:"initProps",value:function(t){}}]),t}();e.default=s},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=i(n(10)),f=i(n(33)),p=i(n(13)),h=i(n(16)),v=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){var t=(0,r.default)({},this.props);delete t.children,t.className=t.className||"",t.type=t.type||"button",!t.title&&this.props.children&&(t.title=(0,p.default)(this.props.children)),(0,f.default)(t,"icon")&&(t.className+=" hasIcon");var e=(0,f.default)(t,"loading");return(t.disabled||e)&&(t.className+=" disabled"+(e?" loading":""),delete t.onclick),m("button",t,this.getButtonContent())}},{key:"getButtonContent",value:function(){var t=this.props.icon;return[t&&!0!==t?(0,d.default)(t,{className:"Button-icon"}):"",this.props.children?m("span",{className:"Button-label"},this.props.children):"",this.props.loading?h.default.component({size:"tiny",className:"LoadingIndicator--inline"}):""]}}]),e}(c.default);e.default=v},function(t,e,n){var i=n(3),r=n(169);t.exports=function t(e,n,o){null===e&&(e=Function.prototype);var a=r(e,n);if(void 0===a){var s=i(e);return null===s?void 0:t(s,n,o)}if("value"in a)return a.value;var u=a.get;return void 0!==u?u.call(o):void 0}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(2)),o=i(n(1)),a=function t(e,n){(0,o.default)(this,t),this.content=e,this.priority=n},s=function(){function t(){(0,o.default)(this,t),this.items={}}return(0,r.default)(t,[{key:"isEmpty",value:function(){for(var t in this.items)if(this.items.hasOwnProperty(t))return!1;return!0}},{key:"has",value:function(t){return!!this.items[t]}},{key:"get",value:function(t){return this.items[t].content}},{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.items[t]=new a(e,n)}},{key:"replace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.items[t]&&(null!==e&&(this.items[t].content=e),null!==n&&(this.items[t].priority=n))}},{key:"remove",value:function(t){delete this.items[t]}},{key:"merge",value:function(t){for(var e in t.items)t.items.hasOwnProperty(e)&&t.items[e]instanceof a&&(this.items[e]=t.items[e])}},{key:"toArray",value:function(){var t=[];for(var e in this.items)this.items.hasOwnProperty(e)&&this.items[e]instanceof a&&(this.items[e].content=Object(this.items[e].content),this.items[e].content.itemName=e,t.push(this.items[e]),this.items[e].key=t.length);return t.sort(function(t,e){return t.priority===e.priority?t.key-e.key:t.priority>e.priority?-1:1}).map(function(t){return t.content})}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.className="icon "+t+" "+(e.className||""),m("i",e)}},function(t,e,n){t.exports=n(197)},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t instanceof Array||(t=[t]);return function(t){var e,n=[];return t.forEach(function(i,r){(!a(i)||e&&!a(e)&&r!==t.length-1)&&(e=i,n.push(i))}),n}(t).map(function(t){var e=t.component&&t.component.isListItem,n=t.component&&t.component.isActive&&t.component.isActive(t.props),i=t.props?t.props.itemClassName:t.itemClassName;return e&&(t.attrs=t.attrs||{},t.attrs.key=t.attrs.key||t.itemName),e?t:m("li",{className:(0,o.default)([t.itemName?"item-"+t.itemName:"",i,n?"active":""]),key:t.itemName},t)})};var r=i(n(24)),o=i(n(35));function a(t){return t&&t.component===r.default}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){return e instanceof Array?e.map(function(e){return t(e)}).join(""):"object"===(0,r.default)(e)&&null!==e?t(e.children):e};var r=i(n(57))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="Avatar "+(e.className||"");var n="",i="undefined"===e.title||e.title;i||delete e.title;if(t){var o=t.displayName()||"?",a=t.avatarUrl();if(i&&(e.title=e.title||o),a)return m("img",(0,r.default)({},e,{src:a}));n=o.charAt(0).toUpperCase(),e.style={background:t.color()}}return m("span",e,n)};var r=i(n(162))},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=n(194),f=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){var t=(0,r.default)({},this.props);return t.className="LoadingIndicator "+(t.className||""),delete t.size,m("div",t,m.trust("&nbsp;"))}},{key:"config",value:function(){var t={zIndex:"auto",color:this.$().css("color")};switch(this.props.size){case"large":(0,r.default)(t,{lines:10,length:8,width:4,radius:8});break;default:(0,r.default)(t,{lines:8,length:4,width:3,radius:5})}new d.Spinner(t).spin(this.element)}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=(i(n(20)),i(n(7))),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.alert=null}},{key:"view",value:function(){return this.alert&&(this.alert.props.dismissible=!1),m("div",{className:"Modal modal-dialog "+this.className()},m("div",{className:"Modal-content"},this.isDismissible()?m("div",{className:"Modal-close App-backControl"},c.default.component({icon:"fa fa-times",onclick:this.hide.bind(this),className:"Button Button--icon Button--link"})):"",m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"Modal-header"},m("h3",{className:"App-titleControl App-titleControl--text"},this.title())),alert?m("div",{className:"Modal-alert"},this.alert):"",this.content())))}},{key:"isDismissible",value:function(){return!0}},{key:"className",value:function(){}},{key:"title",value:function(){}},{key:"content",value:function(){}},{key:"onsubmit",value:function(){}},{key:"onready",value:function(){this.$("form").find("input, select, textarea").first().focus().select()}},{key:"onhide",value:function(){}},{key:"hide",value:function(){app.modal.close()}},{key:"loaded",value:function(){this.loading=!1,m.redraw()}},{key:"onerror",value:function(t){this.alert=t.alert,m.redraw(),422===t.status&&t.response.errors?this.$("form [name="+t.response.errors[0].source.pointer.replace("/data/attributes/","")+"]").select():this.onready()}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(6)),d=i(n(10)),f=i(n(12)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.showing=!1}},{key:"view",value:function(){var t=this.props.children?(0,f.default)(this.props.children):[];return m("div",{className:"ButtonGroup Dropdown dropdown "+this.props.className+" itemCount"+t.length+(this.showing?" open":"")},this.getButton(),this.getMenu(t))}},{key:"config",value:function(t){var e=this;t||(this.$().on("shown.bs.dropdown",function(){e.showing=!0,e.props.onshow&&e.props.onshow(),m.redraw();var t=e.$(".Dropdown-menu"),n=t.hasClass("Dropdown-menu--right");t.removeClass("Dropdown-menu--top Dropdown-menu--right"),t.toggleClass("Dropdown-menu--top",t.offset().top+t.height()>$(window).scrollTop()+$(window).height()),t.offset().top<0&&t.removeClass("Dropdown-menu--top"),t.toggleClass("Dropdown-menu--right",n||t.offset().left+t.width()>$(window).scrollLeft()+$(window).width())}),this.$().on("hidden.bs.dropdown",function(){e.showing=!1,e.props.onhide&&e.props.onhide(),m.redraw()}))}},{key:"getButton",value:function(){return m("button",{className:"Dropdown-toggle "+this.props.buttonClassName,"data-toggle":"dropdown",onclick:this.props.onclick},this.getButtonContent())}},{key:"getButtonContent",value:function(){return[this.props.icon?(0,d.default)(this.props.icon,{className:"Button-icon"}):"",m("span",{className:"Button-label"},this.props.label),this.props.caretIcon?(0,d.default)(this.props.caretIcon,{className:"Button-caret"}):""]}},{key:"getMenu",value:function(t){return m("ul",{className:"Dropdown-menu dropdown-menu "+this.props.menuClassName},t)}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className=t.className||"",t.buttonClassName=t.buttonClassName||"",t.menuClassName=t.menuClassName||"",t.label=t.label||"",t.caretIcon=void 0!==t.caretIcon?t.caretIcon:"fa fa-caret-down"}}]),e}(c.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t&&t.displayName()||app.translator.trans("core.lib.username.deleted_text");return m("span",{className:"username"},e)}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=i(n(7)),f=i(n(12)),p=i(n(33)),h=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){var t=(0,r.default)({},this.props),e=(0,p.default)(t,"type");t.className="Alert Alert--"+e+" "+(t.className||"");var n=(0,p.default)(t,"children"),i=(0,p.default)(t,"controls")||[],o=(0,p.default)(t,"dismissible"),a=(0,p.default)(t,"ondismiss"),s=[];return(o||void 0===o)&&s.push(m(d.default,{icon:"fa fa-times",className:"Button Button--link Button--icon Alert-dismiss",onclick:a})),m("div",t,m("span",{className:"Alert-body"},n),m("ul",{className:"Alert-controls"},(0,f.default)(i.concat(s))))}}]),e}(c.default);e.default=h},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(145)),o=i(n(11)),a=i(n(57)),s=i(n(1)),u=i(n(2)),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,s.default)(this,t),this.data=e,this.freshness=new Date,this.exists=!1,this.store=n}return(0,u.default)(t,[{key:"id",value:function(){return this.data.id}},{key:"attribute",value:function(t){return this.data.attributes[t]}},{key:"pushData",value:function(e){for(var n in e)if("object"===(0,a.default)(e[n]))for(var i in this.data[n]=this.data[n]||{},e[n])e[n][i]instanceof t&&(e[n][i]={data:t.getIdentifier(e[n][i])}),this.data[n][i]=e[n][i];else this.data[n]=e[n];this.freshness=new Date}},{key:"pushAttributes",value:function(t){this.pushData({attributes:t})}},{key:"save",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={type:this.data.type,id:this.data.id,attributes:e};if(e.relationships){for(var a in r.relationships={},e.relationships){var s=e.relationships[a];r.relationships[a]={data:s instanceof Array?s.map(t.getIdentifier):t.getIdentifier(s)}}delete e.relationships}var u=this.copyData();this.pushData(r);var l={data:r};return i.meta&&(l.meta=i.meta),app.request((0,o.default)({method:this.exists?"PATCH":"POST",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:l},i)).then(function(t){return n.store.data[t.data.type]=n.store.data[t.data.type]||{},n.store.data[t.data.type][t.data.id]=n,n.store.pushPayload(t)},function(t){throw n.pushData(u),m.lazyRedraw(),t})}},{key:"delete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.exists?app.request((0,o.default)({method:"DELETE",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:t},n)).then(function(){e.exists=!1,e.store.remove(e)}):m.deferred.resolve().promise}},{key:"apiEndpoint",value:function(){return"/"+this.data.type+(this.exists?"/"+this.data.id:"")}},{key:"copyData",value:function(){return JSON.parse((0,r.default)(this.data))}}],[{key:"attribute",value:function(t,e){return function(){var n=this.data.attributes&&this.data.attributes[t];return e?e(n):n}}},{key:"hasOne",value:function(t){return function(){if(this.data.relationships){var e=this.data.relationships[t];if(e)return app.store.getById(e.data.type,e.data.id)}return!1}}},{key:"hasMany",value:function(t){return function(){if(this.data.relationships){var e=this.data.relationships[t];if(e)return e.data.map(function(t){return app.store.getById(t.type,t.id)})}return!1}}},{key:"transformDate",value:function(t){return t?new Date(t):null}},{key:"getIdentifier",value:function(t){return{type:t.data.type,id:t.data.id}}}]),t}();e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("li",{className:"Dropdown-separator"})}}]),e}(i(n(6)).default);l.isListItem=!0;var c=l;e.default=c},function(t,e,n){var i=n(172),r=n(90);t.exports=function(t){return i(r(t))}},function(t,e,n){t.exports=!n(37)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(46),r=n(177),o=n(86),a=Object.defineProperty;e.f=n(26)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(21),r=n(15),o=n(178),a=n(39),s=function(t,e,n){var u,l,c,d=t&s.F,f=t&s.G,p=t&s.S,h=t&s.P,m=t&s.B,v=t&s.W,y=f?r:r[e]||(r[e]={}),g=y.prototype,b=f?i:p?i[e]:(i[e]||{}).prototype;for(u in f&&(n=e),n)(l=!d&&b&&void 0!==b[u])&&u in y||(c=l?b[u]:n[u],y[u]=f&&"function"!=typeof b[u]?n[u]:m&&l?o(c,i):v&&b[u]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((y.virtual||(y.virtual={}))[u]=c,t&s.R&&g&&!g[u]&&a(g,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=moment(t),n=moment();e.isAfter(n)&&(e=n);var i=null;i=e.diff(moment())<-2592e6?e.year()===moment().year()?e.format("D MMM"):e.format("MMM 'YY"):e.fromNow();return i}},function(t,e,n){t.exports=n(193)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r=e.slice(0,-1),o=e.slice(-1)[0],a={};return function(){var t=this,e=!1;return r.forEach(function(n){var i="function"==typeof t[n]?t[n]():t[n];a[n]!==i&&(e=!0,a[n]=i)}),e&&(i=o.apply(this,r.map(function(t){return a[t]}))),i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t[e];return delete t[e],n}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"view",this).call(this);return t.tag="a",t}}],[{key:"initProps",value:function(t){t.active=this.isActive(t),t.config=t.config||m.route}},{key:"isActive",value:function(t){return void 0!==t.active?t.active:m.route()===t.href}}]),e}(i(n(7)).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;if(t instanceof Array)e=t.filter(function(t){return t});else for(var n in e=[],t)t[n]&&e.push(n);return e.join(" ")}},function(t,e,n){var i=n(88)("wks"),r=n(59),o=n(21).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(27),r=n(58);t.exports=n(26)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(42)),d=i(n(9)),f=i(n(135)),p=i(n(66)),h=i(n(16)),v=i(n(48)),y=i(n(34)),g=i(n(24)),b=i(n(12)),_=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.user=null,this.bodyClass="App--user"}},{key:"view",value:function(){return m("div",{className:"UserPage"},this.user?[p.default.component({user:this.user,className:"Hero UserHero",editable:this.user.canEdit()||this.user===app.session.user,controlsButtonClassName:"Button"}),m("div",{className:"container"},m("nav",{className:"sideNav UserPage-nav",config:f.default},m("ul",null,(0,b.default)(this.sidebarItems().toArray()))),m("div",{className:"sideNavOffset UserPage-content"},this.content()))]:[h.default.component({className:"LoadingIndicator--block"})])}},{key:"content",value:function(){}},{key:"show",value:function(t){this.user=t,app.setTitle(t.displayName()),m.redraw()}},{key:"loadUser",value:function(t){var e=this,n=t.toLowerCase();app.store.all("users").some(function(t){if(t.username().toLowerCase()===n&&t.joinTime())return e.show(t),!0}),this.user||app.store.find("users",t).then(this.show.bind(this))}},{key:"sidebarItems",value:function(){var t=new d.default;return t.add("nav",v.default.component({children:this.navItems().toArray(),className:"App-titleControl",buttonClassName:"Button"})),t}},{key:"navItems",value:function(){var t=new d.default,e=this.user;return t.add("posts",y.default.component({href:app.route("user.posts",{username:e.username()}),children:[app.translator.trans("core.forum.user.posts_link"),m("span",{className:"Button-badge"},e.commentsCount())],icon:"far fa-comment"}),100),t.add("discussions",y.default.component({href:app.route("user.discussions",{username:e.username()}),children:[app.translator.trans("core.forum.user.discussions_link"),m("span",{className:"Button-badge"},e.discussionsCount())],icon:"fa fa-bars"}),90),app.session.user===e&&(t.add("separator",g.default.component(),-90),t.add("settings",y.default.component({href:app.route("settings"),children:app.translator.trans("core.forum.user.settings_link"),icon:"fa fa-cog"}),-100)),t}}]),e}(c.default);e.default=_},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(17)),d=i(n(153)),f=i(n(51)),p=(i(n(20)),i(n(7))),h=i(n(73)),v=i(n(13)),y=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.identification=m.prop(this.props.identification||""),this.password=m.prop(this.props.password||""),this.remember=m.prop(!!this.props.remember)}},{key:"className",value:function(){return"LogInModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.log_in.title")}},{key:"content",value:function(){return[m("div",{className:"Modal-body"},m(h.default,null),m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"identification",type:"text",placeholder:(0,v.default)(app.translator.trans("core.forum.log_in.username_or_email_placeholder")),bidi:this.identification,disabled:this.loading})),m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"password",type:"password",placeholder:(0,v.default)(app.translator.trans("core.forum.log_in.password_placeholder")),bidi:this.password,disabled:this.loading})),m("div",{className:"Form-group"},m("div",null,m("label",{className:"checkbox"},m("input",{type:"checkbox",bidi:this.remember,disabled:this.loading}),app.translator.trans("core.forum.log_in.remember_me_label")))),m("div",{className:"Form-group"},p.default.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.log_in.submit_button")})))),m("div",{className:"Modal-footer"},m("p",{className:"LogInModal-forgotPassword"},m("a",{onclick:this.forgotPassword.bind(this)},app.translator.trans("core.forum.log_in.forgot_password_link"))),app.forum.attribute("allowSignUp")?m("p",{className:"LogInModal-signUp"},app.translator.trans("core.forum.log_in.sign_up_text",{a:m("a",{onclick:this.signUp.bind(this)})})):"")]}},{key:"forgotPassword",value:function(){var t=this.identification(),e=-1!==t.indexOf("@")?{email:t}:void 0;app.modal.show(new d.default(e))}},{key:"signUp",value:function(){var t={password:this.password()},e=this.identification();t[-1!==e.indexOf("@")?"email":"username"]=e,app.modal.show(new f.default(t))}},{key:"onready",value:function(){this.$("[name="+(this.identification()?"password":"identification")+"]").select()}},{key:"onsubmit",value:function(t){t.preventDefault(),this.loading=!0;var e=this.identification(),n=this.password(),i=this.remember();app.session.login({identification:e,password:n,remember:i},{errorHandler:this.onerror.bind(this)}).then(function(){return window.location.reload()},this.loaded.bind(this))}},{key:"onerror",value:function(t){401===t.status&&(t.alert.props.children=app.translator.trans("core.forum.log_in.invalid_login_message")),(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"onerror",this).call(this,t)}}]),e}(c.default);e.default=y},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){app.previous=app.current,app.current=this,app.drawer.hide(),app.modal.close(),this.bodyClass=""}},{key:"config",value:function(t,e){var n=this;t||this.bodyClass&&($("#app").addClass(this.bodyClass),e.onunload=function(){return $("#app").removeClass(n.bodyClass)})}}]),e}(i(n(6)).default);e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(42)),d=i(n(9)),f=i(n(160)),p=i(n(159)),h=i(n(151)),v=i(n(16)),y=i(n(149)),g=i(n(12)),b=i(n(52)),_=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.discussion=null,this.near=null,this.refresh(),app.cache.discussionList&&(app.pane.enable(),app.pane.hide(),app.previous instanceof e&&m.redraw.strategy("diff")),app.history.push("discussion"),this.bodyClass="App--discussion"}},{key:"onunload",value:function(t){if(this.discussion){var e=m.route.param("id");if(e&&e.split("-")[0]===this.discussion.id()){t.preventDefault();var n=m.route.param("near")||"1";return n!==String(this.near)&&this.stream.goToNumber(n),void(this.near=null)}}app.pane.disable(),app.composingReplyTo(this.discussion)&&!app.composer.component.content()?app.composer.hide():app.composer.minimize()}},{key:"view",value:function(){var t=this.discussion;return m("div",{className:"DiscussionPage"},app.cache.discussionList?m("div",{className:"DiscussionPage-list",config:this.configPane.bind(this)},$(".App-navigation").is(":visible")?"":app.cache.discussionList.render()):"",m("div",{className:"DiscussionPage-discussion"},t?[f.default.component({discussion:t}),m("div",{className:"container"},m("nav",{className:"DiscussionPage-nav"},m("ul",null,(0,g.default)(this.sidebarItems().toArray()))),m("div",{className:"DiscussionPage-stream"},this.stream.render()))]:v.default.component({className:"LoadingIndicator--block"})))}},{key:"refresh",value:function(){this.near=m.route.param("near")||0,this.discussion=null;var t=app.preloadedDocument();if(t)setTimeout(this.show.bind(this,t),0);else{var e=this.requestParams();app.store.find("discussions",m.route.param("id").split("-")[0],e).then(this.show.bind(this))}m.lazyRedraw()}},{key:"requestParams",value:function(){return{page:{near:this.near}}}},{key:"show",value:function(t){this.discussion=t,app.history.push("discussion",t.title()),app.setTitle(t.title()),app.setTitleCount(0);var e=[];t.payload&&t.payload.included&&(e=t.payload.included.filter(function(t){return"posts"===t.type&&t.relationships&&t.relationships.discussion}).map(function(t){return app.store.getById("posts",t.id)}).sort(function(t,e){return t.id()-e.id()}).slice(0,20)),this.stream=new p.default({discussion:t,includedPosts:e}),this.stream.on("positionChanged",this.positionChanged.bind(this)),this.stream.goToNumber(m.route.param("near")||e[0]&&e[0].number(),!0)}},{key:"configPane",value:function(t,e,n){if(!e){n.retain=!0;var i=$(t),r=app.pane;i.hover(r.show.bind(r),r.onmouseleave.bind(r));var o=function(t){t.pageX<10&&r.show()};$(document).on("mousemove",o),n.onunload=function(){return $(document).off("mousemove",o)};var a=i.find(".DiscussionListItem.active");if(a.length){var s=i.offset().top,u=s+i.outerHeight(),l=a.offset().top,c=l+a.outerHeight();(l<s||c>u)&&i.scrollTop(i.scrollTop()-s+l)}}}},{key:"sidebarItems",value:function(){var t=new d.default;return t.add("controls",y.default.component({children:b.default.controls(this.discussion,this).toArray(),icon:"fa fa-ellipsis-v",className:"App-primaryControl",buttonClassName:"Button--primary"})),t.add("scrubber",h.default.component({stream:this.stream,className:"App-titleControl"}),-100),t}},{key:"positionChanged",value:function(t,e){var n=this.discussion,i=app.route.discussion(n,this.near=t);m.route(i,!0),window.history.replaceState(null,document.title,i),app.history.push("discussion",n.title()),app.session.user&&e>(n.readNumber()||0)&&(n.save({readNumber:e}),m.redraw())}}]),e}(c.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(!e&&!n)return t;var r=e instanceof RegExp?e:new RegExp(e,"gi"),o=t,a=0;n&&(e&&(a=Math.max(0,t.search(r)-n/2)),o=(0,i.truncate)(o,n,a));o=$("<div/>").text(o).html(),e&&(o=o.replace(r,"<mark>$&</mark>"));return m.trust(o)};var i=n(55)},function(t,e,n){var i=n(173),r=n(80);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(38);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=moment(t),n=e.format(),i=e.format("LLLL"),o=(0,r.default)(t);return m("time",{pubdate:!0,datetime:n,title:i,"data-humantime":!0},o)};var r=i(n(30))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(18)),d=i(n(10)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getButtonContent",value:function(){var t=this.props.children.filter(function(t){return t.props.active})[0],e=t&&t.props.children||this.props.defaultLabel;return e instanceof Array&&(e=e[0]),[m("span",{className:"Button-label"},e),(0,d.default)(this.props.caretIcon,{className:"Button-caret"})]}}],[{key:"initProps",value:function(t){t.caretIcon=void 0!==t.caretIcon?t.caretIcon:"fa fa-sort",(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className+=" Dropdown--select"}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4)),l=i(n(23)),c=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(l.default);(0,r.default)(c.prototype,{nameSingular:l.default.attribute("nameSingular"),namePlural:l.default.attribute("namePlural"),color:l.default.attribute("color"),icon:l.default.attribute("icon")}),c.ADMINISTRATOR_ID="1",c.GUEST_ID="2",c.MEMBER_ID="3";var d=c;e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=function(){function t(){(0,r.default)(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.callbacks=n,this.data={}}return(0,o.default)(t,[{key:"retain",value:function(){var t=this,e=!1;return this.callbacks.forEach(function(n,i){var r=n();r!==t.data[i]&&(t.data[i]=r,e=!0)}),!e&&{subtree:"retain"}}},{key:"check",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks=this.callbacks.concat(e)}},{key:"invalidate",value:function(){this.data={}}}]),t}();e.default=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(17)),d=i(n(41)),f=(i(n(14)),i(n(7))),p=i(n(73)),h=i(n(13)),v=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.username=m.prop(this.props.username||""),this.email=m.prop(this.props.email||""),this.password=m.prop(this.props.password||"")}},{key:"className",value:function(){return"Modal--small SignUpModal"+(this.welcomeUser?" SignUpModal--success":"")}},{key:"title",value:function(){return app.translator.trans("core.forum.sign_up.title")}},{key:"content",value:function(){return[m("div",{className:"Modal-body"},this.body()),m("div",{className:"Modal-footer"},this.footer())]}},{key:"isProvided",value:function(t){return this.props.identificationFields&&-1!==this.props.identificationFields.indexOf(t)}},{key:"body",value:function(){return[this.props.token?"":m(p.default,null),m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"username",type:"text",placeholder:(0,h.default)(app.translator.trans("core.forum.sign_up.username_placeholder")),value:this.username(),onchange:m.withAttr("value",this.username),disabled:this.loading||this.isProvided("username")})),m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"email",type:"email",placeholder:(0,h.default)(app.translator.trans("core.forum.sign_up.email_placeholder")),value:this.email(),onchange:m.withAttr("value",this.email),disabled:this.loading||this.isProvided("email")})),this.props.token?"":m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"password",type:"password",placeholder:(0,h.default)(app.translator.trans("core.forum.sign_up.password_placeholder")),value:this.password(),onchange:m.withAttr("value",this.password),disabled:this.loading})),m("div",{className:"Form-group"},m(f.default,{className:"Button Button--primary Button--block",type:"submit",loading:this.loading},app.translator.trans("core.forum.sign_up.submit_button"))))]}},{key:"footer",value:function(){return[m("p",{className:"SignUpModal-logIn"},app.translator.trans("core.forum.sign_up.log_in_text",{a:m("a",{onclick:this.logIn.bind(this)})}))]}},{key:"logIn",value:function(){var t={identification:this.email()||this.username(),password:this.password()};app.modal.show(new d.default(t))}},{key:"onready",value:function(){this.props.username&&!this.props.email?this.$("[name=email]").select():this.$("[name=username]").select()}},{key:"onsubmit",value:function(t){t.preventDefault(),this.loading=!0;var e=this.submitData();app.request({url:app.forum.attribute("baseUrl")+"/register",method:"POST",data:e,errorHandler:this.onerror.bind(this)}).then(function(){return window.location.reload()},this.loaded.bind(this))}},{key:"submitData",value:function(){var t={username:this.username(),email:this.email()};return this.props.token?t.token=this.props.token:t.password=this.password(),this.props.avatarUrl&&(t.avatarUrl=this.props.avatarUrl),t}}]),e}(c.default);e.default=v},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(43)),o=i(n(74)),a=i(n(41)),s=i(n(7)),u=i(n(24)),l=i(n(152)),c=i(n(9)),d=i(n(13)),f={controls:function(t,e){var n=this,i=new c.default;return["user","moderation","destructive"].forEach(function(r){var o=n[r+"Controls"](t,e).toArray();o.length&&(o.forEach(function(t){return i.add(t.itemName,t)}),i.add(r+"Separator",u.default.component()))}),i},userControls:function(t,e){var n=new c.default;return e instanceof r.default&&n.add("reply",!app.session.user||t.canReply()?s.default.component({icon:"fa fa-reply",children:app.translator.trans(app.session.user?"core.forum.discussion_controls.reply_button":"core.forum.discussion_controls.log_in_to_reply_button"),onclick:this.replyAction.bind(t,!0,!1)}):s.default.component({icon:"fa fa-reply",children:app.translator.trans("core.forum.discussion_controls.cannot_reply_button"),className:"disabled",title:app.translator.trans("core.forum.discussion_controls.cannot_reply_text")})),n},moderationControls:function(t){var e=new c.default;return t.canRename()&&e.add("rename",s.default.component({icon:"fa fa-pencil-alt",children:app.translator.trans("core.forum.discussion_controls.rename_button"),onclick:this.renameAction.bind(t)})),e},destructiveControls:function(t){var e=new c.default;return t.isHidden()?(t.canHide()&&e.add("restore",s.default.component({icon:"fa fa-reply",children:app.translator.trans("core.forum.discussion_controls.restore_button"),onclick:this.restoreAction.bind(t)})),t.canDelete()&&e.add("delete",s.default.component({icon:"fa fa-times",children:app.translator.trans("core.forum.discussion_controls.delete_forever_button"),onclick:this.deleteAction.bind(t)}))):t.canHide()&&e.add("hide",s.default.component({icon:"far fa-trash-alt",children:app.translator.trans("core.forum.discussion_controls.delete_button"),onclick:this.hideAction.bind(t)})),e},replyAction:function(t,e){var n=m.deferred();if(app.session.user)if(this.canReply()){var i=app.composer.component;app.composingReplyTo(this)&&!e||(i=new o.default({user:app.session.user,discussion:this}),app.composer.load(i)),app.composer.show(),t&&app.viewingDiscussion(this)&&!app.composer.isFullScreen()&&app.current.stream.goToNumber("reply"),n.resolve(i)}else n.reject();else app.modal.show(new a.default);return n.promise},hideAction:function(){return this.pushAttributes({hideTime:new Date,hideUser:app.session.user}),this.save({isHidden:!0})},restoreAction:function(){return this.pushAttributes({hideTime:null,hideUser:null}),this.save({isHidden:!1})},deleteAction:function(){var t=this;if(confirm((0,d.default)(app.translator.trans("core.forum.discussion_controls.delete_confirmation"))))return app.viewingDiscussion(this)&&app.history.back(),this.delete().then(function(){app.cache.discussionList&&(app.cache.discussionList.removeDiscussion(t),m.redraw())})},renameAction:function(){return app.modal.show(new l.default({currentTitle:this.title(),discussion:this}))}};e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},s=function(){function t(e){(0,r.default)(this,t),this.callback=e,this.lastTop=-1}return(0,o.default)(t,[{key:"loop",value:function(){this.active&&(this.update(),a(this.loop.bind(this)))}},{key:"update",value:function(t){var e=window.pageYOffset;(this.lastTop!==e||t)&&(this.callback(e),this.lastTop=e)}},{key:"start",value:function(){this.active||(this.active=!0,this.loop())}},{key:"stop",value:function(){this.active=!1}}]),t}();e.default=s},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(16)),d=i(n(161)),f=i(n(14)),p=i(n(12)),h=i(n(9)),v=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.loading=!1,this.content=m.prop(this.props.originalContent),this.editor=new d.default({submitLabel:this.props.submitLabel,placeholder:this.props.placeholder,onchange:this.content,onsubmit:this.onsubmit.bind(this),value:this.content()})}},{key:"view",value:function(){return this.editor.props.disabled=this.loading,m("div",{className:"ComposerBody "+(this.props.className||"")},(0,f.default)(this.props.user,{className:"ComposerBody-avatar"}),m("div",{className:"ComposerBody-content"},m("ul",{className:"ComposerBody-header"},(0,p.default)(this.headerItems().toArray())),m("div",{className:"ComposerBody-editor"},this.editor.render())),c.default.component({className:"ComposerBody-loading"+(this.loading?" active":"")}))}},{key:"focus",value:function(){this.$(":input:enabled:visible:first").focus()}},{key:"preventExit",value:function(){var t=this.content();return t&&t!==this.props.originalContent&&this.props.confirmExit}},{key:"headerItems",value:function(){return new h.default}},{key:"onsubmit",value:function(){}},{key:"loaded",value:function(){this.loading=!1,m.redraw()}}]),e}(l.default);e.default=v},function(t,e,n){"use strict";function i(t){var e=t.replace(/(<\/p>|<br>)/g,"$1 &nbsp;").replace(/<img\b[^>]*>/gi," "),n=$("<div/>").html(e);return n.find(i.removeSelectors.join(",")).remove(),n.text().replace(/\s+/g," ").trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.truncate=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(n>0?"...":"")+t.substring(n,n+e)+(t.length>n+e?"...":"")},e.slug=function(t){return t.toLowerCase().replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").replace(/-$|^-/g,"")},e.getPlainContent=i,e.ucfirst=function(t){return t.substr(0,1).toUpperCase()+t.substr(1)},i.removeSelectors=["blockquote","script"]},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(231),r=n(217);function o(t){return(o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof r&&"symbol"===o(i)?t.exports=a=function(t){return o(t)}:t.exports=a=function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":o(t)},a(e)}t.exports=a},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(90);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4)),l=i(n(23)),c=i(n(102)),d=i(n(9)),f=i(n(32)),p=i(n(65)),h=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(l.default);e.default=h,(0,r.default)(h.prototype,{username:l.default.attribute("username"),displayName:l.default.attribute("displayName"),email:l.default.attribute("email"),isActivated:l.default.attribute("isActivated"),password:l.default.attribute("password"),avatarUrl:l.default.attribute("avatarUrl"),preferences:l.default.attribute("preferences"),groups:l.default.hasMany("groups"),joinTime:l.default.attribute("joinTime",l.default.transformDate),lastSeenTime:l.default.attribute("lastSeenTime",l.default.transformDate),readTime:l.default.attribute("readTime",l.default.transformDate),unreadNotificationsCount:l.default.attribute("unreadNotificationsCount"),newNotificationsCount:l.default.attribute("newNotificationsCount"),discussionsCount:l.default.attribute("discussionsCount"),commentsCount:l.default.attribute("commentsCount"),canEdit:l.default.attribute("canEdit"),canDelete:l.default.attribute("canDelete"),avatarColor:null,color:(0,f.default)("username","avatarUrl","avatarColor",function(t,e,n){return n?"rgb("+n.join(", ")+")":e?(this.calculateAvatarColor(),""):"#"+(0,c.default)(t)}),isOnline:function(){return this.lastSeenTime()>moment().subtract(5,"minutes").toDate()},badges:function(){var t=new d.default,e=this.groups();return e&&e.forEach(function(e){t.add("group"+e.id(),p.default.component({group:e}))}),t},calculateAvatarColor:function(){var t=new Image,e=this;t.onload=function(){var t=new ColorThief;e.avatarColor=t.getColor(this),e.freshness=new Date,m.redraw()},t.src=this.avatarUrl()},savePreferences:function(t){var e=this.preferences();return(0,r.default)(e,t),this.save({preferences:e})}})},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(16)),d=i(n(10)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.loading=!1}},{key:"view",value:function(){var t="Checkbox "+(this.props.state?"on":"off")+" "+(this.props.className||"");return this.loading&&(t+=" loading"),this.props.disabled&&(t+=" disabled"),m("label",{className:t},m("input",{type:"checkbox",checked:this.props.state,disabled:this.props.disabled,onchange:m.withAttr("checked",this.onchange.bind(this))}),m("div",{className:"Checkbox-display"},this.getDisplay()),this.props.children)}},{key:"getDisplay",value:function(){return this.loading?c.default.component({size:"tiny"}):(0,d.default)(this.props.state?"fa fa-check":"fa fa-times")}},{key:"onchange",value:function(t){this.props.onchange&&this.props.onchange(t,this)}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(125)),d=i(n(7)),f=i(n(16)),p=i(n(120)),h=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.loading=!0,this.moreResults=!1,this.discussions=[],this.refresh()}},{key:"view",value:function(){var t,e=this.props.params;if(this.loading?t=f.default.component():this.moreResults&&(t=d.default.component({children:app.translator.trans("core.forum.discussion_list.load_more_button"),className:"Button",onclick:this.loadMore.bind(this)})),0===this.discussions.length&&!this.loading){var n=app.translator.trans("core.forum.discussion_list.empty_text");return m("div",{className:"DiscussionList"},p.default.component({text:n}))}return m("div",{className:"DiscussionList"+(this.props.params.q?" DiscussionList--searchResults":"")},m("ul",{className:"DiscussionList-discussions"},this.discussions.map(function(t){return m("li",{key:t.id(),"data-id":t.id()},c.default.component({discussion:t,params:e}))})),m("div",{className:"DiscussionList-loadMore"},t))}},{key:"requestParams",value:function(){var t={include:["startUser","lastUser"],filter:{}};return t.sort=this.sortMap()[this.props.params.sort],this.props.params.q&&(t.filter.q=this.props.params.q,t.include.push("mostRelevantPost","mostRelevantPost.user")),t}},{key:"sortMap",value:function(){var t={};return this.props.params.q&&(t.relevance=""),t.latest="-lastTime",t.top="-commentsCount",t.newest="-startTime",t.oldest="startTime",t}},{key:"refresh",value:function(){var t=this;return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.loading=!0,this.discussions=[]),this.loadResults().then(function(e){t.discussions=[],t.parseResults(e)},function(){t.loading=!1,m.redraw()})}},{key:"loadResults",value:function(t){var e=app.preloadedDocument();if(e)return m.deferred().resolve(e).promise;var n=this.requestParams();return n.page={offset:t},n.include=n.include.join(","),app.store.find("discussions",n)}},{key:"loadMore",value:function(){this.loading=!0,this.loadResults(this.discussions.length).then(this.parseResults.bind(this))}},{key:"parseResults",value:function(t){return[].push.apply(this.discussions,t),this.loading=!1,this.moreResults=!!t.payload.links.next,m.lazyRedraw(),t}},{key:"removeDiscussion",value:function(t){var e=this.discussions.indexOf(t);-1!==e&&this.discussions.splice(e,1)}},{key:"addDiscussion",value:function(t){this.discussions.unshift(t)}}]),e}(l.default);e.default=h},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.extend=function(t,e,n){var i=t[e];t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=i?i.apply(this,e):void 0;return n.apply(this,[o].concat(e)),o},(0,r.default)(t[e],i)},e.override=function(t,e,n){var i=t[e];t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,[i.bind(this)].concat(e))},(0,r.default)(t[e],i)};var r=i(n(11))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,null,[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.group&&(t.icon=t.group.icon(),t.style={backgroundColor:t.group.color()},t.label=void 0===t.label?t.group.nameSingular():t.label,t.type="group--"+t.group.id(),delete t.group)}}]),e}(i(n(70)).default);e.default=c},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(30)),d=i(n(9)),f=i(n(137)),p=i(n(14)),h=i(n(19)),v=i(n(10)),y=i(n(18)),g=i(n(134)),b=i(n(12)),_=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this.props.user,e=f.default.controls(t,this).toArray(),n=t.color(),i=t.badges().toArray();return m("div",{className:"UserCard "+(this.props.className||""),style:n?{backgroundColor:n}:""},m("div",{className:"darkenBackground"},m("div",{className:"container"},e.length?y.default.component({children:e,className:"UserCard-controls App-primaryControl",menuClassName:"Dropdown-menu--right",buttonClassName:this.props.controlsButtonClassName,label:app.translator.trans("core.forum.user_controls.button"),icon:"fa fa-ellipsis-v"}):"",m("div",{className:"UserCard-profile"},m("h2",{className:"UserCard-identity"},this.props.editable?[g.default.component({user:t,className:"UserCard-avatar"}),(0,h.default)(t)]:m("a",{href:app.route.user(t),config:m.route},m("div",{className:"UserCard-avatar"},(0,p.default)(t)),(0,h.default)(t))),i.length?m("ul",{className:"UserCard-badges badges"},(0,b.default)(i)):"",m("ul",{className:"UserCard-info"},(0,b.default)(this.infoItems().toArray()))))))}},{key:"infoItems",value:function(){var t=new d.default,e=this.props.user,n=e.lastSeenTime();if(n){var i=e.isOnline();t.add("lastSeen",m("span",{className:"UserCard-lastSeen"+(i?" online":"")},i?[(0,v.default)("fa fa-circle")," ",app.translator.trans("core.forum.user.online_text")]:[(0,v.default)("far fa-clock")," ",(0,c.default)(n)]))}return t.add("joined",app.translator.trans("core.forum.user.joined_date_text",{ago:(0,c.default)(e.joinTime())})),t}}]),e}(l.default);e.default=_},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(54)),d=i(n(10));function f(t){app.composer.isFullScreen()&&(app.composer.minimize(),t.stopPropagation())}var p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.editor.props.preview=function(e){f(e),m.route(app.route.post(t.props.post))}}},{key:"headerItems",value:function(){var t=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"headerItems",this).call(this),n=this.props.post;return t.add("title",m("h3",null,(0,d.default)("fa fa-pencil-alt")," "," ",m("a",{href:app.route.discussion(n.discussion(),n.number()),config:function(t,e){e||($(t).on("click",f),m.route.apply(this,arguments))}},app.translator.trans("core.forum.composer_edit.post_link",{number:n.number(),discussion:n.discussion().title()})))),t}},{key:"data",value:function(){return{content:this.content()}}},{key:"onsubmit",value:function(){this.loading=!0;var t=this.data();this.props.post.save(t).then(function(){return app.composer.hide()},this.loaded.bind(this))}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.submitLabel=t.submitLabel||app.translator.trans("core.forum.composer_edit.submit_button"),t.confirmExit=t.confirmExit||app.translator.trans("core.forum.composer_edit.discard_confirmation"),t.originalContent=t.originalContent||t.post.content(),t.user=t.user||t.post.user(),t.post.editedContent=t.originalContent}}]),e}(c.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(50)),d=i(n(18)),f=i(n(139)),p=i(n(12)),h=i(n(9)),v=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;this.loading=!1,this.subtree=new c.default(function(){return t.props.post.freshness},function(){var e=t.props.post.user();return e&&e.freshness},function(){return t.controlsOpen})}},{key:"view",value:function(){var t,e=this,n=this.attrs();return n.className="Post "+(this.loading?"Post--loading ":"")+(n.className||""),m("article",n,this.subtree.retain()||(t=f.default.controls(e.props.post,e).toArray(),m("div",null,e.content(),m("aside",{className:"Post-actions"},m("ul",null,(0,p.default)(e.actionItems().toArray()),t.length?m("li",null,m(d.default,{className:"Post-controls",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right",icon:"fa fa-ellipsis-h",onshow:function(){return e.$(".Post-actions").addClass("open")},onhide:function(){return e.$(".Post-actions").removeClass("open")}},t)):"")),m("footer",{className:"Post-footer"},m("ul",null,(0,p.default)(e.footerItems().toArray()))))))}},{key:"config",value:function(t){var e=this.$(".Post-actions"),n=this.$(".Post-controls");e.toggleClass("open",n.hasClass("open"))}},{key:"attrs",value:function(){return{}}},{key:"content",value:function(){return[]}},{key:"actionItems",value:function(){return new h.default}},{key:"footerItems",value:function(){return new h.default}}]),e}(l.default);e.default=v},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(68)),d=i(n(35)),f=i(n(138)),p=i(n(132)),h=i(n(130)),v=i(n(67)),y=i(n(9)),g=i(n(12)),b=i(n(7)),_=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.revealContent=!1,this.postUser=new f.default({post:this.props.post}),this.subtree.check(function(){return t.postUser.cardVisible},function(){return t.isEditing()})}},{key:"content",value:function(){return(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"content",this).call(this).concat([m("header",{className:"Post-header"},m("ul",(0,g.default)(this.headerItems().toArray()))),m("div",{className:"Post-body"},this.isEditing()?m("div",{className:"Post-preview",config:this.configPreview.bind(this)}):m.trust(this.props.post.contentHtml()))])}},{key:"config",value:function(t,n){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"config",this).apply(this,arguments);var i=this.isEditing()?"":this.props.post.contentHtml();n.contentHtml!==i&&this.$(".Post-body script").each(function(){eval.call(window,$(this).text())}),n.contentHtml=i}},{key:"isEditing",value:function(){return app.composer.component instanceof v.default&&app.composer.component.props.post===this.props.post}},{key:"attrs",value:function(){var t=this.props.post,n=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"attrs",this).call(this);return n.className+=" "+(0,d.default)({CommentPost:!0,"Post--hidden":t.isHidden(),"Post--edited":t.isEdited(),revealContent:this.revealContent,editing:this.isEditing()}),n}},{key:"configPreview",value:function(t,e,n){if(!e){var i,r=function(){var e=app.composer.component.content();i!==e&&(i=e,s9e.TextFormatter.preview(i||"",t))};r();var o=setInterval(r,50);n.onunload=function(){return clearInterval(o)}}}},{key:"toggleContent",value:function(){this.revealContent=!this.revealContent}},{key:"headerItems",value:function(){var t=new y.default,e=this.props.post,n={post:e};return t.add("user",this.postUser.render(),100),t.add("meta",p.default.component(n)),e.isEdited()&&!e.isHidden()&&t.add("edited",h.default.component(n)),e.isHidden()&&t.add("toggle",b.default.component({className:"Button Button--default Button--more",icon:"fa fa-ellipsis-h",onclick:this.toggleContent.bind(this)})),t}}]),e}(c.default);e.default=_},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=i(n(10)),f=i(n(33)),p=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){var t=(0,r.default)({},this.props),e=(0,f.default)(t,"type"),n=(0,f.default)(t,"icon");return t.className="Badge "+(e?"Badge--"+e:"")+" "+(t.className||""),t.title=(0,f.default)(t,"label")||"",m("span",t,n?(0,d.default)(n,{className:"Badge-icon"}):m.trust("&nbsp;"))}},{key:"config",value:function(t){t||this.props.label&&this.$().tooltip({container:"body"})}}]),e}(c.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4)),l=i(n(23)),c=i(n(32)),d=i(n(9)),f=i(n(70)),p=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(l.default);e.default=p,(0,r.default)(p.prototype,{title:l.default.attribute("title"),slug:l.default.attribute("slug"),startTime:l.default.attribute("startTime",l.default.transformDate),startUser:l.default.hasOne("startUser"),startPost:l.default.hasOne("startPost"),lastTime:l.default.attribute("lastTime",l.default.transformDate),lastUser:l.default.hasOne("lastUser"),lastPost:l.default.hasOne("lastPost"),lastPostNumber:l.default.attribute("lastPostNumber"),commentsCount:l.default.attribute("commentsCount"),repliesCount:(0,c.default)("commentsCount",function(t){return Math.max(0,t-1)}),posts:l.default.hasMany("posts"),mostRelevantPost:l.default.hasOne("mostRelevantPost"),readTime:l.default.attribute("readTime",l.default.transformDate),readNumber:l.default.attribute("readNumber"),isUnread:(0,c.default)("unreadCount",function(t){return!!t}),isRead:(0,c.default)("unreadCount",function(t){return app.session.user&&!t}),hideTime:l.default.attribute("hideTime",l.default.transformDate),hideUser:l.default.hasOne("hideUser"),isHidden:(0,c.default)("hideTime",function(t){return!!t}),canReply:l.default.attribute("canReply"),canRename:l.default.attribute("canRename"),canHide:l.default.attribute("canHide"),canDelete:l.default.attribute("canDelete"),removePost:function(t){var e=this.data.relationships,n=e&&e.posts;n&&n.data.some(function(e,i){if(t===e.id)return n.data.splice(i,1),!0})},unreadCount:function(){var t=app.session.user;return t&&t.readTime()<this.lastTime()?Math.max(0,this.lastPostNumber()-(this.readNumber()||0)):0},badges:function(){var t=new d.default;return this.isHidden()&&t.add("hidden",m(f.default,{type:"hidden",icon:"fa fa-trash",label:app.translator.trans("core.lib.badge.hidden_tooltip")})),t},postIds:function(){var t=this.data.relationships.posts;return t?t.data.map(function(t){return t.id}):[]}})},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(12)),d=i(n(7)),f=i(n(16)),p=i(n(71)),h=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.loading=!1,this.moreResults=!1}},{key:"view",value:function(){var t=app.cache.notifications||[];return m("div",{className:"NotificationList"},m("div",{className:"NotificationList-header"},m("div",{className:"App-primaryControl"},d.default.component({className:"Button Button--icon Button--link",icon:"fa fa-check",title:app.translator.trans("core.forum.notifications.mark_all_as_read_tooltip"),onclick:this.markAllAsRead.bind(this)})),m("h4",{className:"App-titleControl App-titleControl--text"},app.translator.trans("core.forum.notifications.title"))),m("div",{className:"NotificationList-content"},t.length?t.map(function(t){var e=[],n={};return t.forEach(function(t){var i=t.subject();if(void 0!==i){var r=!1;i instanceof p.default?r=i:i&&i.discussion&&(r=i.discussion());var o=r?r.id():0;n[o]=n[o]||{discussion:r,notifications:[]},n[o].notifications.push(t),-1===e.indexOf(n[o])&&e.push(n[o])}}),e.map(function(t){var e=t.discussion&&t.discussion.badges().toArray();return m("div",{className:"NotificationGroup"},t.discussion?m("a",{className:"NotificationGroup-header",href:app.route.discussion(t.discussion),config:m.route},e&&e.length?m("ul",{className:"NotificationGroup-badges badges"},(0,c.default)(e)):"",t.discussion.title()):m("div",{className:"NotificationGroup-header"},app.forum.attribute("title")),m("ul",{className:"NotificationGroup-content"},t.notifications.map(function(t){var e=app.notificationComponents[t.contentType()];return e?m("li",null,e.component({notification:t})):""})))})}):"",this.loading?m(f.default,{className:"LoadingIndicator--block"}):t.length?"":m("div",{className:"NotificationList-empty"},app.translator.trans("core.forum.notifications.empty_text"))))}},{key:"config",value:function(t,e){var n=this;if(!t){var i=this.$(".NotificationList-content"),r="auto"===i.css("overflow")?i:$(window),o=function(){var t=r.scrollTop(),e=r.height(),o=r===i?0:i.offset().top,a=i[0].scrollHeight;n.moreResults&&!n.loading&&t+e>=o+a&&n.loadMore()};r.on("scroll",o),e.onunload=function(){r.off("scroll",o)}}}},{key:"load",value:function(){app.session.user.newNotificationsCount()&&delete app.cache.notifications,app.cache.notifications||(app.session.user.pushAttributes({newNotificationsCount:0}),this.loadMore())}},{key:"loadMore",value:function(){var t=this;this.loading=!0,m.redraw();var e=app.cache.notifications?{page:{offset:10*app.cache.notifications.length}}:null;return app.store.find("notifications",e).then(this.parseResults.bind(this)).catch(function(){}).then(function(){t.loading=!1,m.redraw()})}},{key:"parseResults",value:function(t){return app.cache.notifications=app.cache.notifications||[],app.cache.notifications.push(t),this.moreResults=!!t.payload.links.next,t}},{key:"markAllAsRead",value:function(){app.cache.notifications&&(app.session.user.pushAttributes({unreadNotificationsCount:0}),app.cache.notifications.forEach(function(t){t.forEach(function(t){return t.pushAttributes({isRead:!0})})}),app.request({url:app.forum.attribute("apiUrl")+"/notifications/read",method:"POST"}))}}]),e}(l.default);e.default=h},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(9)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("div",{className:"LogInButtons"},this.items().toArray())}},{key:"items",value:function(){return new c.default}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(54)),d=i(n(20)),f=i(n(7)),p=i(n(10)),h=i(n(13));function v(t){app.composer.isFullScreen()&&(app.composer.minimize(),t.stopPropagation())}var y=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.editor.props.preview=function(e){v(e),m.route(app.route.discussion(t.props.discussion,"reply"))}}},{key:"headerItems",value:function(){var t=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"headerItems",this).call(this),n=this.props.discussion;return t.add("title",m("h3",null,(0,p.default)("fa fa-reply")," "," ",m("a",{href:app.route.discussion(n),config:function(t,e){e||($(t).on("click",v),m.route.apply(this,arguments))}},n.title()))),t}},{key:"data",value:function(){return{content:this.content(),relationships:{discussion:this.props.discussion}}}},{key:"onsubmit",value:function(){var t=this.props.discussion;this.loading=!0,m.redraw();var e=this.data();app.store.createRecord("posts").save(e).then(function(e){if(app.viewingDiscussion(t))app.current.stream.update().then(function(){return app.current.stream.goToNumber(e.number())});else{var n,i=f.default.component({className:"Button Button--link",children:app.translator.trans("core.forum.composer_reply.view_button"),onclick:function(){m.route(app.route.post(e)),app.alerts.dismiss(n)}});app.alerts.show(n=new d.default({type:"success",message:app.translator.trans("core.forum.composer_reply.posted_message"),controls:[i]}))}app.composer.hide()},this.loaded.bind(this))}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.placeholder=t.placeholder||(0,h.default)(app.translator.trans("core.forum.composer_reply.body_placeholder")),t.submitLabel=t.submitLabel||app.translator.trans("core.forum.composer_reply.submit_button"),t.confirmExit=t.confirmExit||(0,h.default)(app.translator.trans("core.forum.composer_reply.discard_confirmation"))}}]),e}(c.default);e.default=y},function(t,e,n){var i=n(56),r=n(58),o=n(25),a=n(86),s=n(29),u=n(177),l=Object.getOwnPropertyDescriptor;e.f=n(26)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(21),r=n(15),o=n(83),a=n(78),s=n(27).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(36)},function(t,e,n){var i=n(27).f,r=n(29),o=n(36)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(46),r=n(226),o=n(80),a=n(89)("IE_PROTO"),s=function(){},u=function(){var t,e=n(176)("iframe"),i=o.length;for(e.style.display="none",n(222).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){t.exports=n(233)},function(t,e,n){var i=n(38);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(28),r=n(15),o=n(37);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var i=n(21),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){var i=n(88)("keys"),r=n(59);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(7)),d=i(n(34)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=app,e=t.history,n=t.pane;return m("div",{className:"Navigation ButtonGroup "+(this.props.className||""),onmouseenter:n&&n.show.bind(n),onmouseleave:n&&n.onmouseleave.bind(n)},e.canGoBack()?[this.getBackButton(),this.getPaneButton()]:this.getDrawerButton())}},{key:"config",value:function(t,e){e.retain=!0}},{key:"getBackButton",value:function(){var t=app.history,e=t.getPrevious()||{};return d.default.component({className:"Button Navigation-back Button--icon",href:t.backUrl(),icon:"fa fa-chevron-left",title:e.title,config:function(){},onclick:function(e){e.shiftKey||e.ctrlKey||e.metaKey||2===e.which||(e.preventDefault(),t.back())}})}},{key:"getPaneButton",value:function(){var t=app.pane;return t&&t.active?c.default.component({className:"Button Button--icon Navigation-pin"+(t.pinned?" active":""),onclick:t.togglePinned.bind(t),icon:"fa fa-thumbtack"}):""}},{key:"getDrawerButton",value:function(){if(!this.props.drawer)return"";var t=app.drawer,e=app.session.user;return c.default.component({className:"Button Button--icon Navigation-drawer"+(e&&e.newNotificationsCount()?" new":""),onclick:function(e){e.stopPropagation(),t.show()},icon:"fa fa-bars"})}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4)),l=i(n(23)),c=i(n(32)),d=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(l.default);e.default=d,(0,r.default)(d.prototype,{contentType:l.default.attribute("contentType"),subjectId:l.default.attribute("subjectId"),content:l.default.attribute("content"),time:l.default.attribute("time",l.default.date),isRead:l.default.attribute("isRead"),unreadCount:l.default.attribute("unreadCount"),additionalUnreadCount:(0,c.default)("unreadCount",function(t){return Math.max(0,t-1)}),user:l.default.hasOne("user"),sender:l.default.hasOne("sender"),subject:l.default.hasOne("subject")})},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4)),l=i(n(23)),c=i(n(32)),d=n(55),f=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(l.default);e.default=f,(0,r.default)(f.prototype,{number:l.default.attribute("number"),discussion:l.default.hasOne("discussion"),time:l.default.attribute("time",l.default.transformDate),user:l.default.hasOne("user"),contentType:l.default.attribute("contentType"),content:l.default.attribute("content"),contentHtml:l.default.attribute("contentHtml"),contentPlain:(0,c.default)("contentHtml",d.getPlainContent),editTime:l.default.attribute("editTime",l.default.transformDate),editUser:l.default.hasOne("editUser"),isEdited:(0,c.default)("editTime",function(t){return!!t}),hideTime:l.default.attribute("hideTime",l.default.transformDate),hideUser:l.default.hasOne("hideUser"),isHidden:(0,c.default)("hideTime",function(t){return!!t}),canEdit:l.default.attribute("canEdit"),canDelete:l.default.attribute("canDelete")})},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"apiEndpoint",value:function(){return"/"}}]),e}(i(n(23)).default);e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1));e.default=function t(e,n,i,o){(0,r.default)(this,t),this.status=e,this.responseText=n,this.options=i,this.xhr=o;try{this.response=JSON.parse(n)}catch(t){this.response=null}this.alert=null}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.m,n=function t(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if(n.prototype&&n.prototype instanceof o.default){var s=r.slice(1);return 1===s.length&&Array.isArray(s[0])&&(s=s[0]),n.component(r[0],s)}var u=e.apply(this,arguments);return u.attrs.bidi&&t.bidi(u,u.attrs.bidi),u.attrs.route&&(u.attrs.href=u.attrs.route,u.attrs.config=t.route,delete u.attrs.route),u};(0,r.default)(e).forEach(function(t){return n[t]=e[t]}),n.lazyRedraw=function(){n.startComputation(),n.endComputation()},t.m=n};var r=i(n(31)),o=i(n(6))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var i in t){var r=t[i];r.component&&(r.component.props.routeName=i),n[e+r.path]=r.component}return n}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=function(){function t(){var e=this;(0,r.default)(this,t),$("#content").click(function(t){e.isOpen()&&(t.preventDefault(),e.hide())})}return(0,o.default)(t,[{key:"isOpen",value:function(){return $("#app").hasClass("drawerOpen")}},{key:"hide",value:function(){$("#app").removeClass("drawerOpen"),this.$backdrop&&this.$backdrop.remove()}},{key:"show",value:function(){var t=this;$("#app").addClass("drawerOpen"),this.$backdrop=$("<div/>").addClass("drawer-backdrop fade").appendTo("body").click(function(){return t.hide()}),setTimeout(function(){return t.$backdrop.addClass("in")})}}]),t}();e.default=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(1)),a=i(n(2)),s=function(){function t(e,n){(0,o.default)(this,t),this.user=e,this.csrfToken=n}return(0,a.default)(t,[{key:"login",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return app.request((0,r.default)({method:"POST",url:app.forum.attribute("baseUrl")+"/login",data:t},e))}},{key:"logout",value:function(){window.location=app.forum.attribute("baseUrl")+"/logout?token="+this.csrfToken}}]),t}();e.default=s},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(31)),o=i(n(11)),a=i(n(57)),s=i(n(1)),u=i(n(2)),l=function(){function t(e){(0,s.default)(this,t),this.data={},this.models=e}return(0,u.default)(t,[{key:"pushPayload",value:function(t){t.included&&t.included.map(this.pushObject.bind(this));var e=t.data instanceof Array?t.data.map(this.pushObject.bind(this)):this.pushObject(t.data);return e.payload=t,e}},{key:"pushObject",value:function(t){if(!this.models[t.type])return null;var e=this.data[t.type]=this.data[t.type]||{};return e[t.id]?e[t.id].pushData(t):e[t.id]=this.createRecord(t.type,t),e[t.id].exists=!0,e[t.id]}},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n,s=app.forum.attribute("apiUrl")+"/"+t;return e instanceof Array?s+="?filter[id]="+e.join(","):"object"===(0,a.default)(e)?r=e:e&&(s+="/"+e),app.request((0,o.default)({method:"GET",url:s,data:r},i)).then(this.pushPayload.bind(this))}},{key:"getById",value:function(t,e){return this.data[t]&&this.data[t][e]}},{key:"getBy",value:function(t,e,n){return this.all(t).filter(function(t){return t[e]()===n})[0]}},{key:"all",value:function(t){var e=this.data[t];return e?(0,r.default)(e).map(function(t){return e[t]}):[]}},{key:"remove",value:function(t){delete this.data[t.data.type][t.id()]}},{key:"createRecord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.type=e.type||t,new this.models[t](e,this)}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);var i=function(t,e,n){var i,r,o,a=Math.floor(6*t),s=6*t-a,u=n*(1-e),l=n*(1-s*e),c=n*(1-(1-s)*e);switch(a%6){case 0:i=n,r=c,o=u;break;case 1:i=l,r=n,o=u;break;case 2:i=u,r=n,o=c;break;case 3:i=u,r=l,o=n;break;case 4:i=c,r=u,o=n;break;case 5:i=n,r=u,o=l}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}(e%360/360,.3,.9);return""+i.r.toString(16)+i.g.toString(16)+i.b.toString(16)}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=(i(n(61)),i(n(19))),s=(i(n(13)),i(n(33))),u=function(){function t(){(0,r.default)(this,t),this.translations={},this.locale=null}return(0,o.default)(t,[{key:"trans",value:function(t,e){var n=this.translations[t];return n?this.apply(n,e||{}):t}},{key:"transChoice",value:function(t,e,n){var i=this.translations[t];return i?(e=parseInt(e,10),i=this.pluralize(i,e),this.apply(i,n||{})):t}},{key:"apply",value:function(t,e){if("user"in e){var n=(0,s.default)(e,"user");e.username||(e.username=(0,a.default)(n))}var i=[],r=[i];return(t=t.split(new RegExp("({[a-z0-9_]+}|</?[a-z0-9_]+>)","gi"))).forEach(function(t){var n=t.match(new RegExp("{([a-z0-9_]+)}|<(/?)([a-z0-9_]+)>","i"));if(n){if(n[1])r[0].push(e[n[1]]);else if(n[3])if(n[2])r.shift();else{var i=e[n[3]]||{tag:n[3],children:[]};r[0].push(i),r.unshift(i.children||i)}}else r[0].push(t)}),i.filter(function(t){return t})}},{key:"pluralize",value:function(t,e){var n=this,i=new RegExp(/^\w+\: +(.+)$/),r=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),o=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),a=[],s=[];return t.split("|").forEach(function(t){if(r.test(t)){var e=t.match(r);s[e[0]]=e[e.length-1]}else if(i.test(t)){var n=t.match(i);a.push(n[1])}else a.push(t)}),s.forEach(function(t,i){if(o.test(i)){var r=i.match(o);if(r[1]){var a=r[2].split(",");for(var u in a)if(e==a[u])return s[i]}else{var l=n.convertNumber(r[4]),c=n.convertNumber(r[5]);if(("["===r[3]?e>=l:e>l)&&("]"===r[6]?e<=c:e<c))return s[i]}}}),a[this.pluralPosition(e,this.locale)]||a[0]||void 0}},{key:"convertNumber",value:function(t){return"-Inf"===t?Number.NEGATIVE_INFINITY:"+Inf"===t||"Inf"===t?Number.POSITIVE_INFINITY:parseInt(t,10)}},{key:"pluralPosition",value:function(t,e){switch("pt_BR"===e&&(e="xbr"),e.length>3&&(e=e.split("_")[0]),e){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"tr":case"ur":case"zu":return 1==t?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===t||1==t?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1==t?0:t>=2&&t<=4?1:2;case"ga":return 1==t?0:2==t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mk":return t%10==1?0:1;case"mt":return 1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"lv":return 0===t?0:t%10==1&&t%100!=11?1:2;case"pl":return 1==t?0:t%10>=2&&t%10<=4&&(t%100<12||t%100>14)?1:2;case"cy":return 1==t?0:2==t?1:8==t||11==t?2:3;case"ro":return 1==t?0:0===t||t%100>0&&t%100<20?1:2;case"ar":return 0===t?0:1==t?1:2==t?2:t>=3&&t<=10?3:t>=11&&t<=99?4:5;default:return 0}}}]),t}();e.default=u},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(145)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"className",value:function(){return"RequestErrorModal Modal--large"}},{key:"title",value:function(){return this.props.error.xhr?this.props.error.xhr.status+" "+this.props.error.xhr.statusText:""}},{key:"content",value:function(){var t;try{t=(0,r.default)(JSON.parse(this.props.error.responseText),null,2)}catch(e){t=this.props.error.responseText}return m("div",{className:"Modal-body"},m("pre",null,this.props.error.options.method," ",this.props.error.options.url,m("br",null),m("br",null),t))}}]),e}(i(n(17)).default);e.default=c},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(20)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.components=[]}},{key:"view",value:function(){return m("div",{className:"AlertManager"},this.components.map(function(t){return m("div",{className:"AlertManager-alert"},t)}))}},{key:"config",value:function(t,e){e.retain=!0}},{key:"show",value:function(t){if(!(t instanceof c.default))throw new Error("The AlertManager component can only show Alert components");t.props.ondismiss=this.dismiss.bind(this,t),this.components.push(t),m.redraw()}},{key:"dismiss",value:function(t){var e=this.components.indexOf(t);-1!==e&&(this.components.splice(e,1),m.redraw())}},{key:"clear",value:function(){this.components=[],m.redraw()}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(17)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.showing=!1,this.component=null}},{key:"view",value:function(){return m("div",{className:"ModalManager modal fade"},this.component&&this.component.render())}},{key:"config",value:function(t,e){t||(e.retain=!0,this.$().on("hidden.bs.modal",this.clear.bind(this)).on("shown.bs.modal",this.onready.bind(this)))}},{key:"show",value:function(t){if(!(t instanceof c.default))throw new Error("The ModalManager component can only show Modal components");clearTimeout(this.hideTimeout),this.showing=!0,this.component=t,app.current.retain=!0,m.redraw(!0),this.$().modal({backdrop:!!this.component.isDismissible()||"static"}).modal("show"),this.onready()}},{key:"close",value:function(){var t=this;this.showing&&(this.hideTimeout=setTimeout(function(){t.$().modal("hide"),t.showing=!1}))}},{key:"clear",value:function(){this.component&&this.component.onhide(),this.component=null,app.current.retain=!1,m.lazyRedraw()}},{key:"onready",value:function(){this.component&&this.component.onready&&this.component.onready(this.$())}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(1)),a=i(n(2)),s=i(n(9)),u=i(n(20)),l=i(n(7)),c=i(n(106)),d=i(n(105)),f=i(n(104)),p=i(n(103)),h=i(n(101)),v=i(n(100)),y=i(n(33)),g=i(n(99)),b=i(n(98)),_=i(n(97)),w=i(n(96)),k=i(n(53)),x=n(64),N=i(n(95)),T=i(n(61)),S=i(n(71)),C=i(n(94)),P=i(n(49)),D=i(n(93)),M=function(){function t(){(0,o.default)(this,t),Object.defineProperty(this,"forum",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"routes",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"initializers",{configurable:!0,enumerable:!0,writable:!0,value:new s.default}),Object.defineProperty(this,"session",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"translator",{configurable:!0,enumerable:!0,writable:!0,value:new p.default}),Object.defineProperty(this,"store",{configurable:!0,enumerable:!0,writable:!0,value:new h.default({forums:N.default,users:T.default,discussions:S.default,posts:C.default,groups:P.default,notifications:D.default})}),Object.defineProperty(this,"cache",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"booted",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(this,"requestError",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"title",{configurable:!0,enumerable:!0,writable:!0,value:""}),Object.defineProperty(this,"titleCount",{configurable:!0,enumerable:!0,writable:!0,value:0})}return(0,a.default)(t,[{key:"boot",value:function(t){var e=this;this.data=t,this.translator.locale=t.locale,(0,_.default)(window),this.initializers.toArray().forEach(function(t){return t(e)}),this.store.pushPayload({data:this.data.resources}),this.forum=this.store.getById("forums",1),this.session=new v.default(this.store.getById("users",this.data.session.userId),this.data.session.csrfToken),this.mount()}},{key:"mount",value:function(){this.modal=m.mount(document.getElementById("modal"),m(c.default,null)),this.alerts=m.mount(document.getElementById("alerts"),m(d.default,null)),this.drawer=new g.default;var t=this.forum.attribute("basePath");m.route(document.getElementById("content"),t+"/",(0,b.default)(this.routes,t)),new k.default(function(t){var e=$("#app"),n=e.offset().top;e.toggleClass("affix",t>=n).toggleClass("scrolled",t>n)}).start(),$(function(){$("body").addClass("ontouchstart"in window?"touch":"no-touch")})}},{key:"preloadedDocument",value:function(){if(this.data.document){var t=this.store.pushPayload(this.data.document);return this.data.document=null,t}return null}},{key:"setTitle",value:function(t){this.title=t,this.updateTitle()}},{key:"setTitleCount",value:function(t){this.titleCount=t,this.updateTitle()}},{key:"updateTitle",value:function(){document.title=(this.titleCount?"(".concat(this.titleCount,") "):"")+(this.title?this.title+" - ":"")+this.forum.attribute("title")}},{key:"request",value:function(t){var e=this,n=(0,r.default)({},t);if(n.background=n.background||!0,(0,x.extend)(n,"config",function(t,n){return n.setRequestHeader("X-CSRF-Token",e.session.csrfToken)}),"GET"!==n.method&&"POST"!==n.method){var i=n.method;(0,x.extend)(n,"config",function(t,e){return e.setRequestHeader("X-HTTP-Method-Override",i)}),n.method="POST"}n.deserialize=n.deserialize||function(t){return t},n.errorHandler=n.errorHandler||function(t){throw t};var o=n.extract;n.extract=function(t){var e;e=o?o(t.responseText):t.responseText||null;var i=t.status;if(i<200||i>299)throw new w.default(i,e,n,t);if(t.getResponseHeader){var r=t.getResponseHeader("X-CSRF-Token");r&&(app.session.csrfToken=r)}try{return JSON.parse(e)}catch(i){throw new w.default(500,e,n,t)}},this.requestError&&this.alerts.dismiss(this.requestError.alert);var a=m.deferred();return m.request(n).then(function(t){return a.resolve(t)},function(t){var i;switch(e.requestError=t,t.status){case 422:i=t.response.errors.map(function(t){return[t.detail,m("br",null)]}).reduce(function(t,e){return t.concat(e)},[]).slice(0,-1);break;case 401:case 403:i=app.translator.trans("core.lib.error.permission_denied_message");break;case 404:case 410:i=app.translator.trans("core.lib.error.not_found_message");break;case 429:i=app.translator.trans("core.lib.error.rate_limit_exceeded_message");break;default:i=app.translator.trans("core.lib.error.generic_message")}t.alert=new u.default({type:"error",children:i,controls:app.forum.attribute("debug")?[m(l.default,{className:"Button Button--link",onclick:e.showDebug.bind(e,t)},"Debug")]:void 0});try{n.errorHandler(t)}catch(t){e.alerts.show(t.alert)}a.reject(t)}),a.promise}},{key:"showDebug",value:function(t){this.alerts.dismiss(this.requestErrorAlert),this.modal.show(new f.default({error:t}))}},{key:"route",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.routes[t].path.replace(/:([^\/]+)/g,function(t,n){return(0,y.default)(e,n)}),i=m.route.buildQueryString(e);return("pathname"===m.route.mode?app.forum.attribute("basePath"):"")+n+(i?"?"+i:"")}}]),t}();e.default=M},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.session.user;if(!e||e.isActivated())return;var n=d.default.component({className:"Button Button--link",children:t.translator.trans("core.forum.user_email_confirmation.resend_button"),onclick:function(){n.props.loading=!0,m.redraw(),t.request({method:"POST",url:t.forum.attribute("apiUrl")+"/users/"+e.id()+"/send-confirmation"}).then(function(){n.props.loading=!1,n.props.children=[(0,f.default)("fa fa-check")," ",t.translator.trans("core.forum.user_email_confirmation.sent_message")],n.props.disabled=!0,m.redraw()}).catch(function(){n.props.loading=!1,m.redraw()})}}),i=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"view",this).call(this);return t.children=[m("div",{className:"container"},t.children)],t}}]),e}(c.default);m.mount($("<div/>").insertBefore("#content")[0],i.component({dismissible:!1,children:t.translator.trans("core.forum.user_email_confirmation.alert_message",{email:m("strong",null,e.email())}),controls:[n]}))};var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(20)),d=i(n(7)),f=i(n(10))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(42)),d=i(n(72)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),app.history.push("notifications"),this.list=new d.default,this.list.load(),this.bodyClass="App--notifications"}},{key:"view",value:function(){return m("div",{className:"NotificationsPage"},this.list.render())}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(17)),d=i(n(7)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.success=!1,this.email=m.prop(app.session.user.email()),this.password=m.prop("")}},{key:"className",value:function(){return"ChangeEmailModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.change_email.title")}},{key:"content",value:function(){return this.success?m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},app.translator.trans("core.forum.change_email.confirmation_message",{email:m("strong",null,this.email())})),m("div",{className:"Form-group"},m(d.default,{className:"Button Button--primary Button--block",onclick:this.hide.bind(this)},app.translator.trans("core.forum.change_email.dismiss_button"))))):m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{type:"email",name:"email",className:"FormControl",placeholder:app.session.user.email(),bidi:this.email,disabled:this.loading})),m("div",{className:"Form-group"},m("input",{type:"password",name:"password",className:"FormControl",placeholder:app.translator.trans("core.forum.change_email.confirm_password_placeholder"),bidi:this.password,disabled:this.loading})),m("div",{className:"Form-group"},d.default.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.change_email.submit_button")}))))}},{key:"onsubmit",value:function(t){var e=this;if(t.preventDefault(),this.email()!==app.session.user.email()){app.session.user.email();this.loading=!0,app.session.user.save({email:this.email()},{errorHandler:this.onerror.bind(this),meta:{password:this.password()}}).then(function(){return e.success=!0}).catch(function(){}).then(this.loaded.bind(this))}else this.hide()}},{key:"onerror",value:function(t){401===t.status&&(t.alert.props.children=app.translator.trans("core.forum.change_email.incorrect_password_message")),(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"onerror",this).call(this,t)}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(17)),c=i(n(7)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"className",value:function(){return"ChangePasswordModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.change_password.title")}},{key:"content",value:function(){return m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},app.translator.trans("core.forum.change_password.text")),m("div",{className:"Form-group"},c.default.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.change_password.send_button")}))))}},{key:"onsubmit",value:function(t){t.preventDefault(),this.loading=!0,app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/forgot",data:{email:app.session.user.email()}}).then(this.hide.bind(this),this.loaded.bind(this))}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(62)),d=i(n(10)),f=i(n(9)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;this.methods=this.notificationMethods().toArray(),this.inputs={},this.types=this.notificationTypes().toArray(),this.types.forEach(function(e){t.methods.forEach(function(n){var i=t.preferenceKey(e.name,n.name),r=t.props.user.preferences()[i];t.inputs[i]=new c.default({state:!!r,disabled:void 0===r,onchange:function(){return t.toggle([i])}})})})}},{key:"view",value:function(){var t=this;return m("table",{className:"NotificationGrid"},m("thead",null,m("tr",null,m("td",null),this.methods.map(function(e){return m("th",{className:"NotificationGrid-groupToggle",onclick:t.toggleMethod.bind(t,e.name)},(0,d.default)(e.icon)," ",e.label)}))),m("tbody",null,this.types.map(function(e){return m("tr",null,m("td",{className:"NotificationGrid-groupToggle",onclick:t.toggleType.bind(t,e.name)},(0,d.default)(e.icon)," ",e.label),t.methods.map(function(n){return m("td",{className:"NotificationGrid-checkbox"},t.inputs[t.preferenceKey(e.name,n.name)].render())}))})))}},{key:"config",value:function(t){t||(this.$("thead .NotificationGrid-groupToggle").bind("mouseenter mouseleave",function(t){var e=parseInt($(this).index(),10)+1;$(this).parents("table").find("td:nth-child("+e+")").toggleClass("highlighted","mouseenter"===t.type)}),this.$("tbody .NotificationGrid-groupToggle").bind("mouseenter mouseleave",function(t){$(this).parent().find("td").toggleClass("highlighted","mouseenter"===t.type)}))}},{key:"toggle",value:function(t){var e=this,n=this.props.user,i=n.preferences(),r=!i[t[0]];t.forEach(function(t){var n=e.inputs[t];n.loading=!0,i[t]=n.props.state=r}),m.redraw(),n.save({preferences:i}).then(function(){t.forEach(function(t){return e.inputs[t].loading=!1}),m.redraw()})}},{key:"toggleMethod",value:function(t){var e=this,n=this.types.map(function(n){return e.preferenceKey(n.name,t)}).filter(function(t){return!e.inputs[t].props.disabled});this.toggle(n)}},{key:"toggleType",value:function(t){var e=this,n=this.methods.map(function(n){return e.preferenceKey(t,n.name)}).filter(function(t){return!e.inputs[t].props.disabled});this.toggle(n)}},{key:"preferenceKey",value:function(t,e){return"notify_"+t+"_"+e}},{key:"notificationMethods",value:function(){var t=new f.default;return t.add("alert",{name:"alert",icon:"fa fa-bell",label:app.translator.trans("core.forum.settings.notify_by_web_heading")}),t.add("email",{name:"email",icon:"far fa-envelope",label:app.translator.trans("core.forum.settings.notify_by_email_heading")}),t}},{key:"notificationTypes",value:function(){var t=new f.default;return t.add("discussionRenamed",{name:"discussionRenamed",icon:"fa fa-pencil-alt",label:app.translator.trans("core.forum.settings.notify_discussion_renamed_label")}),t}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(12)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("fieldset",{className:this.props.className},m("legend",null,this.props.label),m("ul",null,(0,c.default)(this.props.children)))}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getDisplay",value:function(){return this.loading?(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"getDisplay",this).call(this):""}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className=(t.className||"")+" Checkbox--switch"}}]),e}(i(n(62)).default);e.default=c},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(190)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(8)),c=i(n(4)),d=i(n(40)),f=i(n(9)),p=i(n(114)),h=i(n(7)),v=i(n(113)),y=i(n(112)),g=i(n(111)),b=i(n(110)),_=i(n(12)),w=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"init",value:function(){(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"init",this).call(this),this.show(app.session.user),app.setTitle(app.translator.trans("core.forum.settings.title"))}},{key:"content",value:function(){return m("div",{className:"SettingsPage"},m("ul",null,(0,_.default)(this.settingsItems().toArray())))}},{key:"settingsItems",value:function(){var t=new f.default;return t.add("account",v.default.component({label:app.translator.trans("core.forum.settings.account_heading"),className:"Settings-account",children:this.accountItems().toArray()})),t.add("notifications",v.default.component({label:app.translator.trans("core.forum.settings.notifications_heading"),className:"Settings-notifications",children:this.notificationsItems().toArray()})),t.add("privacy",v.default.component({label:app.translator.trans("core.forum.settings.privacy_heading"),className:"Settings-privacy",children:this.privacyItems().toArray()})),t}},{key:"accountItems",value:function(){var t=new f.default;return t.add("changePassword",h.default.component({children:app.translator.trans("core.forum.settings.change_password_button"),className:"Button",onclick:function(){return app.modal.show(new g.default)}})),t.add("changeEmail",h.default.component({children:app.translator.trans("core.forum.settings.change_email_button"),className:"Button",onclick:function(){return app.modal.show(new b.default)}})),t}},{key:"notificationsItems",value:function(){var t=new f.default;return t.add("notificationGrid",y.default.component({user:this.user})),t}},{key:"preferenceSaver",value:function(t){var e=this;return function(n,i){i&&(i.loading=!0),m.redraw(),e.user.savePreferences((0,r.default)({},t,n)).then(function(){i&&(i.loading=!1),m.redraw()})}}},{key:"privacyItems",value:function(){var t=this,e=new f.default;return e.add("discloseOnline",p.default.component({children:app.translator.trans("core.forum.settings.privacy_disclose_online_label"),state:this.user.preferences().discloseOnline,onchange:function(e,n){t.user.pushAttributes({lastSeenTime:null}),t.preferenceSaver("discloseOnline")(e,n)}})),e}}]),e}(d.default);e.default=w},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(40)),d=i(n(63)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.loadUser(m.route.param("username"))}},{key:"content",value:function(){return m("div",{className:"DiscussionsUserPage"},d.default.component({params:{q:"author:"+this.user.username()}}))}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(40)),d=i(n(16)),f=i(n(7)),p=i(n(69)),h=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.loading=!0,this.moreResults=!1,this.posts=[],this.loadLimit=20,this.loadUser(m.route.param("username"))}},{key:"content",value:function(){var t;return this.loading?t=d.default.component():this.moreResults&&(t=m("div",{className:"PostsUserPage-loadMore"},f.default.component({children:app.translator.trans("core.forum.user.posts_load_more_button"),className:"Button",onclick:this.loadMore.bind(this)}))),m("div",{className:"PostsUserPage"},m("ul",{className:"PostsUserPage-list"},this.posts.map(function(t){return m("li",null,m("div",{className:"PostsUserPage-discussion"},app.translator.trans("core.forum.user.in_discussion_text",{discussion:m("a",{href:app.route.post(t),config:m.route},t.discussion().title())})),p.default.component({post:t}))})),t)}},{key:"show",value:function(t){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"show",this).call(this,t),this.refresh()}},{key:"refresh",value:function(){this.loading=!0,this.posts=[],m.lazyRedraw(),this.loadResults().then(this.parseResults.bind(this))}},{key:"loadResults",value:function(t){return app.store.find("posts",{filter:{user:this.user.id(),type:"comment"},page:{offset:t,limit:this.loadLimit},sort:"-time"})}},{key:"loadMore",value:function(){this.loading=!0,this.loadResults(this.posts.length).then(this.parseResults.bind(this))}},{key:"parseResults",value:function(t){return this.loading=!1,[].push.apply(this.posts,t),this.moreResults=t.length>=this.loadLimit,m.redraw(),t}}]),e}(c.default);e.default=h},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(54)),d=i(n(13)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.title=m.prop("")}},{key:"headerItems",value:function(){var t=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"headerItems",this).call(this);return t.add("title",m("h3",null,app.translator.trans("core.forum.composer_discussion.title")),100),t.add("discussionTitle",m("h3",null,m("input",{className:"FormControl",value:this.title(),oninput:m.withAttr("value",this.title),placeholder:this.props.titlePlaceholder,disabled:!!this.props.disabled,onkeydown:this.onkeydown.bind(this)}))),t}},{key:"onkeydown",value:function(t){13===t.which&&(t.preventDefault(),this.editor.setSelectionRange(0,0)),m.redraw.strategy("none")}},{key:"preventExit",value:function(){return(this.title()||this.content())&&this.props.confirmExit}},{key:"data",value:function(){return{title:this.title(),content:this.content()}}},{key:"onsubmit",value:function(){this.loading=!0;var t=this.data();app.store.createRecord("discussions").save(t).then(function(t){app.composer.hide(),app.cache.discussionList.addDiscussion(t),m.route(app.route.discussion(t))},this.loaded.bind(this))}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.placeholder=t.placeholder||(0,d.default)(app.translator.trans("core.forum.composer_discussion.body_placeholder")),t.submitLabel=t.submitLabel||app.translator.trans("core.forum.composer_discussion.submit_button"),t.confirmExit=t.confirmExit||(0,d.default)(app.translator.trans("core.forum.composer_discussion.discard_confirmation")),t.titlePlaceholder=t.titlePlaceholder||(0,d.default)(app.translator.trans("core.forum.composer_discussion.title_placeholder")),t.className="ComposerBody--discussion"}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(7)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.hidden=localStorage.getItem("welcomeHidden")}},{key:"view",value:function(){var t=this;if(this.hidden)return m("div",null);return m("header",{className:"Hero WelcomeHero"},m("div",{class:"container"},c.default.component({icon:"fa fa-times",onclick:function(){t.$().slideUp(t.hide.bind(t))},className:"Hero-close Button Button--icon Button--link"}),m("div",{className:"containerNarrow"},m("h2",{className:"Hero-title"},app.forum.attribute("welcomeTitle")),m("div",{className:"Hero-subtitle"},m.trust(app.forum.attribute("welcomeMessage"))))))}},{key:"hide",value:function(){localStorage.setItem("welcomeHidden","true"),this.hidden=!0}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("div",{className:"Placeholder"},m("p",null,this.props.text))}}]),e}(i(n(6)).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,i,r,o=$(t),a=!1,s=!1,u=0,l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.duration=e.duration||"fast",e.step=function(t){$(this).css("transform","translate("+t+"px, 0)")},o.find(".Slidable-content").animate({"background-position-x":t},e)},c=function(){l(0,{complete:function(){o.removeClass("sliding"),e.hide(),n.hide(),s=!1}})};return o.find(".Slidable-content").on("touchstart",function(t){e=o.find(".Slidable-underneath--left:not(.disabled)"),n=o.find(".Slidable-underneath--right:not(.disabled)"),i=t.originalEvent.targetTouches[0].clientX,r=t.originalEvent.targetTouches[0].clientY,a=!0,u=0}).on("touchmove",function(t){var l=t.originalEvent.targetTouches[0].clientX,c=t.originalEvent.targetTouches[0].clientY;if(a&&Math.abs(l-i)>Math.abs(c-r)&&(s=!0),a=!1,s){u=l-i;var d=function(t,e){if(t.length){var n="left"===e?u>0:u<0;n&&t.hasClass("Slidable-underneath--elastic")&&(u-=.5*u),t.toggle(n);var i=Math.max(0,Math.min(1,(Math.abs(u)-25)/50));t.find(".icon").css("transform","scale("+i+")")}else u=Math["left"===e?"min":"max"](0,u)};d(e,"left"),d(n,"right"),$(this).css("transform","translate("+u+"px, 0)"),$(this).css("background-position-x",u+"px"),o.toggleClass("sliding",!!u),t.preventDefault()}}).on("touchend",function(){var t=function(t){t.click(),t.hasClass("Slidable-underneath--elastic")?c():l((u>0?1:-1)*o.width())};n.length&&u<-50?t(n):e.length&&u>50?t(e):c(),a=!1,s=!1}),{reset:c}}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(14)),d=i(n(19)),f=i(n(44)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this.props.post,e=t.user(),n=(0,f.default)(t.contentPlain(),this.props.highlight,300);return m("a",{className:"PostPreview",href:app.route.post(t),config:m.route,onclick:this.props.onclick},m("span",{className:"PostPreview-content"},(0,c.default)(e),(0,d.default)(e)," ",m("span",{className:"PostPreview-excerpt"},n)))}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(47)),d=i(n(10)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this.props.discussion,e=this.props.lastPost&&t.repliesCount(),n=t[e?"lastUser":"startUser"](),i=t[e?"lastTime":"startTime"]();return m("span",null,e?(0,d.default)("fa fa-reply"):""," ",app.translator.trans("core.forum.discussion_list."+(e?"replied":"started")+"_text",{user:n,ago:(0,c.default)(i)}))}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t>=1e6?Math.floor(t/1e6)+app.translator.trans("core.lib.number_suffix.mega_text"):t>=1e3?Math.floor(t/1e3)+app.translator.trans("core.lib.number_suffix.kilo_text"):t.toString()}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(14)),d=i(n(12)),f=i(n(44)),p=i(n(10)),h=i(n(30)),v=i(n(9)),y=i(n(124)),g=i(n(18)),b=i(n(123)),_=(i(n(122)),i(n(50))),w=i(n(52)),k=i(n(121)),x=i(n(13)),N=i(n(35)),T=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this;this.subtree=new _.default(function(){return t.props.discussion.freshness},function(){var t=app.session.user&&app.session.user.readTime();return t&&t.getTime()},function(){return t.active()})}},{key:"attrs",value:function(){return{className:(0,N.default)(["DiscussionListItem",this.active()?"active":"",this.props.discussion.isHidden()?"DiscussionListItem--hidden":""])}}},{key:"view",value:function(){var t=this.subtree.retain();if(t)return t;var e=this.props.discussion,n=e.startUser(),i=e.isUnread(),r=e.isRead(),o=!this.showRepliesCount()&&i,a=0,s=w.default.controls(e,this).toArray(),u=this.attrs();if(this.props.params.q){var l=e.mostRelevantPost();l&&(a=l.number());var v=this.props.params.q;this.highlightRegExp=new RegExp(v+"|"+v.trim().replace(/\s+/g,"|"),"gi")}else a=Math.min(e.lastPostNumber(),(e.readNumber()||0)+1);return m("div",u,s.length?g.default.component({icon:"fa fa-ellipsis-v",children:s,className:"DiscussionListItem-controls",buttonClassName:"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right"}):"",m("a",{className:"Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic"+(i?"":" disabled"),onclick:this.markAsRead.bind(this)},(0,p.default)("fa fa-check")),m("div",{className:"DiscussionListItem-content Slidable-content"+(i?" unread":"")+(r?" read":"")},m("a",{href:n?app.route.user(n):"#",className:"DiscussionListItem-author",title:(0,x.default)(app.translator.trans("core.forum.discussion_list.started_text",{user:n,ago:(0,h.default)(e.startTime())})),config:function(t){$(t).tooltip({placement:"right"}),m.route.apply(this,arguments)}},(0,c.default)(n,{title:""})),m("ul",{className:"DiscussionListItem-badges badges"},(0,d.default)(e.badges().toArray())),m("a",{href:app.route.discussion(e,a),config:m.route,className:"DiscussionListItem-main"},m("h3",{className:"DiscussionListItem-title"},(0,f.default)(e.title(),this.highlightRegExp)),m("ul",{className:"DiscussionListItem-info"},(0,d.default)(this.infoItems().toArray()))),m("span",{className:"DiscussionListItem-count",onclick:this.markAsRead.bind(this),title:o?app.translator.trans("core.forum.discussion_list.mark_as_read_tooltip"):""},(0,y.default)(e[o?"unreadCount":"repliesCount"]()))))}},{key:"config",value:function(t){if(!t&&"ontouchstart"in window){var e=(0,k.default)(this.$().addClass("Slidable"));this.$(".DiscussionListItem-controls").on("hidden.bs.dropdown",function(){return e.reset()})}}},{key:"active",value:function(){var t=m.route.param("id");return t&&t.split("-")[0]===this.props.discussion.id()}},{key:"showStartPost",value:function(){return-1!==["newest","oldest"].indexOf(this.props.params.sort)}},{key:"showRepliesCount",value:function(){return"replies"===this.props.params.sort}},{key:"markAsRead",value:function(){var t=this.props.discussion;t.isUnread()&&(t.save({readNumber:t.lastPostNumber()}),m.redraw())}},{key:"infoItems",value:function(){var t=new v.default;if(this.props.params.q){var e=this.props.discussion.mostRelevantPost()||this.props.discussion.startPost();if(e&&"comment"===e.contentType()){var n=(0,f.default)(e.contentPlain(),this.highlightRegExp,175);t.add("excerpt",n,-100)}}else t.add("terminalPost",b.default.component({discussion:this.props.discussion,lastPost:!this.showStartPost()}));return t}}]),e}(l.default);e.default=T},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(31)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(8)),c=i(n(4)),d=n(64),f=i(n(42)),p=i(n(9)),h=i(n(12)),v=(i(n(10)),i(n(63))),y=i(n(119)),g=i(n(118)),b=i(n(41)),_=i(n(43)),w=i(n(18)),k=i(n(7)),x=i(n(34)),N=i(n(48)),T=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"init",value:function(){(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"init",this).call(this),app.previous instanceof _.default&&(this.lastDiscussion=app.previous.discussion),app.previous instanceof e&&(app.cache.discussionList=null);var t=this.params();app.cache.discussionList&&(0,r.default)(t).some(function(e){if(app.cache.discussionList.props.params[e]!==t[e])return app.cache.discussionList=null,!0}),app.cache.discussionList||(app.cache.discussionList=new v.default({params:t})),app.history.push("index",app.translator.trans("core.forum.header.back_to_index_tooltip")),this.bodyClass="App--index"}},{key:"onunload",value:function(){app.cache.scrollTop=$(window).scrollTop()}},{key:"view",value:function(){return m("div",{className:"IndexPage"},this.hero(),m("div",{className:"container"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,(0,h.default)(this.sidebarItems().toArray()))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},(0,h.default)(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},(0,h.default)(this.actionItems().toArray()))),app.cache.discussionList.render())))}},{key:"config",value:function(t,n){if((0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"config",this).apply(this,arguments),!t){(0,d.extend)(n,"onunload",function(){return $("#app").css("min-height","")}),app.setTitle(""),app.setTitleCount(0);var i=app.cache.heroHeight,r=app.cache.heroHeight=this.$(".Hero").outerHeight(),a=app.cache.scrollTop;$("#app").css("min-height",$(window).height()+r);var s=function(){return $(window).scrollTop(a-i+r)};if(s(),setTimeout(s,1),this.lastDiscussion){var u=this.$('.DiscussionListItem[data-id="'.concat(this.lastDiscussion.id(),'"]'));if(u.length){var c=$("#header").outerHeight(),f=$(window).height(),p=u.offset().top,h=p+u.outerHeight();(p<a+c||h>a+f)&&$(window).scrollTop(p-c)}}}}},{key:"hero",value:function(){return y.default.component()}},{key:"sidebarItems",value:function(){var t=new p.default,e=app.forum.attribute("canStartDiscussion")||!app.session.user;return t.add("newDiscussion",k.default.component({children:app.translator.trans(e?"core.forum.index.start_discussion_button":"core.forum.index.cannot_start_discussion_button"),icon:"fa fa-edit",className:"Button Button--primary IndexPage-newDiscussion",itemClassName:"App-primaryControl",onclick:this.newDiscussion.bind(this),disabled:!e})),t.add("nav",N.default.component({children:this.navItems(this).toArray(),buttonClassName:"Button",className:"App-titleControl"})),t}},{key:"navItems",value:function(){var t=new p.default,e=this.stickyParams();return t.add("allDiscussions",x.default.component({href:app.route("index",e),children:app.translator.trans("core.forum.index.all_discussions_link"),icon:"far fa-comments"}),100),t}},{key:"viewItems",value:function(){var t=this,e=new p.default,n=app.cache.discussionList.sortMap(),i={};for(var o in n)i[o]=app.translator.trans("core.forum.index_sort."+o+"_button");return e.add("sort",w.default.component({buttonClassName:"Button",label:i[this.params().sort]||(0,r.default)(n).map(function(t){return i[t]})[0],children:(0,r.default)(i).map(function(e){var o=i[e],a=(t.params().sort||(0,r.default)(n)[0])===e;return k.default.component({children:o,icon:!a||"fa fa-check",onclick:t.changeSort.bind(t,e),active:a})})})),e}},{key:"actionItems",value:function(){var t=new p.default;return t.add("refresh",k.default.component({title:app.translator.trans("core.forum.index.refresh_tooltip"),icon:"fa fa-sync",className:"Button Button--icon",onclick:function(){app.cache.discussionList.refresh(),app.session.user&&(app.store.find("users",app.session.user.id()),m.redraw())}})),app.session.user&&t.add("markAllAsRead",k.default.component({title:app.translator.trans("core.forum.index.mark_all_as_read_tooltip"),icon:"fa fa-check",className:"Button Button--icon",onclick:this.markAllAsRead.bind(this)})),t}},{key:"searching",value:function(){return this.params().q}},{key:"clearSearch",value:function(){var t=this.params();delete t.q,m.route(app.route(this.props.routeName,t))}},{key:"changeSort",value:function(t){var e=this.params();t===(0,r.default)(app.cache.discussionList.sortMap())[0]?delete e.sort:e.sort=t,m.route(app.route(this.props.routeName,e))}},{key:"stickyParams",value:function(){return{sort:m.route.param("sort"),q:m.route.param("q")}}},{key:"params",value:function(){var t=this.stickyParams();return t.filter=m.route.param("filter"),t}},{key:"newDiscussion",value:function(){var t=m.deferred();return app.session.user?this.composeNewDiscussion(t):app.modal.show(new b.default({onlogin:this.composeNewDiscussion.bind(this,t)})),t.promise}},{key:"composeNewDiscussion",value:function(t){var e=new g.default({user:app.session.user});return app.composer.load(e),app.composer.show(),t.resolve(e),t.promise}},{key:"markAllAsRead",value:function(){confirm(app.translator.trans("core.forum.index.mark_all_as_read_confirmation"))&&app.session.user.save({readTime:new Date})}}]),e}(f.default);e.default=T},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.routes={index:{path:"/all",component:r.default.component()},"index.filter":{path:"/:filter",component:r.default.component()},discussion:{path:"/d/:id",component:o.default.component()},"discussion.near":{path:"/d/:id/:near",component:o.default.component()},user:{path:"/u/:username",component:a.default.component()},"user.posts":{path:"/u/:username",component:a.default.component()},"user.discussions":{path:"/u/:username/discussions",component:s.default.component()},settings:{path:"/settings",component:u.default.component()},notifications:{path:"/notifications",component:l.default.component()}},t.route.discussion=function(e,n){var i=e.slug();return t.route(n&&1!==n?"discussion.near":"discussion",{id:e.id()+(i.trim()?"-"+i:""),near:n&&1!==n?n:void 0})},t.route.post=function(e){return t.route.discussion(e.discussion(),e.number())},t.route.user=function(e){return t.route("user",{username:e.username()})}};var r=i(n(126)),o=i(n(43)),a=i(n(117)),s=i(n(116)),u=i(n(115)),l=i(n(109))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(8)),c=i(n(4)),d=i(n(68)),f=n(55),p=i(n(19)),h=i(n(10)),v=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"attrs",value:function(){var t=(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"attrs",this).call(this);return t.className+=" EventPost "+(0,f.ucfirst)(this.props.post.contentType())+"Post",t}},{key:"content",value:function(){var t=this.props.post.user(),n=(0,p.default)(t),i=(0,r.default)(this.descriptionData(),{user:t,username:t?m("a",{className:"EventPost-user",href:app.route.user(t),config:m.route},n):n});return(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"content",this).call(this).concat([(0,h.default)(this.icon(),{className:"EventPost-icon"}),m("div",{class:"EventPost-info"},this.description(i))])}},{key:"icon",value:function(){return""}},{key:"description",value:function(t){return app.translator.transChoice(this.descriptionKey(),t.count,t)}},{key:"descriptionKey",value:function(){return""}},{key:"descriptionData",value:function(){return{}}}]),e}(d.default);e.default=v},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(128)),c=i(n(13)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"icon",value:function(){return"fa fa-pencil-alt"}},{key:"description",value:function(t){var e=app.translator.trans("core.forum.post_stream.discussion_renamed_text",t),n=app.translator.trans("core.forum.post_stream.discussion_renamed_old_tooltip",t);return m("span",{title:(0,c.default)(n)},e)}},{key:"descriptionData",value:function(){var t=this.props.post,e=t.content()[0],n=t.content()[1];return{old:e,new:m("strong",{className:"DiscussionRenamedPost-new"},n)}}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(30)),d=i(n(13)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.shouldUpdateTooltip=!1,this.oldEditedInfo=null}},{key:"view",value:function(){var t=this.props.post,e=t.editUser(),n=(0,d.default)(app.translator.trans("core.forum.post.edited_tooltip",{user:e,ago:(0,c.default)(t.editTime())}));return n!==this.oldEditedInfo&&(this.shouldUpdateTooltip=!0,this.oldEditedInfo=n),m("span",{className:"PostEdited",title:n},app.translator.trans("core.forum.post.edited_text"))}},{key:"config",value:function(t){this.shouldUpdateTooltip&&(this.$().tooltip("destroy").tooltip(),this.shouldUpdateTooltip=!1)}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=moment(t),n=e.format(),i=e.format("LLLL");return m("time",{pubdate:!0,datetime:n},i)}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(47)),d=i(n(131)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this.props.post,e=t.time(),n=this.getPermalink(t),i="ontouchstart"in document.documentElement;return m("div",{className:"Dropdown PostMeta"},m("a",{className:"Dropdown-toggle",onclick:function(){var t=this;setTimeout(function(){return $(t).parent().find(".PostMeta-permalink").select()}),m.redraw.strategy("none")},"data-toggle":"dropdown"},(0,c.default)(e)),m("div",{className:"Dropdown-menu dropdown-menu"},m("span",{className:"PostMeta-number"},app.translator.trans("core.forum.post.number_tooltip",{number:t.number()}))," ",m("span",{className:"PostMeta-time"},(0,d.default)(e))," ",m("span",{className:"PostMeta-ip"},t.data.attributes.ipAddress),i?m("a",{className:"Button PostMeta-permalink",href:n},n):m("input",{className:"FormControl PostMeta-permalink",value:n,onclick:function(t){return t.stopPropagation()}})))}},{key:"getPermalink",value:function(t){return window.location.origin+app.route.post(t)}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t.lastSeenTime()&&t.isOnline())return m("span",{className:"UserOnline"},(0,r.default)("fa fa-circle"))};var r=i(n(10))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(6)),d=i(n(14)),f=i(n(10)),p=i(n(12)),h=i(n(9)),v=i(n(7)),y=i(n(16)),g=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.loading=!1,this.isDraggedOver=!1}},{key:"view",value:function(){var t=this.props.user;return m("div",{className:"AvatarEditor Dropdown "+this.props.className+(this.loading?" loading":"")+(this.isDraggedOver?" dragover":"")},(0,d.default)(t),m("a",{className:t.avatarUrl()?"Dropdown-toggle":"Dropdown-toggle AvatarEditor--noAvatar",title:app.translator.trans("core.forum.user.avatar_upload_tooltip"),"data-toggle":"dropdown",onclick:this.quickUpload.bind(this),ondragover:this.enableDragover.bind(this),ondragenter:this.enableDragover.bind(this),ondragleave:this.disableDragover.bind(this),ondragend:this.disableDragover.bind(this),ondrop:this.dropUpload.bind(this)},this.loading?y.default.component():t.avatarUrl()?(0,f.default)("fa fa-pencil-alt"):(0,f.default)("fa fa-plus-circle")),m("ul",{className:"Dropdown-menu Menu"},(0,p.default)(this.controlItems().toArray())))}},{key:"controlItems",value:function(){var t=new h.default;return t.add("upload",v.default.component({icon:"fa fa-upload",children:app.translator.trans("core.forum.user.avatar_upload_button"),onclick:this.openPicker.bind(this)})),t.add("remove",v.default.component({icon:"fa fa-times",children:app.translator.trans("core.forum.user.avatar_remove_button"),onclick:this.remove.bind(this)})),t}},{key:"enableDragover",value:function(t){t.preventDefault(),t.stopPropagation(),this.isDraggedOver=!0}},{key:"disableDragover",value:function(t){t.preventDefault(),t.stopPropagation(),this.isDraggedOver=!1}},{key:"dropUpload",value:function(t){t.preventDefault(),t.stopPropagation(),this.isDraggedOver=!1,this.upload(t.dataTransfer.files[0])}},{key:"quickUpload",value:function(t){this.props.user.avatarUrl()||(t.preventDefault(),t.stopPropagation(),this.openPicker())}},{key:"openPicker",value:function(){var t=this;if(!this.loading){this.props.user;$('<input type="file">').appendTo("body").hide().click().on("change",function(e){t.upload($(e.target)[0].files[0])})}}},{key:"upload",value:function(t){if(!this.loading){var e=this.props.user,n=new FormData;n.append("avatar",t),this.loading=!0,m.redraw(),app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/users/"+e.id()+"/avatar",serialize:function(t){return t},data:n}).then(this.success.bind(this),this.failure.bind(this))}}},{key:"remove",value:function(){var t=this.props.user;this.loading=!0,m.redraw(),app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+"/users/"+t.id()+"/avatar"}).then(this.success.bind(this),this.failure.bind(this))}},{key:"success",value:function(t){app.store.pushPayload(t),delete this.props.user.avatarColor,this.loading=!1,m.redraw()}},{key:"failure",value:function(t){this.loading=!1,m.redraw()}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className=t.className||""}}]),e}(c.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=this;if(e)return;var r=function(){var e=$(t),n=$("#header"),r=$("#footer"),o=e.find("> ul");$(window).off(".affix"),o.removeClass("affix affix-top affix-bottom").removeData("bs.affix"),e.outerHeight(!0)>$(window).height()-n.outerHeight(!0)||o.affix({offset:{top:function(){return e.offset().top-n.outerHeight(!0)-parseInt(e.css("margin-top"),10)},bottom:function(){return i.bottom=r.outerHeight(!0)}}})};$(window).on("resize",r).resize(),n.onunload=function(){$(window).off("resize",r)}}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(31)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(8)),c=i(n(4)),d=i(n(17)),f=i(n(7)),p=i(n(65)),h=i(n(49)),v=i(n(13)),y=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"init",value:function(){var t=this;(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"init",this).call(this);var n=this.props.user;this.username=m.prop(n.username()||""),this.email=m.prop(n.email()||""),this.isActivated=m.prop(n.isActivated()||!1),this.setPassword=m.prop(!1),this.password=m.prop(n.password()||""),this.groups={},app.store.all("groups").filter(function(t){return-1===[h.default.GUEST_ID,h.default.MEMBER_ID].indexOf(t.id())}).forEach(function(e){return t.groups[e.id()]=m.prop(-1!==n.groups().indexOf(e))})}},{key:"className",value:function(){return"EditUserModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.edit_user.title")}},{key:"content",value:function(){var t=this;return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.forum.edit_user.username_heading")),m("input",{className:"FormControl",placeholder:(0,v.default)(app.translator.trans("core.forum.edit_user.username_label")),bidi:this.username})),app.session.user!==this.props.user?[m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.forum.edit_user.email_heading")),m("div",null,m("input",{className:"FormControl",placeholder:(0,v.default)(app.translator.trans("core.forum.edit_user.email_label")),bidi:this.email})),this.isActivated()?"":m("div",null,f.default.component({className:"Button Button--block",children:app.translator.trans("core.forum.edit_user.activate_button"),loading:this.loading,onclick:this.activate.bind(this)}))),m("div",{className:"Form-group"},m("label",null,app.translator.trans("core.forum.edit_user.password_heading")),m("div",null,m("label",{className:"checkbox"},m("input",{type:"checkbox",checked:this.setPassword(),onchange:function(e){t.setPassword(e.target.checked),m.redraw(!0),e.target.checked&&t.$("[name=password]").select(),m.redraw.strategy("none")}}),app.translator.trans("core.forum.edit_user.set_password_label")),this.setPassword()?m("input",{className:"FormControl",type:"password",name:"password",placeholder:(0,v.default)(app.translator.trans("core.forum.edit_user.password_label")),bidi:this.password}):""))]:"",m("div",{className:"Form-group EditUserModal-groups"},m("label",null,app.translator.trans("core.forum.edit_user.groups_heading")),m("div",null,(0,r.default)(this.groups).map(function(t){return app.store.getById("groups",t)}).map(function(e){return m("label",{className:"checkbox"},m("input",{type:"checkbox",bidi:t.groups[e.id()],disabled:"1"===t.props.user.id()&&e.id()===h.default.ADMINISTRATOR_ID}),p.default.component({group:e,label:""})," ",e.nameSingular())}))),m("div",{className:"Form-group"},f.default.component({className:"Button Button--primary",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.edit_user.submit_button")}))))}},{key:"activate",value:function(){var t=this;this.loading=!0;var e={username:this.username(),isActivated:!0};this.props.user.save(e,{errorHandler:this.onerror.bind(this)}).then(function(){t.isActivated(!0),t.loading=!1,m.redraw()}).catch(function(){t.loading=!1,m.redraw()})}},{key:"data",value:function(){var t=this,e=(0,r.default)(this.groups).filter(function(e){return t.groups[e]()}).map(function(t){return app.store.getById("groups",t)}),n={username:this.username(),relationships:{groups:e}};return app.session.user!==this.props.user&&(n.email=this.email()),this.setPassword()&&(n.password=this.password()),n}},{key:"onsubmit",value:function(t){var e=this;t.preventDefault(),this.loading=!0,this.props.user.save(this.data(),{errorHandler:this.onerror.bind(this)}).then(this.hide.bind(this)).catch(function(){e.loading=!1,m.redraw()})}}]),e}(d.default);e.default=y},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(7)),o=i(n(24)),a=i(n(136)),s=i(n(40)),u=i(n(9)),l={controls:function(t,e){var n=this,i=new u.default;return["user","moderation","destructive"].forEach(function(r){var a=n[r+"Controls"](t,e).toArray();a.length&&(a.forEach(function(t){return i.add(t.itemName,t)}),i.add(r+"Separator",o.default.component()))}),i},userControls:function(){return new u.default},moderationControls:function(t){var e=new u.default;return t.canEdit()&&e.add("edit",r.default.component({icon:"fa fa-pencil-alt",children:app.translator.trans("core.forum.user_controls.edit_button"),onclick:this.editAction.bind(t)})),e},destructiveControls:function(t){var e=new u.default;return"1"!==t.id()&&t.canDelete()&&e.add("delete",r.default.component({icon:"fa fa-times",children:app.translator.trans("core.forum.user_controls.delete_button"),onclick:this.deleteAction.bind(t)})),e},deleteAction:function(){var t=this;confirm(app.translator.trans("core.forum.user_controls.delete_confirmation"))&&this.delete().then(function(){app.current instanceof s.default&&app.current.user===t?app.history.back():window.location.reload()})},editAction:function(){app.modal.show(new a.default({user:this}))}};e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(66)),d=i(n(14)),f=i(n(19)),p=i(n(133)),h=i(n(12)),v=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.cardVisible=!1}},{key:"view",value:function(){var t=this.props.post,e=t.user();if(!e)return m("div",{className:"PostUser"},m("h3",null,(0,d.default)(e,{className:"PostUser-avatar"})," ",(0,f.default)(e)));var n="";return!t.isHidden()&&this.cardVisible&&(n=c.default.component({user:e,className:"UserCard--popover",controlsButtonClassName:"Button Button--icon Button--flat"})),m("div",{className:"PostUser"},m("h3",null,m("a",{href:app.route.user(e),config:m.route},(0,d.default)(e,{className:"PostUser-avatar"}),(0,p.default)(e),(0,f.default)(e))),m("ul",{className:"PostUser-badges badges"},(0,h.default)(e.badges().toArray())),n)}},{key:"config",value:function(t){var e,n=this;t||this.$().on("mouseover","h3 a, .UserCard",function(){clearTimeout(e),e=setTimeout(n.showCard.bind(n),500)}).on("mouseout","h3 a, .UserCard",function(){clearTimeout(e),e=setTimeout(n.hideCard.bind(n),250)})}},{key:"showCard",value:function(){var t=this;this.cardVisible=!0,m.redraw(),setTimeout(function(){return t.$(".UserCard").addClass("in")})}},{key:"hideCard",value:function(){var t=this;this.$(".UserCard").removeClass("in").one("transitionend webkitTransitionEnd oTransitionEnd",function(){t.cardVisible=!1,m.redraw()})}}]),e}(l.default);e.default=v},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(67)),o=i(n(7)),a=i(n(24)),s=i(n(9)),u={controls:function(t,e){var n=this,i=new s.default;return["user","moderation","destructive"].forEach(function(r){var o=n[r+"Controls"](t,e).toArray();o.length&&(o.forEach(function(t){return i.add(t.itemName,t)}),i.add(r+"Separator",a.default.component()))}),i},userControls:function(t,e){return new s.default},moderationControls:function(t,e){var n=new s.default;return"comment"===t.contentType()&&t.canEdit()&&(t.isHidden()||n.add("edit",o.default.component({icon:"fa fa-pencil-alt",children:app.translator.trans("core.forum.post_controls.edit_button"),onclick:this.editAction.bind(t)}))),n},destructiveControls:function(t,e){var n=new s.default;return"comment"!==t.contentType()||t.isHidden()?("comment"===t.contentType()&&t.canEdit()&&n.add("restore",o.default.component({icon:"fa fa-reply",children:app.translator.trans("core.forum.post_controls.restore_button"),onclick:this.restoreAction.bind(t)})),t.canDelete()&&n.add("delete",o.default.component({icon:"fa fa-times",children:app.translator.trans("core.forum.post_controls.delete_forever_button"),onclick:this.deleteAction.bind(t,e)}))):t.canEdit()&&n.add("hide",o.default.component({icon:"far fa-trash-alt",children:app.translator.trans("core.forum.post_controls.delete_button"),onclick:this.hideAction.bind(t)})),n},editAction:function(){app.composer.load(new r.default({post:this})),app.composer.show()},hideAction:function(){return this.pushAttributes({hideTime:new Date,hideUser:app.session.user}),this.save({isHidden:!0}).then(function(){return m.redraw()})},restoreAction:function(){return this.pushAttributes({hideTime:null,hideUser:null}),this.save({isHidden:!1}).then(function(){return m.redraw()})},deleteAction:function(t){var e=this;return t&&(t.loading=!0),this.delete().then(function(){var t=e.discussion();t.removePost(e.id()),t.postIds().length||(app.cache.discussionList&&app.cache.discussionList.removeDiscussion(t),app.viewingDiscussion(t)&&app.history.back())}).catch(function(){}).then(function(){t&&(t.loading=!1),m.redraw()})}};e.default=u},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(14)),d=i(n(10)),f=i(n(47)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this.props.notification,e=this.href();return m("a",{className:"Notification Notification--"+t.contentType()+" "+(t.isRead()?"":"unread"),href:e,config:function(t,n){-1===e.indexOf("://")&&m.route.apply(this,arguments),n||$(t).click(this.markAsRead.bind(this))}},(0,c.default)(t.sender()),(0,d.default)(this.icon(),{className:"Notification-icon"}),m("span",{className:"Notification-content"},this.content()),(0,f.default)(t.time()),m("div",{className:"Notification-excerpt"},this.excerpt()))}},{key:"icon",value:function(){}},{key:"href",value:function(){}},{key:"content",value:function(){}},{key:"excerpt",value:function(){}},{key:"markAsRead",value:function(){this.props.notification.isRead()||(app.session.user.pushAttributes({unreadNotificationsCount:app.session.user.unreadNotificationsCount()-1}),this.props.notification.save({isRead:!0}))}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"icon",value:function(){return"fa fa-pencil-alt"}},{key:"href",value:function(){var t=this.props.notification;return app.route.discussion(t.subject(),t.content().postNumber)}},{key:"content",value:function(){return app.translator.trans("core.forum.notifications.discussion_renamed_text",{user:this.props.notification.sender()})}}]),e}(i(n(140)).default);e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,null,[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className=t.className||"Button Button--icon Button--link"}}]),e}(i(n(7)).default);e.default=c},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(9)),d=i(n(142)),f=i(n(12)),p=i(n(35)),h=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.position=e.PositionEnum.HIDDEN,this.height=null,this.active=!1}},{key:"view",value:function(){var t={normal:this.position===e.PositionEnum.NORMAL,minimized:this.position===e.PositionEnum.MINIMIZED,fullScreen:this.position===e.PositionEnum.FULLSCREEN,active:this.active};t.visible=t.normal||t.minimized||t.fullScreen,this.component&&(this.component.props.disabled=t.minimized);var n=this.position===e.PositionEnum.MINIMIZED?this.show.bind(this):void 0;return m("div",{className:"Composer "+(0,p.default)(t)},m("div",{className:"Composer-handle",config:this.configHandle.bind(this)}),m("ul",{className:"Composer-controls"},(0,f.default)(this.controlItems().toArray())),m("div",{className:"Composer-content",onclick:n},this.component?this.component.render():""))}},{key:"config",value:function(t,e){var n=this;if(this.updateHeight(),!t){e.retain=!0,this.initializeHeight(),this.$().hide().css("bottom",-this.computedHeight()),this.$().on("focus blur",":input",function(t){n.active="focusin"===t.type,m.redraw()}),this.$().on("keydown",":input","esc",function(){return n.close()}),window.onbeforeunload=function(){return n.component&&n.component.preventExit()||void 0};var i={};$(window).on("resize",i.onresize=this.updateHeight.bind(this)).resize(),$(document).on("mousemove",i.onmousemove=this.onmousemove.bind(this)).on("mouseup",i.onmouseup=this.onmouseup.bind(this)),e.onunload=function(){$(window).off("resize",i.onresize),$(document).off("mousemove",i.onmousemove).off("mouseup",i.onmouseup)}}}},{key:"configHandle",value:function(t,e){if(!e){var n=this;$(t).css("cursor","row-resize").bind("dragstart mousedown",function(t){return t.preventDefault()}).mousedown(function(t){n.mouseStart=t.clientY,n.heightStart=n.$().height(),n.handle=$(this),$("body").css("cursor","row-resize")})}}},{key:"onmousemove",value:function(t){if(this.handle){var e=this.mouseStart-t.clientY;this.changeHeight(this.heightStart+e);var n=$(window).scrollTop(),i=n>0&&n+$(window).height()>=$(document).height();this.updateBodyPadding(i)}}},{key:"onmouseup",value:function(){this.handle&&(this.handle=null,$("body").css("cursor",""))}},{key:"updateHeight",value:function(){var t=this.computedHeight(),e=this.$(".Composer-flexible");if(this.$().height(t),e.length){var n=e.offset().top-this.$().offset().top,i=parseInt(e.css("padding-bottom"),10),r=this.$(".Composer-footer").outerHeight(!0);e.height(this.$().outerHeight()-n-i-r)}}},{key:"updateBodyPadding",value:function(){var t=this.position!==e.PositionEnum.HIDDEN&&this.position!==e.PositionEnum.MINIMIZED&&"absolute"!==this.$().css("position")?this.computedHeight()-parseInt($("#app").css("padding-bottom"),10):0;$("#content").css({paddingBottom:t})}},{key:"isFullScreen",value:function(){return this.position===e.PositionEnum.FULLSCREEN||"absolute"===this.$().css("position")}},{key:"preventExit",value:function(){if(this.component){var t=this.component.preventExit();if(t)return!confirm(t)}}},{key:"load",value:function(t){this.preventExit()||(this.component&&(this.clear(),m.redraw(!0)),this.component=t)}},{key:"clear",value:function(){this.component=null}},{key:"animateToPosition",value:function(t){var n=this,i=this.position,r=this.$().stop(!0),o=r.outerHeight(),a=$(window).scrollTop();this.position=t,m.redraw(!0),r.show(),this.updateHeight();var s=r.outerHeight();i===e.PositionEnum.HIDDEN?r.css({bottom:-s,height:s}):r.css({height:o}),r.animate({bottom:0,height:s},"fast",function(){return n.component.focus()}),this.updateBodyPadding(),$(window).scrollTop(a)}},{key:"showBackdrop",value:function(){this.$backdrop=$("<div/>").addClass("composer-backdrop").appendTo("body")}},{key:"hideBackdrop",value:function(){this.$backdrop&&this.$backdrop.remove()}},{key:"show",value:function(){this.position!==e.PositionEnum.NORMAL&&this.position!==e.PositionEnum.FULLSCREEN&&(this.animateToPosition(e.PositionEnum.NORMAL),this.isFullScreen()&&(this.$().css("top",$(window).scrollTop()),this.showBackdrop(),this.component.focus()))}},{key:"hide",value:function(){var t=this,n=this.$();n.stop(!0).animate({bottom:-n.height()},"fast",function(){t.position=e.PositionEnum.HIDDEN,t.clear(),m.redraw(),n.hide(),t.hideBackdrop(),t.updateBodyPadding()})}},{key:"close",value:function(){this.preventExit()||this.hide()}},{key:"minimize",value:function(){this.position!==e.PositionEnum.HIDDEN&&(this.animateToPosition(e.PositionEnum.MINIMIZED),this.$().css("top","auto"),this.hideBackdrop())}},{key:"fullScreen",value:function(){this.position!==e.PositionEnum.HIDDEN&&(this.position=e.PositionEnum.FULLSCREEN,m.redraw(),this.updateHeight(),this.component.focus())}},{key:"exitFullScreen",value:function(){this.position===e.PositionEnum.FULLSCREEN&&(this.position=e.PositionEnum.NORMAL,m.redraw(),this.updateHeight(),this.component.focus())}},{key:"controlItems",value:function(){var t=new c.default;return this.position===e.PositionEnum.FULLSCREEN?t.add("exitFullScreen",d.default.component({icon:"fa fa-compress",title:app.translator.trans("core.forum.composer.exit_full_screen_tooltip"),onclick:this.exitFullScreen.bind(this)})):(this.position!==e.PositionEnum.MINIMIZED&&(t.add("minimize",d.default.component({icon:"fa fa-minus minimize",title:app.translator.trans("core.forum.composer.minimize_tooltip"),onclick:this.minimize.bind(this),itemClassName:"App-backControl"})),t.add("fullScreen",d.default.component({icon:"fa fa-expand",title:app.translator.trans("core.forum.composer.full_screen_tooltip"),onclick:this.fullScreen.bind(this)}))),t.add("close",d.default.component({icon:"fa fa-times",title:app.translator.trans("core.forum.composer.close_tooltip"),onclick:this.close.bind(this)}))),t}},{key:"initializeHeight",value:function(){this.height=localStorage.getItem("composerHeight"),this.height||(this.height=this.defaultHeight())}},{key:"defaultHeight",value:function(){return this.$().height()}},{key:"minimumHeight",value:function(){return 200}},{key:"maximumHeight",value:function(){return $(window).height()-$("#header").outerHeight()}},{key:"computedHeight",value:function(){return this.position===e.PositionEnum.MINIMIZED?"":this.position===e.PositionEnum.FULLSCREEN?$(window).height():Math.max(this.minimumHeight(),Math.min(this.height,this.maximumHeight()))}},{key:"changeHeight",value:function(t){this.height=t,this.updateHeight(),localStorage.setItem("composerHeight",this.height)}}]),e}(l.default);h.PositionEnum={HIDDEN:"hidden",NORMAL:"normal",MINIMIZED:"minimized",FULLSCREEN:"fullScreen"};var v=h;e.default=v},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(18)),d=i(n(10)),f=i(n(72)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.list=new f.default}},{key:"getButton",value:function(){var t=this.getNewCount(),n=(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"getButton",this).call(this);return n.attrs.title=this.props.label,n.attrs.className+=t?" new":"",n.attrs.onclick=this.onclick.bind(this),n}},{key:"getButtonContent",value:function(){var t=this.getUnreadCount();return[(0,d.default)(this.props.icon,{className:"Button-icon"}),t?m("span",{className:"NotificationsDropdown-unread"},t):"",m("span",{className:"Button-label"},this.props.label)]}},{key:"getMenu",value:function(){return m("div",{className:"Dropdown-menu "+this.props.menuClassName,onclick:this.menuClick.bind(this)},this.showing?this.list.render():"")}},{key:"onclick",value:function(){app.drawer.isOpen()?this.goToRoute():this.list.load()}},{key:"goToRoute",value:function(){m.route(app.route("notifications"))}},{key:"getUnreadCount",value:function(){return app.session.user.unreadNotificationsCount()}},{key:"getNewCount",value:function(){return app.session.user.newNotificationsCount()}},{key:"menuClick",value:function(t){(t.shiftKey||t.metaKey||t.ctrlKey||2===t.which)&&t.stopPropagation()}}],[{key:"initProps",value:function(t){t.className=t.className||"NotificationsDropdown",t.buttonClassName=t.buttonClassName||"Button Button--flat",t.menuClassName=t.menuClassName||"Dropdown-menu--right",t.label=t.label||app.translator.trans("core.forum.notifications.tooltip"),t.icon=t.icon||"fa fa-bell",(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t)}}]),e}(c.default);e.default=p},function(t,e,n){t.exports=n(191)},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(14)),d=i(n(19)),f=i(n(18)),p=i(n(34)),h=i(n(7)),v=i(n(9)),y=i(n(24)),g=(i(n(49)),function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return this.props.children=this.items().toArray(),(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"view",this).call(this)}},{key:"getButtonContent",value:function(){var t=app.session.user;return[(0,c.default)(t)," ",m("span",{className:"Button-label"},(0,d.default)(t))]}},{key:"items",value:function(){var t=new v.default,e=app.session.user;return t.add("profile",p.default.component({icon:"fa fa-user",children:app.translator.trans("core.forum.header.profile_button"),href:app.route.user(e)}),100),t.add("settings",p.default.component({icon:"fa fa-cog",children:app.translator.trans("core.forum.header.settings_button"),href:app.route("settings")}),50),app.forum.attribute("adminUrl")&&t.add("administration",p.default.component({icon:"fa fa-wrench",children:app.translator.trans("core.forum.header.admin_button"),href:app.forum.attribute("adminUrl"),target:"_blank",config:function(){}}),0),t.add("separator",y.default.component(),-90),t.add("logOut",h.default.component({icon:"fa fa-sign-out-alt",children:app.translator.trans("core.forum.header.log_out_button"),onclick:app.session.logout.bind(app.session)}),-100),t}}],[{key:"initProps",value:function(t){(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t),t.className="SessionDropdown",t.buttonClassName="Button Button--user Button--flat",t.menuClassName="Dropdown-menu--right"}}]),e}(f.default));e.default=g},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(31)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=i(n(7)),f=i(n(41)),p=i(n(51)),h=i(n(146)),v=i(n(48)),y=i(n(144)),g=i(n(9)),b=i(n(12)),_=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){return m("ul",{className:"Header-controls"},(0,b.default)(this.items().toArray()))}},{key:"config",value:function(t,e){e.retain=!0}},{key:"items",value:function(){var t=new g.default;if(t.add("search",app.search.render(),30),app.forum.attribute("showLanguageSelector")&&(0,r.default)(app.data.locales).length>1){var e=[],n=function(t){e.push(d.default.component({active:app.data.locale===t,children:app.data.locales[t],icon:app.data.locale!==t||"fa fa-check",onclick:function(){app.session.user?app.session.user.savePreferences({locale:t}).then(function(){return window.location.reload()}):(document.cookie="locale=".concat(t,"; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT"),window.location.reload())}}))};for(var i in app.data.locales)n(i);t.add("locale",v.default.component({children:e,buttonClassName:"Button Button--link"}),20)}return app.session.user?(t.add("notifications",y.default.component(),10),t.add("session",h.default.component(),0)):(app.forum.attribute("allowSignUp")&&t.add("signUp",d.default.component({children:app.translator.trans("core.forum.header.sign_up_link"),className:"Button Button--link",onclick:function(){return app.modal.show(new p.default)}}),10),t.add("logIn",d.default.component({children:app.translator.trans("core.forum.header.log_in_link"),className:"Button Button--link",onclick:function(){return app.modal.show(new f.default)}}),0)),t}}]),e}(c.default);e.default=_},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(9)),d=i(n(12)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("ul",{className:"Header-controls"},(0,d.default)(this.items().toArray()))}},{key:"config",value:function(t,e){e.retain=!0}},{key:"items",value:function(){return new c.default}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(8)),c=i(n(4)),d=i(n(18)),f=i(n(7)),p=i(n(10)),h=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"getButton",value:function(){var t=this.getFirstChild(),e=(0,r.default)({},t.props);return e.className=(e.className||"")+" SplitDropdown-button Button "+this.props.buttonClassName,[f.default.component(e),m("button",{className:"Dropdown-toggle Button Button--icon "+this.props.buttonClassName,"data-toggle":"dropdown"},(0,p.default)(this.props.icon,{className:"Button-icon"}),(0,p.default)("fa fa-caret-down",{className:"Button-caret"}))]}},{key:"getFirstChild",value:function(){for(var t=this.props.children;t instanceof Array;)t=t[0];return t}}],[{key:"initProps",value:function(t){(0,l.default)(e.__proto__||(0,o.default)(e),"initProps",this).call(this,t),t.className+=" Dropdown--split",t.menuClassName+=" Dropdown-menu--right"}}]),e}(d.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(10)),d=i(n(53)),f=i(n(50)),p=(i(n(32)),i(n(150))),h=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.handlers={},this.index=0,this.visible=1,this.description="",this.props.stream.on("unpaused",this.handlers.streamWasUnpaused=this.streamWasUnpaused.bind(this)),this.scrollListener=new d.default(this.onscroll.bind(this)),this.subtree=new f.default(function(){return!0})}},{key:"view",value:function(){var t=this.subtree.retain(),e=this.count(),n=this.props.stream.discussion.unreadCount(),i=e?Math.min(e-this.index,n)/e:0,r=app.translator.transChoice("core.forum.post_scrubber.viewing_text",e,{index:m("span",{className:"Scrubber-index"},t||(0,p.default)(Math.min(Math.ceil(this.index+this.visible),e))),count:m("span",{className:"Scrubber-count"},(0,p.default)(e))});return m("div",{className:"PostStreamScrubber Dropdown "+(this.disabled()?"disabled ":"")+(this.props.className||"")},m("button",{className:"Button Dropdown-toggle","data-toggle":"dropdown"},r," ",(0,c.default)("fa fa-sort")),m("div",{className:"Dropdown-menu dropdown-menu"},m("div",{className:"Scrubber"},m("a",{className:"Scrubber-first",onclick:this.goToFirst.bind(this)},(0,c.default)("fa fa-angle-double-up")," ",app.translator.trans("core.forum.post_scrubber.original_post_link")),m("div",{className:"Scrubber-scrollbar"},m("div",{className:"Scrubber-before"}),m("div",{className:"Scrubber-handle"},m("div",{className:"Scrubber-bar"}),m("div",{className:"Scrubber-info"},m("strong",null,r),m("span",{class:"Scrubber-description"},t||this.description))),m("div",{className:"Scrubber-after"}),m("div",{className:"Scrubber-unread",config:function(t,e,n){var r=$(t),o={top:100-100*i+"%",height:100*i+"%"};n.oldStyle?r.stop(!0).css(n.oldStyle).animate(o):r.css(o),n.oldStyle=o}},app.translator.trans("core.forum.post_scrubber.unread_text",{count:n}))),m("a",{className:"Scrubber-last",onclick:this.goToLast.bind(this)},(0,c.default)("fa fa-angle-double-down")," ",app.translator.trans("core.forum.post_scrubber.now_link")))))}},{key:"goToFirst",value:function(){this.props.stream.goToFirst(),this.index=0,this.renderScrollbar(!0)}},{key:"goToLast",value:function(){this.props.stream.goToLast(),this.index=this.props.stream.count(),this.renderScrollbar(!0)}},{key:"count",value:function(){return this.props.stream.count()}},{key:"streamWasUnpaused",value:function(){this.update(window.pageYOffset),this.renderScrollbar(!0)}},{key:"disabled",value:function(){return this.visible>=this.count()}},{key:"onscroll",value:function(t){var e=this.props.stream;!e.paused&&e.$()&&(this.update(t),this.renderScrollbar())}},{key:"update",value:function(t){var e=this.props.stream,n=e.getMarginTop(),i=t+n,r=$(window).height()-n,o=e.$("> .PostStream-item[data-index]"),a=o.first().data("index")||0,s=0,u="";o.each(function(){var t=$(this),e=t.offset().top,n=t.outerHeight(!0);if(e+n<i)return!0;if(e>i+r)return!1;var o=Math.max(0,i-e),l=Math.min(n,i+r-e)-o;e<=i&&(a=parseFloat(t.data("index"))+o/n),l>0&&(s+=l/n);var c=t.data("time");c&&(u=c)}),this.index=a,this.visible=s,this.description=u?moment(u).format("MMMM YYYY"):""}},{key:"config",value:function(t,e){t||(e.onunload=this.ondestroy.bind(this),this.scrollListener.start(),$(window).on("resize",this.handlers.onresize=this.onresize.bind(this)).resize(),this.$(".Scrubber-scrollbar").bind("click",this.onclick.bind(this)).css({cursor:"pointer","user-select":"none"}).bind("dragstart mousedown touchstart",function(t){return t.preventDefault()}),this.dragging=!1,this.mouseStart=0,this.indexStart=0,this.$(".Scrubber-handle").css("cursor","move").bind("mousedown touchstart",this.onmousedown.bind(this)).click(function(t){return t.stopPropagation()}),$(document).on("mousemove touchmove",this.handlers.onmousemove=this.onmousemove.bind(this)).on("mouseup touchend",this.handlers.onmouseup=this.onmouseup.bind(this)))}},{key:"ondestroy",value:function(){this.scrollListener.stop(),this.props.stream.off("unpaused",this.handlers.streamWasUnpaused),$(window).off("resize",this.handlers.onresize),$(document).off("mousemove touchmove",this.handlers.onmousemove).off("mouseup touchend",this.handlers.onmouseup)}},{key:"renderScrollbar",value:function(t){var e=this.percentPerPost(),n=this.index,i=this.count(),r=this.visible||1,o=this.$();o.find(".Scrubber-index").text((0,p.default)(Math.ceil(n+r))),o.find(".Scrubber-description").text(this.description),o.toggleClass("disabled",this.disabled());var a={};a.before=Math.max(0,e.index*Math.min(n,i-r)),a.handle=Math.min(100-a.before,e.visible*r),a.after=100-a.before-a.handle;var s=t?"animate":"css";for(var u in a){var l=o.find(".Scrubber-".concat(u));l.stop(!0,!0)[s]({height:a[u]+"%"},"fast"),"animate"===s&&l.css("overflow","visible")}}},{key:"percentPerPost",value:function(){var t=this.count()||1,e=this.visible||1,n=50/this.$(".Scrubber-scrollbar").outerHeight()*100,i=Math.max(100/t,n/e),r=t===e?0:(100-i*e)/(t-e);return{index:r,visible:i}}},{key:"onresize",value:function(){this.scrollListener.update(!0);var t=this.$(),e=this.$(".Scrubber-scrollbar");e.css("max-height",$(window).height()-t.offset().top+$(window).scrollTop()-parseInt($("#app").css("padding-bottom"),10)-(t.outerHeight()-e.outerHeight()))}},{key:"onmousedown",value:function(t){this.mouseStart=t.clientY||t.originalEvent.touches[0].clientY,this.indexStart=this.index,this.dragging=!0,this.props.stream.paused=!0,$("body").css("cursor","move")}},{key:"onmousemove",value:function(t){if(this.dragging){var e=((t.clientY||t.originalEvent.touches[0].clientY)-this.mouseStart)/this.$(".Scrubber-scrollbar").outerHeight()*100/this.percentPerPost().index||0,n=Math.min(this.indexStart+e,this.count()-1);this.index=Math.max(0,n),this.renderScrollbar()}}},{key:"onmouseup",value:function(){if(this.dragging){this.mouseStart=0,this.indexStart=0,this.dragging=!1,$("body").css("cursor",""),this.$().removeClass("open");var t=Math.floor(this.index);this.props.stream.goToIndex(t),this.renderScrollbar(!0)}}},{key:"onclick",value:function(t){var e=this.$(".Scrubber-scrollbar"),n=((t.clientY||t.originalEvent.touches[0].clientY)-e.offset().top+$("body").scrollTop())/e.outerHeight()*100,i=(n-=parseFloat(e.find(".Scrubber-handle")[0].style.height)/2)/this.percentPerPost().index;i=Math.max(0,Math.min(this.count()-1,i)),this.props.stream.goToIndex(Math.floor(i)),this.index=i,this.renderScrollbar(!0),this.$().removeClass("open")}}]),e}(l.default);e.default=h},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(17)),d=i(n(7)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.discussion=this.props.discussion,this.currentTitle=this.props.currentTitle,this.newTitle=m.prop(this.currentTitle)}},{key:"className",value:function(){return"RenameDiscussionModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.rename_discussion.title")}},{key:"content",value:function(){return m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{className:"FormControl",bidi:this.newTitle,type:"text"})),m("div",{className:"Form-group"},d.default.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.rename_discussion.submit_button")}))))}},{key:"onsubmit",value:function(t){var e=this;t.preventDefault(),this.loading=!0;var n=this.newTitle,i=this.currentTitle;if(n&&n!==i)return this.discussion.save({title:n}).then(function(){app.viewingDiscussion(e.discussion)&&app.current.stream.update(),m.redraw(),e.hide()}).catch(function(){e.loading=!1,m.redraw()});this.hide()}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(17)),d=(i(n(20)),i(n(7))),f=i(n(13)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"init",this).call(this),this.email=m.prop(this.props.email||""),this.success=!1}},{key:"className",value:function(){return"ForgotPasswordModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("core.forum.forgot_password.title")}},{key:"content",value:function(){return this.success?m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},app.translator.trans("core.forum.forgot_password.email_sent_message")),m("div",{className:"Form-group"},m(d.default,{className:"Button Button--primary Button--block",onclick:this.hide.bind(this)},app.translator.trans("core.forum.forgot_password.dismiss_button"))))):m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},app.translator.trans("core.forum.forgot_password.text")),m("div",{className:"Form-group"},m("input",{className:"FormControl",name:"email",type:"email",placeholder:(0,f.default)(app.translator.trans("core.forum.forgot_password.email_placeholder")),value:this.email(),onchange:m.withAttr("value",this.email),disabled:this.loading})),m("div",{className:"Form-group"},d.default.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:app.translator.trans("core.forum.forgot_password.submit_button")}))))}},{key:"onsubmit",value:function(t){var e=this;t.preventDefault(),this.loading=!0,app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/forgot",data:{email:this.email()},errorHandler:this.onerror.bind(this)}).then(function(){e.success=!0,e.alert=null}).catch(function(){}).then(this.loaded.bind(this))}},{key:"onerror",value:function(t){404===t.status&&(t.alert.props.children=app.translator.trans("core.forum.forgot_password.not_found_message")),(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"onerror",this).call(this,t)}}]),e}(c.default);e.default=p},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(14)),d=i(n(19)),f=i(n(52)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){var t=this;if(app.composingReplyTo(this.props.discussion))return m("article",{className:"Post CommentPost editing"},m("header",{className:"Post-header"},m("div",{className:"PostUser"},m("h3",null,(0,c.default)(app.session.user,{className:"PostUser-avatar"}),(0,d.default)(app.session.user)))),m("div",{className:"Post-body",config:this.configPreview.bind(this)}));return m("article",{className:"Post ReplyPlaceholder",onclick:function(){f.default.replyAction.call(t.props.discussion,!0)}},m("header",{className:"Post-header"},(0,c.default)(app.session.user,{className:"PostUser-avatar"})," ",app.translator.trans("core.forum.post_stream.reply_placeholder")))}},{key:"configPreview",value:function(t,e,n){if(!e){var i,r=setInterval(function(){var e=app.composer.component.content();if(i!==e){i=e;var n=$(window).scrollTop()+$(window).height()>=$(document).height();s9e.TextFormatter.preview(i||"",t),n&&$(window).scrollTop($(document).height())}},50);n.onunload=function(){return clearInterval(r)}}}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={handlers:null,getHandlers:function(t){return this.handlers=this.handlers||{},this.handlers[t]=this.handlers[t]||[],this.handlers[t]},trigger:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.getHandlers(t).forEach(function(t){return t.apply(e,i)})},on:function(t,e){this.getHandlers(t).push(e)},one:function(t,e){this.getHandlers(t).push(function n(){e.apply(this,arguments),this.off(t,n)})},off:function(t,e){var n=this.getHandlers(t),i=n.indexOf(e);-1!==i&&n.splice(i,1)}};e.default=i},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(t),n=arguments.length,i=new Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];return i.forEach(function(t){(0,r.default)(e.prototype,t)}),e};var r=i(n(11)),o=i(n(3)),a=i(n(1)),s=i(n(5)),u=i(n(4))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=$(window),i=$(t).offset().top-n.scrollTop();e(),n.scrollTop($(t).offset().top-i)}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(14)),d=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("div",{className:"Post CommentPost LoadingPost"},m("header",{className:"Post-header"},(0,c.default)(null,{className:"PostUser-avatar"}),m("div",{className:"fakeText"})),m("div",{className:"Post-body"},m("div",{className:"fakeText"}),m("div",{className:"fakeText"}),m("div",{className:"fakeText"})))}}]),e}(l.default);e.default=d},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(162)),a=i(n(3)),s=i(n(1)),u=i(n(2)),l=i(n(5)),c=i(n(4)),d=i(n(6)),f=i(n(53)),p=i(n(158)),h=i(n(157)),v=(i(n(156)),i(n(155))),y=i(n(154)),g=i(n(7)),b=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,u.default)(e,[{key:"init",value:function(){this.discussion=this.props.discussion,this.paused=!1,this.scrollListener=new f.default(this.onscroll.bind(this)),this.loadPageTimeouts={},this.pagesLoading=0,this.show(this.props.includedPosts)}},{key:"goToNumber",value:function(t,e){var n=this;if("reply"===t)return this.goToLast().then(function(){$("html,body").stop(!0).animate({scrollTop:$(document).height()-$(window).height()},"fast",function(){n.flashItem(n.$(".PostStream-item:last-child"))})});this.paused=!0;var i=this.loadNearNumber(t);return m.redraw(!0),i.then(function(){m.redraw(!0),n.scrollToNumber(t,e).done(n.unpause.bind(n))})}},{key:"goToIndex",value:function(t,e,n){var i=this;this.paused=!0;var r=this.loadNearIndex(t);return m.redraw(!0),r.then(function(){(0,h.default)(i.$(".PostStream-item:"+(e?"last":"first")),function(){return m.redraw(!0)}),i.scrollToIndex(t,n,e).done(i.unpause.bind(i))})}},{key:"goToFirst",value:function(){return this.goToIndex(0)}},{key:"goToLast",value:function(){return this.goToIndex(this.count()-1,!0)}},{key:"update",value:function(){return this.viewingEnd?(this.visibleEnd=this.count(),this.loadRange(this.visibleStart,this.visibleEnd).then(function(){return m.redraw()})):m.deferred().resolve().promise}},{key:"count",value:function(){return this.discussion.postIds().length}},{key:"sanitizeIndex",value:function(t){return Math.max(0,Math.min(this.count(),t))}},{key:"show",value:function(t){this.visibleStart=t.length?this.discussion.postIds().indexOf(t[0].id()):0,this.visibleEnd=this.visibleStart+t.length}},{key:"reset",value:function(t,e){this.visibleStart=t||0,this.visibleEnd=this.sanitizeIndex(e||this.constructor.loadCount)}},{key:"posts",value:function(){return this.discussion.postIds().slice(this.visibleStart,this.visibleEnd).map(function(t){var e=app.store.getById("posts",t);return e&&e.discussion()&&void 0!==e.canEdit()?e:null})}},{key:"view",value:function(){var t,e=this;function n(t,e,n){n.fadedIn||$(t).hide().fadeIn(),n.fadedIn=!0}this.visibleEnd=this.sanitizeIndex(this.visibleEnd),this.viewingEnd=this.visibleEnd===this.count();var i=this.posts(),r=this.discussion.postIds(),a=i.map(function(i,a){var s,u={"data-index":e.visibleStart+a};if(i){var l=i.time(),c=app.postComponents[i.contentType()];s=c?c.component({post:i}):"",u.key="post"+i.id(),u.config=n,u["data-time"]=l.toISOString(),u["data-number"]=i.number(),u["data-id"]=i.id(),u["data-type"]=i.contentType();var d=l-t;d>3456e5&&(s=[m("div",{className:"PostStream-timeGap"},m("span",null,app.translator.trans("core.forum.post_stream.time_lapsed_text",{period:moment.duration(d).humanize()}))),s]),t=l}else u.key="post"+r[e.visibleStart+a],s=p.default.component();return m("div",(0,o.default)({className:"PostStream-item"},u),s)});return!this.viewingEnd&&i[this.visibleEnd-this.visibleStart-1]&&a.push(m("div",{className:"PostStream-loadMore",key:"loadMore"},m(g.default,{className:"Button",onclick:this.loadNext.bind(this)},app.translator.trans("core.forum.post_stream.load_more_button")))),!this.viewingEnd||app.session.user&&!this.discussion.canReply()||a.push(m("div",{className:"PostStream-item",key:"reply"},y.default.component({discussion:this.discussion}))),m("div",{className:"PostStream"},a)}},{key:"config",value:function(t,e){var n=this;t||(setTimeout(function(){return n.scrollListener.start()}),e.onunload=function(){n.scrollListener.stop(),clearTimeout(n.calculatePositionTimeout)})}},{key:"onscroll",value:function(t){if(!this.paused){var e=this.getMarginTop(),n=$(window).height()-e,i=t+e;if(this.visibleStart>0){var r=this.$(".PostStream-item[data-index="+this.visibleStart+"]");r.length&&r.offset().top>i-300&&this.loadPrevious()}if(this.visibleEnd<this.count()){var o=this.$(".PostStream-item[data-index="+(this.visibleEnd-1)+"]");o.length&&o.offset().top+o.outerHeight(!0)<i+n+300&&this.loadNext()}clearTimeout(this.calculatePositionTimeout),this.calculatePositionTimeout=setTimeout(this.calculatePosition.bind(this),100)}}},{key:"loadNext",value:function(){var t=this.visibleEnd,e=this.visibleEnd=this.sanitizeIndex(this.visibleEnd+this.constructor.loadCount),n=t-2*this.constructor.loadCount;n>this.visibleStart&&n>=0&&(this.visibleStart=n+this.constructor.loadCount+1,this.loadPageTimeouts[n]&&(clearTimeout(this.loadPageTimeouts[n]),this.loadPageTimeouts[n]=null,this.pagesLoading--)),this.loadPage(t,e)}},{key:"loadPrevious",value:function(){var t=this.visibleStart,e=this.visibleStart=this.sanitizeIndex(this.visibleStart-this.constructor.loadCount),n=e+2*this.constructor.loadCount;n<this.visibleEnd&&n<=this.count()&&(this.visibleEnd=n,this.loadPageTimeouts[n]&&(clearTimeout(this.loadPageTimeouts[n]),this.loadPageTimeouts[n]=null,this.pagesLoading--)),this.loadPage(e,t,!0)}},{key:"loadPage",value:function(t,e,n){var i=this,r=function(){if(!(t<i.visibleStart||e>i.visibleEnd)){var r=n?i.visibleEnd-1:i.visibleStart;(0,h.default)('.PostStream-item[data-index="'.concat(r,'"]'),function(){return m.redraw(!0)}),i.unpause()}};r(),this.loadPageTimeouts[t]=setTimeout(function(){i.loadRange(t,e).then(function(){r(),i.pagesLoading--}),i.loadPageTimeouts[t]=null},this.pagesLoading?1e3:0),this.pagesLoading++}},{key:"loadRange",value:function(t,e){var n=[],i=[];return this.discussion.postIds().slice(t,e).forEach(function(t){var e=app.store.getById("posts",t);e&&e.discussion()&&void 0!==e.canEdit()?i.push(e):n.push(t)}),n.length?app.store.find("posts",n):m.deferred().resolve(i).promise}},{key:"loadNearNumber",value:function(t){return this.posts().some(function(e){return e&&Number(e.number())===Number(t)})?m.deferred().resolve().promise:(this.reset(),app.store.find("posts",{filter:{discussion:this.discussion.id()},page:{near:t}}).then(this.show.bind(this)))}},{key:"loadNearIndex",value:function(t){if(t>=this.visibleStart&&t<=this.visibleEnd)return m.deferred().resolve().promise;var e=this.sanitizeIndex(t-this.constructor.loadCount/2),n=e+this.constructor.loadCount;return this.reset(e,n),this.loadRange(e,n).then(this.show.bind(this))}},{key:"calculatePosition",value:function(){var t,e,n=this.getMarginTop(),i=$(window),r=i.height()-n,o=i.scrollTop()+n;this.$(".PostStream-item").each(function(){var n=$(this),i=n.offset().top,a=n.outerHeight(!0);if(i+a>o){if(t||(t=e=n.data("number")),!(i+a<o+r))return!1;n.data("number")&&(e=n.data("number"))}}),t&&this.trigger("positionChanged",t||1,e)}},{key:"getMarginTop",value:function(){return this.$()&&$("#header").outerHeight()+parseInt(this.$().css("margin-top"),10)}},{key:"scrollToNumber",value:function(t,e){var n=this.$(".PostStream-item[data-number=".concat(t,"]"));return this.scrollToItem(n,e).done(this.flashItem.bind(this,n))}},{key:"scrollToIndex",value:function(t,e,n){var i=this.$(".PostStream-item[data-index=".concat(t,"]"));return this.scrollToItem(i,e,!0,n)}},{key:"scrollToItem",value:function(t,e,n,i){var r=$("html, body").stop(!0);if(t.length){var o=t.offset().top-this.getMarginTop(),a=t.offset().top+t.height(),s=$(document).scrollTop(),u=s+$(window).height();if(n||o<s||a>u){var l=i?a-$(window).height()+app.composer.computedHeight():t.is(":first-child")?0:o;e?r.scrollTop(l):l!==s&&r.animate({scrollTop:l},"fast")}}return r.promise()}},{key:"flashItem",value:function(t){t.addClass("flash").one("animationend webkitAnimationEnd",function(){return t.removeClass("flash")})}},{key:"unpause",value:function(){this.paused=!1,this.scrollListener.update(!0),this.trigger("unpaused")}}]),e}(d.default);b.loadCount=20,(0,r.default)(b.prototype,v.default);var _=b;e.default=_},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(9)),d=i(n(12)),f=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"view",value:function(){return m("header",{className:"Hero DiscussionHero"},m("div",{className:"container"},m("ul",{className:"DiscussionHero-items"},(0,d.default)(this.items().toArray()))))}},{key:"items",value:function(){var t=new c.default,e=this.props.discussion,n=e.badges().toArray();return n.length&&t.add("badges",m("ul",{className:"DiscussionHero-badges badges"},(0,d.default)(n)),10),t.add("title",m("h2",{className:"DiscussionHero-title"},e.title())),t}}]),e}(l.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(9)),d=i(n(12)),f=i(n(7)),p=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.value=m.prop(this.props.value||"")}},{key:"view",value:function(){return m("div",{className:"TextEditor"},m("textarea",{className:"FormControl Composer-flexible",config:this.configTextarea.bind(this),oninput:m.withAttr("value",this.oninput.bind(this)),placeholder:this.props.placeholder||"",disabled:!!this.props.disabled,value:this.value()}),m("ul",{className:"TextEditor-controls Composer-footer"},(0,d.default)(this.controlItems().toArray())))}},{key:"configTextarea",value:function(t,e){var n=this;if(!e){var i=function(){n.onsubmit(),m.redraw()};$(t).bind("keydown","meta+return",i),$(t).bind("keydown","ctrl+return",i)}}},{key:"controlItems",value:function(){var t=new c.default;return t.add("submit",f.default.component({children:this.props.submitLabel,icon:"fa fa-check",className:"Button Button--primary",itemClassName:"App-primaryControl",onclick:this.onsubmit.bind(this)})),this.props.preview&&t.add("preview",f.default.component({icon:"fa fa-eye",className:"Button Button--icon",onclick:this.props.preview,title:app.translator.trans("core.forum.composer.preview_tooltip")})),t}},{key:"setValue",value:function(t){this.$("textarea").val(t).trigger("input")}},{key:"setSelectionRange",value:function(t,e){var n=this.$("textarea");n[0].setSelectionRange(t,e),n.focus()}},{key:"getSelectionRange",value:function(){var t=this.$("textarea");return[t[0].selectionStart,t[0].selectionEnd]}},{key:"insertAtCursor",value:function(t){var e=this.$("textarea")[0],n=this.value(),i=e?e.selectionStart:n.length;if(this.setValue(n.slice(0,i)+t+n.slice(i)),e){var r=i+t.length;this.setSelectionRange(r,r)}}},{key:"oninput",value:function(t){this.value(t),this.props.onchange(this.value()),m.redraw.strategy("none")}},{key:"onsubmit",value:function(){this.props.onsubmit(this.value())}}]),e}(l.default);e.default=p},function(t,e,n){var i=n(11);function r(){return t.exports=r=i||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r.apply(this,arguments)}t.exports=r},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=i(n(44)),s=i(n(14)),u=i(n(19)),l=function(){function t(){(0,r.default)(this,t),this.results={}}return(0,o.default)(t,[{key:"search",value:function(t){var e=this;return app.store.find("users",{filter:{q:t},page:{limit:5}}).then(function(n){e.results[t]=n,m.redraw()})}},{key:"view",value:function(t){t=t.toLowerCase();var e=(this.results[t]||[]).concat(app.store.all("users").filter(function(e){return[e.username(),e.displayName()].some(function(e){return e.toLowerCase().substr(0,t.length)===t})})).filter(function(t,e,n){return n.lastIndexOf(t)===e}).sort(function(t,e){return t.displayName().localeCompare(e.displayName())});return e.length?[m("li",{className:"Dropdown-header"},app.translator.trans("core.forum.search.users_heading")),e.map(function(e){var n=(0,u.default)(e);return n.children[0]=(0,a.default)(n.children[0],t),m("li",{className:"UserSearchResult","data-index":"users"+e.id()},m("a",{href:app.route.user(e),config:m.route},(0,s.default)(e),n))})]:""}}]),t}();e.default=l},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=i(n(44)),s=i(n(34)),u=function(){function t(){(0,r.default)(this,t),this.results={}}return(0,o.default)(t,[{key:"search",value:function(t){var e=this;t=t.toLowerCase(),this.results[t]=[];var n={filter:{q:t},page:{limit:3},include:"mostRelevantPost"};return app.store.find("discussions",n).then(function(n){return e.results[t]=n})}},{key:"view",value:function(t){t=t.toLowerCase();var e=this.results[t]||[];return[m("li",{className:"Dropdown-header"},app.translator.trans("core.forum.search.discussions_heading")),m("li",null,s.default.component({icon:"fa fa-search",children:app.translator.trans("core.forum.search.all_discussions_button",{query:t}),href:app.route("index",{q:t})})),e.map(function(e){var n=e.mostRelevantPost();return m("li",{className:"DiscussionSearchResult","data-index":"discussions"+e.id()},m("a",{href:app.route.discussion(e,n&&n.number()),config:m.route},m("div",{className:"DiscussionSearchResult-title"},(0,a.default)(e.title(),t)),n?m("div",{className:"DiscussionSearchResult-excerpt"},(0,a.default)(n.contentPlain(),t,100)):""))})]}}]),t}();e.default=u},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=function(){function t(){(0,r.default)(this,t),this.callbacks={},this.whenCallback=function(){return!0}}return(0,o.default)(t,[{key:"onUp",value:function(t){return this.callbacks[38]=function(e){e.preventDefault(),t(e)},this}},{key:"onDown",value:function(t){return this.callbacks[40]=function(e){e.preventDefault(),t(e)},this}},{key:"onSelect",value:function(t){return this.callbacks[9]=this.callbacks[13]=function(e){e.preventDefault(),t(e)},this}},{key:"onCancel",value:function(t){return this.callbacks[27]=function(e){e.stopPropagation(),e.preventDefault(),t(e)},this}},{key:"onRemove",value:function(t){return this.callbacks[8]=function(e){0===e.target.selectionStart&&0===e.target.selectionEnd&&(t(e),e.preventDefault())},this}},{key:"when",value:function(t){return this.whenCallback=t,this}},{key:"bindTo",value:function(t){t.on("keydown",this.navigate.bind(this))}},{key:"navigate",value:function(t){if(this.whenCallback()){var e=this.callbacks[t.which];e&&e(t)}}}]),t}();e.default=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(4)),l=i(n(6)),c=i(n(16)),d=i(n(9)),f=i(n(35)),p=i(n(13)),h=i(n(165)),v=i(n(10)),y=i(n(164)),g=i(n(163)),b=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){this.value=m.prop(""),this.hasFocus=!1,this.sources=this.sourceItems().toArray(),this.loadingSources=0,this.searched=[],this.index=0}},{key:"view",value:function(){var t=this,e=this.getCurrentSearch();return void 0===this.value()&&this.value(e||""),m("div",{className:"Search "+(0,f.default)({open:this.value()&&this.hasFocus,focused:this.hasFocus,active:!!e,loading:!!this.loadingSources})},m("div",{className:"Search-input"},m("input",{className:"FormControl",type:"search",placeholder:(0,p.default)(app.translator.trans("core.forum.header.search_placeholder")),value:this.value(),oninput:m.withAttr("value",this.value),onfocus:function(){return t.hasFocus=!0},onblur:function(){return t.hasFocus=!1}}),this.loadingSources?c.default.component({size:"tiny",className:"Button Button--icon Button--link"}):e?m("button",{className:"Search-clear Button Button--icon Button--link",onclick:this.clear.bind(this)},(0,v.default)("fa fa-times-circle")):""),m("ul",{className:"Dropdown-menu Search-results"},this.value()&&this.hasFocus?this.sources.map(function(e){return e.view(t.value())}):""))}},{key:"config",value:function(t){var e=this;if(this.setIndex(this.getCurrentNumericIndex()),!t){var n=this;this.$(".Search-results").on("mousedown",function(t){return t.preventDefault()}).on("click",function(){return e.$("input").blur()}).on("mouseenter","> li:not(.Dropdown-header)",function(){n.setIndex(n.selectableItems().index(this))});var i=this.$("input");this.navigator=new h.default,this.navigator.onUp(function(){return e.setIndex(e.getCurrentNumericIndex()-1,!0)}).onDown(function(){return e.setIndex(e.getCurrentNumericIndex()+1,!0)}).onSelect(this.selectResult.bind(this)).onCancel(this.clear.bind(this)).bindTo(i),i.on("input focus",function(){var t=this.value.toLowerCase();t&&(clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout(function(){-1===n.searched.indexOf(t)&&(t.length>=3&&n.sources.map(function(e){e.search&&(n.loadingSources++,e.search(t).then(function(){n.loadingSources--,m.redraw()}))}),n.searched.push(t),m.redraw())},250))}).on("focus",function(){$(this).one("mouseup",function(t){return t.preventDefault()}).select()})}}},{key:"getCurrentSearch",value:function(){return app.current&&"function"==typeof app.current.searching&&app.current.searching()}},{key:"selectResult",value:function(){this.value()?m.route(this.getItem(this.index).find("a").attr("href")):this.clear(),this.$("input").blur()}},{key:"clear",value:function(){this.value(""),this.getCurrentSearch()?app.current.clearSearch():m.redraw()}},{key:"sourceItems",value:function(){var t=new d.default;return t.add("discussions",new y.default),t.add("users",new g.default),t}},{key:"selectableItems",value:function(){return this.$(".Search-results > li:not(.Dropdown-header)")}},{key:"getCurrentNumericIndex",value:function(){return this.selectableItems().index(this.getItem(this.index))}},{key:"getItem",value:function(t){var e=this.selectableItems(),n=e.filter('[data-index="'.concat(t,'"]'));return n.length||(n=e.eq(t)),n}},{key:"setIndex",value:function(t,e){var n=this.selectableItems(),i=n.parent(),r=t;t<0?r=n.length-1:t>=n.length&&(r=0);var o=n.removeClass("active").eq(r).addClass("active");if(this.index=o.attr("data-index")||r,e){var a,s=i.scrollTop(),u=i.offset().top,l=u+i.outerHeight(),c=o.offset().top,d=c+o.outerHeight();c<u?a=s-u+c-parseInt(i.css("padding-top"),10):d>l&&(a=s-l+d+parseInt(i.css("padding-bottom"),10)),void 0!==a&&i.stop(!0).animate({scrollTop:a},100)}}}]),e}(l.default);e.default=b},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=function(){function t(e){(0,r.default)(this,t),this.pinnedKey="panePinned",this.$element=$(e),this.pinned="true"===localStorage.getItem(this.pinnedKey),this.active=!1,this.showing=!1,this.render()}return(0,o.default)(t,[{key:"enable",value:function(){this.active=!0,this.render()}},{key:"disable",value:function(){this.active=!1,this.showing=!1,this.render()}},{key:"show",value:function(){clearTimeout(this.hideTimeout),this.showing=!0,this.render()}},{key:"hide",value:function(){this.showing=!1,this.render()}},{key:"onmouseleave",value:function(){this.hideTimeout=setTimeout(this.hide.bind(this),250)}},{key:"togglePinned",value:function(){this.pinned=!this.pinned,localStorage.setItem(this.pinnedKey,this.pinned?"true":"false"),this.render()}},{key:"render",value:function(){this.$element.toggleClass("panePinned",this.pinned).toggleClass("hasPane",this.active).toggleClass("paneShowing",this.showing)}}]),t}();e.default=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(1)),a=i(n(2)),s=function(){function t(e){(0,o.default)(this,t),this.stack=[]}return(0,a.default)(t,[{key:"getCurrent",value:function(){return this.stack[this.stack.length-1]}},{key:"getPrevious",value:function(){return this.stack[this.stack.length-2]}},{key:"push",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.route(),i=this.stack[this.stack.length-2];i&&i.name===t&&this.stack.pop();var o=this.getCurrent();o&&o.name===t?(0,r.default)(o,{url:n,title:e}):this.stack.push({name:t,url:n,title:e})}},{key:"canGoBack",value:function(){return this.stack.length>1}},{key:"back",value:function(){this.stack.pop(),m.route(this.getCurrent().url)}},{key:"backUrl",value:function(){return this.stack[this.stack.length-2].url}},{key:"home",value:function(){this.stack.splice(0),m.route("/")}}]),t}();e.default=s},function(t,e,n){t.exports=n(207)},function(t,e,n){var i=n(173),r=n(80).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(171);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(29),r=n(25),o=n(225)(!1),a=n(89)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){t.exports=n(39)},function(t,e,n){"use strict";var i=n(83),r=n(28),o=n(174),a=n(39),s=n(29),u=n(82),l=n(227),c=n(79),d=n(179),f=n(36)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,m,v,y,g){l(n,e,m);var b,_,w,k=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",N="values"==v,T=!1,S=t.prototype,C=S[f]||S["@@iterator"]||v&&S[v],P=!p&&C||k(v),D=v?N?k("entries"):P:void 0,M="Array"==e&&S.entries||C;if(M&&(w=d(M.call(new t)))!==Object.prototype&&w.next&&(c(w,x,!0),i||s(w,f)||a(w,f,h)),N&&C&&"values"!==C.name&&(T=!0,P=function(){return C.call(this)}),i&&!g||!p&&!T&&S[f]||a(S,f,P),u[e]=P,u[x]=h,v)if(b={values:N?P:k("values"),keys:y?P:k("keys"),entries:D},g)for(_ in b)_ in S||o(S,_,b[_]);else r(r.P+r.F*(p||T),e,b);return b}},function(t,e,n){var i=n(38),r=n(21).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){t.exports=!n(26)&&!n(37)(function(){return 7!=Object.defineProperty(n(176)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(234);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(29),r=n(60),o=n(89)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=i(n(198)),d=i(n(168)),f=i(n(167)),p=i(n(166)),h=i(n(74)),v=i(n(43)),y=i(n(51)),g=i(n(148)),b=i(n(147)),_=i(n(143)),w=i(n(141)),k=i(n(69)),x=i(n(129)),N=i(n(127)),T=i(n(108)),S=i(n(107)),C=i(n(92)),P=function(t){function e(){var t,n,i;(0,o.default)(this,e);for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return(0,s.default)(i,(n=i=(0,s.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(u))),Object.defineProperty((0,c.default)(i),"notificationComponents",{configurable:!0,enumerable:!0,writable:!0,value:{discussionRenamed:w.default}}),Object.defineProperty((0,c.default)(i),"postComponents",{configurable:!0,enumerable:!0,writable:!0,value:{comment:k.default,discussionRenamed:x.default}}),Object.defineProperty((0,c.default)(i),"search",{configurable:!0,enumerable:!0,writable:!0,value:new p.default}),Object.defineProperty((0,c.default)(i),"pane",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty((0,c.default)(i),"drawer",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty((0,c.default)(i),"history",{configurable:!0,enumerable:!0,writable:!0,value:new d.default}),n))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"boot",value:function(t){(0,N.default)(this),(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"boot",this).call(this,t)}},{key:"mount",value:function(){var t=this.forum.attribute("defaultRoute"),n="index";for(var i in this.routes)this.routes[i].path===t&&(n=i);this.routes[n].path="/",this.history.push(n,this.translator.trans("core.forum.header.back_to_index_tooltip"),"/"),m.mount(document.getElementById("app-navigation"),C.default.component({className:"App-backControl",drawer:!0})),m.mount(document.getElementById("header-navigation"),C.default.component()),m.mount(document.getElementById("header-primary"),g.default.component()),m.mount(document.getElementById("header-secondary"),b.default.component()),this.pane=new f.default(document.getElementById("app")),this.composer=m.mount(document.getElementById("composer"),_.default.component()),m.route.mode="pathname",(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"mount",this).call(this),(0,T.default)(this),$("#home-link").click(function(t){t.ctrlKey||t.metaKey||2===t.which||(t.preventDefault(),app.history.home(),app.session.user&&(app.store.find("users",app.session.user.id()),m.redraw()))})}},{key:"composingReplyTo",value:function(t){return this.composer.component instanceof h.default&&this.composer.component.props.discussion===t&&this.composer.position!==_.default.PositionEnum.HIDDEN}},{key:"viewingDiscussion",value:function(t){return this.current instanceof v.default&&this.current.discussion===t}},{key:"authenticationComplete",value:function(t){if(t.authenticated)window.location.reload();else{var e=new y.default(t);this.modal.show(e),e.$("[name=password]").focus()}}}]),e}(S.default);e.default=P},function(t,e,n){(function(t){var i;!function(r,o){"use strict";var a=function t(e,n){m.version=function(){return"v0.2.8"};var i={}.hasOwnProperty,r={}.toString;function o(t){return"function"==typeof t}function a(t){return"[object Object]"===r.call(t)}function s(t){return"[object String]"===r.call(t)}var u=Array.isArray||function(t){return"[object Array]"===r.call(t)};function l(){}var c,d,f,p,h={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};function m(t,e){for(var n=[],r=1,l=arguments.length;r<l;r++)n[r-1]=arguments[r];if(t&&o(t.view))return ot(t,n);if(!s(t))throw new Error("selector in m(selector, attrs, children) should be a string");var c=null!=e&&a(e)&&!("tag"in e||"view"in e||"subtree"in e),d=c?e:{},f={tag:"div",attrs:{},children:function(t,e){var n=e?t.slice(1):t;return 1===n.length&&u(n[0])?n[0]:n}(n,c)};return function(t,e,n){var r="class"in e?"class":"className";for(var o in e)i.call(e,o)&&(o===r&&null!=e[o]&&""!==e[o]?(n.push(e[o]),t[o]=""):t[o]=e[o]);n.length&&(t[r]=n.join(" "))}(f.attrs,d,function(t,e){var n,i=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g;for(;n=r.exec(e);)if(""===n[1]&&n[2])t.tag=n[2];else if("#"===n[1])t.attrs.id=n[2];else if("."===n[1])i.push(n[2]);else if("["===n[3].charAt(0)){var o=n[6];o&&(o=o.replace(/\\(["'])/g,"$1")),"class"===n[4]?i.push(o):t.attrs[n[4]]=o||!0}return i}(f,t)),f}function v(t,e){for(var n=0;n<t.length&&!e(t[n],n++););}function y(t,e){v(t,function(t,n){return(t=t&&t.attrs)&&null!=t.key&&e(t,n)})}function g(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}m.deps=function(t){return function(t){c=t.document,d=t.location,p=t.cancelAnimationFrame||t.clearTimeout,f=t.requestAnimationFrame||t.setTimeout}(e=t||window),e},m.deps.factory=m.factory=t,m.deps(e);var b=1,_=2,w=3;function k(t,e,n,r){var o=t.length!==e.length;return o||y(t,function(t,n){var i=e[n];return o=i&&i.attrs&&i.attrs.key!==t.key}),o?function(t,e,n,r){y(t,function(t,i){e[t=t.key]=e[t]?{action:w,index:i,from:e[t].index,element:n.nodes[e[t].index]||c.createElement("div")}:{action:_,index:i}});var o=[];for(var a in e)i.call(e,a)&&o.push(e[a]);var s=o.sort(I),u=new Array(n.length);return u.nodes=n.nodes.slice(),v(s,function(e){var i=e.index;if(e.action===b&&(F(n[i].nodes,n[i]),u.splice(i,1)),e.action===_){var o=c.createElement("div");o.key=t[i].attrs.key,g(r,o,i),u.splice(i,0,{attrs:{key:t[i].attrs.key},nodes:[o]}),u.nodes[i]=o}if(e.action===w){var a=e.element,s=r.childNodes[i];s!==a&&null!==a&&r.insertBefore(a,s||null),u[i]=n[e.from],u.nodes[i]=a}}),u}(t,n,e,r):e}function x(t,e,n){(function(t,e,n){if(t.tag!==e.tag)return!0;if(n.sort().join()!==Object.keys(e.attrs).sort().join())return!0;if(t.attrs.id!==e.attrs.id)return!0;if(t.attrs.key!==e.attrs.key)return!0;if("all"===m.redraw.strategy())return!e.configContext||!0!==e.configContext.retain;if("diff"===m.redraw.strategy())return e.configContext&&!1===e.configContext.retain;return!1})(t,e,n)&&(e.nodes.length&&F(e.nodes),e.configContext&&o(e.configContext.onunload)&&e.configContext.onunload(),e.controllers&&v(e.controllers,function(t){t.onunload&&t.onunload({preventDefault:l})}))}var N=0;function T(t,e,n,i,r,o){var a=e.nodes;return i&&i===c.activeElement&&t===e||(t.$trusted?(F(a,e),a=q(n,r,t)):"textarea"===o?n.value=t:i?(i.innerHTML=t,a=[].slice.call(i.childNodes)):((1===a[0].nodeType||a.length>1||a[0].nodeValue.trim&&!a[0].nodeValue.trim())&&(F(e.nodes,e),a=[c.createTextNode(t)]),function(t,e,n,i){try{g(t,e,n),e.nodeValue=i}catch(t){}}(n,a[0],r,t))),(e=new t.constructor(t)).nodes=a,e.$trusted=t.$trusted,e}function S(t,e,n,i,r,o,a){return t.nodes.length?t.valueOf()!==e.valueOf()||r?T(e,t,i,o,n,a):(t.nodes.intact=!0,t):function(t,e,n){var i,r;t.$trusted?i=q(e,n,t):(i=[c.createTextNode(t)],e.nodeName in h||g(e,i[0],n));r="string"==typeof t||"number"==typeof t||"boolean"==typeof t?new t.constructor(t):t;return r.nodes=i,r}(e,i,n)}function C(t){return t.$trusted?t.nodes.length:u(t)?t.length:1}function P(t,e,i,r,o,a,s,l,c){t=function(t){for(var e=0;e<t.length;e++)u(t[e])&&(t=t.concat.apply([],t),e--);return t}(t);var d=e.length===t.length,f=0,p={},h=!1;y(e,function(t,n){h=!0,p[e[n].attrs.key]={action:b,index:n}}),function(t){var e=0;y(t,function(){return v(t,function(t){(t=t&&t.attrs)&&null==t.key&&(t.key="__mithril__"+e++)}),1})}(t),h&&(e=k(t,e,p,i));for(var m=0,g=0,_=t.length;g<_;g++){var w=A(i,o,e,r,t[g],e[m],a,r+f||f,s,l,c);w!==n&&(d=d&&w.nodes.intact,f+=C(w),e[m++]=w)}return d||function(t,e,n){v(t,function(t,i){null!=e[i]&&n.push.apply(n,e[i].nodes)}),v(e.nodes,function(t,i){null!=t.parentNode&&n.indexOf(t)<0&&F([t],[e[i]])}),t.length<e.length&&(e.length=t.length);e.nodes=n}(t,e,[]),e}function D(t,e,n,i,r,o,a){var s={tag:t.tag,attrs:e,children:n,nodes:[i]};return function(t,e,n){n.length&&(t.views=e,t.controllers=n,v(n,function(t){if(t.onunload&&t.onunload.$old&&(t.onunload=t.onunload.$old),N&&t.onunload){var e=t.onunload;t.onunload=function(){},t.onunload.$old=e}}))}(s,o,a),s.children&&!s.children.nodes&&(s.children.nodes=[]),s}m.startComputation=function(){N++},m.endComputation=function(){N>1?N--:(N=0,m.redraw())};var M=[];var O=!1;function E(t,e,n,i,r,a){var s=function(t,e,n,i){var r;r="diff"===m.redraw.strategy()&&t?t.indexOf(e):-1;return r>-1?n[r]:o(i)?new i:{}}(n.views,e,i,t.controller),u=t&&t.attrs&&t.attrs.key;return"retain"===(t=0===N||O||i&&i.indexOf(s)>-1?t.view(s):{tag:"placeholder"}).subtree?t:(t.attrs=t.attrs||{},t.attrs.key=u,function(t,e,n,i){null!=i.onunload&&M.map(function(t){return t.handler}).indexOf(i.onunload)<0&&M.push({controller:i,handler:i.onunload});t.push(n),e.push(i)}(a,r,e,s),t)}function j(t,e,i,r,a,u,l,d){var f=[],p=[];if("retain"===(t=function(t,e,n,i){var r=e&&e.controllers;for(;null!=t.view;)t=E(t,t.view.$original||t.view,e,r,i,n);return t}(t,e,f,p)).subtree)return e;if(!t.tag&&p.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");t.attrs=t.attrs||{},e.attrs=e.attrs||{};var h=Object.keys(t.attrs),m=h.length>("key"in t.attrs?1:0);if(x(t,e,h),s(t.tag)){var v,y=0===e.nodes.length;if(l=function(t,e){return t.attrs.xmlns?t.attrs.xmlns:"svg"===t.tag?"http://www.w3.org/2000/svg":"math"===t.tag?"http://www.w3.org/1998/Math/MathML":e}(t,l),y){v=function(t,e){return t.attrs.is?null==e?c.createElement(t.tag,t.attrs.is):c.createElementNS(e,t.tag,t.attrs.is):null==e?c.createElement(t.tag):c.createElementNS(e,t.tag)}(t,l);var b=function(t,e,n,i){return i?B(e,t.tag,t.attrs,{},n):t.attrs}(t,v,l,m);g(r,v,a);var _=function(t,e,i,r,o,a){return null!=t.children&&t.children.length>0?A(e,t.tag,n,n,t.children,i.children,!0,0,t.attrs.contenteditable?e:r,o,a):t.children}(t,v,e,i,l,d);e=D(t,b,_,v,l,f,p)}else v=function(t,e,i,r,o,a,s,u){var l=t.nodes[0];r&&B(l,e.tag,e.attrs,t.attrs,o);t.children=A(l,e.tag,n,n,e.children,t.children,!1,0,e.attrs.contenteditable?l:i,o,s),t.nodes.intact=!0,u.length&&(t.views=a,t.controllers=u);return l}(e,t,i,m,l,f,d,p);return"select"===t.tag&&"value"in t.attrs&&B(v,t.tag,{value:t.attrs.value},{},l),y||!0!==u||null==v||g(r,v,a),function(t,e,n,i,r){if(o(e.attrs.config)){var a=r.configContext=r.configContext||{};t.push(function(){return e.attrs.config.call(e,n,!i,a,r)})}}(d,t,v,y,e),e}}function A(t,e,n,i,s,l,c,d,f,p,h){return"retain"===(s=function(t){try{if("boolean"!=typeof t&&null!=t&&null!=t.toString())return t}catch(t){}return""}(s)).subtree?l:(l=function(t,e,n,i,o){if(null!=e){if(r.call(e)===r.call(t))return e;if(o&&o.nodes){var a=n-i,s=a+(u(t)?t:e.nodes).length;F(o.nodes.slice(a,s),o.slice(a,s))}else e.nodes&&F(e.nodes,e)}(e=new t.constructor).tag&&(e={});return e.nodes=[],e}(s,l,d,i,n),u(s)?P(s,l,t,d,e,c,f,p,h):null!=s&&a(s)?j(s,l,f,t,d,c,p,h):o(s)?l:S(l,s,d,t,c,f,e))}function I(t,e){return t.action-e.action||t.index-e.index}var $,L={list:1,style:1,form:1,type:1,width:1,height:1};function R(t,e,n,r,s,u){if("config"===e||"key"===e)return!0;if(o(n)&&"on"===e.slice(0,2))t[e]=(l=n,c=t,function(t){t=t||event,m.redraw.strategy("diff"),m.startComputation();try{return l.call(c,t)}finally{lt()}});else if("style"===e&&null!=n&&a(n))!function(t,e,n){n===e&&(t.style="",n={});for(var r in e)i.call(e,r)&&(null!=n&&n[r]===e[r]||(t.style[r]=e[r]));for(r in n)i.call(n,r)&&(i.call(e,r)||(t.style[r]=""))}(t,n,r);else if(null!=u)"href"===e?t.setAttributeNS("http://www.w3.org/1999/xlink","href",n):t.setAttribute("className"===e?"class":e,n);else if(e in t&&!L[e])try{("input"!==s&&!t.isContentEditable||t[e]!=n)&&(t[e]=n)}catch(i){t.setAttribute(e,n)}else try{t.setAttribute(e,n)}catch(t){}var l,c}function H(t,e,n,i,r,o,a){if(e in r&&i===n&&"object"!=typeof n&&c.activeElement!==t)"value"===e&&"input"===o&&t.value!=n&&(t.value=n);else{r[e]=n;try{return R(t,e,n,i,o,a)}catch(t){if(t.message.indexOf("Invalid argument")<0)throw t}}}function B(t,e,n,r,o){for(var a in n)!i.call(n,a)||H(t,a,n[a],r[a],r,e,o);return r}function F(t,e){for(var n=t.length-1;n>-1;n--)if(t[n]&&t[n].parentNode){try{t[n].parentNode.removeChild(t[n])}catch(t){}(e=[].concat(e))[n]&&U(e[n])}t.length&&(t.length=0)}function U(t){t.configContext&&o(t.configContext.onunload)&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers&&v(t.controllers,function(t){o(t.onunload)&&t.onunload({preventDefault:l})}),t.children&&(u(t.children)?v(t.children,U):t.children.tag&&U(t.children))}function Y(t,e){try{t.appendChild(c.createRange().createContextualFragment(e))}catch(n){t.insertAdjacentHTML("beforeend",e),function t(e){if("SCRIPT"===e.tagName)e.parentNode.replaceChild(function(t){for(var e=document.createElement("script"),n=t.attributes,i=0;i<n.length;i++)e.setAttribute(n[i].name,n[i].value);return e.text=t.innerHTML,e}(e),e);else{var n=e.childNodes;if(n&&n.length)for(var i=0;i<n.length;i++)t(n[i])}return e}(t)}}function q(t,e,n){var i=t.childNodes[e];if(i){var r=1!==i.nodeType,o=c.createElement("span");r?(t.insertBefore(o,i||null),o.insertAdjacentHTML("beforebegin",n),t.removeChild(o)):i.insertAdjacentHTML("beforebegin",n)}else Y(t,n);for(var a=[];t.childNodes[e]!==i;)a.push(t.childNodes[e]),e++;return a}var W={appendChild:function(t){$===n&&($=c.createElement("html")),c.documentElement&&c.documentElement!==t?c.replaceChild(t,c.documentElement):c.appendChild(t),this.childNodes=c.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},z=[],G={};function V(t){var e=z.indexOf(t);return e<0?z.push(t)-1:e}m.render=function(t,e,i){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r,o=[],a=V(t),s=t===c;r=s||t===c.documentElement?W:t,s&&"html"!==e.tag&&(e={tag:"html",attrs:{},children:e}),G[a]===n&&F(r.childNodes),!0===i&&bt(t),G[a]=A(r,null,n,n,e,G[a],!1,0,null,n,o),v(o,function(t){t()})},m.trust=function(t){return(t=new String(t)).$trusted=!0,t},m.prop=function(t){return(null!=t&&(a(t)||o(t))||"undefined"!=typeof Promise&&t instanceof Promise)&&o(t.then)?_t(t):function(t){function e(){return arguments.length&&(t=arguments[0]),t}return e.toJSON=function(){return t&&o(t.toJSON)?t.toJSON():t},e}(t)};var Z,K,J,X=[],Q=[],tt=[],et=null,nt=0,it=null,rt=null;function ot(t,e){function n(){return(t.controller||l).apply(this,e)||this}function i(n){for(var i=[n].concat(e),r=1;r<arguments.length;r++)i.push(arguments[r]);return t.view.apply(t,i)}t.controller&&(n.prototype=t.controller.prototype),i.$original=t.view;var r={controller:n,view:i};return e[0]&&null!=e[0].key&&(r.attrs={key:e[0].key}),r}function at(t,e){X.splice(e,1),tt.splice(e,1),Q.splice(e,1),bt(t),z.splice(V(t),1),M=[]}m.component=function(t){for(var e=new Array(arguments.length-1),n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ot(t,e)},m.mount=m.module=function(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=X.indexOf(t);n<0&&(n=X.length);var i=!1,r={preventDefault:function(){i=!0,it=rt=null}};return v(M,function(t){t.handler.call(t.controller,r),t.controller.onunload=null}),i?v(M,function(t){t.controller.onunload=t.handler}):M=[],tt[n]&&o(tt[n].onunload)&&tt[n].onunload(r),function(t,e,n,i){if(!i){var r;m.redraw.strategy("all"),m.startComputation(),X[n]=e,r=Z=t||(t={controller:l});var o=new(t.controller||l);return r===Z&&(tt[n]=o,Q[n]=t),lt(),null===t&&at(e,n),tt[n]}null==t&&at(e,n),J&&(K=J)}(e,t,n,i)};var st=!1;function ut(){it&&(it(),it=null),v(X,function(t,e){var n=Q[e];if(tt[e]){var i=[tt[e]];m.render(t,n.view?n.view(tt[e],i):"")}}),rt&&(rt(),rt=null),et=null,nt=new Date,m.redraw.strategy("diff")}function lt(){"none"===m.redraw.strategy()?(N--,m.redraw.strategy("diff")):m.endComputation()}m.redraw=function(t){if(!st){st=!0,t&&(O=!0);try{et&&!t?(f===e.requestAnimationFrame||new Date-nt>16)&&(et>0&&p(et),et=f(ut,16)):(ut(),et=f(function(){et=null},16))}finally{st=O=!1}}},m.redraw.strategy=m.prop(),m.withAttr=function(t,e,n){return function(i){var r=(i=i||window.event).currentTarget||this,o=n||this,a=t in r?r[t]:r.getAttribute(t);e.call(o,a)}};var ct,dt={pathname:"",hash:"#",search:"?"},ft=l,pt=!1;function ht(t){return t.slice(dt[m.route.mode].length)}function mt(t){if(!((t=t||event).ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault?t.preventDefault():t.returnValue=!1;var e,n=t.currentTarget||t.srcElement;for(e="pathname"===m.route.mode&&n.search?gt(n.search.slice(1)):{};n&&!/a/i.test(n.nodeName);)n=n.parentNode;N=0,m.route(n[m.route.mode].slice(dt[m.route.mode].length),e)}}function vt(){"hash"!==m.route.mode&&d.hash?d.hash=d.hash:e.scrollTo(0,0)}function yt(t,e){var r={},o=[];for(var s in t)if(i.call(t,s)){var l=e?e+"["+s+"]":s,c=t[s];if(null===c)o.push(encodeURIComponent(l));else if(a(c))o.push(yt(c,l));else if(u(c)){var d=[];r[l]=r[l]||{},v(c,function(t){r[l][t]||(r[l][t]=!0,d.push(encodeURIComponent(l)+"="+encodeURIComponent(t)))}),o.push(d.join("&"))}else c!==n&&o.push(encodeURIComponent(l)+"="+encodeURIComponent(c))}return o.join("&")}function gt(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));var e=t.split("&"),n={};return v(e,function(t){var e=t.split("="),i=decodeURIComponent(e[0]),r=2===e.length?decodeURIComponent(e[1]):null;null!=n[i]?(u(n[i])||(n[i]=[n[i]]),n[i].push(r)):n[i]=r}),n}function bt(t){var e=V(t);F(t.childNodes,G[e]),G[e]=n}function _t(t,e){var n=m.prop(e);return t.then(n),n.then=function(n,i){return _t(t.then(n,i),e)},n.catch=n.then.bind(null,null),n}m.route=function(t,n,r,o){if(0===arguments.length)return K;if(3===arguments.length&&s(n)){ft=function(e){var o=K=ht(e);if(!function(t,e,n){ct={};var r=n.indexOf("?");-1!==r&&(ct=gt(n.substr(r+1,n.length)),n=n.substr(0,r));var o=Object.keys(e),a=o.indexOf(n);if(-1!==a)return m.mount(t,e[o[a]]),!0;for(var s in e)if(i.call(e,s)){if(s===n)return m.mount(t,e[s]),!0;var u=new RegExp("^"+s.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(n))return n.replace(u,function(){var n=s.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2);v(n,function(t,e){ct[t.replace(/:|\./g,"")]=decodeURIComponent(i[e])}),m.mount(t,e[s])}),!0}}(t,r,o)){if(pt)throw new Error("Ensure the default route matches one of the routes defined in m.route");pt=!0,m.route(n,!0),pt=!1}};var a="hash"===m.route.mode?"onhashchange":"onpopstate";return e[a]=function(){var t=d[m.route.mode];"pathname"===m.route.mode&&(t+=d.search),K!==ht(t)&&ft(t)},it=vt,void e[a]()}if(t.addEventListener||t.attachEvent){var u="pathname"!==m.route.mode?d.pathname:"";return t.href=u+dt[m.route.mode]+o.attrs.href,void(t.addEventListener?(t.removeEventListener("click",mt),t.addEventListener("click",mt)):(t.detachEvent("onclick",mt),t.attachEvent("onclick",mt)))}if(s(t)){J=K,K=t;var l,f=n||{},p=K.indexOf("?");for(var h in l=p>-1?gt(K.slice(p+1)):{},f)i.call(f,h)&&(l[h]=f[h]);var y,g=yt(l);y=p>-1?K.slice(0,p):K,g&&(K=y+(-1===y.indexOf("?")?"?":"&")+g);var b=!0===(3===arguments.length?r:n)||J===K;if(e.history.pushState){var _=b?"replaceState":"pushState";it=vt,rt=function(){try{e.history[_](null,c.title,dt[m.route.mode]+K)}catch(t){d[m.route.mode]=K}},ft(dt[m.route.mode]+K)}else d[m.route.mode]=K,ft(dt[m.route.mode]+K);J=null}},m.route.param=function(t){if(!ct)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return t?ct[t]:ct},m.route.mode="search",m.route.buildQueryString=yt,m.route.parseQueryString=gt,m.deferred=function(){var t=new Tt;return t.promise=_t(t.promise),t};var wt=1,kt=2,xt=3,Nt=4;function Tt(t,e){var n=this,i=0,r=0,s=[];function u(t){i=t||Nt,s.map(function(t){i===xt?t.resolve(r):t.reject(r)})}function l(t,e,n,i){if((null!=r&&a(r)||o(r))&&o(t))try{var s=0;t.call(r,function(t){s++||(r=t,e())},function(t){s++||(r=t,n())})}catch(t){m.deferred.onerror(t),r=t,n()}else i()}function c(){var a;try{a=r&&r.then}catch(t){return m.deferred.onerror(t),r=t,i=kt,c()}i===kt&&m.deferred.onerror(r),l(a,function(){i=wt,c()},function(){i=kt,c()},function(){try{i===wt&&o(t)?r=t(r):i===kt&&o(e)&&(r=e(r),i=wt)}catch(t){return m.deferred.onerror(t),r=t,u()}r===n?(r=TypeError(),u()):l(a,function(){u(xt)},u,function(){u(i===wt&&xt)})})}n.promise={},n.resolve=function(t){return i||(r=t,i=wt,c()),n},n.reject=function(t){return i||(r=t,i=kt,c()),n},n.promise.then=function(t,e){var n=new Tt(t,e);return i===xt?n.resolve(r):i===Nt?n.reject(r):s.push(n),n.promise}}function St(t){return t}return m.deferred.onerror=function(t){if("[object Error]"===r.call(t)&&!/ Error/.test(t.constructor.toString()))throw N=0,t},m.sync=function(t){var e=m.deferred(),n=t.length,i=[],r="resolve";function o(t,o){return function(a){return i[t]=a,o||(r="reject"),0==--n&&(e.promise(i),e[r](i)),a}}return t.length>0?v(t,function(t,e){t.then(o(e,!0),o(e,!1))}):e.resolve([]),e.promise},m.request=function(t){!0!==t.background&&m.startComputation();var r,l,d,f,p,h=new Tt;return t.dataType&&"jsonp"===t.dataType.toLowerCase()?(r=t.serialize=l=t.deserialize=St,d=function(t){return t.responseText}):(r=t.serialize=t.serialize||JSON.stringify,l=t.deserialize=t.deserialize||JSON.parse,d=t.extract||function(t){return t.responseText.length||l!==JSON.parse?t.responseText:null}),t.method=(t.method||"GET").toUpperCase(),t.url=(f=t.url,(p=t.data)&&(f=f.replace(/:[a-z]\w+/gi,function(t){var e=t.slice(1),n=p[e]||t;return delete p[e],n})),f),function(t,e,n){if("GET"===t.method&&"jsonp"!==t.dataType){var i=t.url.indexOf("?")<0?"?":"&",r=yt(e);t.url+=r?i+r:""}else t.data=n(e)}(t,t.data,r),t.onload=t.onerror=function(e){try{e=e||event;var n=l(d(e.target,t));"load"===e.type?(t.unwrapSuccess&&(n=t.unwrapSuccess(n,e.target)),u(n)&&t.type?v(n,function(e,i){n[i]=new t.type(e)}):t.type&&(n=new t.type(n)),h.resolve(n)):(t.unwrapError&&(n=t.unwrapError(n,e.target)),h.reject(n))}catch(t){h.reject(t),m.deferred.onerror(t)}finally{!0!==t.background&&m.endComputation()}},function(t){t.dataType&&"jsonp"===t.dataType.toLowerCase()?function(t){var i=t.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),r=c.createElement("script");e[i]=function(o){r.parentNode.removeChild(r),t.onload({type:"load",target:{responseText:o}}),e[i]=n},r.onerror=function(){return r.parentNode.removeChild(r),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[i]=n,!1},r.onload=function(){return!1},r.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+i+"&"+yt(t.data||{}),c.body.appendChild(r)}(t):function(t){var n=new e.XMLHttpRequest;if(n.open(t.method,t.url,!0,t.user,t.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?t.onload({type:"load",target:n}):t.onerror({type:"error",target:n}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),a(t.headers))for(var r in t.headers)i.call(t.headers,r)&&n.setRequestHeader(r,t.headers[r]);if(o(t.config)){var u=t.config(n,t);null!=u&&(n=u)}var l="GET"!==t.method&&t.data?t.data:"";if(l&&!s(l)&&l.constructor!==e.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");n.send(l)}(t)}(t),h.promise=_t(h.promise,t.initialValue),h.promise},m}(r);"undefined"==typeof window&&a.deps({document:"undefined"!=typeof document?document:{},location:"undefined"!=typeof location?location:{},clearTimeout:clearTimeout,setTimeout:setTimeout}),"object"==typeof t&&null!=t&&t.exports?t.exports=a:void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}("undefined"!=typeof window?window:this)}).call(this,n(91)(t))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1)),o=i(n(2)),a=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"search",value:function(){}},{key:"view",value:function(){}}]),t}();e.default=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(3)),o=i(n(1)),a=i(n(2)),s=i(n(5)),u=i(n(8)),l=i(n(4)),c=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,a.default)(e,null,[{key:"initProps",value:function(t){t.className=(t.className||"")+" LogInButton",t.onclick=function(){var e=$(window);window.open(app.forum.attribute("baseUrl")+t.path,"logInPopup","width=".concat(600,",")+"height=".concat(400,",")+"top=".concat(e.height()/2-200,",")+"left=".concat(e.width()/2-300,",")+"status=no,scrollbars=no,resizable=no")},(0,u.default)(e.__proto__||(0,r.default)(e),"initProps",this).call(this,t)}}]),e}(i(n(7)).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(2===t.length)return app.translator.trans("core.lib.series.two_text",{first:t[0],second:t[1]});if(t.length>=3){var e=t.slice(1,t.length-1).reduce(function(t,e){return t.concat([e,app.translator.trans("core.lib.series.glue_text")])},[]).slice(0,-1);return app.translator.trans("core.lib.series.three_text",{first:t[0],second:e,third:t[t.length-1]})}return t}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(31)),o=i(n(3)),a=i(n(1)),s=i(n(2)),u=i(n(5)),l=i(n(4)),c=i(n(6)),d=i(n(10)),f=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"view",value:function(){var t=this.props,e=t.options,n=t.onchange,i=t.value;return m("span",{className:"Select"},m("select",{className:"Select-input FormControl",onchange:n?m.withAttr("value",n.bind(this)):void 0,value:i},(0,r.default)(e).map(function(t){return m("option",{value:t},e[t])})),(0,d.default)("fa fa-sort",{className:"Select-caret"}))}}]),e}(c.default);e.default=f},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){setInterval(o,1e4)};var r=i(n(30));function o(){$("[data-humantime]").each(function(){var t=$(this),e=(0,r.default)(t.attr("datetime"));t.html(e)})}},function(t,e,n){var i=n(169),r=n(85);t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=r&&i?i(t,n):{};o.get||o.set?r(e,n,o):e[n]=t[n]}return e.default=t,e}},function(t,e,n){"use strict";var i=n(0),r=n(187);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(64)),a=i(n(100)),s=i(n(101)),u=i(n(155)),l=i(n(186)),c=i(n(9)),d=i(n(156)),f=i(n(30)),p=i(n(32)),h=i(n(99)),m=i(n(157)),v=i(n(96)),y=i(n(124)),g=r(n(55)),b=i(n(50)),_=i(n(33)),w=i(n(53)),k=i(n(102)),x=i(n(97)),N=i(n(35)),T=i(n(13)),S=i(n(150)),C=i(n(98)),P=i(n(93)),D=i(n(61)),M=i(n(94)),O=i(n(71)),E=i(n(49)),j=i(n(95)),A=i(n(6)),I=i(n(103)),$=i(n(105)),L=i(n(114)),R=i(n(70)),H=i(n(16)),B=i(n(120)),F=i(n(24)),U=i(n(18)),Y=i(n(149)),q=i(n(104)),W=i(n(113)),z=i(n(185)),G=i(n(92)),V=i(n(20)),Z=i(n(34)),K=i(n(62)),J=i(n(48)),X=i(n(106)),Q=i(n(7)),tt=i(n(17)),et=i(n(65)),nt=i(n(23)),it=i(n(107)),rt=i(n(131)),ot=i(n(14)),at=i(n(10)),st=i(n(47)),ut=i(n(184)),lt=i(n(44)),ct=i(n(19)),dt=i(n(133)),ft=i(n(12)),pt={extend:o,Session:a.default,Store:s.default,"utils/evented":u.default,"utils/liveHumanTimes":l.default,"utils/ItemList":c.default,"utils/mixin":d.default,"utils/humanTime":f.default,"utils/computed":p.default,"utils/Drawer":h.default,"utils/anchorScroll":m.default,"utils/RequestError":v.default,"utils/abbreviateNumber":y.default,"utils/string":g,"utils/SubtreeRetainer":b.default,"utils/extract":_.default,"utils/ScrollListener":w.default,"utils/stringToColor":k.default,"utils/patchMithril":x.default,"utils/classList":N.default,"utils/extractText":T.default,"utils/formatNumber":S.default,"utils/mapRoutes":C.default,"models/Notification":P.default,"models/User":D.default,"models/Post":M.default,"models/Discussion":O.default,"models/Group":E.default,"models/Forum":j.default,Component:A.default,Translator:I.default,"components/AlertManager":$.default,"components/Switch":L.default,"components/Badge":R.default,"components/LoadingIndicator":H.default,"components/Placeholder":B.default,"components/Separator":F.default,"components/Dropdown":U.default,"components/SplitDropdown":Y.default,"components/RequestErrorModal":q.default,"components/FieldSet":W.default,"components/Select":z.default,"components/Navigation":G.default,"components/Alert":V.default,"components/LinkButton":Z.default,"components/Checkbox":K.default,"components/SelectDropdown":J.default,"components/ModalManager":X.default,"components/Button":Q.default,"components/Modal":tt.default,"components/GroupBadge":et.default,Model:nt.default,Application:it.default,"helpers/fullTime":rt.default,"helpers/avatar":ot.default,"helpers/icon":at.default,"helpers/humanTime":st.default,"helpers/punctuateSeries":ut.default,"helpers/highlight":lt.default,"helpers/username":ct.default,"helpers/userOnline":dt.default,"helpers/listItems":ft.default};e.default=pt},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(11)),o=i(n(188)),a=i(n(139)),s=i(n(165)),u=i(n(121)),l=i(n(135)),c=i(n(168)),d=i(n(52)),f=i(n(108)),p=i(n(137)),h=i(n(167)),m=i(n(43)),v=i(n(41)),y=i(n(54)),g=i(n(153)),b=i(n(140)),_=i(n(183)),w=i(n(116)),k=i(n(143)),x=i(n(146)),N=i(n(148)),T=i(n(130)),S=i(n(159)),C=i(n(111)),P=i(n(126)),D=i(n(42)),M=i(n(141)),O=i(n(164)),E=i(n(147)),j=i(n(142)),A=i(n(63)),I=i(n(154)),$=i(n(161)),L=i(n(134)),R=i(n(68)),H=i(n(115)),B=i(n(123)),F=i(n(110)),U=i(n(144)),Y=i(n(40)),q=i(n(138)),W=i(n(66)),z=i(n(163)),G=i(n(112)),V=i(n(122)),Z=i(n(128)),K=i(n(160)),J=i(n(132)),X=i(n(136)),Q=i(n(182)),tt=i(n(129)),et=i(n(118)),nt=i(n(73)),it=i(n(72)),rt=i(n(119)),ot=i(n(51)),at=i(n(69)),st=i(n(74)),ut=i(n(109)),lt=i(n(151)),ct=i(n(67)),dt=i(n(152)),ft=i(n(166)),pt=i(n(125)),ht=i(n(158)),mt=i(n(117)),vt=i(n(127)),yt=i(n(180)),gt=(0,r.default)(o.default,{"utils/PostControls":a.default,"utils/KeyboardNavigatable":s.default,"utils/slidable":u.default,"utils/affixSidebar":l.default,"utils/History":c.default,"utils/DiscussionControls":d.default,"utils/alertEmailConfirmation":f.default,"utils/UserControls":p.default,"utils/Pane":h.default,"components/DiscussionPage":m.default,"components/LogInModal":v.default,"components/ComposerBody":y.default,"components/ForgotPasswordModal":g.default,"components/Notification":b.default,"components/LogInButton":_.default,"components/DiscussionsUserPage":w.default,"components/Composer":k.default,"components/SessionDropdown":x.default,"components/HeaderPrimary":N.default,"components/PostEdited":T.default,"components/PostStream":S.default,"components/ChangePasswordModal":C.default,"components/IndexPage":P.default,"components/Page":D.default,"components/DiscussionRenamedNotification":M.default,"components/DiscussionsSearchSource":O.default,"components/HeaderSecondary":E.default,"components/ComposerButton":j.default,"components/DiscussionList":A.default,"components/ReplyPlaceholder":I.default,"components/TextEditor":$.default,"components/AvatarEditor":L.default,"components/Post":R.default,"components/SettingsPage":H.default,"components/TerminalPost":B.default,"components/ChangeEmailModal":F.default,"components/NotificationsDropdown":U.default,"components/UserPage":Y.default,"components/PostUser":q.default,"components/UserCard":W.default,"components/UsersSearchSource":z.default,"components/NotificationGrid":G.default,"components/PostPreview":V.default,"components/EventPost":Z.default,"components/DiscussionHero":K.default,"components/PostMeta":J.default,"components/EditUserModal":X.default,"components/SearchSource":Q.default,"components/DiscussionRenamedPost":tt.default,"components/DiscussionComposer":et.default,"components/LogInButtons":nt.default,"components/NotificationList":it.default,"components/WelcomeHero":rt.default,"components/SignUpModal":ot.default,"components/CommentPost":at.default,"components/ReplyComposer":st.default,"components/NotificationsPage":ut.default,"components/PostStreamScrubber":lt.default,"components/EditPostComposer":ct.default,"components/RenameDiscussionModal":dt.default,"components/Search":ft.default,"components/DiscussionListItem":pt.default,"components/LoadingPost":ht.default,"components/PostsUserPage":mt.default,routes:vt.default,ForumApplication:yt.default});e.default=gt},function(t,e,n){var i=n(85);t.exports=function(t,e,n){return e in t?i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var i=n(15),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){var i=n(60),r=n(45);n(87)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(192),t.exports=n(15).Object.keys},function(t,e,n){"use strict";n.r(e),n.d(e,"Spinner",function(){return o});var i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"none",position:"absolute"},o=function(){function t(t){void 0===t&&(t={}),this.opts=i({},r,t)}return t.prototype.spin=function(t){var e,n,i,r=this;this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),u(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),"undefined"!=typeof requestAnimationFrame?(e=requestAnimationFrame,n=function(){return performance.now()}):(e=function(t){return setTimeout(t,1e3/r.opts.fps)},n=function(){return Date.now()});var o=0,s=function(){var t,u,l=n();if(void 0===i&&(i=l-1),o+=(t=l-i,u=r.opts.speed,t/1e3*u),i=l,o>1&&(o-=Math.floor(o)),r.el.childNodes.length===r.opts.lines)for(var c=0;c<r.opts.lines;c++){var d=a(c,o,r.opts);r.el.childNodes[c].childNodes[0].style.opacity=d.toString()}r.animateId=r.el?e(s):void 0};return function(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",i="none";!0===e.shadow?i="0 2px 4px #000":"string"==typeof e.shadow&&(i=e.shadow);for(var r=function(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],i=0,r=t.split(",");i<r.length;i++){var o=r[i],a=o.match(e);if(null!==a){var s=+a[2],u=+a[5],l=a[4],c=a[7];0!==s||l||(l=c),0!==u||c||(c=l),l===c&&n.push({prefix:a[1]||"",x:s,y:u,xUnits:l,yUnits:c,end:a[8]})}}return n}(i),o=0;o<e.lines;o++){var a=~~(360/e.lines*o+e.rotate),s=u(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:l(e.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+e.radius+"px)"}),d=u(document.createElement("div"),{width:"100%",height:"100%",background:l(e.color,o),borderRadius:n,boxShadow:c(r,a),opacity:e.opacity});s.appendChild(d),t.appendChild(s)}}(this.el,this.opts),s(),this},t.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function a(t,e,n){var i=e-(t+1)/n.lines*n.direction;(i<0||i>1)&&(i+=n.direction);var r=1-i/(n.trail/100);return r<0?n.opacity:r*(1-n.opacity)+n.opacity}function s(t,e){if(void 0!==t.style[e])return e;var n="ms"+e.charAt(0).toUpperCase()+e.slice(1);return void 0!==t.style[n]?n:""}function u(t,e){for(var n in e)t.style[s(t,n)||n]=e[n];return t}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function c(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],a=d(o.x,o.y,e);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}function d(t,e,n){var i=n*Math.PI/180,r=Math.sin(i),o=Math.cos(i);return[Math.round(1e3*(t*o+e*r))/1e3,Math.round(1e3*(-t*r+e*o))/1e3]}},function(t,e,n){"use strict";var i=n(45),r=n(76),o=n(56),a=n(60),s=n(172),u=Object.assign;t.exports=!u||n(37)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=r.f,d=o.f;u>l;)for(var f,p=s(arguments[l++]),h=c?i(p).concat(c(p)):i(p),m=h.length,v=0;m>v;)d.call(p,f=h[v++])&&(n[f]=p[f]);return n}:u},function(t,e,n){var i=n(28);i(i.S+i.F,"Object",{assign:n(195)})},function(t,e,n){n(196),t.exports=n(15).Object.assign},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var i=n(28);i(i.S,"Object",{create:n(81)})},function(t,e,n){n(199);var i=n(15).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){t.exports=n(200)},function(t,e,n){var i=n(38),r=n(46),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(178)(Function.call,n(75).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(28);i(i.S,"Object",{setPrototypeOf:n(202).set})},function(t,e,n){n(203),t.exports=n(15).Object.setPrototypeOf},function(t,e,n){t.exports=n(204)},function(t,e,n){var i=n(25),r=n(75).f;n(87)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){n(206);var i=n(15).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){n(77)("observable")},function(t,e,n){n(77)("asyncIterator")},function(t,e){},function(t,e,n){var i=n(25),r=n(170).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(171);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(45),r=n(76),o=n(56);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var i=n(59)("meta"),r=n(38),o=n(29),a=n(27).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(37)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return l&&d.NEED&&u(t)&&!o(t,i)&&c(t),t}}},function(t,e,n){"use strict";var i=n(21),r=n(29),o=n(26),a=n(28),s=n(174),u=n(214).KEY,l=n(37),c=n(88),d=n(79),f=n(59),p=n(36),h=n(78),m=n(77),v=n(213),y=n(212),g=n(46),b=n(38),_=n(25),w=n(86),k=n(58),x=n(81),N=n(211),T=n(75),S=n(27),C=n(45),P=T.f,D=S.f,M=N.f,O=i.Symbol,E=i.JSON,j=E&&E.stringify,A=p("_hidden"),I=p("toPrimitive"),$={}.propertyIsEnumerable,L=c("symbol-registry"),R=c("symbols"),H=c("op-symbols"),B=Object.prototype,F="function"==typeof O,U=i.QObject,Y=!U||!U.prototype||!U.prototype.findChild,q=o&&l(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(B,e);i&&delete B[e],D(t,e,n),i&&t!==B&&D(B,e,i)}:D,W=function(t){var e=R[t]=x(O.prototype);return e._k=t,e},z=F&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},G=function(t,e,n){return t===B&&G(H,e,n),g(t),e=w(e,!0),g(n),r(R,e)?(n.enumerable?(r(t,A)&&t[A][e]&&(t[A][e]=!1),n=x(n,{enumerable:k(0,!1)})):(r(t,A)||D(t,A,k(1,{})),t[A][e]=!0),q(t,e,n)):D(t,e,n)},V=function(t,e){g(t);for(var n,i=v(e=_(e)),r=0,o=i.length;o>r;)G(t,n=i[r++],e[n]);return t},Z=function(t){var e=$.call(this,t=w(t,!0));return!(this===B&&r(R,t)&&!r(H,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,A)&&this[A][t])||e)},K=function(t,e){if(t=_(t),e=w(e,!0),t!==B||!r(R,e)||r(H,e)){var n=P(t,e);return!n||!r(R,e)||r(t,A)&&t[A][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=M(_(t)),i=[],o=0;n.length>o;)r(R,e=n[o++])||e==A||e==u||i.push(e);return i},X=function(t){for(var e,n=t===B,i=M(n?H:_(t)),o=[],a=0;i.length>a;)!r(R,e=i[a++])||n&&!r(B,e)||o.push(R[e]);return o};F||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(H,n),r(this,A)&&r(this[A],t)&&(this[A][t]=!1),q(this,t,k(1,n))};return o&&Y&&q(B,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),T.f=K,S.f=G,n(170).f=N.f=J,n(56).f=Z,n(76).f=X,o&&!n(83)&&s(B,"propertyIsEnumerable",Z,!0),h.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!F,{Symbol:O});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=C(p.store),nt=0;et.length>nt;)m(et[nt++]);a(a.S+a.F*!F,"Symbol",{for:function(t){return r(L,t+="")?L[t]:L[t]=O(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!F,"Object",{create:function(t,e){return void 0===e?x(t):V(x(t),e)},defineProperty:G,defineProperties:V,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:X}),E&&a(a.S+a.F*(!F||l(function(){var t=O();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!z(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,j.apply(E,i)}}),O.prototype[I]||n(39)(O.prototype,I,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){n(215),n(210),n(209),n(208),t.exports=n(15).Symbol},function(t,e,n){t.exports=n(216)},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var i=n(219),r=n(218),o=n(82),a=n(25);t.exports=n(175)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){n(220);for(var i=n(21),r=n(39),o=n(82),a=n(36)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=i[l],d=c&&c.prototype;d&&!d[a]&&r(d,a,l),o[l]=o.Array}},function(t,e,n){var i=n(21).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(84),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(84),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(25),r=n(224),o=n(223);t.exports=function(t){return function(e,n,a){var s,u=i(e),l=r(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(27),r=n(46),o=n(45);t.exports=n(26)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,u=0;s>u;)i.f(t,n=a[u++],e[n]);return t}},function(t,e,n){"use strict";var i=n(81),r=n(58),o=n(79),a={};n(39)(a,n(36)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(84),r=n(90);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(228)(!0);n(175)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){n(229),n(221),t.exports=n(78).f("iterator")},function(t,e,n){t.exports=n(230)},function(t,e,n){var i=n(28);i(i.S+i.F*!n(26),"Object",{defineProperty:n(27).f})},function(t,e,n){n(232);var i=n(15).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(60),r=n(179);n(87)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){n(235),t.exports=n(15).Object.getPrototypeOf},function(t,e){!function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var n=e.handler,i=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(t.hotkeys.options.filterInputAcceptingElements&&t.hotkeys.textInputTypes.test(e.target.nodeName)||t.hotkeys.options.filterContentEditable&&t(e.target).attr("contenteditable")||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var r="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),a="",s={};t.each(["alt","ctrl","shift"],function(t,n){e[n+"Key"]&&r!==n&&(a+=n+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==r&&(a+="meta+"),e.metaKey&&"meta"!==r&&a.indexOf("alt+ctrl+shift+")>-1&&(a=a.replace("alt+ctrl+shift+","hyper+")),r?s[a+r]=!0:(s[a+o]=!0,s[a+t.hotkeys.shiftNums[o]]=!0,"shift+"===a&&(s[t.hotkeys.shiftNums[o]]=!0));for(var u=0,l=i.length;u<l;u++)if(s[i[u]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery)},function(t,e){!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(t,e){!function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,l=u.test(s);l&&(s=s.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var p=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+f>h.bottom?"top":"top"==s&&c.top-f<h.top?"bottom":"right"==s&&c.right+d>h.width?"left":"left"==s&&c.left-d<h.left?"right":s,o.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,c,d,f);this.applyPlacement(m,s);var v=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(e.TRANSITION_DURATION):v()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var u=i[0].offsetWidth,l=i[0].offsetHeight;"top"==n&&l!=o&&(e.top=e.top+o-l);var c=this.getViewportAdjustedDelta(n,e,u,l);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),f=d?2*c.left-r+u:2*c.top-o+l,p=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][p],d)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){var i=this,r=t(this.$tip),o=t.Event("hide.bs."+this.type);function a(){"in"!=i.hoverState&&r.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):a(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},u=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,u,a)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:u>a.top+a.height&&(r.top=a.top+a.height-u)}else{var l=e.left-o,c=e.left+o+n;l<a.left?r.left=a.left-l:c>a.right&&(r.left=a.left+a.width-c)}return r},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.tooltip",r=new e(this,o)),"string"==typeof n&&r[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery)},function(t,e){!function(t){"use strict";var e=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new e(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)})}e.VERSION="3.3.7",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(n){var i=this,r=t.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(e.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},e.prototype.hide=function(n){n&&n.preventDefault(),n=t.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(n){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),n&&n()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=n,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&e.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(o,a,this)})}(jQuery)},function(t,e){!function(t){"use strict";var e=".dropdown-backdrop",n='[data-toggle="dropdown"]',i=function(e){t(e).on("click.bs.dropdown",this.toggle)};function r(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function o(i){i&&3===i.which||(t(e).remove(),t(n).each(function(){var e=t(this),n=r(e),o={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}i.VERSION="3.3.7",i.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var i=r(n),a=i.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",o);var s={relatedTarget:this};if(i.trigger(e=t.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=r(i),a=o.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&o.find(n).trigger("focus"),i.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var u=s.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<s.length-1&&u++,~u||(u=0),s.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,i.prototype.toggle).on("keydown.bs.dropdown.data-api",n,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery)},function(t,e){!function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.7",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,u=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&u+(s?a:e)>=t-i&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,n,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var u="affix"+(s?"-"+s:""),l=t.Event(u+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-n-o})}};var i=t.fn.affix;t.fn.affix=n,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(e,i)})})}(jQuery)},function(t,e,n){var i,r,o,a;a=function(t){function e(t,e){var n="select"===t.tag?t.attrs.multi?"multi":"select":t.attrs.type;return t.attrs.onchange="multi"===n?function(){e([].slice.call(this.selectedOptions,function(t){return t.value}))}:"select"===n?function(t){e(this.selectedOptions[0].value)}:"checkbox"===n?function(t){e(this.checked)}:t.attrs.oninput=function(t){e(this.value)},"select"===t.tag?t.children.forEach(function(t){t.attrs.value!==e()&&t.children[0]!==e()||(t.attrs.selected=!0)}):"checkbox"===n?t.attrs.checked=e():"radio"===n?t.attrs.checked=e()===t.attrs.value:t.attrs.value=e(),t}return e.view=function(t,n,i){return e(n,n.attrs.bidi)},t.attrs&&(t.attrs.bidi=e),t.bidi=e,e},r=[n(181)],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){(function(e){e.m||(e.m={}),t.exports=e.m.bidi=n(243)}).call(this,n(22))},function(t,e){var n=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.update=function(t){this.context.putImageData(t,0,0)},n.prototype.getPixelCount=function(){return this.width*this.height},n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},n.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var i=function(){};if(i.prototype.getColor=function(t,e){return this.getPalette(t,5,e)[0]},i.prototype.getPalette=function(t,e,i){void 0===e&&(e=10),(void 0===i||1>i)&&(i=10);for(var r,a,s,u,l=new n(t),c=l.getImageData().data,d=l.getPixelCount(),f=[],p=0;d>p;p+=i)a=c[(r=4*p)+0],s=c[r+1],u=c[r+2],c[r+3]>=125&&(a>250&&s>250&&u>250||f.push([a,s,u]));var h=o.quantize(f,e),m=h?h.palette():null;return l.removeCanvas(),m},!r)var r={map:function(t,e){var n={};return e?t.map(function(t,i){return n.index=i,e.call(n,t)}):t.slice()},naturalOrder:function(t,e){return e>t?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,i,r){return n.index=r,t+e.call(n,i)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?r.map(t,e):t)}};var o=function(){function t(t,e,n){return(t<<2*u)+(e<<u)+n}function e(t){function e(){n.sort(t),i=!0}var n=[],i=!1;return{push:function(t){n.push(t),i=!1},peek:function(t){return i||e(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return i||e(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return i||e(),n}}}function n(t,e,n,i,r,o,a){var s=this;s.r1=t,s.r2=e,s.g1=n,s.g2=i,s.b1=r,s.b2=o,s.histo=a}function i(){this.vboxes=new e(function(t,e){return r.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function o(e){var n,i,r,o,a=new Array(1<<3*u);return e.forEach(function(e){i=e[0]>>l,r=e[1]>>l,o=e[2]>>l,n=t(i,r,o),a[n]=(a[n]||0)+1}),a}function a(t,e){var i,r,o,a=1e6,s=0,u=1e6,c=0,d=1e6,f=0;return t.forEach(function(t){i=t[0]>>l,r=t[1]>>l,o=t[2]>>l,a>i?a=i:i>s&&(s=i),u>r?u=r:r>c&&(c=r),d>o?d=o:o>f&&(f=o)}),new n(a,s,u,c,d,f,e)}function s(e,n){if(n.count()){var i=n.r2-n.r1+1,o=n.g2-n.g1+1,a=n.b2-n.b1+1,s=r.max([i,o,a]);if(1==n.count())return[n.copy()];var u,l,c,d,f=0,p=[],h=[];if(s==i)for(u=n.r1;u<=n.r2;u++){for(d=0,l=n.g1;l<=n.g2;l++)for(c=n.b1;c<=n.b2;c++)d+=e[t(u,l,c)]||0;f+=d,p[u]=f}else if(s==o)for(u=n.g1;u<=n.g2;u++){for(d=0,l=n.r1;l<=n.r2;l++)for(c=n.b1;c<=n.b2;c++)d+=e[t(l,u,c)]||0;f+=d,p[u]=f}else for(u=n.b1;u<=n.b2;u++){for(d=0,l=n.r1;l<=n.r2;l++)for(c=n.g1;c<=n.g2;c++)d+=e[t(l,c,u)]||0;f+=d,p[u]=f}return p.forEach(function(t,e){h[e]=f-t}),function(t){var e,i,r,o,a,s=t+"1",l=t+"2",c=0;for(u=n[s];u<=n[l];u++)if(p[u]>f/2){for(r=n.copy(),o=n.copy(),e=u-n[s],a=(i=n[l]-u)>=e?Math.min(n[l]-1,~~(u+i/2)):Math.max(n[s],~~(u-1-e/2));!p[a];)a++;for(c=h[a];!c&&p[a-1];)c=h[--a];return r[l]=a,o[s]=r[l]+1,[r,o]}}(s==i?"r":s==o?"g":"b")}}var u=5,l=8-u,c=1e3,d=.75;return n.prototype={volume:function(t){var e=this;return(!e._volume||t)&&(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var n=this,i=n.histo;if(!n._count_set||e){var r,o,a,s=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++)index=t(r,o,a),s+=i[index]||0;n._count=s,n._count_set=!0}return n._count},copy:function(){var t=this;return new n(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var n=this,i=n.histo;if(!n._avg||e){var r,o,a,s,l=0,c=1<<8-u,d=0,f=0,p=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)l+=r=i[t(o,a,s)]||0,d+=r*(o+.5)*c,f+=r*(a+.5)*c,p+=r*(s+.5)*c;n._avg=l?[~~(d/l),~~(f/l),~~(p/l)]:[~~(c*(n.r1+n.r2+1)/2),~~(c*(n.g1+n.g2+1)/2),~~(c*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var e=this,n=t[0]>>l;return gval=t[1]>>l,bval=t[2]>>l,n>=e.r1&&n<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,i,r=this.vboxes,o=0;o<r.size();o++)(e>(n=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[2]-r.peek(o).color[2],2)))||void 0===e)&&(e=n,i=r.peek(o).color);return i},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return r.naturalOrder(r.sum(t.color),r.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,i=t[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(t,n){function u(t,e){for(var n,i=1,r=0;c>r;)if((n=t.pop()).count()){var o=s(l,n),a=o[0],u=o[1];if(!a)return;if(t.push(a),u&&(t.push(u),i++),i>=e)return;if(r++>c)return}else t.push(n),r++}if(!t.length||2>n||n>256)return!1;var l=o(t);l.forEach(function(){});var f=a(t,l),p=new e(function(t,e){return r.naturalOrder(t.count(),e.count())});p.push(f),u(p,d*n);for(var h=new e(function(t,e){return r.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});p.size();)h.push(p.pop());u(h,n-h.size());for(var m=new i;h.size();)m.push(h.pop());return m}}}();t.exports=i},function(t,e,n){(function(e){t.exports=e.ColorThief=n(245)}).call(this,n(22))},function(t,e,n){(function(t,i){var r;!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,d=26,f=38,p=700,h=72,m=128,v="-",y=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,k=Math.floor,x=String.fromCharCode;function N(t){throw new RangeError(_[t])}function T(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function S(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+T((t=t.replace(b,".")).split("."),e).join(".")}function C(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function P(t){return T(t,function(t){var e="";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=x(t)}).join("")}function D(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,n){var i=0;for(t=n?k(t/p):t>>1,t+=k(t/e);t>w*d>>1;i+=l)t=k(t/w);return k(i+(w+1)*t/(t+f))}function O(t){var e,n,i,r,o,a,s,f,p,y,g,b=[],_=t.length,w=0,x=m,T=h;for((n=t.lastIndexOf(v))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&N("not-basic"),b.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<_;){for(o=w,a=1,s=l;r>=_&&N("invalid-input"),((f=(g=t.charCodeAt(r++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||f>k((u-w)/a))&&N("overflow"),w+=f*a,!(f<(p=s<=T?c:s>=T+d?d:s-T));s+=l)a>k(u/(y=l-p))&&N("overflow"),a*=y;T=M(w-o,e=b.length+1,0==o),k(w/e)>u-x&&N("overflow"),x+=k(w/e),w%=e,b.splice(w++,0,x)}return P(b)}function E(t){var e,n,i,r,o,a,s,f,p,y,g,b,_,w,T,S=[];for(b=(t=C(t)).length,e=m,n=0,o=h,a=0;a<b;++a)(g=t[a])<128&&S.push(x(g));for(i=r=S.length,r&&S.push(v);i<b;){for(s=u,a=0;a<b;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>k((u-n)/(_=i+1))&&N("overflow"),n+=(s-e)*_,e=s,a=0;a<b;++a)if((g=t[a])<e&&++n>u&&N("overflow"),g==e){for(f=n,p=l;!(f<(y=p<=o?c:p>=o+d?d:p-o));p+=l)T=f-y,w=l-y,S.push(x(D(y+T%w,0))),f=k(T/w);S.push(x(D(f,0))),o=M(n,_,i==r),n=0,++i}++n,++e}return S.join("")}s={version:"1.4.1",ucs2:{decode:C,encode:P},decode:O,encode:E,toASCII:function(t){return S(t,function(t){return g.test(t)?"xn--"+E(t):t})},toUnicode:function(t){return S(t,function(t){return y.test(t)?O(t.slice(4).toLowerCase()):t})}},void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()}).call(this,n(91)(t),n(22))},function(t,e,n){(function(e){t.exports=e.punycode=n(247)}).call(this,n(22))},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function i(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,i){return Pe(t,e,n,i,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function h(t){if(null==t._isValid){var e=p(t),i=n.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function m(t){var e=f(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var v=i.momentProperties=[];function y(t,e){var n,i,r;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=p(e)),a(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)i=v[n],a(r=e[i])||(t[i]=r);return t}var g=!1;function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,i.updateOffset(this),g=!1)}function _(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&a++;return a+o}function N(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return d(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}N(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var S,C={};function P(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),C[t]||(N(e),C[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var n,i=d({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(i[n]=d({},i[n]));return i}function O(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var E={};function j(t,e){var n=t.toLowerCase();E[n]=E[n+"s"]=E[e]=t}function A(t){return"string"==typeof t?E[t]||E[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)c(t,n)&&(e=A(n))&&(i[e]=t[n]);return i}var $={};function L(t,e){$[t]=e}function R(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(U[t]=r),e&&(U[e[0]]=function(){return R(r.apply(this,arguments),e[1],e[2])}),n&&(U[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t,e){return t.isValid()?(e=W(e,t.localeData()),F[e]=F[e]||function(t){var e,n,i,r=t.match(H);for(e=0,n=r.length;e<n;e++)U[r[e]]?r[e]=U[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(e,t):r[i];return o}}(e),F[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(B.lastIndex=0;n>=0&&B.test(t);)t=t.replace(B,i),B.lastIndex=0,n-=1;return t}var z=/\d/,G=/\d\d/,V=/\d{3}/,Z=/\d{4}/,K=/[+-]?\d{6}/,J=/\d\d?/,X=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,it=/\d+/,rt=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function lt(t,e,n){ut[t]=D(e)?e:function(t,i){return t&&n?n:e}}function ct(t,e){return c(ut,t)?ut[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function pt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=k(t)}),n=0;n<t.length;n++)ft[t[n]]=i}function ht(t,e){pt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function mt(t,e,n){null!=e&&c(ft,t)&&ft[t](e,n._a,n,t)}var vt=0,yt=1,gt=2,bt=3,_t=4,wt=5,kt=6,xt=7,Nt=8;function Tt(t){return St(t)?366:365}function St(t){return t%4==0&&t%100!=0||t%400==0}Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),j("year","y"),L("year",1),lt("Y",rt),lt("YY",J,G),lt("YYYY",et,Z),lt("YYYYY",nt,K),lt("YYYYYY",nt,K),pt(["YYYYY","YYYYYY"],vt),pt("YYYY",function(t,e){e[vt]=2===t.length?i.parseTwoDigitYear(t):k(t)}),pt("YY",function(t,e){e[vt]=i.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[vt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return k(t)+(k(t)>68?1900:2e3)};var Ct,Pt=Dt("FullYear",!0);function Dt(t,e){return function(n){return null!=n?(Ot(this,t,n),i.updateOffset(this,e),this):Mt(this,t)}}function Mt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Ot(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&St(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Et(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Et(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?St(t)?29:28:31-i%7%2}Ct=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),L("month",8),lt("M",J),lt("MM",J,G),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[yt]=k(t)-1}),pt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[yt]=r:p(n).invalidMonth=t});var jt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,At="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function $t(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?($t(this,t),i.updateOffset(this,!0),this):Mt(this,"Month")}var Rt=st,Ht=st;function Bt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=dt(i[e]),r[e]=dt(r[e]);for(e=0;e<24;e++)o[e]=dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ft(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ut(t,e,n){var i=7+e-n,r=(7+Ft(t,0,i).getUTCDay()-e)%7;return-r+i-1}function Yt(t,e,n,i,r){var o,a,s=(7+n-i)%7,u=Ut(t,i,r),l=1+7*(e-1)+s+u;return l<=0?a=Tt(o=t-1)+l:l>Tt(t)?(o=t+1,a=l-Tt(t)):(o=t,a=l),{year:o,dayOfYear:a}}function qt(t,e,n){var i,r,o=Ut(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+Wt(r,e,n)):a>Wt(t.year(),e,n)?(i=a-Wt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Wt(t,e,n){var i=Ut(t,e,n),r=Ut(t+1,e,n);return(Tt(t)-i+r)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),L("week",5),L("isoWeek",5),lt("w",J),lt("ww",J,G),lt("W",J),lt("WW",J,G),ht(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=k(t)}),Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),lt("d",J),lt("e",J),lt("E",J),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ht(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:p(n).invalidWeekday=t}),ht(["d","e","E"],function(t,e,n,i){e[i]=k(t)});var zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Zt=st,Kt=st,Jt=st;function Xt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),u.push(o),l.push(i),l.push(r),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),u[e]=dt(u[e]),l[e]=dt(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qt(){return this.hours()%12||12}function te(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Qt),Y("k",["kk",2],0,function(){return this.hours()||24}),Y("hmm",0,0,function(){return""+Qt.apply(this)+R(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Qt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),te("a",!0),te("A",!1),j("hour","h"),L("hour",13),lt("a",ee),lt("A",ee),lt("H",J),lt("h",J),lt("k",J),lt("HH",J,G),lt("hh",J,G),lt("kk",J,G),lt("hmm",X),lt("hmmss",Q),lt("Hmm",X),lt("Hmmss",Q),pt(["H","HH"],bt),pt(["k","kk"],function(t,e,n){var i=k(t);e[bt]=24===i?0:i}),pt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),pt(["h","hh"],function(t,e,n){e[bt]=k(t),p(n).bigHour=!0}),pt("hmm",function(t,e,n){var i=t.length-2;e[bt]=k(t.substr(0,i)),e[_t]=k(t.substr(i)),p(n).bigHour=!0}),pt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[bt]=k(t.substr(0,i)),e[_t]=k(t.substr(i,2)),e[wt]=k(t.substr(r)),p(n).bigHour=!0}),pt("Hmm",function(t,e,n){var i=t.length-2;e[bt]=k(t.substr(0,i)),e[_t]=k(t.substr(i))}),pt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[bt]=k(t.substr(0,i)),e[_t]=k(t.substr(i,2)),e[wt]=k(t.substr(r))});var ne,ie=Dt("Hours",!0),re={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:At,monthsShort:It,week:{dow:0,doy:6},weekdays:zt,weekdaysMin:Vt,weekdaysShort:Gt,meridiemParse:/[ap]\.?m?\.?/i},oe={},ae={};function se(t){return t?t.toLowerCase().replace("_","-"):t}function ue(e){var n=null;if(!oe[e]&&void 0!==t&&t&&t.exports)try{n=ne._abbr,!function(){var t=new Error('Cannot find module "undefined"');throw t.code="MODULE_NOT_FOUND",t}(),le(n)}catch(t){}return oe[e]}function le(t,e){var n;return t&&(n=a(e)?de(t):ce(t,e))&&(ne=n),ne._abbr}function ce(t,e){if(null!==e){var n=re;if(e.abbr=t,null!=oe[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=oe[t]._config;else if(null!=e.parentLocale){if(null==oe[e.parentLocale])return ae[e.parentLocale]||(ae[e.parentLocale]=[]),ae[e.parentLocale].push({name:t,config:e}),null;n=oe[e.parentLocale]._config}return oe[t]=new O(M(n,e)),ae[t]&&ae[t].forEach(function(t){ce(t.name,t.config)}),le(t),oe[t]}return delete oe[t],null}function de(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ne;if(!r(t)){if(e=ue(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(r=se(t[o]).split("-"),e=r.length,n=(n=se(t[o+1]))?n.split("-"):null;e>0;){if(i=ue(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function fe(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[yt]<0||n[yt]>11?yt:n[gt]<1||n[gt]>Et(n[vt],n[yt])?gt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[_t]||0!==n[wt]||0!==n[kt])?bt:n[_t]<0||n[_t]>59?_t:n[wt]<0||n[wt]>59?wt:n[kt]<0||n[kt]>999?kt:-1,p(t)._overflowDayOfYear&&(e<vt||e>gt)&&(e=gt),p(t)._overflowWeeks&&-1===e&&(e=xt),p(t)._overflowWeekday&&-1===e&&(e=Nt),p(t).overflow=e),t}function pe(t,e,n){return null!=t?t:null!=e?e:n}function he(t){var e,n,r,o,a,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[gt]&&null==t._a[yt]&&function(t){var e,n,i,r,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=pe(e.GG,t._a[vt],qt(De(),1,4).year),i=pe(e.W,1),((r=pe(e.E,1))<1||r>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=qt(De(),o,a);n=pe(e.gg,t._a[vt],l.year),i=pe(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(u=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o}i<1||i>Wt(n,o,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(s=Yt(n,i,r,o,a),t._a[vt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=pe(t._a[vt],r[vt]),(t._dayOfYear>Tt(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=Ft(a,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[gt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[_t]&&0===t._a[wt]&&0===t._a[kt]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Ft:function(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}var me=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_e=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,i,r,o,a,s=t._i,u=me.exec(s)||ve.exec(s);if(u){for(p(t).iso=!0,e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(u[1])){r=ge[e][0],i=!1!==ge[e][2];break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=be.length;e<n;e++)if(be[e][1].exec(u[3])){o=(u[2]||" ")+be[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ye.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),Se(t)}else t._isValid=!1}var ke=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xe(t,e,n,i,r,o){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),It.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}var Ne={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t){var e=ke.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(e){var n=xe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){if(t){var i=Gt.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return Ne[t];if(e)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return 60*o+r}(e[8],e[9],e[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function Se(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],p(t).empty=!0;var e,n,r,o,a,s=""+t._i,u=s.length,l=0;for(r=W(t._f,t._locale).match(H)||[],e=0;e<r.length;e++)o=r[e],(n=(s.match(ct(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),U[o]?(n?p(t).empty=!1:p(t).unusedTokens.push(o),mt(o,n,t)):t._strict&&!n&&p(t).unusedTokens.push(o);p(t).charsLeftOver=u-l,s.length>0&&p(t).unusedInput.push(s),t._a[bt]<=12&&!0===p(t).bigHour&&t._a[bt]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[bt]=(c=t._locale,d=t._a[bt],null==(f=t._meridiem)?d:null!=c.meridiemHour?c.meridiemHour(d,f):null!=c.isPM?((h=c.isPM(f))&&d<12&&(d+=12),h||12!==d||(d=0),d):d),he(t),fe(t)}else Te(t);else we(t);var c,d,f,h}function Ce(t){var e=t._i,n=t._f;return t._locale=t._locale||de(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new b(fe(e)):(u(e)?t._d=e:r(n)?function(t){var e,n,i,r,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Se(e),h(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==i||o<i)&&(i=o,n=e));d(t,n||e)}(t):n?Se(t):function(t){var e=t._i;a(e)?t._d=new Date(i.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=_e.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,Te(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=l(e.slice(0),function(t){return parseInt(t,10)}),he(t)):o(e)?function(t){if(!t._d){var e=I(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),he(t)}}(t):s(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),h(t)||(t._d=null),t))}function Pe(t,e,n,i,a){var s,u={};return!0!==n&&!1!==n||(i=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=t,u._f=e,u._strict=i,(s=new b(fe(Ce(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function De(t,e,n,i){return Pe(t,e,n,i,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Me=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Oe=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()});function Ee(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var je=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=I(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ct.call(je,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<je.length;++i)if(t[je[i]]){if(n)return!1;parseFloat(t[je[i]])!==k(t[je[i]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=de(),this._bubble()}function Ie(t){return t instanceof Ae}function $e(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Le(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)})}Le("Z",":"),Le("ZZ",""),lt("Z",at),lt("ZZ",at),pt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=He(at,t)});var Re=/([\+\-]|\d\d)/gi;function He(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Re)||["-",0,0],o=60*r[1]+k(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Be(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(_(t)||u(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):De(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function We(t,e){var n,i,r,o,a,u,l=t,d=null;return Ie(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(l={},e?l[e]=t:l.milliseconds=t):(d=Ye.exec(t))?(n="-"===d[1]?-1:1,l={y:0,d:k(d[gt])*n,h:k(d[bt])*n,m:k(d[_t])*n,s:k(d[wt])*n,ms:k($e(1e3*d[kt]))*n}):(d=qe.exec(t))?(n="-"===d[1]?-1:(d[1],1),l={y:ze(d[2],n),M:ze(d[3],n),w:ze(d[4],n),d:ze(d[5],n),h:ze(d[6],n),m:ze(d[7],n),s:ze(d[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=De(l.from),a=De(l.to),r=o.isValid()&&a.isValid()?(a=Be(a,o),o.isBefore(a)?u=Ge(o,a):((u=Ge(a,o)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new Ae(l),Ie(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ge(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ve(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Ze(this,We(n="string"==typeof n?+n:n,i),t),this}}function Ze(t,e,n,r){var o=e._milliseconds,a=$e(e._days),s=$e(e._months);t.isValid()&&(r=null==r||r,s&&$t(t,Mt(t,"Month")+s*n),a&&Ot(t,"Date",Mt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}We.fn=Ae.prototype,We.invalid=function(){return We(NaN)};var Ke=Ve(1,"add"),Je=Ve(-1,"subtract");function Xe(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=de(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function en(){return this._locale}function nn(t,e){Y(0,[t,t.length],0,e)}function rn(t,e,n,i,r){var o;return null==t?qt(this,i,r).year:(o=Wt(t,i,r),e>o&&(e=o),function(t,e,n,i,r){var o=Yt(t,e,n,i,r),a=Ft(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,i,r))}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),lt("G",rt),lt("g",rt),lt("GG",J,G),lt("gg",J,G),lt("GGGG",et,Z),lt("gggg",et,Z),lt("GGGGG",nt,K),lt("ggggg",nt,K),ht(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=k(t)}),ht(["gg","GG"],function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),j("quarter","Q"),L("quarter",7),lt("Q",z),pt("Q",function(t,e){e[yt]=3*(k(t)-1)}),Y("D",["DD",2],"Do","date"),j("date","D"),L("date",9),lt("D",J),lt("DD",J,G),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],gt),pt("Do",function(t,e){e[gt]=k(t.match(J)[0])});var on=Dt("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),L("dayOfYear",4),lt("DDD",tt),lt("DDDD",V),pt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=k(t)}),Y("m",["mm",2],0,"minute"),j("minute","m"),L("minute",14),lt("m",J),lt("mm",J,G),pt(["m","mm"],_t);var an=Dt("Minutes",!1);Y("s",["ss",2],0,"second"),j("second","s"),L("second",15),lt("s",J),lt("ss",J,G),pt(["s","ss"],wt);var sn,un=Dt("Seconds",!1);for(Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),L("millisecond",16),lt("S",tt,z),lt("SS",tt,G),lt("SSS",tt,V),sn="SSSS";sn.length<=9;sn+="S")lt(sn,it);function ln(t,e){e[kt]=k(1e3*("0."+t))}for(sn="S";sn.length<=9;sn+="S")pt(sn,ln);var cn=Dt("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var dn=b.prototype;function fn(t){return t}dn.add=Ke,dn.calendar=function(t,e){var n=t||De(),r=Be(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(D(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,De(n)))},dn.clone=function(){return new b(this)},dn.diff=function(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=A(e)){case"year":o=Xe(this,i)/12;break;case"month":o=Xe(this,i);break;case"quarter":o=Xe(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:w(o)},dn.endOf=function(t){return void 0===(t=A(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},dn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},dn.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||De(t).isValid())?We({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.fromNow=function(t){return this.from(De(),t)},dn.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||De(t).isValid())?We({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.toNow=function(t){return this.to(De(),t)},dn.get=function(t){return D(this[t=A(t)])?this[t]():this},dn.invalidAt=function(){return p(this).overflow},dn.isAfter=function(t,e){var n=_(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(a(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},dn.isBefore=function(t,e){var n=_(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(a(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},dn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},dn.isSame=function(t,e){var n,i=_(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=A(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},dn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},dn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},dn.isValid=function(){return h(this)},dn.lang=tn,dn.locale=Qe,dn.localeData=en,dn.max=Oe,dn.min=Me,dn.parsingFlags=function(){return d({},p(this))},dn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:$[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(D(this[t=A(t)]))return this[t](e);return this},dn.startOf=function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},dn.subtract=Je,dn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},dn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",q(n,"Z")):q(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=Pt,dn.isLeapYear=function(){return St(this.year())},dn.weekYear=function(t){return rn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(t){return rn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},dn.month=Lt,dn.daysInMonth=function(){return Et(this.year(),this.month())},dn.week=dn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},dn.isoWeek=dn.isoWeeks=function(t){var e=qt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},dn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},dn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},dn.date=on,dn.day=dn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},dn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},dn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},dn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},dn.hour=dn.hours=ie,dn.minute=dn.minutes=an,dn.second=dn.seconds=un,dn.millisecond=dn.milliseconds=cn,dn.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=He(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Fe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Ze(this,We(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Fe(this)},dn.utc=function(t){return this.utcOffset(0,t)},dn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=He(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Ue,dn.isUTC=Ue,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=T("dates accessor is deprecated. Use date instead.",on),dn.months=T("months accessor is deprecated. Use month instead",Lt),dn.years=T("years accessor is deprecated. Use year instead",Pt),dn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),dn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=Ce(t))._a){var e=t._isUTC?f(t._a):De(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pn=O.prototype;function hn(t,e,n,i){var r=de(),o=f().set(i,e);return r[n](o,t)}function mn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return hn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=hn(t,i,n,"month");return r}function vn(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var r,o=de(),a=t?o._week.dow:0;if(null!=n)return hn(e,(n+a)%7,i,"day");var u=[];for(r=0;r<7;r++)u[r]=hn(e,(r+a)%7,i,"day");return u}pn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return D(i)?i.call(e,n):i},pn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(t){return this._ordinal.replace("%d",t)},pn.preparse=fn,pn.postformat=fn,pn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return D(r)?r(t,e,n,i):r.replace(/%d/i,t)},pn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)},pn.set=function(t){var e,n;for(n in t)D(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||jt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},pn.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return function(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Ct.call(this._shortMonthsParse,a))?r:null:-1!==(r=Ct.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=Ct.call(this._shortMonthsParse,a))?r:-1!==(r=Ct.call(this._longMonthsParse,a))?r:null:-1!==(r=Ct.call(this._longMonthsParse,a))?r:-1!==(r=Ct.call(this._shortMonthsParse,a))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},pn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ht),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(t){return qt(t,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},pn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},pn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},pn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Ct.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Ct.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Ct.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=Ct.call(this._weekdaysParse,a))?r:-1!==(r=Ct.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ct.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Ct.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ct.call(this._weekdaysParse,a))?r:-1!==(r=Ct.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Ct.call(this._minWeekdaysParse,a))?r:-1!==(r=Ct.call(this._weekdaysParse,a))?r:-1!==(r=Ct.call(this._shortWeekdaysParse,a))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},pn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Zt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",le),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",de);var yn=Math.abs;function gn(t,e,n,i){var r=We(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function _n(t){return 4800*t/146097}function wn(t){return 146097*t/4800}function kn(t){return function(){return this.as(t)}}var xn=kn("ms"),Nn=kn("s"),Tn=kn("m"),Sn=kn("h"),Cn=kn("d"),Pn=kn("w"),Dn=kn("M"),Mn=kn("y");function On(t){return function(){return this.isValid()?this._data[t]:NaN}}var En=On("milliseconds"),jn=On("seconds"),An=On("minutes"),In=On("hours"),$n=On("days"),Ln=On("months"),Rn=On("years"),Hn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11},Fn=Math.abs;function Un(t){return(t>0)-(t<0)||+t}function Yn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Fn(this._milliseconds)/1e3,i=Fn(this._days),r=Fn(this._months);t=w(n/60),e=w(t/60),n%=60,t%=60;var o=w(r/12),a=r%=12,s=i,u=e,l=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Un(this._months)!==Un(d)?"-":"",h=Un(this._days)!==Un(d)?"-":"",m=Un(this._milliseconds)!==Un(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(u||l||c?"T":"")+(u?m+u+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var qn=Ae.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var t=this._data;return this._milliseconds=yn(this._milliseconds),this._days=yn(this._days),this._months=yn(this._months),t.milliseconds=yn(t.milliseconds),t.seconds=yn(t.seconds),t.minutes=yn(t.minutes),t.hours=yn(t.hours),t.months=yn(t.months),t.years=yn(t.years),this},qn.add=function(t,e){return gn(this,t,e,1)},qn.subtract=function(t,e){return gn(this,t,e,-1)},qn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=A(t))||"year"===t)return e=this._days+i/864e5,n=this._months+_n(e),"month"===t?n:n/12;switch(e=this._days+Math.round(wn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},qn.asMilliseconds=xn,qn.asSeconds=Nn,qn.asMinutes=Tn,qn.asHours=Sn,qn.asDays=Cn,qn.asWeeks=Pn,qn.asMonths=Dn,qn.asYears=Mn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},qn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*bn(wn(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=w(o/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,a+=w(n/24),r=w(_n(a)),s+=r,a-=bn(wn(r)),i=w(s/12),s%=12,u.days=a,u.months=s,u.years=i,this},qn.clone=function(){return We(this)},qn.get=function(t){return t=A(t),this.isValid()?this[t+"s"]():NaN},qn.milliseconds=En,qn.seconds=jn,qn.minutes=An,qn.hours=In,qn.days=$n,qn.weeks=function(){return w(this.days()/7)},qn.months=Ln,qn.years=Rn,qn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=We(t).abs(),r=Hn(i.as("s")),o=Hn(i.as("m")),a=Hn(i.as("h")),s=Hn(i.as("d")),u=Hn(i.as("M")),l=Hn(i.as("y")),c=r<=Bn.ss&&["s",r]||r<Bn.s&&["ss",r]||o<=1&&["m"]||o<Bn.m&&["mm",o]||a<=1&&["h"]||a<Bn.h&&["hh",a]||s<=1&&["d"]||s<Bn.d&&["dd",s]||u<=1&&["M"]||u<Bn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},qn.toISOString=Yn,qn.toString=Yn,qn.toJSON=Yn,qn.locale=Qe,qn.localeData=en,qn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),qn.lang=tn,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),lt("x",rt),lt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),pt("x",function(t,e,n){n._d=new Date(k(t))}),i.version="2.20.1",e=De,i.fn=dn,i.min=function(){return Ee("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ee("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(t){return De(1e3*t)},i.months=function(t,e){return mn(t,e,"months")},i.isDate=u,i.locale=le,i.invalid=m,i.duration=We,i.isMoment=_,i.weekdays=function(t,e,n){return vn(t,e,n,"weekdays")},i.parseZone=function(){return De.apply(null,arguments).parseZone()},i.localeData=de,i.isDuration=Ie,i.monthsShort=function(t,e){return mn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return vn(t,e,n,"weekdaysMin")},i.defineLocale=ce,i.updateLocale=function(t,e){if(null!=e){var n,i,r=re;null!=(i=ue(t))&&(r=i._config),e=M(r,e),(n=new O(e)).parentLocale=oe[t],oe[t]=n,le(t)}else null!=oe[t]&&(null!=oe[t].parentLocale?oe[t]=oe[t].parentLocale:null!=oe[t]&&delete oe[t]);return oe[t]},i.locales=function(){return S(oe)},i.weekdaysShort=function(t,e,n){return vn(t,e,n,"weekdaysShort")},i.normalizeUnits=A,i.relativeTimeRounding=function(t){return void 0===t?Hn:"function"==typeof t&&(Hn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Bn[t]&&(void 0===e?Bn[t]:(Bn[t]=e,"s"===t&&(Bn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=dn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(91)(t))},function(t,e,n){(function(e){t.exports=e.moment=n(249)}).call(this,n(22))},function(t,e,n){(function(e){t.exports=e.m=n(181)}).call(this,n(22))},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,d=o.indexOf,f={},p=f.toString,h=f.hasOwnProperty,m=h.toString,v=m.call(Object),y={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||a).createElement("script");if(r.text=t,n)for(i in _)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function k(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var x=function(t,e){return new x.fn.init(t,e)},N=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,n=k(t);return!g(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:"3.3.1",constructor:x,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(l&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},a[e]=x.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},x.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=s(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&m.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(N,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?x.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(T(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return l.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var S=function(t){var e,n,i,r,o,a,s,u,l,c,d,f,p,h,m,v,y,g,b,_="sizzle"+1*new Date,w=t.document,k=0,x=0,N=at(),T=at(),S=at(),C=function(t,e){return t===e&&(d=!0),0},P={}.hasOwnProperty,D=[],M=D.pop,O=D.push,E=D.push,j=D.slice,A=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+$+"*("+L+")(?:"+$+"*([*^$|!~]?=)"+$+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+$+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",B=new RegExp($+"+","g"),F=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g"),U=new RegExp("^"+$+"*,"+$+"*"),Y=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),q=new RegExp("="+$+"*([^\\]'\"]*?)"+$+"*\\]","g"),W=new RegExp(H),z=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+$+"?|("+$+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=gt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{E.apply(D=j.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){E={apply:D.length?function(t,e){O.apply(t,j.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,l,c,d,h,y,g=e&&e.ownerDocument,k=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==k&&9!==k&&11!==k)return i;if(!r&&((e?e.ownerDocument||e:w)!==p&&f(e),e=e||p,m)){if(11!==k&&(d=J.exec(t)))if(o=d[1]){if(9===k){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(g&&(l=g.getElementById(o))&&b(e,l)&&l.id===o)return i.push(l),i}else{if(d[2])return E.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return E.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!S[t+" "]&&(!v||!v.test(t))){if(1!==k)g=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=_),s=(h=a(t)).length;s--;)h[s]="#"+c+" "+yt(h[s]);y=h.join(","),g=X.test(t)&&mt(e.parentNode)||e}if(y)try{return E.apply(i,g.querySelectorAll(y)),i}catch(t){}finally{c===_&&e.removeAttribute("id")}}}return u(t.replace(F,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[_]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ht(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),w!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(p.getElementsByClassName),n.getById=ut(function(t){return h.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=K.test(p.querySelectorAll))&&(ut(function(t){h.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+$+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+$+"*(?:value|"+I+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+$+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=K.test(g=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=g.call(t,"*"),g.call(t,"[s!='']:x"),y.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=K.test(h.compareDocumentPosition),b=e||K.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===w&&b(w,t)?-1:e===p||e.ownerDocument===w&&b(w,e)?1:c?A(c,t)-A(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?A(c,t)-A(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ct(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(q,"='$1']"),n.matchesSelector&&m&&!S[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var i=g.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&P.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==o?o:n.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(C),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=N[t+" "];return e||(e=new RegExp("(^|"+$+")"+t+"("+$+"|$)"))&&N(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",v=e.parentNode,y=s&&e.nodeName.toLowerCase(),g=!u&&!s,b=!1;if(v){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&g){for(b=(p=(l=(c=(d=(f=v)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===k&&l[1])&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[k,p,b];break}}else if(g&&(b=p=(l=(c=(d=(f=e)[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===k&&l[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++b||(g&&((c=(d=f[_]||(f[_]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[k,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=A(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(F,"$1"));return i[_]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return z.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function gt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=x++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var l,c,d,f=[k,s];if(u){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(c=(d=e[_]||(e[_]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===k&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function wt(t,e,n,i,r,o){return i&&!i[_]&&(i=wt(i)),r&&!r[_]&&(r=wt(r,o)),st(function(o,a,s,u){var l,c,d,f=[],p=[],h=a.length,m=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),v=!t||!o&&e?m:_t(m,f,t,s,u),y=n?r||(o?t:h||i)?[]:a:v;if(n&&n(v,y,s,u),i)for(l=_t(y,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(y[p[c]]=!(v[p[c]]=d));if(o){if(r||t){if(r){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(v[c]=d);r(null,y=[],l,u)}for(c=y.length;c--;)(d=y[c])&&(l=r?A(o,d):f[c])>-1&&(o[l]=!(a[l]=d))}}else y=_t(y===a?y.splice(h,y.length):y),r?r(null,a,y,u):E.apply(a,y)})}function kt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],u=a?1:0,c=gt(function(t){return t===e},s,!0),d=gt(function(t){return A(e,t)>-1},s,!0),f=[function(t,n,i){var r=!a&&(i||n!==l)||((e=n).nodeType?c(t,n,i):d(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[gt(bt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[_]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return wt(u>1&&bt(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(F,"$1"),n,u<r&&kt(t.slice(u,r)),r<o&&kt(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return bt(f)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,a=ot.tokenize=function(t,e){var n,r,o,a,s,u,l,c=T[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=i.preFilter;s;){for(a in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=Y.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(F," ")}),s=s.slice(n.length)),i.filter)!(r=G[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):T(t,u).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=S[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=kt(e[n]))[_]?r.push(s):o.push(s);(s=S(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,u,c){var d,h,v,y=0,g="0",b=o&&[],_=[],w=l,x=o||r&&i.find.TAG("*",c),N=k+=null==w?1:Math.random()||.1,T=x.length;for(c&&(l=a===p||a||c);g!==T&&null!=(d=x[g]);g++){if(r&&d){for(h=0,a||d.ownerDocument===p||(f(d),s=!m);v=t[h++];)if(v(d,a||p,s)){u.push(d);break}c&&(k=N)}n&&((d=!v&&d)&&y--,o&&b.push(d))}if(y+=g,n&&g!==y){for(h=0;v=e[h++];)v(b,_,a,s);if(o){if(y>0)for(;g--;)b[g]||_[g]||(_[g]=M.call(u));_=_t(_)}E.apply(u,_),c&&!o&&_.length>0&&y+e.length>1&&ot.uniqueSort(u)}return c&&(k=N,l=w),b};return n?st(o):o}(o,r))).selector=t}return s},u=ot.select=function(t,e,n,r){var o,u,l,c,d,f="function"==typeof t&&t,p=!r&&a(t=f.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&m&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(Q,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=G.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((d=i.find[c])&&(r=d(l.matches[0].replace(Q,tt),X.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&yt(u)))return E.apply(n,r),n;break}}return(f||s(t,p))(r,e,!m,n,!e||X.test(t)&&mt(e.parentNode)||e),n},n.sortStable=_.split("").sort(C).join("")===_,n.detectDuplicates=!!d,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(I,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);x.find=S,x.expr=S.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=S.uniqueSort,x.text=S.getText,x.isXMLDoc=S.isXML,x.contains=S.contains,x.escapeSelector=S.escape;var C=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&x(t).is(n))break;i.push(t)}return i},P=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=x.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,n){return g(e)?x.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?x.grep(t,function(t){return t===e!==n}):"string"!=typeof e?x.grep(t,function(t){return d.call(e,t)>-1!==n}):x.filter(e,t,n)}x.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?x.find.matchesSelector(i,t)?[i]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<i;e++)if(x.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)x.find(t,r[e],n);return i>1?x.uniqueSort(n):n},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&D.test(t)?x(t):t||[],!1).length}});var j,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||j,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof x?e[0]:e,x.merge(this,x.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),O.test(i[1])&&x.isPlainObject(e))for(i in e)g(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,j=x(a);var I=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&x(t);if(!D.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(x(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,n){return C(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,n){return C(t,"nextSibling",n)},prevUntil:function(t,e,n){return C(t,"previousSibling",n)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(n,i){var r=x.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&($[t]||x.uniqueSort(r),I.test(t)&&r.reverse()),this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function H(t){return t}function B(t){throw t}function F(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(R)||[],function(t,n){e[n]=!0}),e}(t):x.extend({},t);var e,n,i,r,o=[],a=[],s=-1,u=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){x.each(n,function(n,i){g(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==k(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return x.each(arguments,function(t,e){for(var n;(n=x.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?x.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},x.extend({Deferred:function(t){var e=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(n){x.each(e,function(e,i){var r=g(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,g(l)?r?l.call(n,a(o,e,H,r),a(o,e,B,r)):(o++,l.call(n,a(o,e,H,r),a(o,e,B,r),a(o,e,H,e.notifyWith))):(i!==H&&(s=void 0,u=[n]),(r||e.resolveWith)(s,u))}},c=r?l:function(){try{l()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred(function(n){e[0][3].add(a(0,n,g(r)?r:H,n.notifyWith)),e[1][3].add(a(0,n,g(t)?t:H)),e[2][3].add(a(0,n,g(i)?i:B))}).promise()},promise:function(t){return null!=t?x.extend(t,r):r}},o={};return x.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=x.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(F(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||g(r[n]&&r[n].then)))return o.then();for(;n--;)F(r[n],a(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&U.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){n.setTimeout(function(){throw t})};var Y=x.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),x.ready()}x.fn.ready=function(t){return Y.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||Y.resolveWith(a,[x]))}}),x.ready.then=Y.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(x.ready):(a.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var W=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===k(n))for(s in r=!0,n)W(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(x(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},z=/^-ms-/,G=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function Z(t){return t.replace(z,"ms-").replace(G,V)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=x.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Z(e)]=n;else for(i in e)r[Z(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||x.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var X=new J,Q=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}x.extend({hasData:function(t){return Q.hasData(t)||X.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return X.access(t,e,n)},_removeData:function(t,e){X.remove(t,e)}}),x.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Z(i.slice(5)),nt(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):W(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),x.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=X.get(t,e),n&&(!i||Array.isArray(n)?i=X.access(t,e,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=x.queue(t,e),i=n.length,r=n.shift(),o=x._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){x.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return X.get(t,n)||X.access(t,n,{empty:x.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",n])})})}}),x.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?x.queue(this[0],t):void 0===e?this:this.each(function(){var n=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=x.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=X.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&x.contains(t.ownerDocument,t)&&"none"===x.css(t,"display")},st=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function ut(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return x.css(t,e,"")},u=s(),l=n&&n[3]||(x.cssNumber[e]?"":"px"),c=(x.cssNumber[e]||"px"!==l&&+u)&&rt.exec(x.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)x.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,x.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var lt={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=x.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=X.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",X.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}x.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?x(this).show():x(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?x.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)X.set(t[n],"globalEval",!e||X.get(e[n],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var gt,bt,_t=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,a,s,u,l,c,d=e.createDocumentFragment(),f=[],p=0,h=t.length;p<h;p++)if((o=t[p])||0===o)if("object"===k(o))x.merge(f,o.nodeType?[o]:o);else if(_t.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(pt.exec(o)||["",""])[1].toLowerCase(),u=mt[s]||mt._default,a.innerHTML=u[1]+x.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;x.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(e.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(l=x.contains(o.ownerDocument,o),a=vt(d.appendChild(o),"script"),l&&yt(a),n)for(c=0;o=a[c++];)ht.test(o.type||"")&&n.push(o);return d}gt=a.createDocumentFragment().appendChild(a.createElement("div")),(bt=a.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),gt.appendChild(bt),y.checkClone=gt.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!gt.cloneNode(!0).lastChild.defaultValue;var kt=a.documentElement,xt=/^key/,Nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ct(){return!1}function Pt(){try{return a.activeElement}catch(t){}}function Dt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Dt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return x().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),t.each(function(){x.event.add(this,e,r,i,n)})}x.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,d,f,p,h,m,v=X.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(kt,r),n.guid||(n.guid=x.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)p=m=(s=Tt.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=x.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=x.event.special[p]||{},c=x.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,a)||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),x.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,d,f,p,h,m,v=X.hasData(t)&&X.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(R)||[""]).length;l--;)if(p=m=(s=Tt.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=x.event.special[p]||{},f=u[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(t,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,h,v.handle)||x.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)x.event.remove(t,p+e[l],n,i,!0);x.isEmptyObject(u)&&X.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=x.event.fix(t),u=new Array(arguments.length),l=(X.get(this,"events")||{})[s.type]||[],c=x.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?x(r,this).index(l)>-1:x.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Pt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Pt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Nt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||x.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),x.fn.extend({on:function(t,e,n,i){return Dt(this,t,e,n,i)},one:function(t,e,n,i){return Dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,x(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each(function(){x.event.remove(this,t,n,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ot=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function $t(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(X.hasData(t)&&(o=X.access(t),a=X.set(e,o),l=o.events))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)x.event.add(e,r,l[r][n]);Q.hasData(t)&&(s=Q.access(t),u=x.extend({},s),Q.set(e,u))}}function Rt(t,e,n,i){e=l.apply([],e);var r,o,a,s,u,c,d=0,f=t.length,p=f-1,h=e[0],m=g(h);if(m||f>1&&"string"==typeof h&&!y.checkClone&&Et.test(h))return t.each(function(r){var o=t.eq(r);m&&(e[0]=h.call(this,r,o.html())),Rt(o,e,n,i)});if(f&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=x.map(vt(r,"script"),It)).length;d<f;d++)u=r,d!==p&&(u=x.clone(u,!0,!0),s&&x.merge(a,vt(u,"script"))),n.call(t[d],u,d);if(s)for(c=a[a.length-1].ownerDocument,x.map(a,$t),d=0;d<s;d++)u=a[d],ht.test(u.type||"")&&!X.access(u,"globalEval")&&x.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(u.src):w(u.textContent.replace(jt,""),c,u))}return t}function Ht(t,e,n){for(var i,r=e?x.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(vt(i)),i.parentNode&&(n&&x.contains(i.ownerDocument,i)&&yt(vt(i,"script")),i.parentNode.removeChild(i));return t}x.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,u,l,c=t.cloneNode(!0),d=x.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(a=vt(c),i=0,r=(o=vt(t)).length;i<r;i++)s=o[i],u=a[i],void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(e)if(n)for(o=o||vt(t),a=a||vt(c),i=0,r=o.length;i<r;i++)Lt(o[i],a[i]);else Lt(t,c);return(a=vt(c,"script")).length>0&&yt(a,!d&&vt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=x.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[X.expando]){if(e.events)for(i in e.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,e.handle);n[X.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return W(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(x.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var n=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var n,i=[],r=x(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(r[a])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Bt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ft=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=new RegExp(ot.join("|"),"i");function Yt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Ft(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||x.contains(t.ownerDocument,t)||(a=x.style(t,e)),!y.pixelBoxStyles()&&Bt.test(a)&&Ut.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",kt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(y,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Wt=/^(none|table(?!-c[ea]).+)/,zt=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","Moz","ms"],Kt=a.createElement("div").style;function Jt(t){var e=x.cssProps[t];return e||(e=x.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in Kt)return t}(t)||t),e}function Xt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Qt(t,e,n,i,r,o){var a="width"===e?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=x.css(t,n+ot[a],!0,r)),i?("content"===n&&(u-=x.css(t,"padding"+ot[a],!0,r)),"margin"!==n&&(u-=x.css(t,"border"+ot[a]+"Width",!0,r))):(u+=x.css(t,"padding"+ot[a],!0,r),"padding"!==n?u+=x.css(t,"border"+ot[a]+"Width",!0,r):s+=x.css(t,"border"+ot[a]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function te(t,e,n){var i=Ft(t),r=Yt(t,e,i),o="border-box"===x.css(t,"boxSizing",!1,i),a=o;if(Bt.test(r)){if(!n)return r;r="auto"}return a=a&&(y.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===x.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Qt(t,e,n||(o?"border":"content"),a,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Z(e),u=zt.test(e),l=t.style;if(u||(e=Jt(s)),a=x.cssHooks[e]||x.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ut(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=Z(e);return zt.test(e)||(e=Jt(s)),(a=x.cssHooks[e]||x.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Yt(t,e,i)),"normal"===r&&e in Vt&&(r=Vt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,n,i){if(n)return!Wt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):st(t,Gt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=Ft(t),a="border-box"===x.css(t,"boxSizing",!1,o),s=i&&Qt(t,e,i,a,o);return a&&y.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=x.css(t,e)),Xt(0,n,s)}}}),x.cssHooks.marginLeft=qt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(x.cssHooks[t+e].set=Xt)}),x.fn.extend({css:function(t,e){return W(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Ft(t),r=e.length;a<r;a++)o[e[a]]=x.css(t,e[a],!1,i);return o}return void 0!==n?x.style(t,e,n):x.css(t,e)},t,e,arguments.length>1)}}),x.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[x.cssProps[t.prop]]&&!x.cssHooks[t.prop]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=ee.prototype.init,x.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){ie&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,x.fx.interval),x.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,a=ce.prefilters.length,s=x.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ne||se(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(t,[l,i,n]),i<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var i=x.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=Z(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=x.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<a;o++)if(i=ce.prefilters[o].call(l,t,c,l.opts))return g(i.stop)&&(x._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return x.map(c,le,l),g(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),x.fx.timer(x.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}x.Animation=x.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,u,l,c,d="width"in e||"height"in e,f=this,p={},h=t.style,m=t.nodeType&&at(t),v=X.get(t,"fxshow");for(i in n.queue||(null==(a=x._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,x.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}p[i]=v&&v[i]||x.style(t,i)}if((u=!x.isEmptyObject(e))||!x.isEmptyObject(p))for(i in d&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=X.get(t,"display")),"none"===(c=x.css(t,"display"))&&(l?c=l:(dt([t],!0),l=t.style.display||l,c=x.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===x.css(t,"float")&&(u||(f.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,p)u||(v?"hidden"in v&&(m=v.hidden):v=X.access(t,"fxshow",{display:l}),o&&(v.hidden=!m),m&&dt([t],!0),f.done(function(){for(i in m||dt([t]),X.remove(t,"fxshow"),p)x.style(t,i,p[i])})),u=le(m?v[i]:0,i,f),i in v||(v[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),x.speed=function(t,e,n){var i=t&&"object"==typeof t?x.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=x.isEmptyObject(t),o=x.speed(e,n,i),a=function(){var e=ce(this,x.extend({},t),o);(r||X.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=x.timers,a=X.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&oe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||x.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=X.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=x.timers,a=i?i.length:0;for(n.finish=!0,x.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(t,e){var n=x.fn[e];x.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}}),x.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){x.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),x.timers=[],x.fx.tick=function(){var t,e=0,n=x.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||x.fx.stop(),ne=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ie||(ie=!0,ae())},x.fx.stop=function(){ie=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,e){return t=x.fx&&x.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var de,fe=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return W(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?x.prop(t,e,n):(1===o&&x.isXMLDoc(t)||(r=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void x.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=x.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&M(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?x.removeAttr(t,n):t.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||x.find.attr;fe[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=fe[a],fe[a]=r,r=null!=n(t,e,i)?a:null,fe[a]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;function me(t){return(t.match(R)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}x.fn.extend({prop:function(t,e){return W(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(e=x.propFix[e]||e,r=x.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(x.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(g(t))return this.each(function(e){x(this).addClass(t.call(this,e,ve(this)))});if((e=ye(t)).length)for(;n=this[u++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(g(t))return this.each(function(e){x(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[u++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){x(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=x(this),a=ye(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var ge=/\r/g;x.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,x(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ge,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:me(x.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(e=x(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=x.makeArray(e),a=r.length;a--;)((i=r[a]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},y.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(t,e,i,r){var o,s,u,l,c,d,f,p,m=[i||a],v=h.call(t,"type")?t.type:t,y=h.call(t,"namespace")?t.namespace.split("."):[];if(s=p=u=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!be.test(v+x.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[x.expando]?t:new x.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:x.makeArray(e,[t]),f=x.event.special[v]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!b(i)){for(l=f.delegateType||v,be.test(l+v)||(s=s.parentNode);s;s=s.parentNode)m.push(s),u=s;u===(i.ownerDocument||a)&&m.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=m[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?l:f.bindType||v,(d=(X.get(s,"events")||{})[t.type]&&X.get(s,"handle"))&&d.apply(s,e),(d=c&&s[c])&&d.apply&&K(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),e)||!K(i)||c&&g(i[v])&&!b(i)&&((u=i[c])&&(i[c]=null),x.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,_e),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,_e),x.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(t,e,n){var i=x.extend(new x.Event,n,{type:t,isSimulated:!0});x.event.trigger(i,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return x.event.trigger(t,e,n,!0)}}),y.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=X.access(i,e);r||i.addEventListener(t,n,!0),X.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=X.access(i,e)-1;r?X.access(i,e,r):(i.removeEventListener(t,n,!0),X.remove(i,e))}}});var we=n.location,ke=Date.now(),xe=/\?/;x.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),e};var Ne=/\[\]$/,Te=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,i){var r;if(Array.isArray(e))x.each(e,function(e,r){n||Ne.test(t)?i(t,r):Pe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==k(e))i(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],n,i)}x.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){r(this.name,this.value)});else for(n in t)Pe(n,t[n],e,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&Ce.test(this.nodeName)&&!Se.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var De=/%20/g,Me=/#.*$/,Oe=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Ae=/^\/\//,Ie={},$e={},Le="*/".concat("*"),Re=a.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(R)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Be(t,e,n,i){var r={},o=t===$e;function a(s){var u;return r[s]=!0,x.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),u}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Fe(t,e){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&x.extend(!0,t,i),t}Re.href=we.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,x.ajaxSettings),e):Fe(x.ajaxSettings,t)},ajaxPrefilter:He(Ie),ajaxTransport:He($e),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,u,l,c,d,f,p,h=x.ajaxSetup({},e),m=h.context||h,v=h.context&&(m.nodeType||m.jquery)?x(m):x.event,y=x.Deferred(),g=x.Callbacks("once memory"),b=h.statusCode||{},_={},w={},k="canceled",N={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ee.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)N.always(t[N.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return i&&i.abort(e),T(0,e),this}};if(y.promise(N),h.url=((t||h.url||we.href)+"").replace(Ae,we.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){l=a.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Re.protocol+"//"+Re.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=x.param(h.data,h.traditional)),Be(Ie,h,e,N),c)return N;for(f in(d=x.event&&h.global)&&0==x.active++&&x.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!je.test(h.type),r=h.url.replace(Me,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(De,"+")):(p=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(xe.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Oe,"$1"),p=(xe.test(r)?"&":"?")+"_="+ke+++p),h.url=r+p),h.ifModified&&(x.lastModified[r]&&N.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&N.setRequestHeader("If-None-Match",x.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&N.setRequestHeader("Content-Type",h.contentType),N.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Le+"; q=0.01":""):h.accepts["*"]),h.headers)N.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(m,N,h)||c))return N.abort();if(k="abort",g.add(h.complete),N.done(h.success),N.fail(h.error),i=Be($e,h,e,N)){if(N.readyState=1,d&&v.trigger("ajaxSend",[N,h]),c)return N;h.async&&h.timeout>0&&(u=n.setTimeout(function(){N.abort("timeout")},h.timeout));try{c=!1,i.send(_,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,a,s){var l,f,p,_,w,k=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,o=s||"",N.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,N,a)),_=function(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(h,_,N,l),l?(h.ifModified&&((w=N.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=w),(w=N.getResponseHeader("etag"))&&(x.etag[r]=w)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=_.state,f=_.data,l=!(p=_.error))):(p=k,!t&&k||(k="error",t<0&&(t=0))),N.status=t,N.statusText=(e||k)+"",l?y.resolveWith(m,[f,k,N]):y.rejectWith(m,[N,k,p]),N.statusCode(b),b=void 0,d&&v.trigger(l?"ajaxSuccess":"ajaxError",[N,h,l?f:p]),g.fireWith(m,[N,k]),d&&(v.trigger("ajaxComplete",[N,h]),--x.active||x.event.trigger("ajaxStop")))}return N},getJSON:function(t,e,n){return x.get(t,e,n,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,e){x[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:t,type:e,dataType:r,data:n,success:i},x.isPlainObject(t)&&t))}}),x._evalUrl=function(t){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){x(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Ye=x.ajaxSettings.xhr();y.cors=!!Ye&&"withCredentials"in Ye,y.ajax=Ye=!!Ye,x.ajaxTransport(function(t){var e,i;if(y.cors||Ye&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=x("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var qe,We=[],ze=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||x.expando+"_"+ke++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ze,"$1"+r):!1!==t.jsonp&&(t.url+=(xe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||x.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?x(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),y.createHTMLDocument=((qe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),x.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=O.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=me(t.slice(s)),t=t.slice(0,s)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&x.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?x("<div>").append(x.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l=x.css(t,"position"),c=x(t),d={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=x.css(t,"top"),u=x.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),g(e)&&(e=e.call(t,n,x.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),r.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-x.css(i,"marginTop",!0),left:e.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||kt})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;x.fn[t]=function(i){return W(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=qt(y.pixelPosition,function(t,n){if(n)return n=Yt(t,e),Bt.test(n)?x(t).position()[e]+"px":n})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){x.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return W(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?x.css(e,n,s):x.style(e,n,r,s)},e,a?r:void 0,a)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),x.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),x.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||x.guid++,r},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=M,x.isFunction=g,x.isWindow=b,x.camelCase=Z,x.type=k,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return x}.apply(e,[]))||(t.exports=i);var Ge=n.jQuery,Ve=n.$;return x.noConflict=function(t){return n.$===x&&(n.$=Ve),t&&n.jQuery===x&&(n.jQuery=Ge),x},r||(n.jQuery=n.$=x),x})},function(t,e,n){(function(e){t.exports=e.jQuery=n(252)}).call(this,n(22))},function(t,e,n){(function(e){t.exports=e.$=n(253)}).call(this,n(22))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"compat",{enumerable:!0,get:function(){return o.default}}),e.extensions=e.app=void 0,n(254),n(251),n(250),n(248),n(246),n(244),n(242),n(241),n(240),n(239),n(238),n(237);var r=i(n(180)),o=i(n(189)),a=new r.default;e.app=a,window.app=a;e.extensions={},o.default.app=a,alert("hi2")}]);