{"version":3,"file":"forum.js","mappings":"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,CAACsE,QAAQ,EAAEggE,KAAK,EAAEqkB,EAAE,EAAEhzB,WAAW,CAAC;MAC1D31D,KAAK,CAACG,GAAG,GAAGH,KAAK,CAACsE,QAAQ,CAACnE,GAAG;MAC9BH,KAAK,CAACopF,OAAO,GAAGppF,KAAK,CAACG,GAAG,IAAI,IAAI,GAAGH,KAAK,CAACsE,QAAQ,CAAC8kF,OAAO,GAAG,CAAC;IAC/D,CAAC,MACI;MACJppF,KAAK,CAACopF,OAAO,GAAG,CAAC;IAClB;EACD;;EAEA;EACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,SAASO,WAAW,CAAC5oD,MAAM,EAAE+R,GAAG,EAAE41C,MAAM,EAAEpkB,KAAK,EAAE3O,WAAW,EAAEgzB,EAAE,EAAE;IACjE,IAAI71C,GAAG,KAAK41C,MAAM,IAAI51C,GAAG,IAAI,IAAI,IAAI41C,MAAM,IAAI,IAAI,EAAE,OAAM,KACtD,IAAI51C,GAAG,IAAI,IAAI,IAAIA,GAAG,CAAC/zC,MAAM,KAAK,CAAC,EAAE0pF,WAAW,CAAC1nD,MAAM,EAAE2nD,MAAM,EAAE,CAAC,EAAEA,MAAM,CAAC3pF,MAAM,EAAEulE,KAAK,EAAE3O,WAAW,EAAEgzB,EAAE,CAAC,MAC1G,IAAID,MAAM,IAAI,IAAI,IAAIA,MAAM,CAAC3pF,MAAM,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","sources":["webpack://@flarum/core/./src/common/Application.tsx","webpack://@flarum/core/./src/common/Component.ts","webpack://@flarum/core/./src/common/Fragment.ts","webpack://@flarum/core/./src/common/Model.ts","webpack://@flarum/core/./src/common/Session.ts","webpack://@flarum/core/./src/common/Store.ts","webpack://@flarum/core/./src/common/Translator.tsx","webpack://@flarum/core/./src/common/app.ts","webpack://@flarum/core/./src/common/compat.ts","webpack://@flarum/core/./src/common/components/Alert.tsx","webpack://@flarum/core/./src/common/components/AlertManager.tsx","webpack://@flarum/core/./src/common/components/Badge.tsx","webpack://@flarum/core/./src/common/components/Button.tsx","webpack://@flarum/core/./src/common/components/Checkbox.tsx","webpack://@flarum/core/./src/common/components/ColorPreviewInput.tsx","webpack://@flarum/core/./src/common/components/Dropdown.tsx","webpack://@flarum/core/./src/common/components/EditUserModal.tsx","webpack://@flarum/core/./src/common/components/GroupBadge.tsx","webpack://@flarum/core/./src/common/components/LabelValue.tsx","webpack://@flarum/core/./src/common/components/LoadingIndicator.tsx","webpack://@flarum/core/./src/common/components/Modal.tsx","webpack://@flarum/core/./src/common/components/ModalManager.tsx","webpack://@flarum/core/./src/common/components/Navigation.tsx","webpack://@flarum/core/./src/common/components/Page.tsx","webpack://@flarum/core/./src/common/components/RequestErrorModal.tsx","webpack://@flarum/core/./src/common/components/SelectDropdown.tsx","webpack://@flarum/core/./src/common/components/SplitDropdown.tsx","webpack://@flarum/core/./src/common/components/Switch.tsx","webpack://@flarum/core/./src/common/components/Tooltip.tsx","webpack://@flarum/core/./src/common/extend.ts","webpack://@flarum/core/./src/common/extenders/Model.ts","webpack://@flarum/core/./src/common/extenders/PostTypes.ts","webpack://@flarum/core/./src/common/extenders/Routes.ts","webpack://@flarum/core/./src/common/extenders/Store.ts","webpack://@flarum/core/./src/common/extenders/index.ts","webpack://@flarum/core/./src/common/helpers/avatar.tsx","webpack://@flarum/core/./src/common/helpers/fireApplicationError.ts","webpack://@flarum/core/./src/common/helpers/fireDebugWarning.ts","webpack://@flarum/core/./src/common/helpers/fullTime.tsx","webpack://@flarum/core/./src/common/helpers/highlight.tsx","webpack://@flarum/core/./src/common/helpers/humanTime.tsx","webpack://@flarum/core/./src/common/helpers/icon.tsx","webpack://@flarum/core/./src/common/helpers/listItems.tsx","webpack://@flarum/core/./src/common/helpers/textContrastClass.ts","webpack://@flarum/core/./src/common/helpers/userOnline.tsx","webpack://@flarum/core/./src/common/helpers/username.tsx","webpack://@flarum/core/./src/common/index.ts","webpack://@flarum/core/./src/common/models/AccessToken.ts","webpack://@flarum/core/./src/common/models/Discussion.tsx","webpack://@flarum/core/./src/common/models/Forum.ts","webpack://@flarum/core/./src/common/models/Group.ts","webpack://@flarum/core/./src/common/models/Notification.ts","webpack://@flarum/core/./src/common/models/Post.ts","webpack://@flarum/core/./src/common/models/User.tsx","webpack://@flarum/core/./src/common/resolvers/DefaultResolver.ts","webpack://@flarum/core/./src/common/states/AlertManagerState.ts","webpack://@flarum/core/./src/common/states/ModalManagerState.ts","webpack://@flarum/core/./src/common/states/PaginatedListState.ts","webpack://@flarum/core/./src/common/utils/BasicEditorDriver.ts","webpack://@flarum/core/./src/common/utils/EventEmitter.ts","webpack://@flarum/core/./src/common/utils/ItemList.ts","webpack://@flarum/core/./src/common/utils/KeyboardNavigatable.ts","webpack://@flarum/core/./src/common/utils/RequestError.ts","webpack://@flarum/core/./src/common/utils/Stream.ts","webpack://@flarum/core/./src/common/utils/SubtreeRetainer.ts","webpack://@flarum/core/./src/common/utils/abbreviateNumber.ts","webpack://@flarum/core/./src/common/utils/arrayFlatPolyfill.ts","webpack://@flarum/core/./src/common/utils/classList.ts","webpack://@flarum/core/./src/common/utils/computed.ts","webpack://@flarum/core/./src/common/utils/escapeRegExp.ts","webpack://@flarum/core/./src/common/utils/extract.ts","webpack://@flarum/core/./src/common/utils/extractText.ts","webpack://@flarum/core/./src/common/utils/focusTrap.ts","webpack://@flarum/core/./src/common/utils/formatNumber.ts","webpack://@flarum/core/./src/common/utils/humanTime.ts","webpack://@flarum/core/./src/common/utils/insertText.ts","webpack://@flarum/core/./src/common/utils/isDark.ts","webpack://@flarum/core/./src/common/utils/isObject.ts","webpack://@flarum/core/./src/common/utils/liveHumanTimes.ts","webpack://@flarum/core/./src/common/utils/mapRoutes.ts","webpack://@flarum/core/./src/common/utils/proxifyCompat.ts","webpack://@flarum/core/./src/common/utils/setRouteWithForcedRefresh.ts","webpack://@flarum/core/./src/common/utils/string.ts","webpack://@flarum/core/./src/common/utils/stringToColor.ts","webpack://@flarum/core/./src/common/utils/styleSelectedText.ts","webpack://@flarum/core/./src/common/utils/throttleDebounce.ts","webpack://@flarum/core/./src/common/utils/withAttr.ts","webpack://@flarum/core/./src/forum/ForumApplication.tsx","webpack://@flarum/core/./src/forum/app.ts","webpack://@flarum/core/./src/forum/compat.ts","webpack://@flarum/core/./src/forum/components/AccessTokensList.tsx","webpack://@flarum/core/./src/forum/components/ChangeEmailModal.tsx","webpack://@flarum/core/./src/forum/components/ChangePasswordModal.tsx","webpack://@flarum/core/./src/forum/components/DiscussionListItem.tsx","webpack://@flarum/core/./src/forum/components/DiscussionPage.tsx","webpack://@flarum/core/./src/forum/components/DiscussionRenamedNotification.tsx","webpack://@flarum/core/./src/forum/components/DiscussionsSearchSource.tsx","webpack://@flarum/core/./src/forum/components/DiscussionsUserPage.tsx","webpack://@flarum/core/./src/forum/components/ForgotPasswordModal.tsx","webpack://@flarum/core/./src/forum/components/IndexPage.tsx","webpack://@flarum/core/./src/forum/components/LogInModal.tsx","webpack://@flarum/core/./src/forum/components/NewAccessTokenModal.tsx","webpack://@flarum/core/./src/forum/components/Notification.tsx","webpack://@flarum/core/./src/forum/components/NotificationsDropdown.tsx","webpack://@flarum/core/./src/forum/components/NotificationsPage.tsx","webpack://@flarum/core/./src/forum/components/Post.tsx","webpack://@flarum/core/./src/forum/components/PostsUserPage.tsx","webpack://@flarum/core/./src/forum/components/RenameDiscussionModal.tsx","webpack://@flarum/core/./src/forum/components/Search.tsx","webpack://@flarum/core/./src/forum/components/SessionDropdown.tsx","webpack://@flarum/core/./src/forum/components/SettingsPage.tsx","webpack://@flarum/core/./src/forum/components/SignUpModal.tsx","webpack://@flarum/core/./src/forum/components/UserPage.tsx","webpack://@flarum/core/./src/forum/components/UserSecurityPage.tsx","webpack://@flarum/core/./src/forum/components/UsersSearchSource.tsx","webpack://@flarum/core/./src/forum/components/WelcomeHero.tsx","webpack://@flarum/core/./src/forum/index.ts","webpack://@flarum/core/./src/forum/resolvers/DiscussionPageResolver.ts","webpack://@flarum/core/./src/forum/routes.ts","webpack://@flarum/core/./src/forum/states/DiscussionListState.ts","webpack://@flarum/core/./src/forum/states/GlobalSearchState.ts","webpack://@flarum/core/./src/forum/states/NotificationListState.ts","webpack://@flarum/core/./src/forum/states/PostStreamState.ts","webpack://@flarum/core/./src/forum/states/SearchState.ts","webpack://@flarum/core/./src/forum/states/UserSecurityPageState.ts","webpack://@flarum/core/./src/forum/utils/History.ts","webpack://@flarum/core/./src/forum/utils/isSafariMobile.ts","webpack://@flarum/core/../source/utilities.js","webpack://@flarum/core/../source/defaultRichHandler.js","webpack://@flarum/core/../source/RichMessageFormatter.js","webpack://@flarum/core/../source/mithrilRichHandler.js","webpack://@flarum/core/array-utils.js","webpack://@flarum/core/function-utils.js","webpack://@flarum/core/../source/MessageFormatter.js","webpack://@flarum/core/../source/pluralTypeHandler.js","webpack://@flarum/core/../source/selectTypeHandler.js","webpack://@flarum/core/../../../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","webpack://@flarum/core/../../../node_modules/bootstrap/js/affix.js","webpack://@flarum/core/../../../node_modules/bootstrap/js/dropdown.js","webpack://@flarum/core/../../../node_modules/bootstrap/js/tooltip.js","webpack://@flarum/core/../../../node_modules/bootstrap/js/transition.js","webpack://@flarum/core/../../../node_modules/clsx/dist/clsx.m.js","webpack://@flarum/core/../../../node_modules/color-thief-browser/dist/color-thief.min.js","webpack://@flarum/core/../../../node_modules/dayjs/dayjs.min.js","webpack://@flarum/core/../../../node_modules/dayjs/plugin/localizedFormat.js","webpack://@flarum/core/../../../node_modules/dayjs/plugin/relativeTime.js","webpack://@flarum/core/../../../node_modules/expose-loader/dist/runtime/getGlobalThis.js","webpack://@flarum/core/../index.js","webpack://@flarum/core/../../../node_modules/jquery.hotkeys/jquery.hotkeys.js","webpack://@flarum/core/../../../node_modules/jquery/dist/jquery.js","webpack://@flarum/core/../../../node_modules/mithril/api/mount-redraw.js","webpack://@flarum/core/../../../node_modules/mithril/api/router.js","webpack://@flarum/core/../../../node_modules/mithril/hyperscript.js","webpack://@flarum/core/../../../node_modules/mithril/index.js","webpack://@flarum/core/../../../node_modules/mithril/mount-redraw.js","webpack://@flarum/core/../../../node_modules/mithril/pathname/assign.js","webpack://@flarum/core/../../../node_modules/mithril/pathname/build.js","webpack://@flarum/core/../../../node_modules/mithril/pathname/compileTemplate.js","webpack://@flarum/core/../../../node_modules/mithril/pathname/parse.js","webpack://@flarum/core/../../../node_modules/mithril/promise/polyfill.js","webpack://@flarum/core/../../../node_modules/mithril/promise/promise.js","webpack://@flarum/core/../../../node_modules/mithril/querystring/build.js","webpack://@flarum/core/../../../node_modules/mithril/querystring/parse.js","webpack://@flarum/core/../../../node_modules/mithril/render.js","webpack://@flarum/core/../../../node_modules/mithril/render/fragment.js","webpack://@flarum/core/../../../node_modules/mithril/render/hyperscript.js","webpack://@flarum/core/../../../node_modules/mithril/render/hyperscriptVnode.js","webpack://@flarum/core/../../../node_modules/mithril/render/render.js","webpack://@flarum/core/../../../node_modules/mithril/render/trust.js","webpack://@flarum/core/../../../node_modules/mithril/render/vnode.js","webpack://@flarum/core/../../../node_modules/mithril/request.js","webpack://@flarum/core/../../../node_modules/mithril/request/request.js","webpack://@flarum/core/../../../node_modules/mithril/route.js","webpack://@flarum/core/../../../node_modules/mithril/stream.js","webpack://@flarum/core/../../../node_modules/mithril/stream/stream.js","webpack://@flarum/core/../../../node_modules/punycode/punycode.es6.js","webpack://@flarum/core/../src/index.js","webpack://@flarum/core/../../../node_modules/textarea-caret/index.js","webpack://@flarum/core/../../../node_modules/jquery/dist/jquery-exposed.js","webpack://@flarum/core/../../../node_modules/color-thief-browser/dist/color-thief.min-exposed.js","webpack://@flarum/core/../../../node_modules/dayjs/dayjs.min-exposed.js","webpack://@flarum/core/../../../node_modules/mithril/index-exposed.js","webpack://@flarum/core/../../../node_modules/punycode/punycode.es6-exposed.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/createClass.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/inherits.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/typeof.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/regenerator/index.js","webpack://@flarum/core/./src/common/components/ConfirmDocumentUnload.js","webpack://@flarum/core/./src/common/components/FieldSet.js","webpack://@flarum/core/./src/common/components/Link.js","webpack://@flarum/core/./src/common/components/LinkButton.js","webpack://@flarum/core/./src/common/components/Placeholder.js","webpack://@flarum/core/./src/common/components/Select.js","webpack://@flarum/core/./src/common/components/Separator.js","webpack://@flarum/core/./src/common/components/TextEditor.js","webpack://@flarum/core/./src/common/components/TextEditorButton.js","webpack://@flarum/core/./src/common/helpers/punctuateSeries.js","webpack://@flarum/core/./src/common/states/PageState.js","webpack://@flarum/core/./src/common/utils/Drawer.js","webpack://@flarum/core/./src/common/utils/ScrollListener.js","webpack://@flarum/core/./src/common/utils/anchorScroll.js","webpack://@flarum/core/./src/common/utils/bidi.js","webpack://@flarum/core/./src/common/utils/evented.js","webpack://@flarum/core/./src/common/utils/mixin.js","webpack://@flarum/core/./src/common/utils/patchMithril.js","webpack://@flarum/core/./src/common/utils/subclassOf.js","webpack://@flarum/core/./src/forum/components/AffixedSidebar.js","webpack://@flarum/core/./src/forum/components/AvatarEditor.js","webpack://@flarum/core/./src/forum/components/CommentPost.js","webpack://@flarum/core/./src/forum/components/Composer.js","webpack://@flarum/core/./src/forum/components/ComposerBody.js","webpack://@flarum/core/./src/forum/components/ComposerButton.js","webpack://@flarum/core/./src/forum/components/ComposerPostPreview.js","webpack://@flarum/core/./src/forum/components/DiscussionComposer.js","webpack://@flarum/core/./src/forum/components/DiscussionHero.js","webpack://@flarum/core/./src/forum/components/DiscussionList.js","webpack://@flarum/core/./src/forum/components/DiscussionListPane.js","webpack://@flarum/core/./src/forum/components/DiscussionRenamedPost.js","webpack://@flarum/core/./src/forum/components/EditPostComposer.js","webpack://@flarum/core/./src/forum/components/EventPost.js","webpack://@flarum/core/./src/forum/components/HeaderPrimary.js","webpack://@flarum/core/./src/forum/components/HeaderSecondary.js","webpack://@flarum/core/./src/forum/components/LoadingPost.js","webpack://@flarum/core/./src/forum/components/LogInButton.js","webpack://@flarum/core/./src/forum/components/LogInButtons.js","webpack://@flarum/core/./src/forum/components/NotificationGrid.js","webpack://@flarum/core/./src/forum/components/NotificationList.js","webpack://@flarum/core/./src/forum/components/PostEdited.js","webpack://@flarum/core/./src/forum/components/PostMeta.js","webpack://@flarum/core/./src/forum/components/PostPreview.js","webpack://@flarum/core/./src/forum/components/PostStream.js","webpack://@flarum/core/./src/forum/components/PostStreamScrubber.js","webpack://@flarum/core/./src/forum/components/PostUser.js","webpack://@flarum/core/./src/forum/components/ReplyComposer.js","webpack://@flarum/core/./src/forum/components/ReplyPlaceholder.js","webpack://@flarum/core/./src/forum/components/TerminalPost.js","webpack://@flarum/core/./src/forum/components/UserCard.js","webpack://@flarum/core/./src/forum/states/ComposerState.js","webpack://@flarum/core/./src/forum/utils/DiscussionControls.js","webpack://@flarum/core/./src/forum/utils/Pane.js","webpack://@flarum/core/./src/forum/utils/PostControls.js","webpack://@flarum/core/./src/forum/utils/UserControls.js","webpack://@flarum/core/./src/forum/utils/alertEmailConfirmation.js","webpack://@flarum/core/./src/forum/utils/slidable.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@flarum/core/../../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack://@flarum/core/../throttle.js","webpack://@flarum/core/../debounce.js","webpack://@flarum/core/webpack/bootstrap","webpack://@flarum/core/webpack/runtime/compat get default export","webpack://@flarum/core/webpack/runtime/define property getters","webpack://@flarum/core/webpack/runtime/global","webpack://@flarum/core/webpack/runtime/hasOwnProperty shorthand","webpack://@flarum/core/webpack/runtime/make namespace object","webpack://@flarum/core/./forum.ts"],"sourcesContent":["import app from '../common/app';\n\nimport ItemList from './utils/ItemList';\nimport Button from './components/Button';\nimport ModalManager from './components/ModalManager';\nimport AlertManager from './components/AlertManager';\nimport RequestErrorModal from './components/RequestErrorModal';\nimport Translator from './Translator';\nimport Store, { ApiPayload, ApiResponse, ApiResponsePlural, ApiResponseSingle, payloadIsPlural } from './Store';\nimport Session from './Session';\nimport extract from './utils/extract';\nimport extractText from './utils/extractText';\nimport Drawer from './utils/Drawer';\nimport mapRoutes from './utils/mapRoutes';\nimport RequestError, { InternalFlarumRequestOptions } from './utils/RequestError';\nimport ScrollListener from './utils/ScrollListener';\nimport liveHumanTimes from './utils/liveHumanTimes';\n// @ts-expect-error We need to explicitly use the prefix to distinguish between the extend folder.\nimport { extend } from './extend.ts';\n\nimport Forum from './models/Forum';\nimport User from './models/User';\nimport Discussion from './models/Discussion';\nimport Post from './models/Post';\nimport Group from './models/Group';\nimport Notification from './models/Notification';\nimport PageState from './states/PageState';\nimport ModalManagerState from './states/ModalManagerState';\nimport AlertManagerState from './states/AlertManagerState';\n\nimport type DefaultResolver from './resolvers/DefaultResolver';\nimport type Mithril from 'mithril';\nimport type Component from './Component';\nimport type { ComponentAttrs } from './Component';\nimport Model, { SavedModelData } from './Model';\nimport fireApplicationError from './helpers/fireApplicationError';\nimport IHistory from './IHistory';\nimport IExtender from './extenders/IExtender';\nimport AccessToken from './models/AccessToken';\n\nexport type FlarumScreens = 'phone' | 'tablet' | 'desktop' | 'desktop-hd';\n\nexport type FlarumGenericRoute = RouteItem<any, any, any>;\n\nexport interface FlarumRequestOptions<ResponseType> extends Omit<Mithril.RequestOptions<ResponseType>, 'extract'> {\n  errorHandler?: (error: RequestError) => void;\n  url: string;\n  // TODO: [Flarum 2.0] Remove deprecated option\n  /**\n   * Manipulate the response text before it is parsed into JSON.\n   *\n   * @deprecated Please use `modifyText` instead.\n   */\n  extract?: (responseText: string) => string;\n  /**\n   * Manipulate the response text before it is parsed into JSON.\n   *\n   * This overrides any `extract` method provided.\n   */\n  modifyText?: (responseText: string) => string;\n}\n\n/**\n * A valid route definition.\n */\nexport type RouteItem<\n  Attrs extends ComponentAttrs,\n  Comp extends Component<Attrs & { routeName: string }>,\n  RouteArgs extends Record<string, unknown> = {}\n> = {\n  /**\n   * The path for your route.\n   *\n   * This might be a specific URL path (e.g.,`/myPage`), or it might\n   * contain a variable used by a resolver (e.g., `/myPage/:id`).\n   *\n   * @see https://docs.flarum.org/extend/frontend-pages.html#route-resolvers-advanced\n   */\n  path: `/${string}`;\n} & (\n  | {\n      /**\n       * The component to render when this route matches.\n       */\n      component: new () => Comp;\n      /**\n       * A custom resolver class.\n       *\n       * This should be the class itself, and **not** an instance of the\n       * class.\n       */\n      resolverClass?: new (component: new () => Comp, routeName: string) => DefaultResolver<Attrs, Comp, RouteArgs>;\n    }\n  | {\n      /**\n       * An instance of a route resolver.\n       */\n      resolver: RouteResolver<Attrs, Comp, RouteArgs>;\n    }\n);\n\nexport interface RouteResolver<\n  Attrs extends ComponentAttrs,\n  Comp extends Component<Attrs & { routeName: string }>,\n  RouteArgs extends Record<string, unknown> = {}\n> {\n  /**\n   * A method which selects which component to render based on\n   * conditional logic.\n   *\n   * Returns the component class, and **not** a Vnode or JSX\n   * expression.\n   *\n   * @see https://mithril.js.org/route.html#routeresolveronmatch\n   */\n  onmatch(this: this, args: RouteArgs, requestedPath: string, route: string): { new (): Comp };\n  /**\n   * A function which renders the provided component.\n   *\n   * If not specified, the route will default to rendering the\n   * component on its own, inside of a fragment.\n   *\n   * Returns a Mithril Vnode or other children.\n   *\n   * @see https://mithril.js.org/route.html#routeresolverrender\n   */\n  render?(this: this, vnode: Mithril.Vnode<Attrs, Comp>): Mithril.Children;\n}\n\nexport interface ApplicationData {\n  apiDocument: ApiPayload | null;\n  locale: string;\n  locales: Record<string, string>;\n  resources: SavedModelData[];\n  session: { userId: number; csrfToken: string };\n  [key: string]: unknown;\n}\n\n/**\n * The `App` class provides a container for an application, as well as various\n * utilities for the rest of the app to use.\n */\nexport default class Application {\n  /**\n   * The forum model for this application.\n   */\n  forum!: Forum;\n\n  /**\n   * A map of routes, keyed by a unique route name. Each route is an object\n   * containing the following properties:\n   *\n   * - `path` The path that the route is accessed at.\n   * - `component` The Mithril component to render when this route is active.\n   *\n   * @example\n   * app.routes.discussion = { path: '/d/:id', component: DiscussionPage };\n   */\n  routes: Record<string, FlarumGenericRoute> = {};\n\n  /**\n   * An ordered list of initializers to bootstrap the application.\n   */\n  initializers: ItemList<(app: this) => void> = new ItemList();\n\n  /**\n   * The app's session.\n   *\n   * Stores info about the current user.\n   */\n  session!: Session;\n\n  /**\n   * The app's translator.\n   */\n  translator: Translator = new Translator();\n\n  /**\n   * The app's data store.\n   */\n  store: Store = new Store({\n    'access-tokens': AccessToken,\n    forums: Forum,\n    users: User,\n    discussions: Discussion,\n    posts: Post,\n    groups: Group,\n    notifications: Notification,\n  });\n\n  /**\n   * A local cache that can be used to store data at the application level, so\n   * that is persists between different routes.\n   */\n  cache: Record<string, unknown> = {};\n\n  /**\n   * Whether or not the app has been booted.\n   */\n  booted: boolean = false;\n\n  /**\n   * The page the app is currently on.\n   *\n   * This object holds information about the type of page we are currently\n   * visiting, and sometimes additional arbitrary page state that may be\n   * relevant to lower-level components.\n   */\n  current: PageState = new PageState(null);\n\n  /**\n   * The page the app was on before the current page.\n   *\n   * Once the application navigates to another page, the object previously\n   * assigned to this.current will be moved to this.previous, while this.current\n   * is re-initialized.\n   */\n  previous: PageState = new PageState(null);\n\n  /**\n   * An object that manages modal state.\n   */\n  modal: ModalManagerState = new ModalManagerState();\n\n  /**\n   * An object that manages the state of active alerts.\n   */\n  alerts: AlertManagerState = new AlertManagerState();\n\n  /**\n   * An object that manages the state of the navigation drawer.\n   */\n  drawer!: Drawer;\n\n  history: IHistory | null = null;\n  pane: any = null;\n\n  data!: ApplicationData;\n\n  private _title: string = '';\n  private _titleCount: number = 0;\n\n  private set title(val: string) {\n    this._title = val;\n  }\n\n  get title() {\n    return this._title;\n  }\n\n  private set titleCount(val: number) {\n    this._titleCount = val;\n  }\n\n  get titleCount() {\n    return this._titleCount;\n  }\n\n  /**\n   * The key for an Alert that was shown as a result of an AJAX request error.\n   * If present, it will be dismissed on the next successful request.\n   */\n  private requestErrorAlert: number | null = null;\n\n  initialRoute!: string;\n\n  public load(payload: Application['data']) {\n    this.data = payload;\n    this.translator.setLocale(payload.locale);\n  }\n\n  public boot() {\n    const caughtInitializationErrors: CallableFunction[] = [];\n\n    this.initializers.toArray().forEach((initializer) => {\n      try {\n        initializer(this);\n      } catch (e) {\n        const extension = initializer.itemName.includes('/')\n          ? initializer.itemName.replace(/(\\/flarum-ext-)|(\\/flarum-)/g, '-')\n          : initializer.itemName;\n\n        caughtInitializationErrors.push(() =>\n          fireApplicationError(\n            extractText(app.translator.trans('core.lib.error.extension_initialiation_failed_message', { extension })),\n            `${extension} failed to initialize`,\n            e\n          )\n        );\n      }\n    });\n\n    this.store.pushPayload({ data: this.data.resources });\n\n    this.forum = this.store.getById('forums', '1')!;\n\n    this.session = new Session(this.store.getById<User>('users', String(this.data.session.userId)) ?? null, this.data.session.csrfToken);\n\n    this.mount();\n\n    this.initialRoute = window.location.href;\n\n    caughtInitializationErrors.forEach((handler) => handler());\n  }\n\n  public bootExtensions(extensions: Record<string, { extend?: IExtender[] }>) {\n    Object.keys(extensions).forEach((name) => {\n      const extension = extensions[name];\n\n      // If an extension doesn't define extenders, there's nothing more to do here.\n      if (!extension.extend) return;\n\n      const extenders = extension.extend.flat(Infinity);\n\n      for (const extender of extenders) {\n        extender.extend(this, { name, exports: extension });\n      }\n    });\n  }\n\n  protected mount(basePath: string = '') {\n    // An object with a callable view property is used in order to pass arguments to the component; see https://mithril.js.org/mount.html\n    m.mount(document.getElementById('modal')!, { view: () => <ModalManager state={this.modal} /> });\n    m.mount(document.getElementById('alerts')!, { view: () => <AlertManager state={this.alerts} /> });\n\n    this.drawer = new Drawer();\n\n    m.route(document.getElementById('content')!, basePath + '/', mapRoutes(this.routes, basePath));\n\n    const appEl = document.getElementById('app')!;\n    const appHeaderEl = document.querySelector('.App-header')!;\n\n    // Add a class to the body which indicates that the page has been scrolled\n    // down. When this happens, we'll add classes to the header and app body\n    // which will set the navbar's position to fixed. We don't want to always\n    // have it fixed, as that could overlap with custom headers.\n    const scrollListener = new ScrollListener((top: number) => {\n      const offset = appEl.getBoundingClientRect().top + document.body.scrollTop;\n\n      appEl.classList.toggle('affix', top >= offset);\n      appEl.classList.toggle('scrolled', top > offset);\n\n      appHeaderEl.classList.toggle('navbar-fixed-top', top >= offset);\n    });\n\n    scrollListener.start();\n    scrollListener.update();\n\n    document.body.classList.add('ontouchstart' in window ? 'touch' : 'no-touch');\n\n    liveHumanTimes();\n  }\n\n  /**\n   * Get the API response document that has been preloaded into the application.\n   */\n  preloadedApiDocument<M extends Model>(): ApiResponseSingle<M> | null;\n  preloadedApiDocument<Ms extends Model[]>(): ApiResponsePlural<Ms[number]> | null;\n  preloadedApiDocument<M extends Model | Model[]>(): ApiResponse<FlatArray<M, 1>> | null {\n    // If the URL has changed, the preloaded Api document is invalid.\n    if (this.data.apiDocument && window.location.href === this.initialRoute) {\n      const results = payloadIsPlural(this.data.apiDocument)\n        ? this.store.pushPayload<FlatArray<M, 1>[]>(this.data.apiDocument)\n        : this.store.pushPayload<FlatArray<M, 1>>(this.data.apiDocument);\n\n      this.data.apiDocument = null;\n\n      return results;\n    }\n\n    return null;\n  }\n\n  /**\n   * Determine the current screen mode, based on our media queries.\n   */\n  screen(): FlarumScreens {\n    const styles = getComputedStyle(document.documentElement);\n    return styles.getPropertyValue('--flarum-screen') as ReturnType<Application['screen']>;\n  }\n\n  /**\n   * Set the `<title>` of the page.\n   *\n   * @param title New page title\n   */\n  setTitle(title: string): void {\n    this.title = title;\n    this.updateTitle();\n  }\n\n  /**\n   * Set a number to display in the `<title>` of the page.\n   *\n   * @param count Number to display in title\n   */\n  setTitleCount(count: number): void {\n    this.titleCount = count;\n    this.updateTitle();\n  }\n\n  updateTitle(): void {\n    const count = this.titleCount ? `(${this.titleCount}) ` : '';\n    const onHomepage = m.route.get() === this.forum.attribute('basePath') + '/';\n\n    const params = {\n      pageTitle: this.title,\n      forumName: this.forum.attribute('title'),\n      // Until we add page numbers to the frontend, this is constant at 1\n      // so that the page number portion doesn't show up in the URL.\n      pageNumber: 1,\n    };\n\n    let title =\n      onHomepage || !this.title\n        ? extractText(app.translator.trans('core.lib.meta_titles.without_page_title', params))\n        : extractText(app.translator.trans('core.lib.meta_titles.with_page_title', params));\n\n    title = count + title;\n\n    // We pass the title through a DOMParser to allow HTML entities\n    // to be rendered correctly, while still preventing XSS attacks\n    // from user input by using a script-disabled environment.\n    // https://github.com/flarum/framework/issues/3514\n    // https://github.com/flarum/framework/pull/3684\n    // This is only a temporary solution for 1.x,\n    // and the actual source of the issue will be fixed in 2.x\n    // Actual source of the issue: https://github.com/flarum/framework/issues/3685\n    const parser = new DOMParser();\n    document.title = parser.parseFromString(title, 'text/html').body.innerText;\n  }\n\n  protected transformRequestOptions<ResponseType>(flarumOptions: FlarumRequestOptions<ResponseType>): InternalFlarumRequestOptions<ResponseType> {\n    const { background, deserialize, extract, modifyText, ...tmpOptions } = { ...flarumOptions };\n\n    // Unless specified otherwise, requests should run asynchronously in the\n    // background, so that they don't prevent redraws from occurring.\n    const defaultBackground = true;\n\n    // When we deserialize JSON data, if for some reason the server has provided\n    // a dud response, we don't want the application to crash. We'll show an\n    // error message to the user instead.\n\n    const defaultDeserialize = (response: string) => response as ResponseType;\n\n    // When extracting the data from the response, we can check the server\n    // response code and show an error message to the user if something's gone\n    // awry.\n    const originalExtract = modifyText || extract;\n\n    const options: InternalFlarumRequestOptions<ResponseType> = {\n      background: background ?? defaultBackground,\n      deserialize: deserialize ?? defaultDeserialize,\n      ...tmpOptions,\n    };\n\n    extend(options, 'config', (_: undefined, xhr: XMLHttpRequest) => {\n      xhr.setRequestHeader('X-CSRF-Token', this.session.csrfToken!);\n    });\n\n    // If the method is something like PATCH or DELETE, which not all servers\n    // and clients support, then we'll send it as a POST request with the\n    // intended method specified in the X-HTTP-Method-Override header.\n    if (options.method && !['GET', 'POST'].includes(options.method)) {\n      const method = options.method;\n\n      extend(options, 'config', (_: undefined, xhr: XMLHttpRequest) => {\n        xhr.setRequestHeader('X-HTTP-Method-Override', method);\n      });\n\n      options.method = 'POST';\n    }\n\n    options.extract = (xhr: XMLHttpRequest) => {\n      let responseText;\n\n      if (originalExtract) {\n        responseText = originalExtract(xhr.responseText);\n      } else {\n        responseText = xhr.responseText;\n      }\n\n      const status = xhr.status;\n\n      if (status < 200 || status > 299) {\n        throw new RequestError<ResponseType>(status, `${responseText}`, options, xhr);\n      }\n\n      if (xhr.getResponseHeader) {\n        const csrfToken = xhr.getResponseHeader('X-CSRF-Token');\n        if (csrfToken) app.session.csrfToken = csrfToken;\n      }\n\n      try {\n        if (responseText === '') {\n          return null;\n        }\n\n        return JSON.parse(responseText);\n      } catch (e) {\n        throw new RequestError<ResponseType>(500, `${responseText}`, options, xhr);\n      }\n    };\n\n    return options;\n  }\n\n  /**\n   * Make an AJAX request, handling any low-level errors that may occur.\n   *\n   * @see https://mithril.js.org/request.html\n   */\n  request<ResponseType>(originalOptions: FlarumRequestOptions<ResponseType>): Promise<ResponseType> {\n    const options = this.transformRequestOptions(originalOptions);\n\n    if (this.requestErrorAlert) this.alerts.dismiss(this.requestErrorAlert);\n\n    return m.request(options).catch((e) => this.requestErrorCatch(e, originalOptions.errorHandler));\n  }\n\n  /**\n   * By default, show an error alert, and log the error to the console.\n   */\n  protected requestErrorCatch<ResponseType>(error: RequestError, customErrorHandler: FlarumRequestOptions<ResponseType>['errorHandler']) {\n    // the details property is decoded to transform escaped characters such as '\\n'\n    const formattedErrors = error.response?.errors?.map((e) => decodeURI(e.detail ?? '')) ?? [];\n\n    let content;\n    switch (error.status) {\n      case 422:\n        content = formattedErrors\n          .map((detail) => [detail, <br />])\n          .flat()\n          .slice(0, -1);\n        break;\n\n      case 401:\n      case 403:\n        content = app.translator.trans('core.lib.error.permission_denied_message');\n        break;\n\n      case 404:\n      case 410:\n        content = app.translator.trans('core.lib.error.not_found_message');\n        break;\n\n      case 413:\n        content = app.translator.trans('core.lib.error.payload_too_large_message');\n        break;\n\n      case 429:\n        content = app.translator.trans('core.lib.error.rate_limit_exceeded_message');\n        break;\n\n      default:\n        if (this.requestWasCrossOrigin(error)) {\n          content = app.translator.trans('core.lib.error.generic_cross_origin_message');\n        } else {\n          content = app.translator.trans('core.lib.error.generic_message');\n        }\n    }\n\n    const isDebug: boolean = app.forum.attribute('debug');\n\n    error.alert = {\n      type: 'error',\n      content,\n      controls: isDebug && [\n        <Button className=\"Button Button--link\" onclick={this.showDebug.bind(this, error, formattedErrors)}>\n          {app.translator.trans('core.lib.debug_button')}\n        </Button>,\n      ],\n    };\n\n    if (customErrorHandler) {\n      customErrorHandler(error);\n    } else {\n      this.requestErrorDefaultHandler(error, isDebug, formattedErrors);\n    }\n\n    return Promise.reject(error);\n  }\n\n  /**\n   * Used to modify the error message shown on the page to help troubleshooting.\n   * While not certain, a failing cross-origin request likely indicates a missing redirect to Flarum canonical URL.\n   * Because XHR errors do not expose CORS information, we can only compare the requested URL origin to the page origin.\n   *\n   * @param error\n   * @protected\n   */\n  protected requestWasCrossOrigin(error: RequestError): boolean {\n    return new URL(error.options.url, document.baseURI).origin !== window.location.origin;\n  }\n\n  protected requestErrorDefaultHandler(e: unknown, isDebug: boolean, formattedErrors: string[]): void {\n    if (e instanceof RequestError) {\n      if (isDebug && e.xhr) {\n        const { method, url } = e.options;\n        const { status = '' } = e.xhr;\n\n        console.group(`${method} ${url} ${status}`);\n\n        if (formattedErrors.length) {\n          console.error(...formattedErrors);\n        } else {\n          console.error(e);\n        }\n\n        console.groupEnd();\n      }\n\n      if (e.alert) {\n        this.requestErrorAlert = this.alerts.show(e.alert, e.alert.content);\n      }\n    } else {\n      throw e;\n    }\n  }\n\n  private showDebug(error: RequestError, formattedError: string[]) {\n    if (this.requestErrorAlert !== null) this.alerts.dismiss(this.requestErrorAlert);\n\n    this.modal.show(RequestErrorModal, { error, formattedError });\n  }\n\n  /**\n   * Construct a URL to the route with the given name.\n   */\n  route(name: string, params: Record<string, unknown> = {}): string {\n    const route = this.routes[name];\n\n    if (!route) throw new Error(`Route '${name}' does not exist`);\n\n    const url = route.path.replace(/:([^\\/]+)/g, (m, key) => `${extract(params, key)}`);\n\n    // Remove falsy values in params to avoid having urls like '/?sort&q'\n    for (const key in params) {\n      if (params.hasOwnProperty(key) && !params[key]) delete params[key];\n    }\n\n    const queryString = m.buildQueryString(params as any);\n    const prefix = m.route.prefix === '' ? this.forum.attribute('basePath') : '';\n\n    return prefix + url + (queryString ? '?' + queryString : '');\n  }\n}\n","import type Mithril from 'mithril';\n\nexport interface ComponentAttrs extends Mithril.Attributes {}\n\n/**\n * The `Component` class defines a user interface 'building block'. A component\n * generates a virtual DOM to be rendered on each redraw.\n *\n * Essentially, this is a wrapper for Mithril's components that adds several useful features:\n *\n *  - In the `oninit` and `onbeforeupdate` lifecycle hooks, we store vnode attrs in `this.attrs.\n *    This allows us to use attrs across components without having to pass the vnode to every single\n *    method.\n *  - The static `initAttrs` method allows a convenient way to provide defaults (or to otherwise modify)\n *    the attrs that have been passed into a component.\n *  - When the component is created in the DOM, we store its DOM element under `this.element`; this lets\n *    us use jQuery to modify child DOM state from internal methods via the `this.$()` method.\n *  - A convenience `component` method, which serves as an alternative to hyperscript and JSX.\n *\n * As with other Mithril components, components extending Component can be initialized\n * and nested using JSX, hyperscript, or a combination of both. The `component` method can also\n * be used.\n *\n * @example\n * return m('div', <MyComponent foo=\"bar\"><p>Hello World</p></MyComponent>);\n *\n * @example\n * return m('div', MyComponent.component({foo: 'bar'), m('p', 'Hello World!'));\n *\n * @see https://mithril.js.org/components.html\n */\nexport default abstract class Component<Attrs extends ComponentAttrs = ComponentAttrs, State = undefined> implements Mithril.ClassComponent<Attrs> {\n  /**\n   * The root DOM element for the component.\n   */\n  element!: Element;\n\n  /**\n   * The attributes passed into the component.\n   *\n   * @see https://mithril.js.org/components.html#passing-data-to-components\n   */\n  attrs!: Attrs;\n\n  /**\n   * Class component state that is persisted between redraws.\n   *\n   * Updating this will **not** automatically trigger a redraw, unlike\n   * other frameworks.\n   *\n   * This is different to Vnode state, which is always an instance of your\n   * class component.\n   *\n   * This is `undefined` by default.\n   */\n  state!: State;\n\n  /**\n   * @inheritdoc\n   */\n  abstract view(vnode: Mithril.Vnode<Attrs, this>): Mithril.Children;\n\n  /**\n   * @inheritdoc\n   */\n  oninit(vnode: Mithril.Vnode<Attrs, this>) {\n    this.setAttrs(vnode.attrs);\n  }\n\n  /**\n   * @inheritdoc\n   */\n  oncreate(vnode: Mithril.VnodeDOM<Attrs, this>) {\n    this.element = vnode.dom;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  onbeforeupdate(vnode: Mithril.VnodeDOM<Attrs, this>) {\n    this.setAttrs(vnode.attrs);\n  }\n\n  /**\n   * @inheritdoc\n   */\n  onupdate(vnode: Mithril.VnodeDOM<Attrs, this>) {}\n\n  /**\n   * @inheritdoc\n   */\n  onbeforeremove(vnode: Mithril.VnodeDOM<Attrs, this>) {}\n\n  /**\n   * @inheritdoc\n   */\n  onremove(vnode: Mithril.VnodeDOM<Attrs, this>) {}\n\n  /**\n   * Returns a jQuery object for this component's element. If you pass in a\n   * selector string, this method will return a jQuery object, using the current\n   * element as its buffer.\n   *\n   * For example, calling `component.$('li')` will return a jQuery object\n   * containing all of the `li` elements inside the DOM element of this\n   * component.\n   *\n   * @param [selector] a jQuery-compatible selector string\n   * @returns the jQuery object for the DOM node\n   * @final\n   */\n  $(selector?: string): JQuery {\n    const $element = $(this.element) as JQuery<HTMLElement>;\n\n    return selector ? $element.find(selector) : $element;\n  }\n\n  /**\n   * Convenience method to attach a component without JSX.\n   * Has the same effect as calling `m(THIS_CLASS, attrs, children)`.\n   *\n   * @see https://mithril.js.org/hyperscript.html#mselector,-attributes,-children\n   */\n  static component<SAttrs extends ComponentAttrs = ComponentAttrs>(attrs: SAttrs = {} as SAttrs, children: Mithril.Children = null): Mithril.Vnode {\n    const componentAttrs = { ...attrs };\n\n    return m(this as any, componentAttrs, children);\n  }\n\n  /**\n   * Saves a reference to the vnode attrs after running them through initAttrs,\n   * and checking for common issues.\n   */\n  private setAttrs(attrs: Attrs = {} as Attrs): void {\n    (this.constructor as typeof Component).initAttrs(attrs);\n\n    if (attrs) {\n      if ('children' in attrs) {\n        throw new Error(\n          `[${\n            (this.constructor as typeof Component).name\n          }] The \"children\" attribute of attrs should never be used. Either pass children in as the vnode children or rename the attribute`\n        );\n      }\n\n      if ('tag' in attrs) {\n        throw new Error(`[${(this.constructor as typeof Component).name}] You cannot use the \"tag\" attribute name with Mithril 2.`);\n      }\n    }\n\n    this.attrs = attrs;\n  }\n\n  /**\n   * Initialize the component's attrs.\n   *\n   * This can be used to assign default values for missing, optional attrs.\n   */\n  static initAttrs(attrs: unknown): void {}\n}\n","import type Mithril from 'mithril';\n\n/**\n * The `Fragment` class represents a chunk of DOM that is rendered once with Mithril and then takes\n * over control of its own DOM and lifecycle.\n *\n * This is very similar to the `Component` wrapper class, but is used for more fine-grained control over\n * the rendering and display of some significant chunks of the DOM. In contrast to components, fragments\n * do not offer Mithril's lifecycle hooks.\n *\n * Use this when you want to enjoy the benefits of JSX / VDOM for initial rendering, combined with\n * small helper methods that then make updates to that DOM directly, instead of fully redrawing\n * everything through Mithril.\n *\n * This should only be used when necessary, and only with `m.render`. If you are unsure whether you need\n * this or `Component, you probably need `Component`.\n */\nexport default abstract class Fragment {\n  /**\n   * The root DOM element for the fragment.\n   */\n  protected element!: Element;\n\n  /**\n   * Returns a jQuery object for this fragment's element. If you pass in a\n   * selector string, this method will return a jQuery object, using the current\n   * element as its buffer.\n   *\n   * For example, calling `fragment.$('li')` will return a jQuery object\n   * containing all of the `li` elements inside the DOM element of this\n   * fragment.\n   *\n   * @param [selector] a jQuery-compatible selector string\n   * @returns the jQuery object for the DOM node\n   * @final\n   */\n  public $(selector?: string): JQuery {\n    const $element = $(this.element) as JQuery<HTMLElement>;\n\n    return selector ? $element.find(selector) : $element;\n  }\n\n  /**\n   * Get the renderable virtual DOM that represents the fragment's view.\n   *\n   * This should NOT be overridden by subclasses. Subclasses wishing to define\n   * their virtual DOM should override Fragment#view instead.\n   *\n   * @example\n   * const fragment = new MyFragment();\n   * m.render(document.body, fragment.render());\n   *\n   * @final\n   */\n  public render(): Mithril.Vnode<Mithril.Attributes, this> {\n    const vdom = this.view();\n\n    vdom.attrs = vdom.attrs || {};\n\n    const originalOnCreate = vdom.attrs.oncreate;\n\n    vdom.attrs.oncreate = (vnode) => {\n      this.element = vnode.dom;\n      if (originalOnCreate) originalOnCreate.apply(this, [vnode]);\n    };\n\n    return vdom;\n  }\n\n  /**\n   * Creates a view out of virtual elements.\n   */\n  abstract view(): Mithril.Vnode<Mithril.Attributes, this>;\n}\n","import app from '../common/app';\nimport { FlarumRequestOptions } from './Application';\nimport { fireDeprecationWarning } from './helpers/fireDebugWarning';\nimport Store, { ApiPayloadSingle, ApiResponseSingle, MetaInformation } from './Store';\n\nexport interface ModelIdentifier {\n  type: string;\n  id: string;\n}\n\nexport interface ModelAttributes {\n  [key: string]: unknown;\n}\n\nexport interface ModelRelationships {\n  [relationship: string]: {\n    data: ModelIdentifier | ModelIdentifier[];\n  };\n}\n\nexport interface UnsavedModelData {\n  type?: string;\n  attributes?: ModelAttributes;\n  relationships?: ModelRelationships;\n}\n\nexport interface SavedModelData {\n  type: string;\n  id: string;\n  attributes?: ModelAttributes;\n  relationships?: ModelRelationships;\n}\n\nexport type ModelData = UnsavedModelData | SavedModelData;\n\nexport interface SaveRelationships {\n  [relationship: string]: null | Model | Model[];\n}\n\nexport interface SaveAttributes {\n  [key: string]: unknown;\n  relationships?: SaveRelationships;\n}\n\n/**\n * The `Model` class represents a local data resource. It provides methods to\n * persist changes via the API.\n */\nexport default abstract class Model {\n  /**\n   * The resource object from the API.\n   */\n  data: ModelData = {};\n\n  /**\n   * The time at which the model's data was last updated. Watching the value\n   * of this property is a fast way to retain/cache a subtree if data hasn't\n   * changed.\n   */\n  freshness: Date = new Date();\n\n  /**\n   * Whether or not the resource exists on the server.\n   */\n  exists: boolean = false;\n\n  /**\n   * The data store that this resource should be persisted to.\n   */\n  protected store: Store;\n\n  /**\n   * @param data A resource object from the API.\n   * @param store The data store that this model should be persisted to.\n   */\n  constructor(data: ModelData = {}, store = app.store) {\n    this.data = data;\n    this.store = store;\n  }\n\n  /**\n   * Get the model's ID.\n   *\n   * @final\n   */\n  id(): string | undefined {\n    return 'id' in this.data ? this.data.id : undefined;\n  }\n\n  /**\n   * Get one of the model's attributes.\n   *\n   * @final\n   */\n  attribute<T = unknown>(attribute: string): T {\n    return this.data?.attributes?.[attribute] as T;\n  }\n\n  /**\n   * Merge new data into this model locally.\n   *\n   * @param data A resource object to merge into this model\n   */\n  pushData(data: ModelData | { relationships?: SaveRelationships }): this {\n    if ('id' in data) {\n      (this.data as SavedModelData).id = data.id;\n    }\n\n    if ('type' in data) {\n      this.data.type = data.type;\n    }\n\n    if ('attributes' in data) {\n      this.data.attributes ||= {};\n\n      // @deprecated\n      // Filter out relationships that got in by accident.\n      for (const key in data.attributes) {\n        const val = data.attributes[key];\n        if (val && val instanceof Model) {\n          fireDeprecationWarning('Providing models as attributes to `Model.pushData()` or `Model.pushAttributes()` is deprecated.', '3249');\n          delete data.attributes[key];\n          data.relationships ||= {};\n          data.relationships[key] = { data: Model.getIdentifier(val) };\n        }\n      }\n\n      Object.assign(this.data.attributes, data.attributes);\n    }\n\n    if ('relationships' in data) {\n      const relationships = this.data.relationships ?? {};\n\n      // For every relationship field, we need to check if we've\n      // been handed a Model instance. If so, we will convert it to a\n      // relationship data object.\n      for (const r in data.relationships) {\n        const relationship = data.relationships[r];\n\n        if (relationship === null) {\n          delete relationships[r];\n          delete data.relationships[r];\n          continue;\n        }\n\n        let identifier: ModelRelationships[string];\n        if (relationship instanceof Model) {\n          identifier = { data: Model.getIdentifier(relationship) };\n        } else if (relationship instanceof Array) {\n          identifier = { data: relationship.map(Model.getIdentifier) };\n        } else {\n          identifier = relationship;\n        }\n\n        data.relationships[r] = identifier;\n        relationships[r] = identifier;\n      }\n\n      this.data.relationships = relationships;\n    }\n\n    // Now that we've updated the data, we can say that the model is fresh.\n    // This is an easy way to invalidate retained subtrees etc.\n    this.freshness = new Date();\n\n    return this;\n  }\n\n  /**\n   * Merge new attributes into this model locally.\n   *\n   * @param attributes The attributes to merge.\n   */\n  pushAttributes(attributes: ModelAttributes) {\n    this.pushData({ attributes });\n  }\n\n  /**\n   * Merge new attributes into this model, both locally and with persistence.\n   *\n   * @param attributes The attributes to save. If a 'relationships' key\n   *     exists, it will be extracted and relationships will also be saved.\n   */\n  save(\n    attributes: SaveAttributes,\n    options: Omit<FlarumRequestOptions<ApiPayloadSingle>, 'url'> & { meta?: MetaInformation } = {}\n  ): Promise<ApiResponseSingle<this>> {\n    const data: ModelData & { id?: string } = {\n      type: this.data.type,\n      attributes,\n    };\n\n    if ('id' in this.data) {\n      data.id = this.data.id;\n    }\n\n    // If a 'relationships' key exists, extract it from the attributes hash and\n    // set it on the top-level data object instead. We will be sending this data\n    // object to the API for persistence.\n    if (attributes.relationships) {\n      data.relationships = {};\n\n      for (const key in attributes.relationships) {\n        const model = attributes.relationships[key];\n\n        if (model === null) continue;\n\n        data.relationships[key] = {\n          data: model instanceof Array ? model.map(Model.getIdentifier) : Model.getIdentifier(model),\n        };\n      }\n\n      delete attributes.relationships;\n    }\n\n    // Before we update the model's data, we should make a copy of the model's\n    // old data so that we can revert back to it if something goes awry during\n    // persistence.\n    const oldData = this.copyData();\n\n    this.pushData(data);\n\n    const request = {\n      data,\n      meta: options.meta || undefined,\n    };\n\n    return app\n      .request<ApiPayloadSingle>({\n        method: this.exists ? 'PATCH' : 'POST',\n        url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n        body: request,\n        ...options,\n      })\n      .then(\n        // If everything went well, we'll make sure the store knows that this\n        // model exists now (if it didn't already), and we'll push the data that\n        // the API returned into the store.\n        (payload) => {\n          return this.store.pushPayload<this>(payload);\n        },\n\n        // If something went wrong, though... good thing we backed up our model's\n        // old data! We'll revert to that and let others handle the error.\n        (err: Error) => {\n          this.pushData(oldData);\n          m.redraw();\n          throw err;\n        }\n      );\n  }\n\n  /**\n   * Send a request to delete the resource.\n   *\n   * @param body Data to send along with the DELETE request.\n   */\n  delete(body: FlarumRequestOptions<void>['body'] = {}, options: Omit<FlarumRequestOptions<void>, 'url'> = {}): Promise<void> {\n    if (!this.exists) return Promise.resolve();\n\n    return app\n      .request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n        body,\n        ...options,\n      })\n      .then(() => {\n        this.exists = false;\n\n        this.store.remove(this);\n      });\n  }\n\n  /**\n   * Construct a path to the API endpoint for this resource.\n   */\n  protected apiEndpoint(): string {\n    return '/' + this.data.type + ('id' in this.data ? '/' + this.data.id : '');\n  }\n\n  protected copyData(): ModelData {\n    return JSON.parse(JSON.stringify(this.data));\n  }\n\n  protected rawRelationship<M extends Model>(relationship: string): undefined | ModelIdentifier;\n  protected rawRelationship<M extends Model[]>(relationship: string): undefined | ModelIdentifier[];\n  protected rawRelationship<_M extends Model | Model[]>(relationship: string): undefined | ModelIdentifier | ModelIdentifier[] {\n    return this.data.relationships?.[relationship]?.data;\n  }\n\n  /**\n   * Generate a function which returns the value of the given attribute.\n   *\n   * @param transform A function to transform the attribute value\n   */\n  static attribute<T>(name: string): () => T;\n  static attribute<T, O = unknown>(name: string, transform: (attr: O) => T): () => T;\n  static attribute<T, O = unknown>(name: string, transform?: (attr: O) => T): () => T {\n    return function (this: Model) {\n      if (transform) {\n        return transform(this.attribute(name));\n      }\n\n      return this.attribute(name);\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-one\n   * relationship.\n   *\n   * @return false if no information about the\n   *     relationship exists; undefined if the relationship exists but the model\n   *     has not been loaded; or the model if it has been loaded.\n   */\n  static hasOne<M extends Model>(name: string): () => M | false;\n  static hasOne<M extends Model | null>(name: string): () => M | null | false;\n  static hasOne<M extends Model>(name: string): () => M | false {\n    return function (this: Model) {\n      const relationshipData = this.data.relationships?.[name]?.data;\n\n      if (relationshipData && relationshipData instanceof Array) {\n        throw new Error(`Relationship ${name} on model ${this.data.type} is plural, so the hasOne method cannot be used to access it.`);\n      }\n\n      if (relationshipData) {\n        return this.store.getById<M>(relationshipData.type, relationshipData.id) as M;\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-many\n   * relationship.\n   *\n   * @return false if no information about the relationship\n   *     exists; an array if it does, containing models if they have been\n   *     loaded, and undefined for those that have not.\n   */\n  static hasMany<M extends Model>(name: string): () => (M | undefined)[] | false {\n    return function (this: Model) {\n      const relationshipData = this.data.relationships?.[name]?.data;\n\n      if (relationshipData && !(relationshipData instanceof Array)) {\n        throw new Error(`Relationship ${name} on model ${this.data.type} is singular, so the hasMany method cannot be used to access it.`);\n      }\n\n      if (relationshipData) {\n        return relationshipData.map((data) => this.store.getById<M>(data.type, data.id));\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Transform the given value into a Date object.\n   */\n  static transformDate(value: string): Date;\n  static transformDate(value: string | null): Date | null;\n  static transformDate(value: string | undefined): Date | undefined;\n  static transformDate(value: string | null | undefined): Date | null | undefined;\n  static transformDate(value: string | null | undefined): Date | null | undefined {\n    return value != null ? new Date(value) : value;\n  }\n\n  /**\n   * Get a resource identifier object for the given model.\n   */\n  protected static getIdentifier(model: Model): ModelIdentifier;\n  protected static getIdentifier(model?: Model): ModelIdentifier | null {\n    if (!model || !('id' in model.data)) return null;\n\n    return {\n      type: model.data.type,\n      id: model.data.id,\n    };\n  }\n}\n","import app from '../common/app';\nimport User from './models/User';\nimport { FlarumRequestOptions } from './Application';\n\nexport type LoginParams = {\n  /**\n   * The username/email\n   */\n  identification: string;\n  password: string;\n  remember: boolean;\n};\n\n/**\n * The `Session` class defines the current user session. It stores a reference\n * to the current authenticated user, and provides methods to log in/out.\n */\nexport default class Session {\n  /**\n   * The current authenticated user.\n   */\n  user: User | null;\n\n  /**\n   * The CSRF token.\n   */\n  csrfToken: string;\n\n  constructor(user: User | null, csrfToken: string) {\n    this.user = user;\n    this.csrfToken = csrfToken;\n  }\n\n  /**\n   * Attempt to log in a user.\n   */\n  login(body: LoginParams, options: Omit<FlarumRequestOptions<any>, 'url' | 'body' | 'method'> = {}) {\n    return app.request({\n      method: 'POST',\n      url: `${app.forum.attribute('baseUrl')}/login`,\n      body,\n      ...options,\n    });\n  }\n\n  /**\n   * Log the user out.\n   */\n  logout() {\n    window.location.href = `${app.forum.attribute('baseUrl')}/logout?token=${this.csrfToken}`;\n  }\n}\n","import app from '../common/app';\nimport { FlarumRequestOptions } from './Application';\nimport { fireDeprecationWarning } from './helpers/fireDebugWarning';\nimport Model, { ModelData, SavedModelData } from './Model';\n\nexport interface MetaInformation {\n  [key: string]: any;\n}\n\nexport interface ApiQueryParamsSingle {\n  fields?: string[];\n  include?: string;\n  bySlug?: boolean;\n  meta?: MetaInformation;\n}\n\nexport interface ApiQueryParamsPlural {\n  fields?: string[];\n  include?: string;\n  filter?:\n    | {\n        q: string;\n      }\n    | Record<string, string>;\n  page?: {\n    near?: number;\n    offset?: number;\n    number?: number;\n    limit?: number;\n    size?: number;\n  };\n  sort?: string;\n  meta?: MetaInformation;\n}\n\nexport type ApiQueryParams = ApiQueryParamsPlural | ApiQueryParamsSingle;\n\nexport interface ApiPayloadSingle {\n  data: SavedModelData;\n  included?: SavedModelData[];\n  meta?: MetaInformation;\n}\n\nexport interface ApiPayloadPlural {\n  data: SavedModelData[];\n  included?: SavedModelData[];\n  links?: {\n    first: string;\n    next?: string;\n    prev?: string;\n  };\n  meta?: MetaInformation;\n}\n\nexport type ApiPayload = ApiPayloadSingle | ApiPayloadPlural;\n\nexport type ApiResponseSingle<M extends Model> = M & { payload: ApiPayloadSingle };\nexport type ApiResponsePlural<M extends Model> = M[] & { payload: ApiPayloadPlural };\nexport type ApiResponse<M extends Model> = ApiResponseSingle<M> | ApiResponsePlural<M>;\n\ninterface ApiQueryRequestOptions<ResponseType> extends Omit<FlarumRequestOptions<ResponseType>, 'url'> {}\n\ninterface StoreData {\n  [type: string]: Partial<Record<string, Model>>;\n}\n\nexport function payloadIsPlural(payload: ApiPayload): payload is ApiPayloadPlural {\n  return Array.isArray((payload as ApiPayloadPlural).data);\n}\n\n/**\n * The `Store` class defines a local data store, and provides methods to\n * retrieve data from the API.\n */\nexport default class Store {\n  /**\n   * The local data store. A tree of resource types to IDs, such that\n   * accessing data[type][id] will return the model for that type/ID.\n   */\n  protected data: StoreData = {};\n\n  /**\n   * The model registry. A map of resource types to the model class that\n   * should be used to represent resources of that type.\n   */\n  models: Record<string, { new (): Model }>;\n\n  constructor(models: Record<string, { new (): Model }>) {\n    this.models = models;\n  }\n\n  /**\n   * Push resources contained within an API payload into the store.\n   *\n   * @return The model(s) representing the resource(s) contained\n   *     within the 'data' key of the payload.\n   */\n  pushPayload<M extends Model>(payload: ApiPayloadSingle): ApiResponseSingle<M>;\n  pushPayload<Ms extends Model[]>(payload: ApiPayloadPlural): ApiResponsePlural<Ms[number]>;\n  pushPayload<M extends Model | Model[]>(payload: ApiPayload): ApiResponse<FlatArray<M, 1>> {\n    if (payload.included) payload.included.map(this.pushObject.bind(this));\n\n    const models = payload.data instanceof Array ? payload.data.map((o) => this.pushObject(o, false)) : this.pushObject(payload.data, false);\n    const result = models as ApiResponse<FlatArray<M, 1>>;\n\n    // Attach the original payload to the model that we give back. This is\n    // useful to consumers as it allows them to access meta information\n    // associated with their request.\n    result.payload = payload;\n\n    return result;\n  }\n\n  /**\n   * Create a model to represent a resource object (or update an existing one),\n   * and push it into the store.\n   *\n   * @param data The resource object\n   * @return The model, or null if no model class has been\n   *     registered for this resource type.\n   */\n  pushObject<M extends Model>(data: SavedModelData): M | null;\n  pushObject<M extends Model>(data: SavedModelData, allowUnregistered: false): M;\n  pushObject<M extends Model>(data: SavedModelData, allowUnregistered = true): M | null {\n    if (!this.models[data.type]) {\n      if (!allowUnregistered) {\n        setTimeout(() =>\n          fireDeprecationWarning(`Pushing object of type \\`${data.type}\\` not allowed, as type not yet registered in the store.`, '3206')\n        );\n      }\n\n      return null;\n    }\n\n    const type = (this.data[data.type] = this.data[data.type] || {});\n\n    // Necessary for TS to narrow correctly.\n    const curr = type[data.id] as M;\n    const instance = curr ? curr.pushData(data) : this.createRecord<M>(data.type, data);\n\n    type[data.id] = instance;\n    instance.exists = true;\n\n    return instance;\n  }\n\n  /**\n   * Make a request to the API to find record(s) of a specific type.\n   */\n  async find<M extends Model>(type: string, params?: ApiQueryParamsSingle): Promise<ApiResponseSingle<M>>;\n  async find<Ms extends Model[]>(type: string, params?: ApiQueryParamsPlural): Promise<ApiResponsePlural<Ms[number]>>;\n  async find<M extends Model>(\n    type: string,\n    id: string,\n    params?: ApiQueryParamsSingle,\n    options?: ApiQueryRequestOptions<ApiPayloadSingle>\n  ): Promise<ApiResponseSingle<M>>;\n  async find<Ms extends Model[]>(\n    type: string,\n    ids: string[],\n    params?: ApiQueryParamsPlural,\n    options?: ApiQueryRequestOptions<ApiPayloadPlural>\n  ): Promise<ApiResponsePlural<Ms[number]>>;\n  async find<M extends Model | Model[]>(\n    type: string,\n    idOrParams: undefined | string | string[] | ApiQueryParams,\n    query: ApiQueryParams = {},\n    options: ApiQueryRequestOptions<M extends Array<infer _T> ? ApiPayloadPlural : ApiPayloadSingle> = {}\n  ): Promise<ApiResponse<FlatArray<M, 1>>> {\n    let params = query;\n    let url = app.forum.attribute('apiUrl') + '/' + type;\n\n    if (idOrParams instanceof Array) {\n      url += '?filter[id]=' + idOrParams.join(',');\n    } else if (typeof idOrParams === 'object') {\n      params = idOrParams;\n    } else if (idOrParams) {\n      url += '/' + idOrParams;\n    }\n\n    return app\n      .request<M extends Array<infer _T> ? ApiPayloadPlural : ApiPayloadSingle>({\n        method: 'GET',\n        url,\n        params,\n        ...options,\n      })\n      .then((payload) => {\n        if (payloadIsPlural(payload)) {\n          return this.pushPayload<FlatArray<M, 1>[]>(payload);\n        } else {\n          return this.pushPayload<FlatArray<M, 1>>(payload);\n        }\n      });\n  }\n\n  /**\n   * Get a record from the store by ID.\n   */\n  getById<M extends Model>(type: string, id: string): M | undefined {\n    return this.data?.[type]?.[id] as M;\n  }\n\n  /**\n   * Get a record from the store by the value of a model attribute.\n   *\n   * @param type The resource type.\n   * @param key The name of the method on the model.\n   * @param value The value of the model attribute.\n   */\n  getBy<M extends Model, T = unknown>(type: string, key: keyof M, value: T): M | undefined {\n    // @ts-expect-error No way to do this safely, unfortunately.\n    return this.all(type).filter((model) => model[key]() === value)[0] as M;\n  }\n\n  /**\n   * Get all loaded records of a specific type.\n   */\n  all<M extends Model>(type: string): M[] {\n    const records = this.data[type];\n\n    return records ? (Object.values(records) as M[]) : [];\n  }\n\n  /**\n   * Remove the given model from the store.\n   */\n  remove(model: Model): void {\n    delete this.data[model.data.type as string][model.id() as string];\n  }\n\n  /**\n   * Create a new record of the given type.\n   *\n   * @param type The resource type\n   * @param data Any data to initialize the model with\n   */\n  createRecord<M extends Model>(type: string, data: ModelData = {}): M {\n    data.type = data.type || type;\n\n    // @ts-expect-error this will complain about initializing abstract models,\n    // but we can safely assume that all models registered with the store are\n    // not abstract.\n    return new this.models[type](data, this);\n  }\n}\n","import { RichMessageFormatter, mithrilRichHandler } from '@askvortsov/rich-icu-message-formatter';\nimport { pluralTypeHandler, selectTypeHandler } from '@ultraq/icu-message-formatter';\nimport username from './helpers/username';\nimport User from './models/User';\nimport extract from './utils/extract';\n\ntype Translations = Record<string, string>;\ntype TranslatorParameters = Record<string, unknown>;\n\nexport default class Translator {\n  /**\n   * A map of translation keys to their translated values.\n   */\n  translations: Translations = {};\n\n  /**\n   * The underlying ICU MessageFormatter util.\n   */\n  protected formatter = new RichMessageFormatter(null, this.formatterTypeHandlers(), mithrilRichHandler);\n\n  /**\n   * Sets the formatter's locale to the provided value.\n   */\n  setLocale(locale: string) {\n    this.formatter.locale = locale;\n  }\n\n  /**\n   * Returns the formatter's current locale.\n   */\n  getLocale() {\n    return this.formatter.locale;\n  }\n\n  addTranslations(translations: Translations) {\n    Object.assign(this.translations, translations);\n  }\n\n  /**\n   * An extensible entrypoint for extenders to register type handlers for translations.\n   */\n  protected formatterTypeHandlers() {\n    return {\n      plural: pluralTypeHandler,\n      select: selectTypeHandler,\n    };\n  }\n\n  /**\n   * A temporary system to preprocess parameters.\n   * Should not be used by extensions.\n   * TODO: An extender will be added in v1.x.\n   *\n   * @internal\n   */\n  protected preprocessParameters(parameters: TranslatorParameters) {\n    // If we've been given a user model as one of the input parameters, then\n    // we'll extract the username and use that for the translation. In the\n    // future there should be a hook here to inspect the user and change the\n    // translation key. This will allow a gender property to determine which\n    // translation key is used.\n\n    if ('user' in parameters) {\n      const user = extract(parameters, 'user') as User;\n\n      if (!parameters.username) parameters.username = username(user);\n    }\n\n    return parameters;\n  }\n\n  trans(id: string, parameters: TranslatorParameters = {}) {\n    const translation = this.translations[id];\n\n    if (translation) {\n      parameters = this.preprocessParameters(parameters);\n      return this.formatter.rich(translation, parameters);\n    }\n\n    return id;\n  }\n}\n","import type Application from './Application';\n\n// Used to fix typings\nconst w = window as any;\n\n/**\n * Proxy app. Common JS is run first, at which point `window.app` is not\n * set as this is done by the namespaced JS.\n *\n * When the corrent value is set, this code would retain the reference to\n * the original invalid value.\n *\n * By using a proxy, we can ensure that our `window.app` value is always\n * up-to-date with the latest reference.\n */\nconst appProxy = new Proxy(\n  {},\n  {\n    get(_, properties) {\n      return Reflect.get(w.app, properties, w.app);\n    },\n    set(_, properties, value) {\n      return Reflect.set(w.app, properties, value, w.app);\n    },\n  }\n);\n\n/**\n * The instance of Application within the common namespace.\n */\nexport default appProxy as Application;\n","import * as extend from './extend';\nimport extenders from './extenders';\nimport Session from './Session';\nimport Store from './Store';\nimport BasicEditorDriver from './utils/BasicEditorDriver';\nimport evented from './utils/evented';\nimport EventEmitter from './utils/EventEmitter';\nimport KeyboardNavigatable from './utils/KeyboardNavigatable';\nimport liveHumanTimes from './utils/liveHumanTimes';\nimport ItemList from './utils/ItemList';\nimport mixin from './utils/mixin';\nimport humanTime from './utils/humanTime';\nimport computed from './utils/computed';\nimport insertText from './utils/insertText';\nimport styleSelectedText from './utils/styleSelectedText';\nimport Drawer from './utils/Drawer';\nimport anchorScroll from './utils/anchorScroll';\nimport RequestError from './utils/RequestError';\nimport abbreviateNumber from './utils/abbreviateNumber';\nimport escapeRegExp from './utils/escapeRegExp';\nimport * as string from './utils/string';\nimport * as ThrottleDebounce from './utils/throttleDebounce';\nimport Stream from './utils/Stream';\nimport SubtreeRetainer from './utils/SubtreeRetainer';\nimport setRouteWithForcedRefresh from './utils/setRouteWithForcedRefresh';\nimport extract from './utils/extract';\nimport ScrollListener from './utils/ScrollListener';\nimport stringToColor from './utils/stringToColor';\nimport subclassOf from './utils/subclassOf';\nimport patchMithril from './utils/patchMithril';\nimport proxifyCompat from './utils/proxifyCompat';\nimport classList from './utils/classList';\nimport extractText from './utils/extractText';\nimport formatNumber from './utils/formatNumber';\nimport mapRoutes from './utils/mapRoutes';\nimport withAttr from './utils/withAttr';\nimport * as FocusTrap from './utils/focusTrap';\nimport isDark from './utils/isDark';\nimport Notification from './models/Notification';\nimport User from './models/User';\nimport Post from './models/Post';\nimport Discussion from './models/Discussion';\nimport Group from './models/Group';\nimport Forum from './models/Forum';\nimport Component from './Component';\nimport Translator from './Translator';\nimport AlertManager from './components/AlertManager';\nimport Page from './components/Page';\nimport Switch from './components/Switch';\nimport Badge from './components/Badge';\nimport LoadingIndicator from './components/LoadingIndicator';\nimport Placeholder from './components/Placeholder';\nimport Separator from './components/Separator';\nimport Dropdown from './components/Dropdown';\nimport SplitDropdown from './components/SplitDropdown';\nimport RequestErrorModal from './components/RequestErrorModal';\nimport FieldSet from './components/FieldSet';\nimport Select from './components/Select';\nimport Navigation from './components/Navigation';\nimport Alert from './components/Alert';\nimport Link from './components/Link';\nimport LinkButton from './components/LinkButton';\nimport Checkbox from './components/Checkbox';\nimport ColorPreviewInput from './components/ColorPreviewInput';\nimport SelectDropdown from './components/SelectDropdown';\nimport ModalManager from './components/ModalManager';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport GroupBadge from './components/GroupBadge';\nimport TextEditor from './components/TextEditor';\nimport TextEditorButton from './components/TextEditorButton';\nimport EditUserModal from './components/EditUserModal';\nimport Tooltip from './components/Tooltip';\nimport Model from './Model';\nimport Application from './Application';\nimport fullTime from './helpers/fullTime';\nimport avatar from './helpers/avatar';\nimport icon from './helpers/icon';\nimport humanTimeHelper from './helpers/humanTime';\nimport punctuateSeries from './helpers/punctuateSeries';\nimport highlight from './helpers/highlight';\nimport username from './helpers/username';\nimport userOnline from './helpers/userOnline';\nimport listItems from './helpers/listItems';\nimport textContrastClass from './helpers/textContrastClass';\nimport Fragment from './Fragment';\nimport DefaultResolver from './resolvers/DefaultResolver';\nimport PaginatedListState from './states/PaginatedListState';\nimport isObject from './utils/isObject';\nimport AlertManagerState from './states/AlertManagerState';\nimport ModalManagerState from './states/ModalManagerState';\nimport PageState from './states/PageState';\n\nexport default {\n  extenders,\n  extend: extend,\n  Session: Session,\n  Store: Store,\n  'utils/BasicEditorDriver': BasicEditorDriver,\n  'utils/evented': evented,\n  'utils/EventEmitter': EventEmitter,\n  'utils/KeyboardNavigatable': KeyboardNavigatable,\n  'utils/liveHumanTimes': liveHumanTimes,\n  'utils/ItemList': ItemList,\n  'utils/mixin': mixin,\n  'utils/humanTime': humanTime,\n  'utils/computed': computed,\n  'utils/insertText': insertText,\n  'utils/styleSelectedText': styleSelectedText,\n  'utils/Drawer': Drawer,\n  'utils/anchorScroll': anchorScroll,\n  'utils/RequestError': RequestError,\n  'utils/abbreviateNumber': abbreviateNumber,\n  'utils/string': string,\n  'utils/SubtreeRetainer': SubtreeRetainer,\n  'utils/escapeRegExp': escapeRegExp,\n  'utils/extract': extract,\n  'utils/ScrollListener': ScrollListener,\n  'utils/stringToColor': stringToColor,\n  'utils/Stream': Stream,\n  'utils/subclassOf': subclassOf,\n  'utils/setRouteWithForcedRefresh': setRouteWithForcedRefresh,\n  'utils/patchMithril': patchMithril,\n  'utils/proxifyCompat': proxifyCompat,\n  'utils/classList': classList,\n  'utils/extractText': extractText,\n  'utils/formatNumber': formatNumber,\n  'utils/mapRoutes': mapRoutes,\n  'utils/withAttr': withAttr,\n  'utils/throttleDebounce': ThrottleDebounce,\n  'utils/isObject': isObject,\n  'utils/focusTrap': FocusTrap,\n  'utils/isDark': isDark,\n  'models/Notification': Notification,\n  'models/User': User,\n  'models/Post': Post,\n  'models/Discussion': Discussion,\n  'models/Group': Group,\n  'models/Forum': Forum,\n  Component: Component,\n  Fragment: Fragment,\n  Translator: Translator,\n  'components/AlertManager': AlertManager,\n  'components/Page': Page,\n  'components/Switch': Switch,\n  'components/Badge': Badge,\n  'components/LoadingIndicator': LoadingIndicator,\n  'components/Placeholder': Placeholder,\n  'components/Separator': Separator,\n  'components/Dropdown': Dropdown,\n  'components/SplitDropdown': SplitDropdown,\n  'components/RequestErrorModal': RequestErrorModal,\n  'components/FieldSet': FieldSet,\n  'components/Select': Select,\n  'components/Navigation': Navigation,\n  'components/Alert': Alert,\n  'components/Link': Link,\n  'components/LinkButton': LinkButton,\n  'components/Checkbox': Checkbox,\n  'components/ColorPreviewInput': ColorPreviewInput,\n  'components/SelectDropdown': SelectDropdown,\n  'components/ModalManager': ModalManager,\n  'components/Button': Button,\n  'components/Modal': Modal,\n  'components/GroupBadge': GroupBadge,\n  'components/TextEditor': TextEditor,\n  'components/TextEditorButton': TextEditorButton,\n  'components/Tooltip': Tooltip,\n  'components/EditUserModal': EditUserModal,\n  Model: Model,\n  Application: Application,\n  'helpers/fullTime': fullTime,\n  'helpers/avatar': avatar,\n  'helpers/icon': icon,\n  'helpers/humanTime': humanTimeHelper,\n  'helpers/punctuateSeries': punctuateSeries,\n  'helpers/highlight': highlight,\n  'helpers/username': username,\n  'helpers/userOnline': userOnline,\n  'helpers/listItems': listItems,\n  'helpers/textContrastClass': textContrastClass,\n  'resolvers/DefaultResolver': DefaultResolver,\n  'states/PaginatedListState': PaginatedListState,\n  'states/AlertManagerState': AlertManagerState,\n  'states/ModalManagerState': ModalManagerState,\n  'states/PageState': PageState,\n};\n","import Component, { ComponentAttrs } from '../Component';\nimport Button from './Button';\nimport listItems from '../helpers/listItems';\nimport extract from '../utils/extract';\nimport type Mithril from 'mithril';\nimport classList from '../utils/classList';\nimport app from '../app';\nimport iconHelper from '../helpers/icon';\n\nexport interface AlertAttrs extends ComponentAttrs {\n  /** The type of alert this is. Will be used to give the alert a class name of `Alert--{type}`. */\n  type?: string;\n  /** Title of the alert. Optional. */\n  title?: Mithril.Children;\n  /** Icon used next to the title. Optional. */\n  icon?: string;\n  /** An array of controls to show in the alert. */\n  controls?: Mithril.Children;\n  /** Whether or not the alert can be dismissed. */\n  dismissible?: boolean;\n  /** A callback to run when the alert is dismissed */\n  ondismiss?: Function;\n}\n\n/**\n * The `Alert` component represents an alert box, which contains a message,\n * some controls, and may be dismissible.\n */\nexport default class Alert<T extends AlertAttrs = AlertAttrs> extends Component<T> {\n  view(vnode: Mithril.VnodeDOM<T, this>) {\n    const attrs = Object.assign({}, this.attrs);\n\n    const type = extract(attrs, 'type');\n    attrs.className = classList('Alert', `Alert--${type}`, attrs.className);\n\n    const title = extract(attrs, 'title');\n    const icon = extract(attrs, 'icon');\n    const content = extract(attrs, 'content') || vnode.children;\n    const controls = (extract(attrs, 'controls') || []) as Mithril.Vnode[];\n\n    // If the alert is meant to be dismissible (which is the case by default),\n    // then we will create a dismiss button to append as the final control in\n    // the alert.\n    const dismissible = extract(attrs, 'dismissible');\n    const ondismiss = extract(attrs, 'ondismiss');\n    const dismissControl: Mithril.Vnode[] = [];\n\n    if (dismissible || dismissible === undefined) {\n      dismissControl.push(\n        <Button\n          aria-label={app.translator.trans('core.lib.alert.dismiss_a11y_label')}\n          icon=\"fas fa-times\"\n          className=\"Button Button--link Button--icon Alert-dismiss\"\n          onclick={ondismiss}\n        />\n      );\n    }\n\n    return (\n      <div {...attrs}>\n        {!!title && (\n          <div className=\"Alert-title\">\n            {!!icon && <span className=\"Alert-title-icon\">{iconHelper(icon)}</span>}\n            <span className=\"Alert-title-text\">{title}</span>\n          </div>\n        )}\n        <span className=\"Alert-body\">{content}</span>\n        <ul className=\"Alert-controls\">{listItems(controls.concat(dismissControl))}</ul>\n      </div>\n    );\n  }\n}\n","import Component, { ComponentAttrs } from '../Component';\nimport AlertManagerState from '../states/AlertManagerState';\nimport type Mithril from 'mithril';\n\nexport interface IAlertManagerAttrs extends ComponentAttrs {\n  state: AlertManagerState;\n}\n\n/**\n * The `AlertManager` component provides an area in which `Alert` components can\n * be shown and dismissed.\n */\nexport default class AlertManager<CustomAttrs extends IAlertManagerAttrs = IAlertManagerAttrs> extends Component<CustomAttrs, AlertManagerState> {\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.state = this.attrs.state;\n  }\n\n  view() {\n    const activeAlerts = this.state.getActiveAlerts();\n\n    return (\n      <div className=\"AlertManager\">\n        {Object.keys(activeAlerts)\n          .map(Number)\n          .map((key) => {\n            const alert = activeAlerts[key];\n            const urgent = alert.attrs.type === 'error';\n\n            return (\n              <div className=\"AlertManager-alert\" role=\"alert\" aria-live={urgent ? 'assertive' : 'polite'}>\n                <alert.componentClass {...alert.attrs} ondismiss={this.state.dismiss.bind(this.state, key)}>\n                  {alert.children}\n                </alert.componentClass>\n              </div>\n            );\n          })}\n      </div>\n    );\n  }\n}\n","import Tooltip from './Tooltip';\nimport Component, { ComponentAttrs } from '../Component';\nimport icon from '../helpers/icon';\nimport classList from '../utils/classList';\nimport textContrastClass from '../helpers/textContrastClass';\n\nexport interface IBadgeAttrs extends ComponentAttrs {\n  icon: string;\n  type?: string;\n  label?: string;\n  color?: string;\n}\n\n/**\n * The `Badge` component represents a user/discussion badge, indicating some\n * status (e.g. a discussion is stickied, a user is an admin).\n *\n * A badge may have the following special attrs:\n *\n * - `type` The type of badge this is. This will be used to give the badge a\n *   class name of `Badge--{type}`.\n * - `icon` The name of an icon to show inside the badge.\n * - `label`\n *\n * All other attrs will be assigned as attributes on the badge element.\n */\nexport default class Badge<CustomAttrs extends IBadgeAttrs = IBadgeAttrs> extends Component<CustomAttrs> {\n  view() {\n    const { type, icon: iconName, label, color, style = {}, ...attrs } = this.attrs;\n\n    const className = classList('Badge', [type && `Badge--${type}`], attrs.className, textContrastClass(color));\n\n    const iconChild = iconName ? icon(iconName, { className: 'Badge-icon' }) : m.trust('&nbsp;');\n\n    const newStyle = { ...style, '--badge-bg': color };\n\n    const badgeAttrs = {\n      ...attrs,\n      className,\n      style: newStyle,\n    };\n\n    const badgeNode = <div {...badgeAttrs}>{iconChild}</div>;\n\n    // If we don't have a tooltip label, don't render the tooltip component.\n    if (!label) return badgeNode;\n\n    return <Tooltip text={label}>{badgeNode}</Tooltip>;\n  }\n}\n","import type Mithril from 'mithril';\nimport Component, { ComponentAttrs } from '../Component';\nimport fireDebugWarning from '../helpers/fireDebugWarning';\nimport icon from '../helpers/icon';\nimport classList from '../utils/classList';\nimport extractText from '../utils/extractText';\nimport LoadingIndicator from './LoadingIndicator';\n\nexport interface IButtonAttrs extends ComponentAttrs {\n  /**\n   * Class(es) of an optional icon to be rendered within the button.\n   *\n   * If provided, the button will gain a `has-icon` class.\n   */\n  icon?: string;\n  /**\n   * Disables button from user input.\n   *\n   * Default: `false`\n   */\n  disabled?: boolean;\n  /**\n   * Show a loading spinner within the button.\n   *\n   * If `true`, also disables the button.\n   *\n   * Default: `false`\n   */\n  loading?: boolean;\n  /**\n   * **DEPRECATED:** Please use the `aria-label` attribute instead. For tooltips, use\n   * the `<Tooltip>` component.\n   *\n   * Accessible text for the button. This should always be present if the button only\n   * contains an icon.\n   *\n   * The textual content of this attribute is passed to the DOM element as `aria-label`.\n   *\n   * @deprecated\n   */\n  title?: string | Mithril.ChildArray;\n  /**\n   * Accessible text for the button. This should always be present if the button only\n   * contains an icon.\n   *\n   * The textual content of this attribute is passed to the DOM element as `aria-label`.\n   */\n  'aria-label'?: string | Mithril.ChildArray;\n  /**\n   * Button type.\n   *\n   * Default: `\"button\"`\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-type\n   */\n  type?: string;\n}\n\n/**\n * The `Button` component defines an element which, when clicked, performs an\n * action.\n *\n * Other attrs will be assigned as attributes on the `<button>` element.\n *\n * Note that a Button has no default class names. This is because a Button can\n * be used to represent any generic clickable control, like a menu item. Common\n * styles can be applied by providing `className=\"Button\"` to the Button component.\n */\nexport default class Button<CustomAttrs extends IButtonAttrs = IButtonAttrs> extends Component<CustomAttrs> {\n  view(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    let { type, title, 'aria-label': ariaLabel, icon: iconName, disabled, loading, className, class: _class, ...attrs } = this.attrs;\n\n    // If no `type` attr provided, set to \"button\"\n    type ||= 'button';\n\n    // Use `title` attribute as `aria-label` if none provided\n    ariaLabel ||= title;\n\n    // If given a translation object, extract the text.\n    if (typeof ariaLabel === 'object') {\n      ariaLabel = extractText(ariaLabel);\n    }\n\n    if (disabled || loading) {\n      delete attrs.onclick;\n    }\n\n    className = classList(_class, className, {\n      hasIcon: iconName,\n      disabled: disabled || loading,\n      loading: loading,\n    });\n\n    const buttonAttrs = {\n      disabled,\n      className,\n      type,\n      'aria-label': ariaLabel,\n      ...attrs,\n    };\n\n    return <button {...buttonAttrs}>{this.getButtonContent(vnode.children)}</button>;\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.oncreate(vnode);\n\n    const { 'aria-label': ariaLabel } = this.attrs;\n\n    if (this.view === Button.prototype.view && !ariaLabel && !extractText(vnode.children) && !this.element?.getAttribute?.('aria-label')) {\n      fireDebugWarning(\n        '[Flarum Accessibility Warning] Button has no content and no accessible label. This means that screen-readers will not be able to interpret its meaning and just read \"Button\". Consider providing accessible text via the `aria-label` attribute. https://web.dev/button-name',\n        this.element\n      );\n    }\n  }\n\n  /**\n   * Get the template for the button's content.\n   */\n  protected getButtonContent(children: Mithril.Children): Mithril.ChildArray {\n    const iconName = this.attrs.icon;\n\n    return [\n      iconName && icon(iconName, { className: 'Button-icon' }),\n      children && <span className=\"Button-label\">{children}</span>,\n      this.attrs.loading && <LoadingIndicator size=\"small\" display=\"inline\" />,\n    ];\n  }\n}\n","import Component, { ComponentAttrs } from '../Component';\nimport LoadingIndicator from './LoadingIndicator';\nimport icon from '../helpers/icon';\nimport classList from '../utils/classList';\nimport withAttr from '../utils/withAttr';\nimport type Mithril from 'mithril';\n\nexport interface ICheckboxAttrs extends ComponentAttrs {\n  state?: boolean;\n  loading?: boolean;\n  disabled?: boolean;\n  onchange: (checked: boolean, component: Checkbox<this>) => void;\n}\n\n/**\n * The `Checkbox` component defines a checkbox input.\n *\n * ### Attrs\n *\n * - `state` Whether or not the checkbox is checked.\n * - `className` The class name for the root element.\n * - `disabled` Whether or not the checkbox is disabled.\n * - `loading` Whether or not the checkbox is loading.\n * - `onchange` A callback to run when the checkbox is checked/unchecked.\n * - `children` A text label to display next to the checkbox.\n */\nexport default class Checkbox<CustomAttrs extends ICheckboxAttrs = ICheckboxAttrs> extends Component<CustomAttrs> {\n  view(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    const className = classList([\n      'Checkbox',\n      this.attrs.state ? 'on' : 'off',\n      this.attrs.className,\n      this.attrs.loading && 'loading',\n      this.attrs.disabled && 'disabled',\n    ]);\n\n    return (\n      <label className={className}>\n        <input type=\"checkbox\" checked={this.attrs.state} disabled={this.attrs.disabled} onchange={withAttr('checked', this.onchange.bind(this))} />\n        <div className=\"Checkbox-display\" aria-hidden=\"true\">\n          {this.getDisplay()}\n        </div>\n        {vnode.children}\n      </label>\n    );\n  }\n\n  /**\n   * Get the template for the checkbox's display (tick/cross icon).\n   */\n  protected getDisplay(): Mithril.Children {\n    return this.attrs.loading ? <LoadingIndicator display=\"unset\" size=\"small\" /> : icon(this.attrs.state ? 'fas fa-check' : 'fas fa-times');\n  }\n\n  /**\n   * Run a callback when the state of the checkbox is changed.\n   */\n  protected onchange(checked: boolean): void {\n    if (this.attrs.onchange) this.attrs.onchange(checked, this);\n  }\n}\n","import type Mithril from 'mithril';\n\nimport Component, { ComponentAttrs } from '../Component';\nimport classList from '../utils/classList';\nimport icon from '../helpers/icon';\n\nexport default class ColorPreviewInput extends Component {\n  view(vnode: Mithril.Vnode<ComponentAttrs, this>) {\n    const { className, id, ...attrs } = this.attrs;\n\n    attrs.type ||= 'text';\n\n    // If the input is a 3 digit hex code, convert it to 6 digits.\n    if (attrs.value.length === 4) {\n      attrs.value = attrs.value.replace(/#([a-f0-9])([a-f0-9])([a-f0-9])/, '#$1$1$2$2$3$3');\n    }\n\n    return (\n      <div className=\"ColorInput\">\n        <input className={classList('FormControl', className)} id={id} {...attrs} />\n\n        <span className=\"ColorInput-icon\" role=\"presentation\">\n          {icon('fas fa-exclamation-circle')}\n        </span>\n\n        <input className=\"ColorInput-preview\" {...attrs} type=\"color\" />\n      </div>\n    );\n  }\n}\n","import app from '../../common/app';\nimport Component, { ComponentAttrs } from '../Component';\nimport icon from '../helpers/icon';\nimport listItems, { ModdedChildrenWithItemName } from '../helpers/listItems';\nimport extractText from '../utils/extractText';\nimport type Mithril from 'mithril';\n\nexport interface IDropdownAttrs extends ComponentAttrs {\n  /** A class name to apply to the dropdown toggle button. */\n  buttonClassName?: string;\n  /** A class name to apply to the dropdown menu. */\n  menuClassName?: string;\n  /** The name of an icon to show in the dropdown toggle button. */\n  icon?: string;\n  /** The name of an icon to show on the right of the button. */\n  caretIcon?: string;\n  /** The label of the dropdown toggle button. Defaults to 'Controls'. */\n  label: Mithril.Children;\n  /** The label used to describe the dropdown toggle button to assistive readers. Defaults to 'Toggle dropdown menu'. */\n  accessibleToggleLabel?: string;\n  /** An action to take when the dropdown is collapsed. */\n  onhide?: () => void;\n  /** An action to take when the dropdown is opened. */\n  onshow?: () => void;\n\n  lazyDraw?: boolean;\n}\n\n/**\n * The `Dropdown` component displays a button which, when clicked, shows a\n * dropdown menu beneath it.\n *\n * The children will be displayed as a list inside the dropdown menu.\n */\nexport default class Dropdown<CustomAttrs extends IDropdownAttrs = IDropdownAttrs> extends Component<CustomAttrs> {\n  protected showing = false;\n\n  static initAttrs(attrs: IDropdownAttrs) {\n    attrs.className ||= '';\n    attrs.buttonClassName ||= '';\n    attrs.menuClassName ||= '';\n    attrs.label ||= '';\n    attrs.caretIcon ??= 'fas fa-caret-down';\n    attrs.accessibleToggleLabel ||= extractText(app.translator.trans('core.lib.dropdown.toggle_dropdown_accessible_label'));\n  }\n\n  view(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    const items = vnode.children ? listItems(vnode.children as ModdedChildrenWithItemName[]) : [];\n    const renderItems = this.attrs.lazyDraw ? this.showing : true;\n\n    return (\n      <div className={'ButtonGroup Dropdown dropdown ' + this.attrs.className + ' itemCount' + items.length + (this.showing ? ' open' : '')}>\n        {this.getButton(vnode.children as Mithril.ChildArray)}\n        {renderItems && this.getMenu(items)}\n      </div>\n    );\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.oncreate(vnode);\n\n    // When opening the dropdown menu, work out if the menu goes beyond the\n    // bottom of the viewport. If it does, we will apply class to make it show\n    // above the toggle button instead of below it.\n    this.$().on('shown.bs.dropdown', () => {\n      const { lazyDraw, onshow } = this.attrs;\n\n      this.showing = true;\n\n      // If using lazy drawing, redraw before calling `onshow` function\n      // to make sure the menu DOM exists in case the callback tries to use it.\n      if (lazyDraw) {\n        m.redraw.sync();\n      }\n\n      if (typeof onshow === 'function') {\n        onshow();\n      }\n\n      // If not using lazy drawing, keep previous functionality\n      // of redrawing after calling onshow()\n      if (!lazyDraw) {\n        m.redraw();\n      }\n\n      const $menu = this.$('.Dropdown-menu');\n      const isRight = $menu.hasClass('Dropdown-menu--right');\n\n      const top = $menu.offset()?.top ?? 0;\n      const height = $menu.height() ?? 0;\n      const windowSrollTop = $(window).scrollTop() ?? 0;\n      const windowHeight = $(window).height() ?? 0;\n\n      $menu.removeClass('Dropdown-menu--top Dropdown-menu--right');\n\n      $menu.toggleClass('Dropdown-menu--top', top + height > windowSrollTop + windowHeight);\n\n      if (($menu.offset()?.top || 0) < 0) {\n        $menu.removeClass('Dropdown-menu--top');\n      }\n\n      const left = $menu.offset()?.left ?? 0;\n      const width = $menu.width() ?? 0;\n      const windowScrollLeft = $(window).scrollLeft() ?? 0;\n      const windowWidth = $(window).width() ?? 0;\n\n      $menu.toggleClass('Dropdown-menu--right', isRight || left + width > windowScrollLeft + windowWidth);\n    });\n\n    this.$().on('hidden.bs.dropdown', () => {\n      this.showing = false;\n\n      if (this.attrs.onhide) {\n        this.attrs.onhide();\n      }\n\n      m.redraw();\n    });\n  }\n\n  /**\n   * Get the template for the button.\n   */\n  getButton(children: Mithril.ChildArray): Mithril.Vnode<any, any> {\n    return (\n      <button\n        className={'Dropdown-toggle ' + this.attrs.buttonClassName}\n        aria-haspopup=\"menu\"\n        aria-label={this.attrs.accessibleToggleLabel}\n        data-toggle=\"dropdown\"\n        onclick={this.attrs.onclick}\n      >\n        {this.getButtonContent(children)}\n      </button>\n    );\n  }\n\n  /**\n   * Get the template for the button's content.\n   */\n  getButtonContent(children: Mithril.ChildArray): Mithril.ChildArray {\n    return [\n      this.attrs.icon ? icon(this.attrs.icon, { className: 'Button-icon' }) : '',\n      <span className=\"Button-label\">{this.attrs.label}</span>,\n      this.attrs.caretIcon ? icon(this.attrs.caretIcon, { className: 'Button-caret' }) : '',\n    ];\n  }\n\n  getMenu(items: Mithril.Vnode<any, any>[]): Mithril.Vnode<any, any> {\n    return <ul className={'Dropdown-menu dropdown-menu ' + this.attrs.menuClassName}>{items}</ul>;\n  }\n}\n","import app from '../../common/app';\nimport Modal, { IInternalModalAttrs } from './Modal';\nimport Button from './Button';\nimport GroupBadge from './GroupBadge';\nimport Group from '../models/Group';\nimport extractText from '../utils/extractText';\nimport ItemList from '../utils/ItemList';\nimport Stream from '../utils/Stream';\nimport type Mithril from 'mithril';\nimport type User from '../models/User';\nimport type { SaveAttributes, SaveRelationships } from '../Model';\n\nexport interface IEditUserModalAttrs extends IInternalModalAttrs {\n  user: User;\n}\n\nexport default class EditUserModal<CustomAttrs extends IEditUserModalAttrs = IEditUserModalAttrs> extends Modal<CustomAttrs> {\n  protected username!: Stream<string>;\n  protected email!: Stream<string>;\n  protected isEmailConfirmed!: Stream<boolean>;\n  protected setPassword!: Stream<boolean>;\n  protected password!: Stream<string>;\n  protected groups: Record<string, Stream<boolean>> = {};\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    const user = this.attrs.user;\n\n    this.username = Stream(user.username() || '');\n    this.email = Stream(user.email() || '');\n    this.isEmailConfirmed = Stream(user.isEmailConfirmed() || false);\n    this.setPassword = Stream(false as boolean);\n    this.password = Stream(user.password() || '');\n\n    const userGroups = user.groups() || [];\n\n    app.store\n      .all<Group>('groups')\n      .filter((group) => ![Group.GUEST_ID, Group.MEMBER_ID].includes(group.id()!))\n      .forEach((group) => (this.groups[group.id()!] = Stream(userGroups.includes(group))));\n  }\n\n  className() {\n    return 'EditUserModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.lib.edit_user.title');\n  }\n\n  content() {\n    const fields = this.fields().toArray();\n    return (\n      <div className=\"Modal-body\">\n        {fields.length > 1 ? <div className=\"Form\">{this.fields().toArray()}</div> : app.translator.trans('core.lib.edit_user.nothing_available')}\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    if (this.attrs.user.canEditCredentials()) {\n      items.add(\n        'username',\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('core.lib.edit_user.username_heading')}</label>\n          <input\n            className=\"FormControl\"\n            placeholder={extractText(app.translator.trans('core.lib.edit_user.username_label'))}\n            bidi={this.username}\n            disabled={this.nonAdminEditingAdmin()}\n          />\n        </div>,\n        40\n      );\n\n      if (app.session.user !== this.attrs.user) {\n        items.add(\n          'email',\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('core.lib.edit_user.email_heading')}</label>\n            <div>\n              <input\n                className=\"FormControl\"\n                placeholder={extractText(app.translator.trans('core.lib.edit_user.email_label'))}\n                bidi={this.email}\n                disabled={this.nonAdminEditingAdmin()}\n              />\n            </div>\n            {!this.isEmailConfirmed() && this.userIsAdmin(app.session.user) && (\n              <div>\n                <Button className=\"Button Button--block\" loading={this.loading} onclick={this.activate.bind(this)}>\n                  {app.translator.trans('core.lib.edit_user.activate_button')}\n                </Button>\n              </div>\n            )}\n          </div>,\n          30\n        );\n\n        items.add(\n          'password',\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('core.lib.edit_user.password_heading')}</label>\n            <div>\n              <label className=\"checkbox\">\n                <input\n                  type=\"checkbox\"\n                  onchange={(e: KeyboardEvent) => {\n                    const target = e.target as HTMLInputElement;\n                    this.setPassword(target.checked);\n                    m.redraw.sync();\n                    if (target.checked) this.$('[name=password]').select();\n                    e.redraw = false;\n                  }}\n                  disabled={this.nonAdminEditingAdmin()}\n                />\n                {app.translator.trans('core.lib.edit_user.set_password_label')}\n              </label>\n              {this.setPassword() && (\n                <input\n                  className=\"FormControl\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder={extractText(app.translator.trans('core.lib.edit_user.password_label'))}\n                  bidi={this.password}\n                  disabled={this.nonAdminEditingAdmin()}\n                />\n              )}\n            </div>\n          </div>,\n          20\n        );\n      }\n    }\n\n    if (this.attrs.user.canEditGroups()) {\n      items.add(\n        'groups',\n        <div className=\"Form-group EditUserModal-groups\">\n          <label>{app.translator.trans('core.lib.edit_user.groups_heading')}</label>\n          <div>\n            {Object.keys(this.groups)\n              .map((id) => app.store.getById<Group>('groups', id))\n              .filter(Boolean)\n              .map(\n                (group) =>\n                  // Necessary because filter(Boolean) doesn't narrow out falsy values.\n                  group && (\n                    <label className=\"checkbox\">\n                      <input\n                        type=\"checkbox\"\n                        bidi={this.groups[group.id()!]}\n                        disabled={\n                          group.id() === Group.ADMINISTRATOR_ID && (this.attrs.user === app.session.user || !this.userIsAdmin(app.session.user))\n                        }\n                      />\n                      <GroupBadge group={group} label={null} /> {group.nameSingular()}\n                    </label>\n                  )\n              )}\n          </div>\n        </div>,\n        10\n      );\n    }\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button className=\"Button Button--primary\" type=\"submit\" loading={this.loading}>\n          {app.translator.trans('core.lib.edit_user.submit_button')}\n        </Button>\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  activate() {\n    this.loading = true;\n    const data = {\n      username: this.username(),\n      isEmailConfirmed: true,\n    };\n    this.attrs.user\n      .save(data, { errorHandler: this.onerror.bind(this) })\n      .then(() => {\n        this.isEmailConfirmed(true);\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  data() {\n    const data: SaveAttributes = {};\n    const relationships: SaveRelationships = {};\n\n    if (this.attrs.user.canEditCredentials() && !this.nonAdminEditingAdmin()) {\n      data.username = this.username();\n\n      if (app.session.user !== this.attrs.user) {\n        data.email = this.email();\n      }\n\n      if (this.setPassword()) {\n        data.password = this.password();\n      }\n    }\n\n    if (this.attrs.user.canEditGroups()) {\n      relationships.groups = Object.keys(this.groups)\n        .filter((id) => this.groups[id]())\n        .map((id) => app.store.getById<Group>('groups', id))\n        .filter((g): g is Group => g instanceof Group);\n    }\n\n    data.relationships = relationships;\n\n    return data;\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.user\n      .save(this.data(), { errorHandler: this.onerror.bind(this) })\n      .then(this.hide.bind(this))\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  nonAdminEditingAdmin(): boolean {\n    return this.userIsAdmin(this.attrs.user) && !this.userIsAdmin(app.session.user);\n  }\n\n  /**\n   * @internal\n   */\n  protected userIsAdmin(user: User | null): boolean {\n    return !!(user?.groups() || []).some((g) => g?.id() === Group.ADMINISTRATOR_ID);\n  }\n}\n","import Badge, { IBadgeAttrs } from './Badge';\nimport Group from '../models/Group';\n\nexport interface IGroupAttrs extends IBadgeAttrs {\n  group?: Group;\n}\n\nexport default class GroupBadge<CustomAttrs extends IGroupAttrs = IGroupAttrs> extends Badge<CustomAttrs> {\n  static initAttrs(attrs: IGroupAttrs): void {\n    super.initAttrs(attrs);\n\n    if (attrs.group) {\n      attrs.icon = attrs.group.icon() || '';\n      attrs.color = attrs.group.color() || '';\n      attrs.label = typeof attrs.label === 'undefined' ? attrs.group.nameSingular() : attrs.label;\n      attrs.type = 'group--' + attrs.group.id();\n\n      delete attrs.group;\n    }\n  }\n}\n","import Component, { ComponentAttrs } from '../Component';\nimport type Mithril from 'mithril';\nimport app from '../app';\n\nexport interface ILabelValueAttrs extends ComponentAttrs {\n  label: Mithril.Children;\n  value: Mithril.Children;\n}\n\n/**\n * A generic component for displaying a label and value inline.\n * Created to avoid reinventing the wheel.\n *\n * `label: value`\n */\nexport default class LabelValue<CustomAttrs extends ILabelValueAttrs = ILabelValueAttrs> extends Component<CustomAttrs> {\n  view(vnode: Mithril.Vnode<CustomAttrs, this>): Mithril.Children {\n    return (\n      <div className=\"LabelValue\">\n        <div className=\"LabelValue-label\">\n          {app.translator.trans('core.lib.data_segment.label', {\n            label: this.attrs.label,\n          })}\n        </div>\n        <div className=\"LabelValue-value\">{this.attrs.value}</div>\n      </div>\n    );\n  }\n}\n","import app from '../../common/app';\nimport Component, { ComponentAttrs } from '../Component';\nimport classList from '../utils/classList';\n\nexport interface LoadingIndicatorAttrs extends ComponentAttrs {\n  /**\n   * Custom classes for the loading indicator's container.\n   */\n  className?: string;\n  /**\n   * Custom classes for the loading indicator's container.\n   */\n  containerClassName?: string;\n  /**\n   * Optional size for the loading indicator.\n   */\n  size?: 'large' | 'medium' | 'small';\n  /**\n   * Optional attributes to apply to the loading indicator's container.\n   */\n  containerAttrs?: Partial<ComponentAttrs>;\n  /**\n   * Display type of the spinner.\n   *\n   * @default 'block'\n   */\n  display?: 'block' | 'inline' | 'unset';\n}\n\n/**\n * The `LoadingIndicator` component displays a simple CSS-based loading spinner.\n *\n * To set a custom color, use the CSS `color` property.\n *\n * To increase spacing around the spinner, use the CSS `height` property on the\n * spinner's **container**. Setting the `display` attribute to `block` will set\n * a height of `100px` by default.\n *\n * To apply a custom size to the loading indicator, set the `--size` and\n * `--thickness` CSS custom properties on the loading indicator container.\n *\n * If you *really* want to change how this looks as part of your custom theme,\n * you can override the `border-radius` and `border` then set either a\n * background image, or use `content: \"\\<glyph>\"` (e.g. `content: \"\\f1ce\"`)\n * and `font-family: 'Font Awesome 5 Free'` to set an FA icon if you'd rather.\n *\n * ### Attrs\n *\n * - `containerClassName` Class name(s) to apply to the indicator's parent\n * - `className` Class name(s) to apply to the indicator itself\n * - `display` Determines how the spinner should be displayed (`inline`, `block` (default) or `unset`)\n * - `size` Size of the loading indicator (`small`, `medium` or `large`)\n * - `containerAttrs` Optional attrs to be applied to the container DOM element\n *\n * All other attrs will be assigned as attributes on the DOM element.\n */\nexport default class LoadingIndicator extends Component<LoadingIndicatorAttrs> {\n  view() {\n    const { display = 'block', size = 'medium', containerClassName, className, ...attrs } = this.attrs;\n\n    const completeClassName = classList('LoadingIndicator', className);\n    const completeContainerClassName = classList(\n      'LoadingIndicator-container',\n      display !== 'unset' && `LoadingIndicator-container--${display}`,\n      size && `LoadingIndicator-container--${size}`,\n      containerClassName\n    );\n\n    return (\n      <div\n        aria-label={app.translator.trans('core.lib.loading_indicator.accessible_label')}\n        role=\"status\"\n        {...attrs.containerAttrs}\n        data-size={size}\n        className={completeContainerClassName}\n      >\n        <div aria-hidden=\"true\" className={completeClassName} {...attrs} />\n      </div>\n    );\n  }\n}\n","import app from '../../common/app';\nimport Component from '../Component';\nimport Alert, { AlertAttrs } from './Alert';\nimport Button from './Button';\n\nimport type Mithril from 'mithril';\nimport type ModalManagerState from '../states/ModalManagerState';\nimport type RequestError from '../utils/RequestError';\nimport type ModalManager from './ModalManager';\nimport fireDebugWarning from '../helpers/fireDebugWarning';\nimport classList from '../utils/classList';\n\nexport interface IInternalModalAttrs {\n  state: ModalManagerState;\n  animateShow: ModalManager['animateShow'];\n  animateHide: ModalManager['animateHide'];\n}\n\nexport interface IDismissibleOptions {\n  /**\n   * @deprecated Check specific individual attributes instead. Will be removed in Flarum 2.0.\n   */\n  isDismissible: boolean;\n  viaCloseButton: boolean;\n  viaEscKey: boolean;\n  viaBackdropClick: boolean;\n}\n\n/**\n * The `Modal` component displays a modal dialog, wrapped in a form. Subclasses\n * should implement the `className`, `title`, and `content` methods.\n */\nexport default abstract class Modal<ModalAttrs extends IInternalModalAttrs = IInternalModalAttrs, CustomState = undefined> extends Component<\n  ModalAttrs,\n  CustomState\n> {\n  // TODO: [Flarum 2.0] remove `isDismissible` static attribute\n  /**\n   * Determine whether or not the modal should be dismissible via an 'x' button.\n   *\n   * @deprecated Use the individual `isDismissibleVia...` attributes instead and remove references to this.\n   */\n  static readonly isDismissible: boolean = true;\n\n  /**\n   * Can the model be dismissed with a close button (X)?\n   *\n   * If `false`, no close button is shown.\n   */\n  protected static readonly isDismissibleViaCloseButton: boolean = true;\n  /**\n   * Can the modal be dismissed by pressing the Esc key on a keyboard?\n   */\n  protected static readonly isDismissibleViaEscKey: boolean = true;\n  /**\n   * Can the modal be dismissed via a click on the backdrop.\n   */\n  protected static readonly isDismissibleViaBackdropClick: boolean = true;\n\n  static get dismissibleOptions(): IDismissibleOptions {\n    // If someone sets this to `false`, provide the same behaviour as previous versions of Flarum.\n    if (!this.isDismissible) {\n      return {\n        isDismissible: false,\n        viaCloseButton: false,\n        viaEscKey: false,\n        viaBackdropClick: false,\n      };\n    }\n\n    return {\n      isDismissible: true,\n      viaCloseButton: this.isDismissibleViaCloseButton,\n      viaEscKey: this.isDismissibleViaEscKey,\n      viaBackdropClick: this.isDismissibleViaBackdropClick,\n    };\n  }\n\n  protected loading: boolean = false;\n\n  /**\n   * Attributes for an alert component to show below the header.\n   */\n  alertAttrs: AlertAttrs | null = null;\n\n  oninit(vnode: Mithril.Vnode<ModalAttrs, this>) {\n    super.oninit(vnode);\n\n    // TODO: [Flarum 2.0] Remove the code below.\n    // This code prevents extensions which do not implement all abstract methods of this class from breaking\n    // the forum frontend. Without it, function calls would would error rather than returning `undefined.`\n\n    const missingMethods: string[] = [];\n\n    ['className', 'title', 'content', 'onsubmit'].forEach((method) => {\n      if (!(this as any)[method]) {\n        (this as any)[method] = function (): void {};\n        missingMethods.push(method);\n      }\n    });\n\n    if (missingMethods.length > 0) {\n      fireDebugWarning(\n        `Modal \\`${this.constructor.name}\\` does not implement all abstract methods of the Modal super class. Missing methods: ${missingMethods.join(\n          ', '\n        )}.`\n      );\n    }\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<ModalAttrs, this>) {\n    super.oncreate(vnode);\n\n    this.attrs.animateShow(() => this.onready());\n  }\n\n  onbeforeremove(vnode: Mithril.VnodeDOM<ModalAttrs, this>): Promise<void> | void {\n    super.onbeforeremove(vnode);\n\n    // If the global modal state currently contains a modal,\n    // we've just opened up a new one, and accordingly,\n    // we don't need to show a hide animation.\n    if (!this.attrs.state.modal) {\n      // Here, we ensure that the animation has time to complete.\n      // See https://mithril.js.org/lifecycle-methods.html#onbeforeremove\n      // Bootstrap's Modal.TRANSITION_DURATION is 300 ms.\n      return new Promise((resolve) => setTimeout(resolve, 300));\n    }\n  }\n\n  /**\n   * @todo split into FormModal and Modal in 2.0\n   */\n  view() {\n    if (this.alertAttrs) {\n      this.alertAttrs.dismissible = false;\n    }\n\n    return (\n      <div className={classList('Modal modal-dialog fade', this.className())}>\n        <div className=\"Modal-content\">\n          {this.dismissibleOptions.viaCloseButton && (\n            <div className=\"Modal-close App-backControl\">\n              <Button\n                icon=\"fas fa-times\"\n                onclick={() => this.hide()}\n                className=\"Button Button--icon Button--link\"\n                aria-label={app.translator.trans('core.lib.modal.close')}\n              />\n            </div>\n          )}\n\n          <form onsubmit={this.onsubmit.bind(this)}>\n            <div className=\"Modal-header\">\n              <h3 className=\"App-titleControl App-titleControl--text\">{this.title()}</h3>\n            </div>\n\n            {!!this.alertAttrs && (\n              <div className=\"Modal-alert\">\n                <Alert {...this.alertAttrs} />\n              </div>\n            )}\n\n            {this.content()}\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Get the class name to apply to the modal.\n   */\n  abstract className(): string;\n\n  /**\n   * Get the title of the modal dialog.\n   */\n  abstract title(): Mithril.Children;\n\n  /**\n   * Get the content of the modal.\n   */\n  abstract content(): Mithril.Children;\n\n  /**\n   * Handle the modal form's submit event.\n   */\n  onsubmit(e: SubmitEvent): void {\n    // ...\n  }\n\n  /**\n   * Callback executed when the modal is shown and ready to be interacted with.\n   *\n   * @remark Focuses the first input in the modal.\n   */\n  onready(): void {\n    this.$().find('input, select, textarea').first().trigger('focus').trigger('select');\n  }\n\n  /**\n   * Hides the modal.\n   */\n  hide(): void {\n    this.attrs.animateHide();\n  }\n\n  /**\n   * Sets `loading` to false and triggers a redraw.\n   */\n  loaded(): void {\n    this.loading = false;\n    m.redraw();\n  }\n\n  /**\n   * Shows an alert describing an error returned from the API, and gives focus to\n   * the first relevant field involved in the error.\n   */\n  onerror(error: RequestError): void {\n    this.alertAttrs = error.alert;\n\n    m.redraw();\n\n    if (error.status === 422 && error.response?.errors) {\n      this.$('form [name=' + (error.response.errors as any[])[0].source.pointer.replace('/data/attributes/', '') + ']').trigger('select');\n    } else {\n      this.onready();\n    }\n  }\n\n  private get dismissibleOptions(): IDismissibleOptions {\n    return (this.constructor as typeof Modal).dismissibleOptions;\n  }\n}\n","import Component from '../Component';\n\nimport { createFocusTrap, FocusTrap } from '../utils/focusTrap';\n\nimport { disableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\n\nimport type ModalManagerState from '../states/ModalManagerState';\nimport type Mithril from 'mithril';\n\ninterface IModalManagerAttrs {\n  state: ModalManagerState;\n}\n\n/**\n * The `ModalManager` component manages one or more modal dialogs. Stacking modals\n * is supported. Multiple dialogs can be shown at once; loading a new component\n * into the ModalManager will overwrite the previous one.\n */\nexport default class ModalManager extends Component<IModalManagerAttrs> {\n  // Current focus trap\n  protected focusTrap: FocusTrap | undefined;\n\n  // Keep track of the last set focus trap\n  protected lastSetFocusTrap: number | undefined;\n\n  // Keep track if there's an modal closing\n  protected modalClosing: boolean = false;\n\n  protected keyUpListener: null | ((e: KeyboardEvent) => void) = null;\n\n  view(vnode: Mithril.VnodeDOM<IModalManagerAttrs, this>): Mithril.Children {\n    return (\n      <>\n        {this.attrs.state.modalList.map((modal, i) => {\n          const Tag = modal?.componentClass;\n\n          return (\n            <div\n              key={modal.key}\n              className=\"ModalManager modal\"\n              data-modal-key={modal.key}\n              data-modal-number={i}\n              role=\"dialog\"\n              aria-modal=\"true\"\n              style={{ '--modal-number': i }}\n              aria-hidden={this.attrs.state.modal !== modal && 'true'}\n            >\n              {!!Tag && [\n                <Tag\n                  key={modal.key}\n                  {...modal.attrs}\n                  animateShow={this.animateShow.bind(this)}\n                  animateHide={this.animateHide.bind(this)}\n                  state={this.attrs.state}\n                />,\n                /* This backdrop is invisible and used for outside clicks to close the modal. */\n                <div key={modal.key} className=\"ModalManager-invisibleBackdrop\" onclick={this.handlePossibleBackdropClick.bind(this)} />,\n              ]}\n            </div>\n          );\n        })}\n\n        {this.attrs.state.backdropShown && (\n          <div\n            className=\"Modal-backdrop backdrop\"\n            ontransitionend={this.onBackdropTransitionEnd.bind(this)}\n            data-showing={!!this.attrs.state.modalList.length}\n            style={{ '--modal-count': this.attrs.state.modalList.length }}\n          />\n        )}\n      </>\n    );\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<IModalManagerAttrs, this>): void {\n    super.oncreate(vnode);\n\n    this.keyUpListener = this.handleEscPress.bind(this);\n    document.body.addEventListener('keyup', this.keyUpListener);\n  }\n\n  onbeforeremove(vnode: Mithril.VnodeDOM<IModalManagerAttrs, this>): void {\n    super.onbeforeremove(vnode);\n\n    this.keyUpListener && document.body.removeEventListener('keyup', this.keyUpListener);\n    this.keyUpListener = null;\n  }\n\n  onupdate(vnode: Mithril.VnodeDOM<IModalManagerAttrs, this>): void {\n    super.onupdate(vnode);\n\n    requestAnimationFrame(() => {\n      try {\n        // Main content should gain or lose `aria-hidden` when modals are shown/removed\n        // See: http://web-accessibility.carnegiemuseums.org/code/dialogs/\n\n        if (!this.attrs.state.isModalOpen()) {\n          document.getElementById('app')?.setAttribute('aria-hidden', 'false');\n          this.focusTrap!.deactivate?.();\n          clearAllBodyScrollLocks();\n\n          return;\n        }\n\n        document.getElementById('app')?.setAttribute('aria-hidden', 'true');\n\n        // Get current dialog key\n        const dialogKey = this.attrs.state.modal!.key;\n\n        // Deactivate focus trap if there's a new dialog/closed\n        if (this.focusTrap && this.lastSetFocusTrap !== dialogKey) {\n          this.focusTrap!.deactivate?.();\n\n          clearAllBodyScrollLocks();\n        }\n\n        // Activate focus trap if there's a new dialog which is not trapped yet\n        if (this.activeDialogElement && this.lastSetFocusTrap !== dialogKey) {\n          this.focusTrap = createFocusTrap(this.activeDialogElement as HTMLElement, { allowOutsideClick: true });\n          this.focusTrap!.activate?.();\n\n          disableBodyScroll(this.activeDialogManagerElement!, { reserveScrollBarGap: true });\n        }\n\n        // Update key of current opened modal\n        this.lastSetFocusTrap = dialogKey;\n      } catch {\n        // We can expect errors to occur here due to the nature of mithril rendering\n      }\n    });\n  }\n\n  /**\n   * Get current active dialog\n   */\n  private get activeDialogElement(): HTMLElement {\n    return document.body.querySelector(`.ModalManager[data-modal-key=\"${this.attrs.state.modal?.key}\"] .Modal`) as HTMLElement;\n  }\n\n  /**\n   * Get current active dialog\n   */\n  private get activeDialogManagerElement(): HTMLElement {\n    return document.body.querySelector(`.ModalManager[data-modal-key=\"${this.attrs.state.modal?.key}\"]`) as HTMLElement;\n  }\n\n  animateShow(readyCallback: () => void = () => {}): void {\n    if (!this.attrs.state.modal) return;\n\n    this.activeDialogElement.addEventListener(\n      'transitionend',\n      () => {\n        readyCallback();\n      },\n      { once: true }\n    );\n\n    requestAnimationFrame(() => {\n      this.activeDialogElement.classList.add('in');\n    });\n  }\n\n  animateHide(closedCallback: () => void = () => {}): void {\n    if (this.modalClosing) return;\n    this.modalClosing = true;\n\n    const afterModalClosedCallback = () => {\n      this.modalClosing = false;\n\n      // Close the dialog\n      this.attrs.state.close();\n\n      closedCallback();\n    };\n\n    this.activeDialogElement.addEventListener('transitionend', afterModalClosedCallback, { once: true });\n\n    this.activeDialogElement.classList.remove('in');\n    this.activeDialogElement.classList.add('out');\n  }\n\n  protected handleEscPress(e: KeyboardEvent): void {\n    if (!this.attrs.state.modal) return;\n\n    const dismissibleState = this.attrs.state.modal.componentClass.dismissibleOptions;\n\n    // Close the dialog if the escape key was pressed\n    // Check if closing via escape key is enabled\n    if (e.key === 'Escape' && dismissibleState.viaEscKey) {\n      e.preventDefault();\n\n      this.animateHide();\n    }\n  }\n\n  protected handlePossibleBackdropClick(e: MouseEvent): void {\n    if (!this.attrs.state.modal || !this.attrs.state.modal.componentClass.dismissibleOptions.viaBackdropClick) return;\n\n    this.animateHide();\n  }\n\n  protected onBackdropTransitionEnd(e: TransitionEvent) {\n    if (e.propertyName === 'opacity') {\n      const backdrop = e.currentTarget as HTMLDivElement;\n\n      if (backdrop.getAttribute('data-showing') === null) {\n        // Backdrop is fading out\n        this.attrs.state.backdropShown = false;\n        m.redraw();\n      }\n    }\n  }\n}\n","import app from '../../common/app';\nimport Component from '../Component';\nimport Button from './Button';\nimport LinkButton from './LinkButton';\nimport type Mithril from 'mithril';\nimport classList from '../utils/classList';\n\n/**\n * The `Navigation` component displays a set of navigation buttons. Typically\n * this is just a back button which pops the app's History. If the user is on\n * the root page and there is no history to pop, then in some instances it may\n * show a button that toggles the app's drawer.\n *\n * If the app has a pane, it will also include a 'pin' button which toggles the\n * pinned state of the pane.\n *\n * Accepts the following attrs:\n *\n * - `className` The name of a class to set on the root element.\n * - `drawer` Whether or not to show a button to toggle the app's drawer if\n *   there is no more history to pop.\n */\nexport default class Navigation extends Component {\n  view() {\n    const { history, pane } = app;\n\n    return (\n      <div\n        className={classList('Navigation ButtonGroup', this.attrs.className)}\n        onmouseenter={pane && pane.show.bind(pane)}\n        onmouseleave={pane && pane.onmouseleave.bind(pane)}\n      >\n        {history?.canGoBack() ? [this.getBackButton(), this.getPaneButton()] : this.getDrawerButton()}\n      </div>\n    );\n  }\n\n  /**\n   * Get the back button.\n   */\n  protected getBackButton(): Mithril.Children {\n    const { history } = app;\n    const previous = history?.getPrevious();\n\n    return (\n      <LinkButton\n        className=\"Button Navigation-back Button--icon\"\n        href={history?.backUrl()}\n        icon=\"fas fa-chevron-left\"\n        aria-label={previous?.title}\n        onclick={(e: MouseEvent) => {\n          if (e.shiftKey || e.ctrlKey || e.metaKey || e.which === 2) return;\n          e.preventDefault();\n          history?.back();\n        }}\n      />\n    );\n  }\n\n  /**\n   * Get the pane pinned toggle button.\n   */\n  protected getPaneButton(): Mithril.Children {\n    const { pane } = app;\n\n    if (!pane || !pane.active) return null;\n\n    return (\n      <Button\n        className={classList('Button Button--icon Navigation-pin', { active: pane.pinned })}\n        onclick={pane.togglePinned.bind(pane)}\n        icon=\"fas fa-thumbtack\"\n      />\n    );\n  }\n\n  /**\n   * Get the drawer toggle button.\n   */\n  protected getDrawerButton(): Mithril.Children {\n    if (!this.attrs.drawer) return null;\n\n    const { drawer } = app;\n    const user = app.session.user;\n\n    return (\n      <Button\n        className={classList('Button Button--icon Navigation-drawer', { new: user?.newNotificationCount() })}\n        onclick={(e: MouseEvent) => {\n          e.stopPropagation();\n          drawer.show();\n        }}\n        icon=\"fas fa-bars\"\n        aria-label={app.translator.trans('core.lib.nav.drawer_button')}\n      />\n    );\n  }\n}\n","import type Mithril from 'mithril';\nimport app from '../app';\nimport Component from '../Component';\nimport PageState from '../states/PageState';\n\nexport interface IPageAttrs {\n  key?: number;\n  routeName: string;\n}\n\n/**\n * The `Page` component\n *\n * @abstract\n */\nexport default abstract class Page<CustomAttrs extends IPageAttrs = IPageAttrs, CustomState = undefined> extends Component<CustomAttrs, CustomState> {\n  /**\n   * A class name to apply to the body while the route is active.\n   */\n  protected bodyClass = '';\n\n  /**\n   * Whether we should scroll to the top of the page when its rendered.\n   */\n  protected scrollTopOnCreate = true;\n\n  /**\n   * Whether the browser should restore scroll state on refreshes.\n   */\n  protected useBrowserScrollRestoration = true;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    app.previous = app.current;\n    app.current = new PageState(this.constructor, { routeName: this.attrs.routeName });\n\n    app.drawer.hide();\n    app.modal.close();\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.oncreate(vnode);\n\n    if (this.bodyClass) {\n      $('#app').addClass(this.bodyClass);\n    }\n\n    if (this.scrollTopOnCreate) {\n      $(window).scrollTop(0);\n    }\n\n    if ('scrollRestoration' in history) {\n      history.scrollRestoration = this.useBrowserScrollRestoration ? 'auto' : 'manual';\n    }\n  }\n\n  onremove(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onremove(vnode);\n\n    if (this.bodyClass) {\n      $('#app').removeClass(this.bodyClass);\n    }\n  }\n}\n","import type RequestError from '../utils/RequestError';\nimport Modal, { IInternalModalAttrs } from './Modal';\n\nexport interface IRequestErrorModalAttrs extends IInternalModalAttrs {\n  error: RequestError;\n  formattedError: string[];\n}\n\nexport default class RequestErrorModal<CustomAttrs extends IRequestErrorModalAttrs = IRequestErrorModalAttrs> extends Modal<CustomAttrs> {\n  className() {\n    return 'RequestErrorModal Modal--large';\n  }\n\n  title() {\n    return !!this.attrs.error.xhr && `${this.attrs.error.xhr.status} ${this.attrs.error.xhr.statusText}`;\n  }\n\n  content() {\n    const { error, formattedError } = this.attrs;\n\n    let responseText;\n\n    // If the error is already formatted, just add line endings;\n    // else try to parse it as JSON and stringify it with indentation\n    if (formattedError.length) {\n      responseText = formattedError.join('\\n\\n');\n    } else if (error.response) {\n      responseText = JSON.stringify(error.response, null, 2);\n    } else {\n      responseText = error.responseText;\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <pre>\n          {this.attrs.error.options.method} {this.attrs.error.options.url}\n          <br />\n          <br />\n          {responseText}\n        </pre>\n      </div>\n    );\n  }\n}\n","import Dropdown, { IDropdownAttrs } from './Dropdown';\nimport icon from '../helpers/icon';\nimport classList from '../utils/classList';\nimport type Component from '../Component';\nimport type Mithril from 'mithril';\n\n/**\n * Determines via a vnode is currently \"active\".\n * Due to changes in Mithril 2, attrs will not be instantiated until AFTER view()\n * is initially called on the parent component, so we can not always depend on the\n * active attr to determine which element should be displayed as the \"active child\".\n *\n * This is a temporary patch, and as so, is not exported / placed in utils.\n */\nfunction isActive(vnode: Mithril.Children): boolean {\n  if (!vnode || typeof vnode !== 'object' || vnode instanceof Array) return false;\n\n  const tag = vnode.tag;\n\n  // Allow non-selectable dividers/headers to be added.\n  if (typeof tag === 'string' && tag !== 'a' && tag !== 'button') return false;\n\n  if ((typeof tag === 'object' || typeof tag === 'function') && 'initAttrs' in tag) {\n    (tag as unknown as typeof Component).initAttrs(vnode.attrs);\n  }\n\n  return (typeof tag === 'object' || typeof tag === 'function') && 'isActive' in tag ? (tag as any).isActive(vnode.attrs) : vnode.attrs.active;\n}\n\nexport interface ISelectDropdownAttrs extends IDropdownAttrs {\n  defaultLabel: string;\n}\n\n/**\n * The `SelectDropdown` component is the same as a `Dropdown`, except the toggle\n * button's label is set as the label of the first child which has a truthy\n * `active` prop.\n */\nexport default class SelectDropdown<CustomAttrs extends ISelectDropdownAttrs = ISelectDropdownAttrs> extends Dropdown<CustomAttrs> {\n  static initAttrs(attrs: ISelectDropdownAttrs) {\n    attrs.caretIcon ??= 'fas fa-sort';\n\n    super.initAttrs(attrs);\n\n    attrs.className = classList(attrs.className, 'Dropdown--select');\n  }\n\n  getButtonContent(children: Mithril.ChildArray): Mithril.ChildArray {\n    const activeChild = children.find(isActive);\n    let label = (activeChild && typeof activeChild === 'object' && 'children' in activeChild && activeChild.children) || this.attrs.defaultLabel;\n\n    // @ts-ignore\n    if (Array.isArray(label)) label = label[0];\n\n    return [<span className=\"Button-label\">{label}</span>, this.attrs.caretIcon ? icon(this.attrs.caretIcon, { className: 'Button-caret' }) : null];\n  }\n}\n","import Dropdown, { IDropdownAttrs } from './Dropdown';\nimport Button from './Button';\nimport icon from '../helpers/icon';\nimport Mithril from 'mithril';\nimport classList from '../utils/classList';\n\nexport interface ISplitDropdownAttrs extends IDropdownAttrs {}\n\n/**\n * The `SplitDropdown` component is similar to `Dropdown`, but the first child\n * is displayed as its own button prior to the toggle button.\n */\nexport default class SplitDropdown extends Dropdown {\n  static initAttrs(attrs: ISplitDropdownAttrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = classList(attrs.className, 'Dropdown--split');\n    attrs.menuClassName = classList(attrs.menuClassName, 'Dropdown-menu--right');\n  }\n\n  getButton(children: Mithril.ChildArray): Mithril.Vnode<any, any> {\n    // Make a copy of the attrs of the first child component. We will assign\n    // these attrs to a new button, so that it has exactly the same behaviour as\n    // the first child.\n    const firstChild = this.getFirstChild(children);\n    const buttonAttrs = Object.assign({}, firstChild?.attrs);\n    buttonAttrs.className = classList(buttonAttrs.className, 'SplitDropdown-button Button', this.attrs.buttonClassName);\n\n    return (\n      <>\n        <Button {...buttonAttrs}>{firstChild.children}</Button>\n        <button\n          className={'Dropdown-toggle Button Button--icon ' + this.attrs.buttonClassName}\n          aria-haspopup=\"menu\"\n          aria-label={this.attrs.accessibleToggleLabel}\n          data-toggle=\"dropdown\"\n        >\n          {this.attrs.icon ? icon(this.attrs.icon, { className: 'Button-icon' }) : null}\n          {icon('fas fa-caret-down', { className: 'Button-caret' })}\n        </button>\n      </>\n    );\n  }\n\n  /**\n   * Get the first child. If the first child is an array, the first item in that\n   * array will be returned.\n   */\n  protected getFirstChild(children: Mithril.Children): Mithril.Vnode<any, any> {\n    let firstChild = children;\n\n    while (firstChild instanceof Array) firstChild = firstChild[0];\n\n    return firstChild as Mithril.Vnode<any, any>;\n  }\n}\n","import classList from '../utils/classList';\nimport Checkbox, { ICheckboxAttrs } from './Checkbox';\n\n/**\n * The `Switch` component is a `Checkbox`, but with a switch display instead of\n * a tick/cross one.\n */\nexport default class Switch extends Checkbox {\n  static initAttrs(attrs: ICheckboxAttrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = classList(attrs.className, 'Checkbox--switch');\n  }\n\n  getDisplay() {\n    return !!this.attrs.loading && super.getDisplay();\n  }\n}\n","import Component from '../Component';\nimport type Mithril from 'mithril';\nimport classList from '../utils/classList';\nimport extractText from '../utils/extractText';\n\nexport interface TooltipAttrs extends Mithril.CommonAttributes<TooltipAttrs, Tooltip> {\n  /**\n   * Tooltip textual content.\n   *\n   * String arrays, like those provided by the translator, will be flattened\n   * into strings.\n   */\n  text: string | string[];\n  /**\n   * Use to manually show or hide the tooltip. `undefined` will show based on cursor events.\n   *\n   * Default: `undefined`.\n   */\n  tooltipVisible?: boolean;\n  /**\n   * Whether to show on focus.\n   *\n   * Default: `true`.\n   */\n  showOnFocus?: boolean;\n  /**\n   * Tooltip position around element.\n   *\n   * Default: `'top'`.\n   */\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  /**\n   * Whether HTML content is allowed in the tooltip.\n   *\n   * **Warning:** this is a possible XSS attack vector. This option shouldn't\n   * be used wherever possible, and may not work when we migrate to another\n   * tooltip library. Be prepared for this to break in Flarum stable.\n   *\n   * Default: `false`.\n   *\n   * @deprecated\n   */\n  html?: boolean;\n  /**\n   * Sets the delay between a trigger state occurring and the tooltip appearing\n   * on-screen.\n   *\n   * **Warning:** this option may be removed when switching to another tooltip\n   * library. Be prepared for this to break in Flarum stable.\n   *\n   * Default: `0`.\n   *\n   * @deprecated\n   */\n  delay?: number;\n  /**\n   * Used to disable the warning for passing text to the `title` attribute.\n   *\n   * Tooltip text should be passed to the `text` attribute.\n   */\n  ignoreTitleWarning?: boolean;\n}\n\n/**\n * The `Tooltip` component is used to create a tooltip for an element. It\n * requires a single child element to be passed to it. Passing multiple\n * children or fragments will throw an error.\n *\n * You should use this for any tooltips you create to allow for backwards\n * compatibility when we switch to another tooltip library instead of\n * Bootstrap tooltips.\n *\n * If you need to pass multiple children, surround them with another element,\n * such as a `<span>` or `<div>`.\n *\n * **Note:** this component will overwrite the `title` attribute of the first\n * child you pass to it, as this is how the current tooltip system works in\n * Flarum. This shouldn't be an issue if you're using this component correctly.\n *\n * @example <caption>Basic usage</caption>\n *          <Tooltip text=\"You wish!\">\n *            <Button>\n *              Click for free money!\n *            </Button>\n *          </Tooltip>\n *\n * @example <caption>Use of `position` and `showOnFocus` attrs</caption>\n *          <Tooltip text=\"Woah! That's cool!\" position=\"bottom\" showOnFocus>\n *            <span>3 replies</span>\n *          </Tooltip>\n *\n * @example <caption>Incorrect usage</caption>\n *          // This is wrong! Surround the children with a <span> or similar.\n *          <Tooltip text=\"This won't work\">\n *            Click\n *            <a href=\"/\">here</a>\n *          </Tooltip>\n */\nexport default class Tooltip extends Component<TooltipAttrs> {\n  private firstChild: Mithril.Vnode<any, any> | null = null;\n  private childDomNode: HTMLElement | null = null;\n\n  private oldText: string = '';\n  private oldVisibility: boolean | undefined;\n\n  private shouldRecreateTooltip: boolean = false;\n  private shouldChangeTooltipVisibility: boolean = false;\n\n  view(vnode: Mithril.Vnode<TooltipAttrs, this>) {\n    /**\n     * We know this will be a ChildArray and not a primitive as this\n     * vnode is a component, not a text or trusted HTML vnode.\n     */\n    const children = vnode.children as Mithril.ChildArray | undefined;\n\n    // We remove these to get the remaining attrs to pass to the DOM element\n    const { text, tooltipVisible, showOnFocus = true, position = 'top', ignoreTitleWarning = false, html = false, delay = 0, ...attrs } = this.attrs;\n\n    if ((this.attrs as any).title && !ignoreTitleWarning) {\n      console.warn(\n        '`title` attribute was passed to Tooltip component. Was this intentional? Tooltip content should be passed to the `text` attr instead.'\n      );\n    }\n\n    const realText = this.getRealText();\n\n    // We need to recreate the tooltip if the text has changed\n    if (realText !== this.oldText) {\n      this.oldText = realText;\n      this.shouldRecreateTooltip = true;\n    }\n\n    if (tooltipVisible !== this.oldVisibility) {\n      this.oldVisibility = this.attrs.tooltipVisible;\n      this.shouldChangeTooltipVisibility = true;\n    }\n\n    // We'll try our best to detect any issues created by devs before they cause any weird effects.\n    // Throwing an error will prevent the forum rendering, but will be better at alerting devs to\n    // an issue.\n\n    if (typeof children === 'undefined') {\n      throw new Error(\n        `Tooltip component was provided with no direct child DOM element. Tooltips must contain a single direct DOM node to attach to.`\n      );\n    }\n\n    if (children.length !== 1) {\n      throw new Error(\n        `Tooltip component was either passed more than one or no child node.\\n\\nPlease wrap multiple children in another element, such as a <div> or <span>.`\n      );\n    }\n\n    const firstChild = children[0];\n\n    if (typeof firstChild !== 'object' || Array.isArray(firstChild) || firstChild === null) {\n      throw new Error(\n        `Tooltip component was provided with no direct child DOM element. Tooltips must contain a single direct DOM node to attach to.`\n      );\n    }\n\n    if (typeof firstChild.tag === 'string' && ['#', '[', '<'].includes(firstChild.tag)) {\n      throw new Error(\n        `Tooltip component with provided with a vnode with tag \"${firstChild.tag}\". This is not a DOM element, so is not a valid child element. Please wrap this vnode in another element, such as a <div> or <span>.`\n      );\n    }\n\n    this.firstChild = firstChild;\n\n    return children;\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<TooltipAttrs, this>) {\n    super.oncreate(vnode);\n\n    this.checkDomNodeChanged();\n    this.recreateTooltip();\n  }\n\n  onupdate(vnode: Mithril.VnodeDOM<TooltipAttrs, this>) {\n    super.onupdate(vnode);\n\n    this.checkDomNodeChanged();\n    this.recreateTooltip();\n  }\n\n  private recreateTooltip() {\n    if (this.shouldRecreateTooltip && this.childDomNode !== null) {\n      $(this.childDomNode).tooltip(\n        'destroy',\n        // @ts-expect-error We don't want this arg to be part of the public API. It only exists to prevent deprecation warnings when using `$.tooltip` in this component.\n        'DANGEROUS_tooltip_jquery_fn_deprecation_exempt'\n      );\n      this.createTooltip();\n      this.shouldRecreateTooltip = false;\n    }\n\n    if (this.shouldChangeTooltipVisibility) {\n      this.shouldChangeTooltipVisibility = false;\n      this.updateVisibility();\n    }\n  }\n\n  private updateVisibility() {\n    if (this.childDomNode === null) return;\n\n    if (this.attrs.tooltipVisible === true) {\n      $(this.childDomNode).tooltip(\n        'show',\n        // @ts-expect-error We don't want this arg to be part of the public API. It only exists to prevent deprecation warnings when using `$.tooltip` in this component.\n        'DANGEROUS_tooltip_jquery_fn_deprecation_exempt'\n      );\n    } else if (this.attrs.tooltipVisible === false) {\n      $(this.childDomNode).tooltip(\n        'hide',\n        // @ts-expect-error We don't want this arg to be part of the public API. It only exists to prevent deprecation warnings when using `$.tooltip` in this component.\n        'DANGEROUS_tooltip_jquery_fn_deprecation_exempt'\n      );\n    }\n  }\n\n  private createTooltip() {\n    if (this.childDomNode === null) return;\n\n    const {\n      showOnFocus = true,\n      position = 'top',\n      delay,\n      // This will have no effect when switching to CSS tooltips\n      html = false,\n      tooltipVisible,\n      text,\n    } = this.attrs;\n\n    // Fancy \"hack\" to assemble the trigger string\n    const trigger = typeof tooltipVisible === 'boolean' ? 'manual' : classList('hover', [showOnFocus && 'focus']);\n\n    const realText = this.getRealText();\n    this.childDomNode.setAttribute('title', realText);\n    this.childDomNode.setAttribute('aria-label', realText);\n\n    // https://getbootstrap.com/docs/3.3/javascript/#tooltips-options\n    $(this.childDomNode).tooltip(\n      {\n        html,\n        delay,\n        placement: position,\n        trigger,\n      },\n      // @ts-expect-error We don't want this arg to be part of the public API. It only exists to prevent deprecation warnings when using `$.tooltip` in this component.\n      'DANGEROUS_tooltip_jquery_fn_deprecation_exempt'\n    );\n  }\n\n  private getRealText(): string {\n    const { text } = this.attrs;\n\n    return Array.isArray(text) ? extractText(text) : text;\n  }\n\n  /**\n   * Checks if the tooltip DOM node has changed.\n   *\n   * If it has, it updates `this.childDomNode` to the new node, and sets\n   * `shouldRecreateTooltip` to `true`.\n   */\n  private checkDomNodeChanged() {\n    const domNode = (this.firstChild as Mithril.VnodeDOM<any, any>).dom as HTMLElement;\n\n    if (domNode && !domNode.isSameNode(this.childDomNode)) {\n      this.childDomNode = domNode;\n      this.shouldRecreateTooltip = true;\n    }\n  }\n}\n","/**\n * Extend an object's method by running its output through a mutating callback\n * every time it is called.\n *\n * The callback accepts the method's return value and should perform any\n * mutations directly on this value. For this reason, this function will not be\n * effective on methods which return scalar values (numbers, strings, booleans).\n *\n * Care should be taken to extend the correct object  in most cases, a class'\n * prototype will be the desired target of extension, not the class itself.\n *\n * @example <caption>Example usage of extending one method.</caption>\n * extend(Discussion.prototype, 'badges', function(badges) {\n *   // do something with `badges`\n * });\n *\n * @example <caption>Example usage of extending multiple methods.</caption>\n * extend(IndexPage.prototype, ['oncreate', 'onupdate'], function(vnode) {\n *   // something that needs to be run on creation and update\n * });\n *\n * @param object The object that owns the method\n * @param methods The name or names of the method(s) to extend\n * @param callback A callback which mutates the method's output\n */\nexport function extend<T extends Record<string, any>, K extends KeyOfType<T, Function>>(\n  object: T,\n  methods: K | K[],\n  callback: (this: T, val: ReturnType<T[K]>, ...args: Parameters<T[K]>) => void\n) {\n  const allMethods = Array.isArray(methods) ? methods : [methods];\n\n  allMethods.forEach((method: K) => {\n    const original: Function | undefined = object[method];\n\n    object[method] = function (this: T, ...args: Parameters<T[K]>) {\n      const value = original ? original.apply(this, args) : undefined;\n\n      callback.apply(this, [value, ...args]);\n\n      return value;\n    } as T[K];\n\n    Object.assign(object[method], original);\n  });\n}\n\n/**\n * Override an object's method by replacing it with a new function, so that the\n * new function will be run every time the object's method is called.\n *\n * The replacement function accepts the original method as its first argument,\n * which is like a call to `super`. Any arguments passed to the original method\n * are also passed to the replacement.\n *\n * Care should be taken to extend the correct object  in most cases, a class'\n * prototype will be the desired target of extension, not the class itself.\n *\n * @example <caption>Example usage of overriding one method.</caption>\n * override(Discussion.prototype, 'badges', function(original) {\n *   const badges = original();\n *   // do something with badges\n *   return badges;\n * });\n *\n * @example <caption>Example usage of overriding multiple methods.</caption>\n * extend(Discussion.prototype, ['oncreate', 'onupdate'], function(original, vnode) {\n *   // something that needs to be run on creation and update\n * });\n *\n * @param object The object that owns the method\n * @param methods The name or names of the method(s) to override\n * @param newMethod The method to replace it with\n */\nexport function override<T extends Record<any, any>, K extends KeyOfType<T, Function>>(\n  object: T,\n  methods: K | K[],\n  newMethod: (this: T, orig: T[K], ...args: Parameters<T[K]>) => void\n) {\n  const allMethods = Array.isArray(methods) ? methods : [methods];\n\n  allMethods.forEach((method) => {\n    const original: Function = object[method];\n\n    object[method] = function (this: T, ...args: Parameters<T[K]>) {\n      return newMethod.apply(this, [original.bind(this), ...args]);\n    } as T[K];\n\n    Object.assign(object[method], original);\n  });\n}\n","import IExtender, { IExtensionModule } from './IExtender';\nimport Application from '../Application';\nimport ActualModel from '../Model';\n\nexport default class Model implements IExtender {\n  private readonly model: { new (): ActualModel };\n  private callbacks: Array<() => void> = [];\n\n  public constructor(model: { new (): ActualModel }) {\n    this.model = model;\n  }\n\n  public attribute<T, O = unknown>(name: string, transform: ((attr: O) => T) | null = null): Model {\n    this.callbacks.push(() => {\n      this.model.prototype[name] = transform ? ActualModel.attribute<T, O>(name, transform) : ActualModel.attribute<T>(name);\n    });\n\n    return this;\n  }\n\n  public hasOne<M extends ActualModel>(name: string): Model {\n    this.callbacks.push(() => {\n      this.model.prototype[name] = ActualModel.hasOne<M>(name);\n    });\n\n    return this;\n  }\n\n  public hasMany<M extends ActualModel>(name: string): Model {\n    this.callbacks.push(() => {\n      this.model.prototype[name] = ActualModel.hasMany<M>(name);\n    });\n\n    return this;\n  }\n\n  extend(app: Application, extension: IExtensionModule): void {\n    for (const callback of this.callbacks) {\n      callback.call(this);\n    }\n  }\n}\n","import IExtender, { IExtensionModule } from './IExtender';\nimport Application from '../Application';\nimport ForumApplication from '../../forum/ForumApplication';\n\nexport default class PostTypes implements IExtender {\n  private postComponents: Record<string, any> = {};\n\n  /**\n   * Register a new post component type.\n   * Usually used for event posts.\n   *\n   * @param name The name of the post type.\n   * @param component The component class to render the post.\n   */\n  add(name: string, component: any): PostTypes {\n    this.postComponents[name] = component;\n\n    return this;\n  }\n\n  extend(app: Application, extension: IExtensionModule): void {\n    Object.assign((app as unknown as ForumApplication).postComponents, this.postComponents);\n  }\n}\n","import Application, { FlarumGenericRoute } from '../Application';\nimport IExtender, { IExtensionModule } from './IExtender';\n\ntype HelperRoute = (...args: any) => string;\n\nexport default class Routes implements IExtender {\n  private routes: Record<string, FlarumGenericRoute> = {};\n  private helpers: Record<string, HelperRoute> = {};\n\n  /**\n   * Add a mithril route to the application.\n   *\n   * @param name The name of the route.\n   * @param path The path of the route.\n   * @param component must extend `Page` component.\n   */\n  add(name: string, path: `/${string}`, component: any): Routes {\n    this.routes[name] = { path, component };\n\n    return this;\n  }\n\n  helper(name: string, callback: HelperRoute): Routes {\n    this.helpers[name] = callback;\n\n    return this;\n  }\n\n  extend(app: Application, extension: IExtensionModule) {\n    Object.assign(app.routes, this.routes);\n    Object.assign(app.route, this.helpers);\n  }\n}\n","import Application from '../Application';\nimport IExtender, { IExtensionModule } from './IExtender';\nimport Model from '../Model';\n\nexport default class Store implements IExtender {\n  private readonly models: { [type: string]: { new (): Model } } = {};\n\n  public add(type: string, model: { new (): Model }): Store {\n    this.models[type] = model;\n\n    return this;\n  }\n\n  extend(app: Application, extension: IExtensionModule): void {\n    for (const type in this.models) {\n      if (app.store.models[type]) {\n        throw new Error(`The model type \"${type}\" has already been registered with the class \"${app.store.models[type].name}\".`);\n      }\n\n      app.store.models[type] = this.models[type];\n    }\n  }\n}\n","import Model from './Model';\nimport PostTypes from './PostTypes';\nimport Routes from './Routes';\nimport Store from './Store';\n\nexport default {\n  Model,\n  PostTypes,\n  Routes,\n  Store,\n};\n","import type Mithril from 'mithril';\nimport type { ComponentAttrs } from '../Component';\nimport User from '../models/User';\nimport classList from '../utils/classList';\n\nexport interface AvatarAttrs extends ComponentAttrs {}\n\n/**\n * The `avatar` helper displays a user's avatar.\n *\n * @param user\n * @param attrs Attributes to apply to the avatar element\n */\nexport default function avatar(user: User | null, attrs: ComponentAttrs = {}): Mithril.Vnode {\n  attrs.className = classList('Avatar', attrs.className);\n  attrs.loading ??= 'lazy';\n  let content: string = '';\n\n  // If the `title` attribute is set to null or false, we don't want to give the\n  // avatar a title. On the other hand, if it hasn't been given at all, we can\n  // safely default it to the user's username.\n  const hasTitle: boolean | string = attrs.title === 'undefined' || attrs.title;\n  if (!hasTitle) delete attrs.title;\n\n  // If a user has been passed, then we will set up an avatar using their\n  // uploaded image, or the first letter of their username if they haven't\n  // uploaded one.\n  if (user) {\n    const username = user.displayName() || '?';\n    const avatarUrl = user.avatarUrl();\n\n    if (hasTitle) attrs.title = attrs.title || username;\n\n    if (avatarUrl) {\n      return <img {...attrs} src={avatarUrl} alt=\"\" />;\n    }\n\n    content = username.charAt(0).toUpperCase();\n    attrs.style = { '--avatar-bg': user.color() };\n  }\n\n  return <span {...attrs}>{content}</span>;\n}\n","import app from '../app';\n\n/**\n * Fire a Flarum error which is shown in the JS console for everyone and in an alert for the admin.\n *\n * @param userTitle: a user friendly title of the error, should be localized.\n * @param consoleTitle: an error title that goes in the console, doesn't have to be localized.\n * @param error: the error.\n */\nexport default function fireApplicationError(userTitle: string, consoleTitle: string, error: any) {\n  console.group(`%c${consoleTitle}`, 'background-color: #d83e3e; color: #ffffff; font-weight: bold;');\n  console.error(error);\n  console.groupEnd();\n\n  if (app.session?.user?.isAdmin()) {\n    app.alerts.show({ type: 'error' }, `${userTitle}`);\n  }\n}\n","import app from '../app';\n\n/**\n * Calls `console.warn` with the provided arguments, but only if the forum is in debug mode.\n *\n * This function is intended to provide warnings to extension developers about issues with\n * their extensions that may not be easily noticed when testing, such as accessibility\n * issues.\n *\n * These warnings should be hidden on production forums to ensure webmasters are not\n * inundated with do-gooders telling them they have an issue when it isn't something they\n * can fix.\n */\nexport default function fireDebugWarning(...args: Parameters<typeof console.warn>): void {\n  if (!app.forum.attribute('debug')) return;\n\n  console.warn(...args);\n}\n\n/**\n * Fire a Flarum deprecation warning which is shown in the JS console.\n *\n * These warnings are only shown when the forum is in debug mode, and the function exists to\n * reduce bundle size caused by multiple warnings across our JavaScript.\n *\n * @param message The message to display. (Short, but sweet, please!)\n * @param githubId The PR or Issue ID with more info in relation to this change.\n * @param [removedFrom] The version in which this feature will be completely removed. (default: 2.0)\n * @param [repo] The repo which the issue or PR is located in. (default: flarum/core)\n *\n * @see {@link fireDebugWarning}\n */\nexport function fireDeprecationWarning(message: string, githubId: string, removedFrom: string = '2.0', repo: string = 'flarum/core'): void {\n  // GitHub auto-redirects between `/pull` and `/issues` for us, so using `/pull` saves 2 bytes!\n  fireDebugWarning(`[Flarum ${removedFrom} Deprecation] ${message}\\n\\nSee: https://github.com/${repo}/pull/${githubId}`);\n}\n","import dayjs from 'dayjs';\nimport type Mithril from 'mithril';\n\n/**\n * The `fullTime` helper displays a formatted time string wrapped in a <time>\n * tag.\n */\nexport default function fullTime(time: Date): Mithril.Vnode {\n  const d = dayjs(time);\n\n  const datetime = d.format();\n  const full = d.format('LLLL');\n\n  return (\n    <time pubdate datetime={datetime}>\n      {full}\n    </time>\n  );\n}\n","import type Mithril from 'mithril';\nimport { truncate } from '../utils/string';\n\n/**\n * The `highlight` helper searches for a word phrase in a string, and wraps\n * matches with the <mark> tag.\n *\n * @param string The string to highlight.\n * @param phrase The word or words to highlight.\n * @param [length] The number of characters to truncate the string to.\n *     The string will be truncated surrounding the first match.\n */\nexport default function highlight(string: string, phrase?: string | RegExp, length?: number): Mithril.Vnode<any, any> | string {\n  if (!phrase && !length) return string;\n\n  // Convert the word phrase into a global regular expression (if it isn't\n  // already) so we can search the string for matched.\n  const regexp = phrase instanceof RegExp ? phrase : new RegExp(phrase ?? '', 'gi');\n\n  let highlighted = string;\n  let start = 0;\n\n  // If a length was given, the truncate the string surrounding the first match.\n  if (length) {\n    if (phrase) start = Math.max(0, string.search(regexp) - length / 2);\n\n    highlighted = truncate(highlighted, length, start);\n  }\n\n  // Convert the string into HTML entities, then highlight all matches with\n  // <mark> tags. Then we will return the result as a trusted HTML string.\n  highlighted = $('<div/>').text(highlighted).html();\n\n  if (phrase) highlighted = highlighted.replace(regexp, '<mark>$&</mark>');\n\n  return m.trust(highlighted);\n}\n","import dayjs from 'dayjs';\nimport type Mithril from 'mithril';\nimport humanTimeUtil from '../utils/humanTime';\n\n/**\n * The `humanTime` helper displays a time in a human-friendly time-ago format\n * (e.g. '12 days ago'), wrapped in a <time> tag with other information about\n * the time.\n */\nexport default function humanTime(time: Date): Mithril.Vnode {\n  const d = dayjs(time);\n\n  const datetime = d.format();\n  const full = d.format('LLLL');\n  const ago = humanTimeUtil(time);\n\n  return (\n    <time pubdate datetime={datetime} title={full} data-humantime>\n      {ago}\n    </time>\n  );\n}\n","import type Mithril from 'mithril';\nimport classList from '../utils/classList';\n\n/**\n * The `icon` helper displays an icon.\n *\n * @param fontClass The full icon class, prefix and the icons name.\n * @param attrs Any other attributes to apply.\n */\nexport default function icon(fontClass: string, attrs: Mithril.Attributes = {}): Mithril.Vnode {\n  attrs.className = classList('icon', fontClass, attrs.className);\n\n  return <i aria-hidden=\"true\" {...attrs} />;\n}\n","import type Mithril from 'mithril';\nimport Component, { ComponentAttrs } from '../Component';\nimport Separator from '../components/Separator';\nimport classList from '../utils/classList';\n\ntype ModdedVnodeAttrs = {\n  itemClassName?: string;\n  key?: string;\n};\n\ntype ModdedTag = Mithril.Vnode['tag'] & {\n  isListItem?: boolean;\n  isActive?: (attrs: ComponentAttrs) => boolean;\n};\n\ntype ModdedVnode = Mithril.Vnode<ModdedVnodeAttrs> & { itemName?: string; itemClassName?: string; tag: ModdedTag };\n\ntype ModdedChild = ModdedVnode | string | number | boolean | null | undefined;\ntype ModdedChildArray = ModdedChildren[];\ntype ModdedChildren = ModdedChild | ModdedChildArray;\n\n/**\n * This type represents an element of a list returned by `ItemList.toArray()`,\n * coupled with some static properties used on various components.\n */\nexport type ModdedChildrenWithItemName = ModdedChildren & { itemName?: string };\n\nfunction isVnode(item: ModdedChildren): item is Mithril.Vnode {\n  return typeof item === 'object' && item !== null && 'tag' in item;\n}\n\nfunction isSeparator(item: ModdedChildren): boolean {\n  return isVnode(item) && item.tag === Separator;\n}\n\nfunction withoutUnnecessarySeparators(items: ModdedChildrenWithItemName[]): ModdedChildrenWithItemName[] {\n  const newItems: ModdedChildrenWithItemName[] = [];\n  let prevItem: ModdedChildren;\n\n  items.filter(Boolean).forEach((item, i: number) => {\n    if (!isSeparator(item) || (prevItem && !isSeparator(prevItem) && i !== items.length - 1)) {\n      prevItem = item;\n      newItems.push(item);\n    }\n  });\n\n  return newItems;\n}\n\n/**\n * The `listItems` helper wraps an array of components in the provided tag,\n * stripping out any unnecessary `Separator` components.\n *\n * By default, this tag is an `<li>` tag, but this is customisable through the\n * second function parameter, `customTag`.\n */\nexport default function listItems<Attrs extends ComponentAttrs>(\n  rawItems: ModdedChildrenWithItemName[],\n  customTag: VnodeElementTag<Attrs> = 'li',\n  attributes: Attrs = {} as Attrs\n): Mithril.Vnode[] {\n  const items = rawItems instanceof Array ? rawItems : [rawItems];\n  const Tag = customTag;\n\n  return withoutUnnecessarySeparators(items).map((item) => {\n    const classes = [item.itemName && `item-${item.itemName}`];\n\n    if (isVnode(item) && item.tag.isListItem) {\n      item.attrs = item.attrs || {};\n      item.attrs.key = item.attrs.key || item.itemName;\n      item.key = item.attrs.key;\n\n      return item;\n    }\n\n    if (isVnode(item)) {\n      classes.push(item.attrs?.itemClassName || item.itemClassName);\n\n      if (item.tag.isActive?.(item.attrs)) {\n        classes.push('active');\n      }\n    }\n\n    const key = (isVnode(item) && item?.attrs?.key) || item.itemName;\n\n    return (\n      <Tag className={classList(classes)} key={key} {...attributes}>\n        {item}\n      </Tag>\n    );\n  });\n}\n","import isDark from '../utils/isDark';\n\nexport default function textContrastClass(hexcolor: string | null | undefined): string {\n  if (!hexcolor) return 'text-contrast--unchanged';\n\n  return isDark(hexcolor) ? 'text-contrast--light' : 'text-contrast--dark';\n}\n","import type Mithril from 'mithril';\nimport User from '../models/User';\nimport icon from './icon';\n\n/**\n * The `useronline` helper displays a green circle if the user is online.\n */\nexport default function userOnline(user: User): Mithril.Vnode<{}, {}> | null {\n  if (user.lastSeenAt() && user.isOnline()) {\n    return <span className=\"UserOnline\">{icon('fas fa-circle')}</span>;\n  }\n\n  return null;\n}\n","import app from '../../common/app';\nimport type Mithril from 'mithril';\nimport User from '../models/User';\n\n/**\n * The `username` helper displays a user's username in a <span className=\"username\">\n * tag. If the user doesn't exist, the username will be displayed as [deleted].\n */\nexport default function username(user: User | null | undefined | false): Mithril.Vnode {\n  const name = (user && user.displayName()) || app.translator.trans('core.lib.username.deleted_text');\n\n  return <span className=\"username\">{name}</span>;\n}\n","// Expose jQuery, mithril and dayjs to the window browser object\nimport 'expose-loader?exposes=$,jQuery!jquery';\nimport 'expose-loader?exposes=m!mithril';\nimport 'expose-loader?exposes=dayjs!dayjs';\n\nimport 'bootstrap/js/affix';\nimport 'bootstrap/js/dropdown';\nimport 'bootstrap/js/tooltip';\nimport 'bootstrap/js/transition';\nimport 'jquery.hotkeys/jquery.hotkeys';\n\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\n\ndayjs.extend(relativeTime);\ndayjs.extend(localizedFormat);\n\nimport patchMithril from './utils/patchMithril';\n\npatchMithril(window);\n\nimport app from './app';\n\nexport { app };\n\nimport './utils/arrayFlatPolyfill';\n\nconst tooltipGen = $.fn.tooltip;\n\n// Remove in a future version of Flarum.\n// @ts-ignore\n$.fn.tooltip = function (options, caller) {\n  // Show a warning when `$.tooltip` is used outside of the Tooltip component.\n  // This functionality is deprecated and should not be used.\n  if (!['DANGEROUS_tooltip_jquery_fn_deprecation_exempt'].includes(caller)) {\n    console.warn(\n      \"Calling `$.tooltip` is now deprecated. Please use the `<Tooltip>` component exposed by flarum/core instead. `$.tooltip` may be removed in a future version of Flarum.\\n\\nIf this component doesn't meet your requirements, please open an issue: https://github.com/flarum/core/issues/new?assignees=davwheat&labels=type/bug,needs-verification&template=bug-report.md&title=Tooltip%20component%20unsuitable%20for%20use%20case\"\n    );\n  }\n\n  tooltipGen.bind(this)(options);\n};\n","import Model from '../Model';\n\nexport default class AccessToken extends Model {\n  token() {\n    return Model.attribute<string | undefined>('token').call(this);\n  }\n  userId() {\n    return Model.attribute<string>('userId').call(this);\n  }\n  title() {\n    return Model.attribute<string | null>('title').call(this);\n  }\n  type() {\n    return Model.attribute<string>('type').call(this);\n  }\n  createdAt() {\n    return Model.attribute<Date, string>('createdAt', Model.transformDate).call(this);\n  }\n  lastActivityAt() {\n    return Model.attribute<Date, string>('lastActivityAt', Model.transformDate).call(this);\n  }\n  lastIpAddress() {\n    return Model.attribute<string>('lastIpAddress').call(this);\n  }\n  device() {\n    return Model.attribute<string>('device').call(this);\n  }\n  isCurrent() {\n    return Model.attribute<boolean>('isCurrent').call(this);\n  }\n  isSessionToken() {\n    return Model.attribute<boolean>('isSessionToken').call(this);\n  }\n}\n","import app from '../../common/app';\nimport Model from '../Model';\nimport computed from '../utils/computed';\nimport ItemList from '../utils/ItemList';\nimport Badge from '../components/Badge';\nimport Mithril from 'mithril';\nimport Post from './Post';\nimport User from './User';\n\nexport default class Discussion extends Model {\n  title() {\n    return Model.attribute<string>('title').call(this);\n  }\n  slug() {\n    return Model.attribute<string>('slug').call(this);\n  }\n\n  createdAt() {\n    return Model.attribute<Date | undefined, string | undefined>('createdAt', Model.transformDate).call(this);\n  }\n  user() {\n    return Model.hasOne<User | null>('user').call(this);\n  }\n  firstPost() {\n    return Model.hasOne<Post | null>('firstPost').call(this);\n  }\n\n  lastPostedAt() {\n    return Model.attribute('lastPostedAt', Model.transformDate).call(this);\n  }\n  lastPostedUser() {\n    return Model.hasOne<User | null>('lastPostedUser').call(this);\n  }\n  lastPost() {\n    return Model.hasOne<Post | null>('lastPost').call(this);\n  }\n  lastPostNumber() {\n    return Model.attribute<number | null | undefined>('lastPostNumber').call(this);\n  }\n\n  commentCount() {\n    return Model.attribute<number | undefined>('commentCount').call(this);\n  }\n  replyCount() {\n    return computed<number, this>('commentCount', (commentCount) => Math.max(0, ((commentCount as number) ?? 0) - 1)).call(this);\n  }\n  posts() {\n    return Model.hasMany<Post>('posts').call(this);\n  }\n  mostRelevantPost() {\n    return Model.hasOne<Post | null>('mostRelevantPost').call(this);\n  }\n\n  lastReadAt() {\n    return Model.attribute('lastReadAt', Model.transformDate).call(this);\n  }\n  lastReadPostNumber() {\n    return Model.attribute<number | null | undefined>('lastReadPostNumber').call(this);\n  }\n  isUnread() {\n    return computed<boolean, this>('unreadCount', (unreadCount) => !!unreadCount).call(this);\n  }\n  isRead() {\n    return computed<boolean, this>('unreadCount', (unreadCount) => !!(app.session.user && !unreadCount)).call(this);\n  }\n\n  hiddenAt() {\n    return Model.attribute('hiddenAt', Model.transformDate).call(this);\n  }\n  hiddenUser() {\n    return Model.hasOne<User | null>('hiddenUser').call(this);\n  }\n  isHidden() {\n    return computed<boolean, this>('hiddenAt', (hiddenAt) => !!hiddenAt).call(this);\n  }\n\n  canReply() {\n    return Model.attribute<boolean | undefined>('canReply').call(this);\n  }\n  canRename() {\n    return Model.attribute<boolean | undefined>('canRename').call(this);\n  }\n  canHide() {\n    return Model.attribute<boolean | undefined>('canHide').call(this);\n  }\n  canDelete() {\n    return Model.attribute<boolean | undefined>('canDelete').call(this);\n  }\n\n  /**\n   * Remove a post from the discussion's posts relationship.\n   */\n  removePost(id: string): void {\n    const posts = this.rawRelationship<Post[]>('posts');\n\n    if (!posts) {\n      return;\n    }\n\n    posts.some((data, i) => {\n      if (id === data.id) {\n        posts.splice(i, 1);\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  /**\n   * Get the estimated number of unread posts in this discussion for the current\n   * user.\n   */\n  unreadCount(): number {\n    const user = app.session.user;\n\n    if (user && (user.markedAllAsReadAt()?.getTime() ?? 0) < this.lastPostedAt()?.getTime()!) {\n      const unreadCount = Math.max(0, (this.lastPostNumber() ?? 0) - (this.lastReadPostNumber() || 0));\n      // If posts have been deleted, it's possible that the unread count could exceed the\n      // actual post count. As such, we take the min of the two to ensure this isn't an issue.\n      return Math.min(unreadCount, this.commentCount() ?? 0);\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get the Badge components that apply to this discussion.\n   */\n  badges(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    if (this.isHidden()) {\n      items.add('hidden', <Badge type=\"hidden\" icon=\"fas fa-trash\" label={app.translator.trans('core.lib.badge.hidden_tooltip')} />);\n    }\n\n    return items;\n  }\n\n  /**\n   * Get a list of all of the post IDs in this discussion.\n   */\n  postIds(): string[] {\n    return this.rawRelationship<Post[]>('posts')?.map((link) => link.id) ?? [];\n  }\n}\n","import Model from '../Model';\n\nexport default class Forum extends Model {\n  apiEndpoint() {\n    return '/';\n  }\n}\n","import Model from '../Model';\n\nexport default class Group extends Model {\n  static ADMINISTRATOR_ID = '1';\n  static GUEST_ID = '2';\n  static MEMBER_ID = '3';\n\n  nameSingular() {\n    return Model.attribute<string>('nameSingular').call(this);\n  }\n  namePlural() {\n    return Model.attribute<string>('namePlural').call(this);\n  }\n\n  color() {\n    return Model.attribute<string | null>('color').call(this);\n  }\n  icon() {\n    return Model.attribute<string | null>('icon').call(this);\n  }\n\n  isHidden() {\n    return Model.attribute<boolean>('isHidden').call(this);\n  }\n}\n","import Model from '../Model';\nimport User from './User';\n\nexport default class Notification extends Model {\n  contentType() {\n    return Model.attribute<string>('contentType').call(this);\n  }\n  content<T = unknown>() {\n    return Model.attribute<T>('content').call(this);\n  }\n  createdAt() {\n    return Model.attribute<Date, string>('createdAt', Model.transformDate).call(this);\n  }\n\n  isRead() {\n    return Model.attribute<boolean>('isRead').call(this);\n  }\n\n  user() {\n    return Model.hasOne<User>('user').call(this);\n  }\n  fromUser() {\n    return Model.hasOne<User | null>('fromUser').call(this);\n  }\n  subject() {\n    return Model.hasOne<Model | null>('subject').call(this);\n  }\n}\n","import Model from '../Model';\nimport computed from '../utils/computed';\nimport { getPlainContent } from '../utils/string';\nimport Discussion from './Discussion';\nimport User from './User';\n\nexport default class Post extends Model {\n  number() {\n    return Model.attribute<number>('number').call(this);\n  }\n  discussion() {\n    return Model.hasOne<Discussion>('discussion').call(this) as Discussion;\n  }\n\n  createdAt() {\n    return Model.attribute<Date, string>('createdAt', Model.transformDate).call(this);\n  }\n  user() {\n    return Model.hasOne<User>('user').call(this);\n  }\n\n  contentType() {\n    return Model.attribute<string | null>('contentType').call(this);\n  }\n  content() {\n    return Model.attribute<string | null | undefined>('content').call(this);\n  }\n  contentHtml() {\n    return Model.attribute<string | null | undefined>('contentHtml').call(this);\n  }\n  renderFailed() {\n    return Model.attribute<boolean | undefined>('renderFailed').call(this);\n  }\n  contentPlain() {\n    return computed<string | null | undefined>('contentHtml', (content) => {\n      if (typeof content === 'string') {\n        return getPlainContent(content);\n      }\n\n      return content as null | undefined;\n    }).call(this);\n  }\n\n  editedAt() {\n    return Model.attribute('editedAt', Model.transformDate).call(this);\n  }\n  editedUser() {\n    return Model.hasOne<User | null>('editedUser').call(this);\n  }\n  isEdited() {\n    return computed<boolean>('editedAt', (editedAt) => !!editedAt).call(this);\n  }\n\n  hiddenAt() {\n    return Model.attribute('hiddenAt', Model.transformDate).call(this);\n  }\n  hiddenUser() {\n    return Model.hasOne<User | null>('hiddenUser').call(this);\n  }\n  isHidden() {\n    return computed<boolean>('hiddenAt', (hiddenAt) => !!hiddenAt).call(this);\n  }\n\n  canEdit() {\n    return Model.attribute<boolean | undefined>('canEdit').call(this);\n  }\n  canHide() {\n    return Model.attribute<boolean | undefined>('canHide').call(this);\n  }\n  canDelete() {\n    return Model.attribute<boolean | undefined>('canDelete').call(this);\n  }\n}\n","import ColorThief, { Color } from 'color-thief-browser';\n\nimport Model from '../Model';\nimport stringToColor from '../utils/stringToColor';\nimport ItemList from '../utils/ItemList';\nimport computed from '../utils/computed';\nimport GroupBadge from '../components/GroupBadge';\nimport Mithril from 'mithril';\nimport Group from './Group';\n\nexport default class User extends Model {\n  username() {\n    return Model.attribute<string>('username').call(this);\n  }\n  slug() {\n    return Model.attribute<string>('slug').call(this);\n  }\n  displayName() {\n    return Model.attribute<string>('displayName').call(this);\n  }\n\n  email() {\n    return Model.attribute<string | undefined>('email').call(this);\n  }\n  isEmailConfirmed() {\n    return Model.attribute<boolean | undefined>('isEmailConfirmed').call(this);\n  }\n\n  password() {\n    return Model.attribute<string | undefined>('password').call(this);\n  }\n\n  avatarUrl() {\n    return Model.attribute<string | null>('avatarUrl').call(this);\n  }\n\n  preferences() {\n    return Model.attribute<Record<string, any> | null | undefined>('preferences').call(this);\n  }\n\n  groups() {\n    return Model.hasMany<Group>('groups').call(this);\n  }\n\n  isAdmin() {\n    return Model.attribute<boolean | undefined>('isAdmin').call(this);\n  }\n\n  joinTime() {\n    return Model.attribute('joinTime', Model.transformDate).call(this);\n  }\n\n  lastSeenAt() {\n    return Model.attribute('lastSeenAt', Model.transformDate).call(this);\n  }\n\n  markedAllAsReadAt() {\n    return Model.attribute('markedAllAsReadAt', Model.transformDate).call(this);\n  }\n\n  unreadNotificationCount() {\n    return Model.attribute<number | undefined>('unreadNotificationCount').call(this);\n  }\n  newNotificationCount() {\n    return Model.attribute<number | undefined>('newNotificationCount').call(this);\n  }\n\n  discussionCount() {\n    return Model.attribute<number | undefined>('discussionCount').call(this);\n  }\n  commentCount() {\n    return Model.attribute<number | undefined>('commentCount').call(this);\n  }\n\n  canEdit() {\n    return Model.attribute<boolean | undefined>('canEdit').call(this);\n  }\n  canEditCredentials() {\n    return Model.attribute<boolean | undefined>('canEditCredentials').call(this);\n  }\n  canEditGroups() {\n    return Model.attribute<boolean | undefined>('canEditGroups').call(this);\n  }\n  canDelete() {\n    return Model.attribute<boolean | undefined>('canDelete').call(this);\n  }\n\n  color() {\n    return computed<string, User>('displayName', 'avatarUrl', 'avatarColor', (displayName, avatarUrl, avatarColor) => {\n      // If we've already calculated and cached the dominant color of the user's\n      // avatar, then we can return that in RGB format. If we haven't, we'll want\n      // to calculate it. Unless the user doesn't have an avatar, in which case\n      // we generate a color from their display name.\n      if (avatarColor) {\n        return `rgb(${(avatarColor as Color).join(', ')})`;\n      } else if (avatarUrl) {\n        this.calculateAvatarColor();\n        return '';\n      }\n\n      return '#' + stringToColor(displayName as string);\n    }).call(this);\n  }\n\n  protected avatarColor: Color | null = null;\n\n  /**\n   * Check whether or not the user has been seen in the last 5 minutes.\n   */\n  isOnline(): boolean {\n    return dayjs().subtract(5, 'minutes').isBefore(this.lastSeenAt());\n  }\n\n  /**\n   * Get the Badge components that apply to this user.\n   */\n  badges(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n    const groups = this.groups();\n\n    if (groups) {\n      groups.forEach((group) => {\n        items.add(`group${group?.id()}`, <GroupBadge group={group} />);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   * Calculate the dominant color of the user's avatar. The dominant color will\n   * be set to the `avatarColor` property once it has been calculated.\n   */\n  protected calculateAvatarColor() {\n    const image = new Image();\n    const user = this;\n\n    image.addEventListener('load', function (this: HTMLImageElement) {\n      try {\n        const colorThief = new ColorThief();\n        user.avatarColor = colorThief.getColor(this);\n      } catch (e) {\n        // Completely white avatars throw errors due to a glitch in color thief\n        // See https://github.com/lokesh/color-thief/issues/40\n        if (e instanceof TypeError) {\n          user.avatarColor = [255, 255, 255];\n        } else {\n          throw e;\n        }\n      }\n      user.freshness = new Date();\n      m.redraw();\n    });\n    image.crossOrigin = 'anonymous';\n    image.src = this.avatarUrl() ?? '';\n  }\n\n  /**\n   * Update the user's preferences.\n   */\n  savePreferences(newPreferences: Record<string, unknown>): Promise<this> {\n    const preferences = this.preferences();\n\n    Object.assign(preferences ?? {}, newPreferences);\n\n    return this.save({ preferences });\n  }\n}\n","import type Mithril from 'mithril';\nimport type { RouteResolver } from '../Application';\nimport type { default as Component, ComponentAttrs } from '../Component';\n\n/**\n * Generates a route resolver for a given component.\n *\n * In addition to regular route resolver functionality:\n * - It provide the current route name as an attr\n * - It sets a key on the component so a rerender will be triggered on route change.\n */\nexport default class DefaultResolver<\n  Attrs extends ComponentAttrs,\n  Comp extends Component<Attrs & { routeName: string }>,\n  RouteArgs extends Record<string, unknown> = {}\n> implements RouteResolver<Attrs, Comp, RouteArgs>\n{\n  component: new () => Comp;\n  routeName: string;\n\n  constructor(component: new () => Comp, routeName: string) {\n    this.component = component;\n    this.routeName = routeName;\n  }\n\n  /**\n   * When a route change results in a changed key, a full page\n   * rerender occurs. This method can be overriden in subclasses\n   * to prevent rerenders on some route changes.\n   */\n  makeKey(): string {\n    return this.routeName + JSON.stringify(m.route.param());\n  }\n\n  makeAttrs(vnode: Mithril.Vnode<Attrs, Comp>): Attrs & { routeName: string } {\n    return {\n      ...vnode.attrs,\n      routeName: this.routeName,\n    };\n  }\n\n  onmatch(args: RouteArgs, requestedPath: string, route: string): { new (): Comp } {\n    return this.component;\n  }\n\n  render(vnode: Mithril.Vnode<Attrs, Comp>): Mithril.Children {\n    return [{ ...vnode, attrs: this.makeAttrs(vnode), key: this.makeKey() }];\n  }\n}\n","import type Mithril from 'mithril';\nimport Alert, { AlertAttrs } from '../components/Alert';\n\n/**\n * Returned by `AlertManagerState.show`. Used to dismiss alerts.\n */\nexport type AlertIdentifier = number;\n\nexport type AlertArray = { [id: AlertIdentifier]: AlertState };\n\nexport interface AlertState {\n  componentClass: typeof Alert;\n  attrs: AlertAttrs;\n  children: Mithril.Children;\n}\n\nexport default class AlertManagerState {\n  protected activeAlerts: AlertArray = {};\n  protected alertId: AlertIdentifier = 0;\n\n  getActiveAlerts() {\n    return this.activeAlerts;\n  }\n\n  /**\n   * Show an Alert in the alerts area.\n   *\n   * @return The alert's ID, which can be used to dismiss the alert.\n   */\n  show(children: Mithril.Children): AlertIdentifier;\n  show(attrs: AlertAttrs, children: Mithril.Children): AlertIdentifier;\n  show(componentClass: typeof Alert, attrs: AlertAttrs, children: Mithril.Children): AlertIdentifier;\n\n  show(arg1: any, arg2?: any, arg3?: any) {\n    // Assigns variables as per the above signatures\n    let componentClass = Alert;\n    let attrs: AlertAttrs = {};\n    let children: Mithril.Children;\n\n    if (arguments.length == 1) {\n      children = arg1 as Mithril.Children;\n    } else if (arguments.length == 2) {\n      attrs = arg1 as AlertAttrs;\n      children = arg2 as Mithril.Children;\n    } else if (arguments.length == 3) {\n      componentClass = arg1 as typeof Alert;\n      attrs = arg2 as AlertAttrs;\n      children = arg3;\n    }\n\n    this.activeAlerts[++this.alertId] = { children, attrs, componentClass };\n    m.redraw();\n\n    return this.alertId;\n  }\n\n  /**\n   * Dismiss an alert.\n   */\n  dismiss(key: AlertIdentifier | null): void {\n    if (!key || !(key in this.activeAlerts)) return;\n\n    delete this.activeAlerts[key];\n    m.redraw();\n  }\n\n  /**\n   * Clear all alerts.\n   */\n  clear(): void {\n    this.activeAlerts = {};\n    m.redraw();\n  }\n}\n","import type Component from '../Component';\nimport Modal, { IDismissibleOptions } from '../components/Modal';\n\n/**\n * Ideally, `show` would take a higher-kinded generic, ala:\n *  `show<Attrs, C>(componentClass: C<Attrs>, attrs: Attrs): void`\n * Unfortunately, TypeScript does not support this:\n * https://github.com/Microsoft/TypeScript/issues/1213\n * Therefore, we have to use this ugly, messy workaround.\n */\ntype UnsafeModalClass = ComponentClass<any, Modal> & { get dismissibleOptions(): IDismissibleOptions; component: typeof Component.component };\n\ntype ModalItem = {\n  componentClass: UnsafeModalClass;\n  attrs?: Record<string, unknown>;\n  key: number;\n};\n\n/**\n * Class used to manage modal state.\n *\n * Accessible on the `app` object via `app.modal` property.\n */\nexport default class ModalManagerState {\n  /**\n   * @internal\n   */\n  modal: ModalItem | null = null;\n\n  /**\n   * @internal\n   */\n  modalList: ModalItem[] = [];\n\n  /**\n   * @internal\n   */\n  backdropShown: boolean = false;\n\n  /**\n   * Used to force re-initialization of modals if a modal\n   * is replaced by another of the same type.\n   */\n  private key = 0;\n\n  /**\n   * Shows a modal dialog.\n   *\n   * If `stackModal` is `true`, the modal will be shown on top of the current modal.\n   *\n   * If a value for `stackModal` is not provided, opening a new modal will close\n   * any others currently being shown for backwards compatibility.\n   *\n   * @example <caption>Show a modal</caption>\n   * app.modal.show(MyCoolModal, { attr: 'value' });\n   *\n   * @example <caption>Show a modal from a lifecycle method (`oncreate`, `view`, etc.)</caption>\n   * // This \"hack\" is needed due to quirks with nested redraws in Mithril.\n   * setTimeout(() => app.modal.show(MyCoolModal, { attr: 'value' }), 0);\n   *\n   * @example <caption>Stacking modals</caption>\n   * app.modal.show(MyCoolStackedModal, { attr: 'value' }, true);\n   */\n  show(componentClass: UnsafeModalClass, attrs: Record<string, unknown> = {}, stackModal: boolean = false): void {\n    if (!(componentClass.prototype instanceof Modal)) {\n      // This is duplicated so that if the error is caught, an error message still shows up in the debug console.\n      const invalidModalWarning = 'The ModalManager can only show Modals.';\n      console.error(invalidModalWarning);\n      throw new Error(invalidModalWarning);\n    }\n\n    this.backdropShown = true;\n    m.redraw.sync();\n\n    // We use requestAnimationFrame here, since we need to wait for the backdrop to be added\n    // to the DOM before actually adding the modal to the modal list.\n    //\n    // This is because we use RAF inside the ModalManager onupdate lifecycle hook, and if we\n    // skip this RAF call, the hook will attempt to add a focus trap as well as lock scroll\n    // onto the newly added modal before it's in the DOM, creating an extra scrollbar.\n    requestAnimationFrame(() => {\n      // Set current modal\n      this.modal = { componentClass, attrs, key: this.key++ };\n\n      // We want to stack this modal\n      if (stackModal) {\n        // Remember previously opened modal and add new modal to the modal list\n        this.modalList.push(this.modal);\n      } else {\n        // Override last modals\n        this.modalList = [this.modal];\n      }\n\n      m.redraw();\n    });\n  }\n\n  /**\n   * Closes the topmost currently open dialog, if one is open.\n   */\n  close(): void {\n    if (!this.modal) return;\n\n    // If there are two modals, remove the most recent one\n    if (this.modalList.length > 1) {\n      // Remove last modal from list\n      this.modalList.pop();\n\n      // Open last modal from list\n      this.modal = this.modalList[this.modalList.length - 1];\n    } else {\n      // Reset state\n      this.modal = null;\n      this.modalList = [];\n    }\n\n    m.redraw();\n  }\n\n  /**\n   * Checks if a modal is currently open.\n   *\n   * @return `true` if a modal dialog is currently open, otherwise `false`.\n   */\n  isModalOpen(): boolean {\n    return !!this.modal;\n  }\n}\n","import app from '../../common/app';\nimport Model from '../Model';\nimport { ApiQueryParamsPlural, ApiResponsePlural } from '../Store';\n\nexport interface Page<TModel> {\n  number: number;\n  items: TModel[];\n\n  hasPrev?: boolean;\n  hasNext?: boolean;\n}\n\nexport interface PaginationLocation {\n  page: number;\n  startIndex?: number;\n  endIndex?: number;\n}\n\nexport interface PaginatedListParams {\n  [key: string]: any;\n}\n\nexport interface PaginatedListRequestParams extends Omit<ApiQueryParamsPlural, 'include'> {\n  include?: string | string[];\n}\n\nexport default abstract class PaginatedListState<T extends Model, P extends PaginatedListParams = PaginatedListParams> {\n  protected location!: PaginationLocation;\n  protected pageSize: number;\n\n  protected pages: Page<T>[] = [];\n  protected params: P = {} as P;\n\n  protected initialLoading: boolean = false;\n  protected loadingPrev: boolean = false;\n  protected loadingNext: boolean = false;\n\n  protected constructor(params: P = {} as P, page: number = 1, pageSize: number = 20) {\n    this.params = params;\n\n    this.location = { page };\n    this.pageSize = pageSize;\n  }\n\n  abstract get type(): string;\n\n  public clear(): void {\n    this.pages = [];\n\n    m.redraw();\n  }\n\n  public loadPrev(): Promise<void> {\n    if (this.loadingPrev || this.getLocation().page === 1) return Promise.resolve();\n\n    this.loadingPrev = true;\n\n    const page: number = this.getPrevPageNumber();\n\n    return this.loadPage(page)\n      .then(this.parseResults.bind(this, page))\n      .finally(() => (this.loadingPrev = false));\n  }\n\n  public loadNext(): Promise<void> {\n    if (this.loadingNext) return Promise.resolve();\n\n    this.loadingNext = true;\n\n    const page: number = this.getNextPageNumber();\n\n    return this.loadPage(page)\n      .then(this.parseResults.bind(this, page))\n      .finally(() => (this.loadingNext = false));\n  }\n\n  protected parseResults(pg: number, results: ApiResponsePlural<T>): void {\n    const pageNum = Number(pg);\n\n    const links = results.payload?.links;\n    const page = {\n      number: pageNum,\n      items: results,\n      hasNext: !!links?.next,\n      hasPrev: !!links?.prev,\n    };\n\n    if (this.isEmpty() || pageNum > this.getNextPageNumber() - 1) {\n      this.pages.push(page);\n    } else {\n      this.pages.unshift(page);\n    }\n\n    this.location = { page: pageNum };\n\n    m.redraw();\n  }\n\n  /**\n   * Load a new page of results.\n   */\n  protected loadPage(page = 1): Promise<ApiResponsePlural<T>> {\n    const reqParams = this.requestParams();\n\n    const include = Array.isArray(reqParams.include) ? reqParams.include.join(',') : reqParams.include;\n\n    const params: ApiQueryParamsPlural = {\n      ...reqParams,\n      page: {\n        ...reqParams.page,\n        offset: this.pageSize * (page - 1),\n      },\n      include,\n    };\n\n    return app.store.find<T[]>(this.type, params);\n  }\n\n  /**\n   * Get the parameters that should be passed in the API request.\n   * Do not include page offset unless subclass overrides loadPage.\n   *\n   * @abstract\n   * @see loadPage\n   */\n  protected requestParams(): PaginatedListRequestParams {\n    return this.params;\n  }\n\n  /**\n   * Update the `this.params` object, calling `refresh` if they have changed.\n   * Use `requestParams` for converting `this.params` into API parameters\n   *\n   * @param newParams\n   * @param page\n   * @see requestParams\n   */\n  public refreshParams(newParams: P, page: number): Promise<void> {\n    if (this.isEmpty() || this.paramsChanged(newParams)) {\n      this.params = newParams;\n\n      return this.refresh(page);\n    }\n\n    return Promise.resolve();\n  }\n\n  public refresh(page: number = 1): Promise<void> {\n    this.initialLoading = true;\n    this.loadingPrev = false;\n    this.loadingNext = false;\n\n    this.clear();\n\n    this.location = { page };\n\n    return this.loadPage()\n      .then((results) => {\n        this.pages = [];\n        this.parseResults(this.location.page, results);\n      })\n      .finally(() => (this.initialLoading = false));\n  }\n\n  public getPages(): Page<T>[] {\n    return this.pages;\n  }\n  public getLocation(): PaginationLocation {\n    return this.location;\n  }\n\n  public isLoading(): boolean {\n    return this.initialLoading || this.loadingNext || this.loadingPrev;\n  }\n  public isInitialLoading(): boolean {\n    return this.initialLoading;\n  }\n  public isLoadingPrev(): boolean {\n    return this.loadingPrev;\n  }\n  public isLoadingNext(): boolean {\n    return this.loadingNext;\n  }\n\n  /**\n   * Returns true when the number of items across all loaded pages is not 0.\n   *\n   * @see isEmpty\n   */\n  public hasItems(): boolean {\n    return !!this.getAllItems().length;\n  }\n\n  /**\n   * Returns true when there aren't any items *and* the state has already done its initial loading.\n   * If you want to know whether there are items regardless of load state, use `hasItems()` instead\n   *\n   * @see hasItems\n   */\n  public isEmpty(): boolean {\n    return !this.isInitialLoading() && !this.hasItems();\n  }\n\n  public hasPrev(): boolean {\n    return !!this.pages[0]?.hasPrev;\n  }\n  public hasNext(): boolean {\n    return !!this.pages[this.pages.length - 1]?.hasNext;\n  }\n\n  /**\n   * Stored state parameters.\n   */\n  public getParams(): P {\n    return this.params;\n  }\n\n  protected getNextPageNumber(): number {\n    const pg = this.pages[this.pages.length - 1]?.number;\n\n    if (pg && !isNaN(pg)) {\n      return pg + 1;\n    } else {\n      return this.location.page;\n    }\n  }\n  protected getPrevPageNumber(): number {\n    const pg = this.pages[0]?.number;\n\n    if (pg && !isNaN(pg)) {\n      // If the calculated page number is less than 1,\n      // return 1 as the prev page (first possible page number)\n      return Math.max(pg - 1, 1);\n    } else {\n      return this.location.page;\n    }\n  }\n\n  protected paramsChanged(newParams: P): boolean {\n    return Object.keys(newParams).some((key) => this.getParams()[key] !== newParams[key]);\n  }\n\n  protected getAllItems(): T[] {\n    return this.getPages()\n      .map((pg) => pg.items)\n      .flat();\n  }\n}\n","import getCaretCoordinates from 'textarea-caret';\nimport insertText from './insertText';\nimport ItemList from './ItemList';\nimport type EditorDriverInterface from './EditorDriverInterface';\nimport { type EditorDriverParams } from './EditorDriverInterface';\n\nexport default class BasicEditorDriver implements EditorDriverInterface {\n  el: HTMLTextAreaElement;\n\n  constructor(dom: HTMLElement, params: EditorDriverParams) {\n    this.el = document.createElement('textarea');\n\n    this.build(dom, params);\n  }\n\n  protected build(dom: HTMLElement, params: EditorDriverParams) {\n    this.el.className = params.classNames.join(' ');\n    this.el.disabled = params.disabled;\n    this.el.placeholder = params.placeholder;\n    this.el.value = params.value;\n\n    const callInputListeners = (e: Event) => {\n      params.inputListeners.forEach((listener) => {\n        listener();\n      });\n\n      e.redraw = false;\n    };\n\n    this.el.oninput = (e) => {\n      params.oninput(this.el.value);\n      callInputListeners(e);\n    };\n\n    this.el.onclick = callInputListeners;\n    this.el.onkeyup = callInputListeners;\n\n    this.el.addEventListener('keydown', (e) => {\n      this.keyHandlers(params)\n        .toArray()\n        .forEach((handler) => handler(e));\n    });\n\n    dom.append(this.el);\n  }\n\n  protected keyHandlers(params: EditorDriverParams) {\n    const items = new ItemList<(e: KeyboardEvent) => void>();\n\n    items.add('submit', function (e: KeyboardEvent) {\n      if ((e.metaKey || e.ctrlKey) && e.key === 'Enter') {\n        params.onsubmit();\n      }\n    });\n\n    return items;\n  }\n\n  moveCursorTo(position: number) {\n    this.setSelectionRange(position, position);\n  }\n\n  getSelectionRange(): Array<number> {\n    return [this.el.selectionStart, this.el.selectionEnd];\n  }\n\n  getLastNChars(n: number): string {\n    const value = this.el.value;\n\n    return value.slice(Math.max(0, this.el.selectionStart - n), this.el.selectionStart);\n  }\n\n  insertAtCursor(text: string) {\n    this.insertAt(this.el.selectionStart, text);\n  }\n\n  insertAt(pos: number, text: string) {\n    this.insertBetween(pos, pos, text);\n  }\n\n  insertBetween(selectionStart: number, selectionEnd: number, text: string) {\n    this.setSelectionRange(selectionStart, selectionEnd);\n\n    const cursorPos = selectionStart + text.length;\n    insertText(this.el, { text, selectionStart: cursorPos, selectionEnd: cursorPos });\n  }\n\n  replaceBeforeCursor(start: number, text: string) {\n    this.insertBetween(start, this.el.selectionStart, text);\n  }\n\n  protected setSelectionRange(start: number, end: number) {\n    this.el.setSelectionRange(start, end);\n    this.focus();\n  }\n\n  getCaretCoordinates(position: number) {\n    const relCoords = getCaretCoordinates(this.el, position);\n\n    return {\n      top: relCoords.top - this.el.scrollTop,\n      left: relCoords.left,\n    };\n  }\n\n  // DOM Interactions\n\n  /**\n   * Set the disabled status of the editor.\n   */\n  disabled(disabled: boolean) {\n    this.el.disabled = disabled;\n  }\n\n  /**\n   * Focus on the editor.\n   */\n  focus() {\n    this.el.focus();\n  }\n\n  /**\n   * Destroy the editor\n   */\n  destroy() {\n    this.el.remove();\n  }\n}\n","export default class EventEmitter {\n  protected events: any = {};\n\n  public constructor() {\n    this.events = {};\n  }\n\n  public on(event: string, listener: Function): EventEmitter {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(listener);\n\n    return this;\n  }\n\n  public emit(event: string, ...args: any[]): void {\n    if (this.events[event]) {\n      this.events[event].forEach((listener: Function) => listener(...args));\n    }\n  }\n}\n","import isObject from './isObject';\n\nexport interface IItemObject<T> {\n  content: T;\n  itemName: string;\n  priority: number;\n}\n\nclass Item<T> {\n  content: T;\n  priority: number;\n\n  constructor(content: T, priority: number) {\n    this.content = content;\n    this.priority = priority;\n  }\n}\n\n/**\n * The `ItemList` class collects items and then arranges them into an array\n * by priority.\n */\nexport default class ItemList<T> {\n  /**\n   * The items in the list.\n   */\n  protected _items: Record<string, Item<T>> = {};\n\n  // TODO: [Flarum 2.0] Remove `.items` getter.\n  /**\n   * A **read-only copy** of items in the list.\n   *\n   * We don't allow adding new items to the ItemList via setting new properties,\n   * nor do we allow modifying existing items directly.\n   *\n   * @deprecated Use {@link ItemList.toObject} instead.\n   */\n  get items(): DeepReadonly<Record<string, Item<T>>> {\n    return new Proxy(this._items, {\n      set() {\n        console.warn('Modifying `ItemList.items` is not allowed.');\n        return false;\n      },\n    });\n  }\n\n  /**\n   * Check whether the list is empty.\n   */\n  isEmpty(): boolean {\n    return Object.keys(this._items).length === 0;\n  }\n\n  /**\n   * Check whether an item is present in the list.\n   */\n  has(key: string): boolean {\n    return Object.keys(this._items).includes(key);\n  }\n\n  /**\n   * Get the content of an item.\n   */\n  get(key: string): T {\n    return this._items[key].content;\n  }\n\n  /**\n   * Get the priority of an item.\n   */\n  getPriority(key: string): number {\n    return this._items[key].priority;\n  }\n\n  /**\n   * Add an item to the list.\n   *\n   * @param key A unique key for the item.\n   * @param content The item's content.\n   * @param priority The priority of the item. Items with a higher priority\n   * will be positioned before items with a lower priority.\n   */\n  add(key: string, content: T, priority: number = 0): this {\n    this._items[key] = new Item(content, priority);\n\n    return this;\n  }\n\n  // TODO: [Flarum 2.0] Remove deprecated `.replace()` method.\n  /**\n   * Replace an item and/or priority in the list, only if it is already present.\n   *\n   * If `content` or `priority` are `null`, these values will not be replaced.\n   *\n   * If the provided `key` is not present, nothing will happen.\n   *\n   * @deprecated Please use the {@link ItemList.setContent} and {@link ItemList.setPriority}\n   * methods to replace items and their priorities. This method will be removed in Flarum 2.0.\n   *\n   * @param key The key of the item in the list\n   * @param content The item's new content\n   * @param priority The item's new priority\n   *\n   * @example <caption>Replace priority and not content.</caption>\n   * items.replace('myItem', null, 10);\n   *\n   * @example <caption>Replace content and not priority.</caption>\n   * items.replace('myItem', <p>My new value.</p>);\n   *\n   * @example <caption>Replace content and priority.</caption>\n   * items.replace('myItem', <p>My new value.</p>, 10);\n   */\n  replace(key: string, content: T | null = null, priority: number | null = null): this {\n    if (!this.has(key)) return this;\n\n    if (content !== null) {\n      this._items[key].content = content;\n    }\n\n    if (priority !== null) {\n      this._items[key].priority = priority;\n    }\n\n    return this;\n  }\n\n  /**\n   * Replaces an item's content, if the provided item key exists.\n   *\n   * If the provided `key` is not present, an error will be thrown.\n   *\n   * @param key The key of the item in the list\n   * @param content The item's new content\n   *\n   * @example <caption>Replace item content.</caption>\n   * items.setContent('myItem', <p>My new value.</p>);\n   *\n   * @example <caption>Replace item content and priority.</caption>\n   *          items\n   *            .setContent('myItem', <p>My new value.</p>)\n   *            .setPriority('myItem', 10);\n   *\n   * @throws If the provided `key` is not present in the ItemList.\n   */\n  setContent(key: string, content: T): this {\n    if (!this.has(key)) {\n      throw new Error(`[ItemList] Cannot set content of Item. Key \\`${key}\\` is not present.`);\n    }\n\n    // Saves on bundle size to call the deprecated method internally\n    return this.replace(key, content);\n  }\n\n  /**\n   * Replaces an item's priority, if the provided item key exists.\n   *\n   * If the provided `key` is not present, an error will be thrown.\n   *\n   * @param key The key of the item in the list\n   * @param priority The item's new priority\n   *\n   * @example <caption>Replace item priority.</caption>\n   * items.setPriority('myItem', 10);\n   *\n   * @example <caption>Replace item priority and content.</caption>\n   *          items\n   *            .setPriority('myItem', 10)\n   *            .setContent('myItem', <p>My new value.</p>);\n   *\n   * @throws If the provided `key` is not present in the ItemList.\n   */\n  setPriority(key: string, priority: number): this {\n    if (!this.has(key)) {\n      throw new Error(`[ItemList] Cannot set priority of Item. Key \\`${key}\\` is not present.`);\n    }\n\n    this._items[key].priority = priority;\n\n    return this;\n  }\n\n  /**\n   * Remove an item from the list.\n   *\n   * If the provided `key` is not present, nothing will happen.\n   */\n  remove(key: string): this {\n    delete this._items[key];\n\n    return this;\n  }\n\n  /**\n   * Merge another list's items into this one.\n   *\n   * The list passed to this function will overwrite items which already exist\n   * with the same key.\n   */\n  merge(otherList: ItemList<T>): ItemList<T> {\n    Object.keys(otherList._items).forEach((key) => {\n      const val = otherList._items[key];\n\n      if (val instanceof Item) {\n        this._items[key] = val;\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Convert the list into an array of item content arranged by priority.\n   *\n   * This **does not** preserve the original types of primitives and proxies\n   * all content values to make `itemName` accessible on them.\n   *\n   * **NOTE:** If your ItemList holds primitive types (such as numbers, booleans\n   * or strings), these will be converted to their object counterparts if you do\n   * not provide `true` to this function.\n   *\n   * **NOTE:** Modifying any objects in the final array may also update the\n   * content of the original ItemList.\n   *\n   * @param keepPrimitives Converts item content to objects and sets the\n   * `itemName` property on them.\n   *\n   * @see https://github.com/flarum/core/issues/3030\n   */\n  toArray(keepPrimitives?: false): (T & { itemName: string })[];\n  /**\n   * Convert the list into an array of item content arranged by priority.\n   *\n   * Content values that are already objects will be proxied and have\n   * `itemName` accessible on them. Primitive values will not have the\n   * `itemName` property accessible.\n   *\n   * **NOTE:** Modifying any objects in the final array may also update the\n   * content of the original ItemList.\n   *\n   * @param keepPrimitives Converts item content to objects and sets the\n   * `itemName` property on them.\n   */\n  toArray(keepPrimitives: true): (T extends object ? T & Readonly<{ itemName: string }> : T)[];\n\n  toArray(keepPrimitives: boolean = false): T[] | (T & Readonly<{ itemName: string }>)[] {\n    const items: Item<T>[] = Object.keys(this._items).map((key, i) => {\n      const item = this._items[key];\n\n      if (!keepPrimitives || isObject(item.content)) {\n        // Convert content to object, then proxy it\n        return {\n          ...item,\n          content: this.createItemContentProxy(isObject(item.content) ? item.content : Object(item.content), key),\n        };\n      } else {\n        // ...otherwise just return a clone of the item.\n        return { ...item };\n      }\n    });\n\n    return items.sort((a, b) => b.priority - a.priority).map((item) => item.content);\n  }\n\n  /**\n   * A read-only map of all keys to their respective items in no particular order.\n   *\n   * We don't allow adding new items to the ItemList via setting new properties,\n   * nor do we allow modifying existing items directly. You should use the\n   * {@link ItemList.add}, {@link ItemList.setContent} and\n   * {@link ItemList.setPriority} methods instead.\n   *\n   * To match the old behaviour of the `ItemList.items` property, call\n   * `Object.values(ItemList.toObject())`.\n   *\n   * @example\n   * const items = new ItemList();\n   * items.add('b', 'My cool value', 20);\n   * items.add('a', 'My value', 10);\n   * items.toObject();\n   * // {\n   * //   a: { content: 'My value', priority: 10, itemName: 'a' },\n   * //   b: { content: 'My cool value', priority: 20, itemName: 'b' },\n   * // }\n   */\n  toObject(): DeepReadonly<Record<string, IItemObject<T>>> {\n    return Object.keys(this._items).reduce((map, key) => {\n      const obj = {\n        content: this.get(key),\n        itemName: key,\n        priority: this.getPriority(key),\n      };\n\n      map[key] = obj;\n\n      return map;\n    }, {} as Record<string, IItemObject<T>>);\n  }\n\n  /**\n   * Proxies an item's content, adding the `itemName` readonly property to it.\n   *\n   * @example\n   * createItemContentProxy({ foo: 'bar' }, 'myItem');\n   * // { foo: 'bar', itemName: 'myItem' }\n   *\n   * @param content The item's content (objects only)\n   * @param key The item's key\n   * @return Proxied content\n   *\n   * @internal\n   */\n  private createItemContentProxy<C extends object>(content: C, key: string): Readonly<C & { itemName: string }> {\n    return new Proxy(content, {\n      get(target, property, receiver) {\n        if (property === 'itemName') return key;\n\n        return Reflect.get(target, property, receiver);\n      },\n      set(target, property, value, receiver) {\n        if (key !== null && property === 'itemName') {\n          throw new Error('`itemName` property is read-only');\n        }\n\n        return Reflect.set(target, property, value, receiver);\n      },\n    }) as C & { itemName: string };\n  }\n}\n","type KeyboardEventHandler = (event: KeyboardEvent) => void;\ntype ShouldHandle = (event: KeyboardEvent) => boolean;\n\nenum Keys {\n  Enter = 13,\n  Escape = 27,\n  Space = 32,\n  ArrowUp = 38,\n  ArrowDown = 40,\n  ArrowLeft = 37,\n  ArrowRight = 39,\n  Tab = 9,\n  Backspace = 8,\n}\n\n/**\n * The `KeyboardNavigatable` class manages lists that can be navigated with the\n * keyboard, calling callbacks for each actions.\n *\n * This helper encapsulates the key binding logic, providing a simple fluent\n * API for use.\n */\nexport default class KeyboardNavigatable {\n  /**\n   * Callback to be executed for a specified input.\n   */\n  protected callbacks = new Map<number, KeyboardEventHandler>();\n\n  /**\n   * Callback that determines whether keyboard input should be handled.\n   * By default, always handle keyboard navigation.\n   */\n  protected whenCallback: ShouldHandle = (event: KeyboardEvent) => true;\n\n  /**\n   * Provide a callback to be executed when navigating upwards.\n   *\n   * This will be triggered by the Up key.\n   */\n  onUp(callback: KeyboardEventHandler): KeyboardNavigatable {\n    this.callbacks.set(Keys.ArrowUp, (e) => {\n      e.preventDefault();\n      callback(e);\n    });\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when navigating downwards.\n   *\n   * This will be triggered by the Down key.\n   */\n  onDown(callback: KeyboardEventHandler): KeyboardNavigatable {\n    this.callbacks.set(Keys.ArrowDown, (e) => {\n      e.preventDefault();\n      callback(e);\n    });\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when the current item is selected..\n   *\n   * This will be triggered by the Return key (and Tab key, if not disabled).\n   */\n  onSelect(callback: KeyboardEventHandler, ignoreTabPress: boolean = false): KeyboardNavigatable {\n    const handler: KeyboardEventHandler = (e) => {\n      e.preventDefault();\n      callback(e);\n    };\n\n    if (!ignoreTabPress) this.callbacks.set(Keys.Tab, handler);\n    this.callbacks.set(Keys.Enter, handler);\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when the current item is tabbed into.\n   *\n   * This will be triggered by the Tab key.\n   */\n  onTab(callback: KeyboardEventHandler): KeyboardNavigatable {\n    const handler: KeyboardEventHandler = (e) => {\n      e.preventDefault();\n      callback(e);\n    };\n\n    this.callbacks.set(9, handler);\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when the navigation is canceled.\n   *\n   * This will be triggered by the Escape key.\n   */\n  onCancel(callback: KeyboardEventHandler): KeyboardNavigatable {\n    this.callbacks.set(Keys.Escape, (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      callback(e);\n    });\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when previous input is removed.\n   *\n   * This will be triggered by the Backspace key.\n   */\n  onRemove(callback: KeyboardEventHandler): KeyboardNavigatable {\n    this.callbacks.set(Keys.Backspace, (e) => {\n      if (e instanceof KeyboardEvent && e.target instanceof HTMLInputElement && e.target.selectionStart === 0 && e.target.selectionEnd === 0) {\n        callback(e);\n        e.preventDefault();\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Provide a callback that determines whether keyboard input should be handled.\n   */\n  when(callback: ShouldHandle): KeyboardNavigatable {\n    this.whenCallback = callback;\n\n    return this;\n  }\n\n  /**\n   * Set up the navigation key bindings on the given jQuery element.\n   */\n  bindTo($element: JQuery<HTMLElement>) {\n    // Handle navigation key events on the navigatable element.\n    $element[0].addEventListener('keydown', this.navigate.bind(this));\n  }\n\n  /**\n   * Interpret the given keyboard event as navigation commands.\n   */\n  navigate(event: KeyboardEvent) {\n    // This callback determines whether keyboard should be handled or ignored.\n    if (!this.whenCallback(event)) return;\n\n    const keyCallback = this.callbacks.get(event.which);\n    if (keyCallback) {\n      keyCallback(event);\n    }\n  }\n}\n","import type Mithril from 'mithril';\nimport type { AlertAttrs } from '../components/Alert';\n\nexport type InternalFlarumRequestOptions<ResponseType> = Mithril.RequestOptions<ResponseType> & {\n  url: string;\n};\n\nexport default class RequestError<ResponseType = string> {\n  status: number;\n  options: InternalFlarumRequestOptions<ResponseType>;\n  xhr: XMLHttpRequest;\n\n  responseText: string | null;\n  response: {\n    [key: string]: unknown;\n    errors?: {\n      detail?: string;\n      code?: string;\n      [key: string]: unknown;\n    }[];\n  } | null;\n\n  alert: AlertAttrs | null;\n\n  constructor(status: number, responseText: string | null, options: InternalFlarumRequestOptions<ResponseType>, xhr: XMLHttpRequest) {\n    this.status = status;\n    this.responseText = responseText;\n    this.options = options;\n    this.xhr = xhr;\n\n    try {\n      this.response = JSON.parse(responseText ?? 'null');\n    } catch (e) {\n      this.response = null;\n    }\n\n    this.alert = null;\n  }\n}\n","import Stream from 'mithril/stream';\n\nexport default Stream;\n","/**\n * The `SubtreeRetainer` class keeps track of a number of pieces of data,\n * comparing the values of these pieces at every iteration.\n *\n * This is useful for preventing redraws to relatively static (or huge)\n * components whose VDOM only depends on very few values, when none of them\n * have changed.\n *\n * @example\n * // Check two callbacks for changes on each update\n * this.subtree = new SubtreeRetainer(\n *   () => this.attrs.post.freshness,\n *   () => this.showing\n * );\n *\n * // Add more callbacks to be checked for updates\n * this.subtree.check(() => this.attrs.user.freshness);\n *\n * // In a component's onbeforeupdate() method:\n * return this.subtree.needsRebuild()\n *\n * @see https://mithril.js.org/lifecycle-methods.html#onbeforeupdate\n */\nexport default class SubtreeRetainer {\n  protected callbacks: (() => any)[];\n  protected data: Record<string, any>;\n\n  /**\n   * @param callbacks Functions returning data to keep track of.\n   */\n  constructor(...callbacks: (() => any)[]) {\n    this.callbacks = callbacks;\n    this.data = {};\n\n    // Build the initial data, so it is available when calling\n    // needsRebuild from the onbeforeupdate hook.\n    this.needsRebuild();\n  }\n\n  /**\n   * Return whether any data has changed since the last check.\n   * If so, Mithril needs to re-diff the vnode and its children.\n   */\n  needsRebuild(): boolean {\n    let needsRebuild = false;\n\n    this.callbacks.forEach((callback, i) => {\n      const result = callback();\n\n      if (result !== this.data[i]) {\n        this.data[i] = result;\n        needsRebuild = true;\n      }\n    });\n\n    return needsRebuild;\n  }\n\n  /**\n   * Add another callback to be checked.\n   */\n  check(...callbacks: (() => any)[]): void {\n    this.callbacks = this.callbacks.concat(callbacks);\n    // Update the data cache when new checks are added.\n    this.needsRebuild();\n  }\n\n  /**\n   * Invalidate the subtree, forcing it to be redrawn.\n   */\n  invalidate(): void {\n    this.data = {};\n  }\n}\n","import app from '../../common/app';\nimport extractText from './extractText';\n\n/**\n * The `abbreviateNumber` utility converts a number to a shorter localized form.\n *\n * @example\n * abbreviateNumber(1234);\n * // \"1.2K\"\n */\nexport default function abbreviateNumber(number: number): string {\n  // TODO: translation\n  if (number >= 1000000) {\n    return Math.floor(number / 1000000) + extractText(app.translator.trans('core.lib.number_suffix.mega_text'));\n  } else if (number >= 1000) {\n    return (number / 1000).toFixed(1) + extractText(app.translator.trans('core.lib.number_suffix.kilo_text'));\n  } else {\n    return number.toString();\n  }\n}\n","// Based off of the polyfill on MDN\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat#reduce_concat_isarray_recursivity\n//\n// Needed to provide support for Safari on iOS < 12\n\n// ts-ignored because we can afford to encapsulate some messy logic behind the clean typings.\n\nif (!Array.prototype['flat']) {\n  Array.prototype['flat'] = function flat<A, D extends number = 1>(this: A, depth?: D | unknown): any[] {\n    // @ts-ignore\n    return (depth ?? 1) > 0\n      ? // @ts-ignore\n        Array.prototype.reduce.call(this, (acc, val): any[] => acc.concat(Array.isArray(val) ? flat.call(val, depth - 1) : val), [])\n      : // If no depth is provided, or depth is 0, just return a copy of\n        // the array. Spread is supported in all major browsers (iOS 8+)\n        // @ts-ignore\n        [...this];\n  };\n}\n","import clsx from 'clsx';\n\n/**\n * This util exposes `clsx` to core and extensions as a re-usable utility.\n *\n * For full documentation, see `clsx` on GitHub.\n *\n * @see https://github.com/lukeed/clsx\n */\nconst classList = clsx;\n\nexport default classList;\n","import Model from '../Model';\n\n/**\n * The `computed` utility creates a function that will cache its output until\n * any of the dependent values are dirty.\n *\n * @param dependentKeys The keys of the dependent values.\n * @param compute The function which computes the value using the\n *     dependent values.\n */\nexport default function computed<T, M = Model>(...args: [...string[], (this: M, ...args: unknown[]) => T]): () => T {\n  const keys = args.slice(0, -1) as string[];\n  const compute = args.slice(-1)[0] as (this: M, ...args: unknown[]) => T;\n\n  const dependentValues: Record<string, unknown> = {};\n  let computedValue: T;\n\n  return function (this: M) {\n    let recompute = false;\n\n    // Read all of the dependent values. If any of them have changed since last\n    // time, then we'll want to recompute our output.\n    keys.forEach((key) => {\n      const attr = (this as Record<string, unknown | (() => unknown)>)[key];\n      const value = typeof attr === 'function' ? attr.call(this) : attr;\n\n      if (dependentValues[key] !== value) {\n        recompute = true;\n        dependentValues[key] = value;\n      }\n    });\n\n    if (recompute) {\n      computedValue = compute.apply(\n        this,\n        keys.map((key) => dependentValues[key])\n      );\n    }\n\n    return computedValue;\n  };\n}\n","const specialChars = /[.*+?^${}()|[\\]\\\\]/g;\n\n/**\n * Escapes the `RegExp` special characters in `input`.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n */\nexport default function escapeRegExp(input: string): string {\n  return input.replace(specialChars, '\\\\$&');\n}\n","/**\n * The `extract` utility deletes a property from an object and returns its\n * value.\n *\n * @param object The object that owns the property\n * @param property The name of the property to extract\n * @return The value of the property\n */\nexport default function extract<T, K extends keyof T>(object: T, property: K): T[K] {\n  const value = object[property];\n\n  delete object[property];\n\n  return value;\n}\n","import type Mithril from 'mithril';\n\n/**\n * Extract the text nodes from a virtual element.\n */\nexport default function extractText(vdom: Mithril.Children): string {\n  if (vdom instanceof Array) {\n    return vdom.map((element) => extractText(element)).join('');\n  } else if (typeof vdom === 'object' && vdom !== null) {\n    return vdom.children ? extractText(vdom.children) : String(vdom.text);\n  } else {\n    return String(vdom);\n  }\n}\n","import { createFocusTrap as _createFocusTrap } from 'focus-trap';\n\n/**\n * Creates a focus trap for the given element with the given options.\n * \n * This function applies some default options that are different to the library.\n * Your own options still override these custom defaults:\n * \n * ```json\n * {\n     escapeDeactivates: false,\n * }\n * ```\n * \n * @param element The element to be the focus trap, or a selector that will be used to find the element.\n * \n * @see https://github.com/focus-trap/focus-trap#readme - Library documentation\n */\nfunction createFocusTrap(...args: Parameters<typeof _createFocusTrap>): ReturnType<typeof _createFocusTrap> {\n  args[1] = {\n    escapeDeactivates: false,\n    ...args[1],\n  };\n\n  return _createFocusTrap(...args);\n}\n\nexport * from 'focus-trap';\nexport { createFocusTrap };\n","import app from '../../common/app';\n\n/**\n * The `formatNumber` utility localizes a number into a string with the\n * appropriate punctuation based on the provided locale otherwise will default to the users locale.\n *\n * @example\n * formatNumber(1234);\n * // 1,234\n */\nexport default function formatNumber(number: number, locale: string = app.data.locale): string {\n  return new Intl.NumberFormat(locale).format(number);\n}\n","import dayjs from 'dayjs';\n\n/**\n * The `humanTime` utility converts a date to a localized, human-readable time-\n * ago string.\n */\nexport default function humanTime(time: dayjs.ConfigType): string {\n  let d = dayjs(time);\n  const now = dayjs();\n\n  // To prevent showing things like \"in a few seconds\" due to small offsets\n  // between client and server time, we always reset future dates to the\n  // current time. This will result in \"just now\" being shown instead.\n  if (d.isAfter(now)) {\n    d = now;\n  }\n\n  const day = 864e5;\n  const diff = d.diff(dayjs());\n  let ago: string;\n\n  // If this date was more than a month ago, we'll show the name of the month\n  // in the string. If it wasn't this year, we'll show the year as well.\n  if (diff < -30 * day) {\n    if (d.year() === dayjs().year()) {\n      ago = d.format('D MMM');\n    } else {\n      ago = d.format('ll');\n    }\n  } else {\n    ago = d.fromNow();\n  }\n\n  return ago;\n}\n","/*\n * Original Copyright GitHub, Inc. Licensed under the MIT License.\n * See license text at https://github.com/github/markdown-toolbar-element/blob/master/LICENSE.\n */\n\nexport interface SelectionRange {\n  text: string;\n  selectionStart: number | undefined;\n  selectionEnd: number | undefined;\n}\n\nlet canInsertText: boolean | null = null;\n\nexport default function insertText(textarea: HTMLTextAreaElement, { text, selectionStart, selectionEnd }: SelectionRange) {\n  const originalSelectionStart = textarea.selectionStart;\n  const before = textarea.value.slice(0, originalSelectionStart);\n  const after = textarea.value.slice(textarea.selectionEnd);\n\n  if (canInsertText === null || canInsertText === true) {\n    textarea.contentEditable = 'true';\n    try {\n      canInsertText = document.execCommand('insertText', false, text);\n    } catch (error) {\n      canInsertText = false;\n    }\n    textarea.contentEditable = 'false';\n  }\n\n  if (canInsertText && !textarea.value.slice(0, textarea.selectionStart).endsWith(text)) {\n    canInsertText = false;\n  }\n\n  if (!canInsertText) {\n    textarea.value = before + text + after;\n    textarea.dispatchEvent(new CustomEvent('input', { bubbles: true, cancelable: true }));\n  }\n\n  if (selectionStart != null && selectionEnd != null) {\n    textarea.setSelectionRange(selectionStart, selectionEnd);\n  } else {\n    textarea.setSelectionRange(originalSelectionStart, textarea.selectionEnd);\n  }\n}\n","/**\n * The `isDark` utility converts a hex color to rgb, and then calculates a YIQ\n * value in order to get the appropriate brightness value. See\n * https://www.w3.org/TR/AERT/#color-contrast for references.\n *\n * A YIQ value >= 128 corresponds to a light color according to the W3C\n * standards, but we use a custom threshold for each light and dark modes\n * to preserve design consistency.\n */\nexport default function isDark(hexcolor: string | null): boolean {\n  // return if hexcolor is undefined or shorter than 4 characters, shortest hex form is #333;\n  // decided against regex hex color validation for performance considerations\n  if (!hexcolor || hexcolor.length < 4) {\n    return false;\n  }\n\n  let hexnumbers = hexcolor.replace('#', '');\n\n  if (hexnumbers.length === 3) {\n    hexnumbers += hexnumbers;\n  }\n\n  const r = parseInt(hexnumbers.slice(0, 2), 16);\n  const g = parseInt(hexnumbers.slice(2, 4), 16);\n  const b = parseInt(hexnumbers.slice(4, 6), 16);\n  const yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\n  const threshold = parseInt(getComputedStyle(document.body).getPropertyValue('--yiq-threshold').trim()) || 128;\n\n  return yiq < threshold;\n}\n","/**\n * Returns if the passed value is an object.\n *\n * In this context, \"object\" refers to **any non-primitive value**, including\n * arrays, function, maps, dates, and more.\n *\n * @example\n * isObject({}); // true\n * @example\n * isObject([]); // true\n * @example\n * isObject(function () {}); // true\n * @example\n * isObject(Object(1)); // true\n * @example\n * isObject(null); // false\n * @example\n * isObject(1); // false\n * @example\n * isObject(\"hello world\"); // false\n *\n * @see https://github.com/jashkenas/underscore/blob/943977e34e2279503528a71ddcc2dd5f96483945/underscore.js#L87-L91\n */\nexport default function isObject(obj: unknown): obj is object {\n  const type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","import humanTime from './humanTime';\n\nfunction updateHumanTimes() {\n  $('[data-humantime]').each(function () {\n    const $this = $(this);\n    const ago = humanTime($this.attr('datetime'));\n\n    $this.html(ago);\n  });\n}\n\n/**\n * The `liveHumanTimes` initializer sets up a loop every 1 second to update\n * timestamps rendered with the `humanTime` helper.\n */\nexport default function liveHumanTimes() {\n  setInterval(updateHumanTimes, 10000);\n}\n","import type { FlarumGenericRoute, RouteResolver } from '../Application';\nimport type Component from '../Component';\nimport DefaultResolver from '../resolvers/DefaultResolver';\n\n/**\n * The `mapRoutes` utility converts a map of named application routes into a\n * format that can be understood by Mithril, and wraps them in route resolvers\n * to provide each route with the current route name.\n *\n * @see https://mithril.js.org/route.html#signature\n */\nexport default function mapRoutes(routes: Record<string, FlarumGenericRoute>, basePath: string = '') {\n  const map: Record<\n    string,\n    RouteResolver<Record<string, unknown>, Component<{ routeName: string; [key: string]: unknown }>, Record<string, unknown>>\n  > = {};\n\n  for (const routeName in routes) {\n    const route = routes[routeName];\n\n    if ('resolver' in route) {\n      map[basePath + route.path] = route.resolver;\n    } else if ('component' in route) {\n      const resolverClass = 'resolverClass' in route ? route.resolverClass! : DefaultResolver;\n      map[basePath + route.path] = new resolverClass(route.component, routeName);\n    } else {\n      throw new Error(`Either a resolver or a component must be provided for the route [${routeName}]`);\n    }\n  }\n\n  return map;\n}\n","export default function proxifyCompat(compat: Record<string, unknown>, namespace: string) {\n  // regex to replace common/ and NAMESPACE/ for core & core extensions\n  // and remove .js, .ts and .tsx extensions\n  // e.g. admin/utils/extract --> utils/extract\n  // e.g. tags/common/utils/sortTags --> tags/utils/sortTags\n  const regex = new RegExp(String.raw`(\\w+\\/)?(${namespace}|common)\\/`);\n  const fileExt = /(\\.js|\\.tsx?)$/;\n\n  return new Proxy(compat, {\n    get: (obj, prop: string) => obj[prop] || obj[prop.replace(regex, '$1').replace(fileExt, '')],\n  });\n}\n","import type Mithril from 'mithril';\n\n/**\n * Mithril 2 does not completely rerender the page if a route change leads to the same route\n * (or the same component handling a different route). This util calls m.route.set, forcing a reonit.\n *\n * @see https://mithril.js.org/route.html#key-parameter\n */\nexport default function setRouteWithForcedRefresh(route: string, params = null, options: Mithril.RouteOptions = {}) {\n  const newOptions = { ...options };\n  newOptions.state = newOptions.state || {};\n  newOptions.state.key = Date.now();\n\n  m.route.set(route, params, newOptions);\n}\n","/**\n * Truncate a string to the given length, appending ellipses if necessary.\n */\nexport function truncate(string: string, length: number, start: number = 0): string {\n  return (start > 0 ? '...' : '') + string.substring(start, start + length) + (string.length > start + length ? '...' : '');\n}\n\n/**\n * Create a slug out of the given string depending on the selected mode.\n * Invalid characters are converted to hyphens.\n *\n * NOTE: This method does not use the comparably sophisticated transliteration\n * mechanism that is employed in the backend. Therefore, it should only be used\n * to *suggest* slugs that can be overridden by the user.\n */\nexport function slug(string: string, mode: SluggingMode = SluggingMode.ALPHANUMERIC): string {\n  switch (mode) {\n    case SluggingMode.UTF8:\n      return (\n        string\n          .toLowerCase()\n          // Match non-word characters (take UTF8 into consideration) and replace with a dash.\n          .replace(/[^\\p{L}\\p{N}\\p{M}]/giu, '-')\n          .replace(/-+/g, '-')\n          .replace(/-$|^-/g, '')\n      );\n\n    case SluggingMode.ALPHANUMERIC:\n    default:\n      return string\n        .toLowerCase()\n        .replace(/[^a-z0-9]/gi, '-')\n        .replace(/-+/g, '-')\n        .replace(/-$|^-/g, '');\n  }\n}\n\nenum SluggingMode {\n  ALPHANUMERIC = 'alphanum',\n  UTF8 = 'utf8',\n}\n\n/**\n * Strip HTML tags and quotes out of the given string, replacing them with\n * meaningful punctuation.\n */\nexport function getPlainContent(string: string): string {\n  const html = string.replace(/(<\\/p>|<br>)/g, '$1 &nbsp;').replace(/<img\\b[^>]*>/gi, ' ');\n\n  const element = new DOMParser().parseFromString(html, 'text/html').documentElement;\n\n  getPlainContent.removeSelectors.forEach((selector) => {\n    const el = element.querySelectorAll(selector);\n    el.forEach((e) => {\n      e.remove();\n    });\n  });\n\n  return element.innerText.replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * An array of DOM selectors to remove when getting plain content.\n *\n * @type {Array}\n */\ngetPlainContent.removeSelectors = ['blockquote', 'script'];\n\n/**\n * Make a string's first character uppercase.\n */\nexport function ucfirst(string: string): string {\n  return string.substr(0, 1).toUpperCase() + string.substr(1);\n}\n\n/**\n * Transform a camel case string to snake case.\n */\nexport function camelCaseToSnakeCase(str: string): string {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n}\n\n/**\n * Generate a random string (a-z, 0-9) of a given length.\n *\n * Providing a length of less than 0 will result in an error.\n *\n * @param length Length of the random string to generate\n * @returns A random string of provided length\n */\nexport function generateRandomString(length: number): string {\n  if (length < 0) throw new Error('Cannot generate a random string with length less than 0.');\n  if (length === 0) return '';\n\n  const arr = new Uint8Array(length / 2);\n  window.crypto.getRandomValues(arr);\n\n  return Array.from(arr, (dec) => {\n    return dec.toString(16).padStart(2, '0');\n  }).join('');\n}\n","type RGB = { r: number; g: number; b: number };\n\nfunction hsvToRgb(h: number, s: number, v: number): RGB {\n  let r!: number;\n  let g!: number;\n  let b!: number;\n\n  const i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n\n  switch (i % 6) {\n    case 0:\n      r = v;\n      g = t;\n      b = p;\n      break;\n    case 1:\n      r = q;\n      g = v;\n      b = p;\n      break;\n    case 2:\n      r = p;\n      g = v;\n      b = t;\n      break;\n    case 3:\n      r = p;\n      g = q;\n      b = v;\n      break;\n    case 4:\n      r = t;\n      g = p;\n      b = v;\n      break;\n    case 5:\n      r = v;\n      g = p;\n      b = q;\n      break;\n  }\n\n  return {\n    r: Math.floor(r * 255),\n    g: Math.floor(g * 255),\n    b: Math.floor(b * 255),\n  };\n}\n\n/**\n * Convert the given string to a unique color.\n */\nexport default function stringToColor(string: string): string {\n  let num = 0;\n\n  // Convert the username into a number based on the ASCII value of each\n  // character.\n  for (let i = 0; i < string.length; i++) {\n    num += string.charCodeAt(i);\n  }\n\n  // Construct a color using the remainder of that number divided by 360, and\n  // some predefined saturation and value values.\n  const hue = num % 360;\n  const rgb = hsvToRgb(hue / 360, 0.3, 0.9);\n\n  return '' + rgb.r.toString(16) + rgb.g.toString(16) + rgb.b.toString(16);\n}\n","/*\n * Original Copyright GitHub, Inc. Licensed under the MIT License.\n * See license text at https://github.com/github/markdown-toolbar-element/blob/master/LICENSE.\n */\n\nimport insertText, { SelectionRange } from './insertText';\n\ninterface StyleArgs {\n  prefix: string;\n  suffix: string;\n  blockPrefix: string;\n  blockSuffix: string;\n  multiline: boolean;\n  replaceNext: string;\n  prefixSpace: boolean;\n  scanFor: string;\n  surroundWithNewlines: boolean;\n  orderedList: boolean;\n  unorderedList: boolean;\n  trimFirst: boolean;\n}\n\nconst defaults: StyleArgs = {\n  prefix: '',\n  suffix: '',\n  blockPrefix: '',\n  blockSuffix: '',\n  multiline: false,\n  replaceNext: '',\n  prefixSpace: false,\n  scanFor: '',\n  surroundWithNewlines: false,\n  orderedList: false,\n  unorderedList: false,\n  trimFirst: false,\n};\n\nexport default function styleSelectedText(textarea: HTMLTextAreaElement, styleArgs: StyleArgs) {\n  // Next 2 lines are added\n  textarea.focus();\n  styleArgs = Object.assign({}, defaults, styleArgs);\n  // Prev 2 lines are added\n  const text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n\n  let result;\n  if (styleArgs.orderedList || styleArgs.unorderedList) {\n    result = listStyle(textarea, styleArgs);\n  } else if (styleArgs.multiline && isMultipleLines(text)) {\n    result = multilineStyle(textarea, styleArgs);\n  } else {\n    result = blockStyle(textarea, styleArgs);\n  }\n\n  insertText(textarea, result);\n}\n\nfunction isMultipleLines(string: string): boolean {\n  return string.trim().split('\\n').length > 1;\n}\n\nfunction repeat(string: string, n: number): string {\n  return Array(n + 1).join(string);\n}\n\nfunction wordSelectionStart(text: string, i: number): number {\n  let index = i;\n  while (text[index] && text[index - 1] != null && !text[index - 1].match(/\\s/)) {\n    index--;\n  }\n  return index;\n}\n\nfunction wordSelectionEnd(text: string, i: number, multiline: boolean): number {\n  let index = i;\n  const breakpoint = multiline ? /\\n/ : /\\s/;\n  while (text[index] && !text[index].match(breakpoint)) {\n    index++;\n  }\n  return index;\n}\n\nfunction expandSelectionToLine(textarea: HTMLTextAreaElement) {\n  const lines = textarea.value.split('\\n');\n  let counter = 0;\n  for (let index = 0; index < lines.length; index++) {\n    const lineLength = lines[index].length + 1;\n    if (textarea.selectionStart >= counter && textarea.selectionStart < counter + lineLength) {\n      textarea.selectionStart = counter;\n    }\n    if (textarea.selectionEnd >= counter && textarea.selectionEnd < counter + lineLength) {\n      textarea.selectionEnd = counter + lineLength - 1;\n    }\n    counter += lineLength;\n  }\n}\n\nfunction expandSelectedText(textarea: HTMLTextAreaElement, prefixToUse: string, suffixToUse: string, multiline = false): string {\n  if (textarea.selectionStart === textarea.selectionEnd) {\n    textarea.selectionStart = wordSelectionStart(textarea.value, textarea.selectionStart);\n    textarea.selectionEnd = wordSelectionEnd(textarea.value, textarea.selectionEnd, multiline);\n  } else {\n    const expandedSelectionStart = textarea.selectionStart - prefixToUse.length;\n    const expandedSelectionEnd = textarea.selectionEnd + suffixToUse.length;\n    const beginsWithPrefix = textarea.value.slice(expandedSelectionStart, textarea.selectionStart) === prefixToUse;\n    const endsWithSuffix = textarea.value.slice(textarea.selectionEnd, expandedSelectionEnd) === suffixToUse;\n    if (beginsWithPrefix && endsWithSuffix) {\n      textarea.selectionStart = expandedSelectionStart;\n      textarea.selectionEnd = expandedSelectionEnd;\n    }\n  }\n  return textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n}\n\ninterface Newlines {\n  newlinesToAppend: string;\n  newlinesToPrepend: string;\n}\n\nfunction newlinesToSurroundSelectedText(textarea: HTMLTextAreaElement): Newlines {\n  const beforeSelection = textarea.value.slice(0, textarea.selectionStart);\n  const afterSelection = textarea.value.slice(textarea.selectionEnd);\n\n  const breaksBefore = beforeSelection.match(/\\n*$/);\n  const breaksAfter = afterSelection.match(/^\\n*/);\n  const newlinesBeforeSelection = breaksBefore ? breaksBefore[0].length : 0;\n  const newlinesAfterSelection = breaksAfter ? breaksAfter[0].length : 0;\n\n  let newlinesToAppend;\n  let newlinesToPrepend;\n\n  if (beforeSelection.match(/\\S/) && newlinesBeforeSelection < 2) {\n    newlinesToAppend = repeat('\\n', 2 - newlinesBeforeSelection);\n  }\n\n  if (afterSelection.match(/\\S/) && newlinesAfterSelection < 2) {\n    newlinesToPrepend = repeat('\\n', 2 - newlinesAfterSelection);\n  }\n\n  if (newlinesToAppend == null) {\n    newlinesToAppend = '';\n  }\n\n  if (newlinesToPrepend == null) {\n    newlinesToPrepend = '';\n  }\n\n  return { newlinesToAppend, newlinesToPrepend };\n}\n\nfunction blockStyle(textarea: HTMLTextAreaElement, arg: StyleArgs): SelectionRange {\n  let newlinesToAppend;\n  let newlinesToPrepend;\n\n  const { prefix, suffix, blockPrefix, blockSuffix, replaceNext, prefixSpace, scanFor, surroundWithNewlines } = arg;\n  const originalSelectionStart = textarea.selectionStart;\n  const originalSelectionEnd = textarea.selectionEnd;\n\n  let selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let prefixToUse = isMultipleLines(selectedText) && blockPrefix.length > 0 ? `${blockPrefix}\\n` : prefix;\n  // CHANGED\n  let suffixToUse = isMultipleLines(selectedText) && blockSuffix.length > 0 ? `\\n${blockSuffix}` : prefixToUse === prefix ? suffix : '';\n  // END CHANGED\n\n  if (prefixSpace) {\n    const beforeSelection = textarea.value[textarea.selectionStart - 1];\n    if (textarea.selectionStart !== 0 && beforeSelection != null && !beforeSelection.match(/\\s/)) {\n      prefixToUse = ` ${prefixToUse}`;\n    }\n  }\n  selectedText = expandSelectedText(textarea, prefixToUse, suffixToUse, arg.multiline);\n  let selectionStart = textarea.selectionStart;\n  let selectionEnd = textarea.selectionEnd;\n  const hasReplaceNext = replaceNext.length > 0 && suffixToUse.indexOf(replaceNext) > -1 && selectedText.length > 0;\n  if (surroundWithNewlines) {\n    const ref = newlinesToSurroundSelectedText(textarea);\n    newlinesToAppend = ref.newlinesToAppend;\n    newlinesToPrepend = ref.newlinesToPrepend;\n    prefixToUse = newlinesToAppend + prefix;\n    suffixToUse += newlinesToPrepend;\n  }\n\n  if (selectedText.startsWith(prefixToUse) && selectedText.endsWith(suffixToUse)) {\n    const replacementText = selectedText.slice(prefixToUse.length, selectedText.length - suffixToUse.length);\n    if (originalSelectionStart === originalSelectionEnd) {\n      let position = originalSelectionStart - prefixToUse.length;\n      position = Math.max(position, selectionStart);\n      position = Math.min(position, selectionStart + replacementText.length);\n      selectionStart = selectionEnd = position;\n    } else {\n      selectionEnd = selectionStart + replacementText.length;\n    }\n    return { text: replacementText, selectionStart, selectionEnd };\n  } else if (!hasReplaceNext) {\n    let replacementText = prefixToUse + selectedText + suffixToUse;\n    selectionStart = originalSelectionStart + prefixToUse.length;\n    selectionEnd = originalSelectionEnd + prefixToUse.length;\n    const whitespaceEdges = selectedText.match(/^\\s*|\\s*$/g);\n    if (arg.trimFirst && whitespaceEdges) {\n      const leadingWhitespace = whitespaceEdges[0] || '';\n      const trailingWhitespace = whitespaceEdges[1] || '';\n      replacementText = leadingWhitespace + prefixToUse + selectedText.trim() + suffixToUse + trailingWhitespace;\n      selectionStart += leadingWhitespace.length;\n      selectionEnd -= trailingWhitespace.length;\n    }\n    return { text: replacementText, selectionStart, selectionEnd };\n  } else if (scanFor.length > 0 && selectedText.match(scanFor)) {\n    suffixToUse = suffixToUse.replace(replaceNext, selectedText);\n    const replacementText = prefixToUse + suffixToUse;\n    selectionStart = selectionEnd = selectionStart + prefixToUse.length;\n    return { text: replacementText, selectionStart, selectionEnd };\n  } else {\n    const replacementText = prefixToUse + selectedText + suffixToUse;\n    selectionStart = selectionStart + prefixToUse.length + selectedText.length + suffixToUse.indexOf(replaceNext);\n    selectionEnd = selectionStart + replaceNext.length;\n    return { text: replacementText, selectionStart, selectionEnd };\n  }\n}\n\nfunction multilineStyle(textarea: HTMLTextAreaElement, arg: StyleArgs) {\n  const { prefix, suffix, blockPrefix, blockSuffix, surroundWithNewlines } = arg;\n  let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n  let selectionStart = textarea.selectionStart;\n  let selectionEnd = textarea.selectionEnd;\n  const lines = text.split('\\n');\n  // CHANGED\n  let prefixToUse = blockPrefix.length > 0 ? blockPrefix : prefix;\n  let suffixToUse = blockSuffix.length > 0 ? blockSuffix : prefixToUse == prefix ? suffix : '';\n  const undoStyle = lines.every((line) => line.startsWith(prefixToUse) && line.endsWith(suffixToUse));\n  // END CHANGED\n\n  if (undoStyle) {\n    text = lines.map((line) => line.slice(prefixToUse.length, line.length - suffixToUse.length)).join('\\n');\n    selectionEnd = selectionStart + text.length;\n  } else {\n    // CHANGED\n    text = lines.map((line) => prefixToUse + line + suffixToUse).join('\\n');\n    if (surroundWithNewlines || suffixToUse === '') {\n      // END CHANGED\n      const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n      selectionStart += newlinesToAppend.length;\n      selectionEnd = selectionStart + text.length;\n      text = newlinesToAppend + text + newlinesToPrepend;\n    }\n  }\n\n  return { text, selectionStart, selectionEnd };\n}\n\ninterface UndoResult {\n  text: string;\n  processed: boolean;\n}\nfunction undoOrderedListStyle(text: string): UndoResult {\n  const lines = text.split('\\n');\n  const orderedListRegex = /^\\d+\\.\\s+/;\n  const shouldUndoOrderedList = lines.every((line) => orderedListRegex.test(line));\n  let result = lines;\n  if (shouldUndoOrderedList) {\n    result = lines.map((line) => line.replace(orderedListRegex, ''));\n  }\n\n  return {\n    text: result.join('\\n'),\n    processed: shouldUndoOrderedList,\n  };\n}\n\nfunction undoUnorderedListStyle(text: string): UndoResult {\n  const lines = text.split('\\n');\n  const unorderedListPrefix = '- ';\n  const shouldUndoUnorderedList = lines.every((line) => line.startsWith(unorderedListPrefix));\n  let result = lines;\n  if (shouldUndoUnorderedList) {\n    result = lines.map((line) => line.slice(unorderedListPrefix.length, line.length));\n  }\n\n  return {\n    text: result.join('\\n'),\n    processed: shouldUndoUnorderedList,\n  };\n}\n\nfunction makePrefix(index: number, unorderedList: boolean): string {\n  if (unorderedList) {\n    return '- ';\n  } else {\n    return `${index + 1}. `;\n  }\n}\n\nfunction clearExistingListStyle(style: StyleArgs, selectedText: string): [UndoResult, UndoResult, string] {\n  let undoResultOpositeList: UndoResult;\n  let undoResult: UndoResult;\n  let pristineText;\n  if (style.orderedList) {\n    undoResult = undoOrderedListStyle(selectedText);\n    undoResultOpositeList = undoUnorderedListStyle(undoResult.text);\n    pristineText = undoResultOpositeList.text;\n  } else {\n    undoResult = undoUnorderedListStyle(selectedText);\n    undoResultOpositeList = undoOrderedListStyle(undoResult.text);\n    pristineText = undoResultOpositeList.text;\n  }\n  return [undoResult, undoResultOpositeList, pristineText];\n}\n\nfunction listStyle(textarea: HTMLTextAreaElement, style: StyleArgs): SelectionRange {\n  const noInitialSelection = textarea.selectionStart === textarea.selectionEnd;\n  let selectionStart = textarea.selectionStart;\n  let selectionEnd = textarea.selectionEnd;\n\n  // Select whole line\n  expandSelectionToLine(textarea);\n\n  const selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n\n  // If the user intent was to do an undo, we will stop after this.\n  // Otherwise, we will still undo to other list type to prevent list stacking\n  const [undoResult, undoResultOpositeList, pristineText] = clearExistingListStyle(style, selectedText);\n\n  const prefixedLines = pristineText.split('\\n').map((value, index) => {\n    return `${makePrefix(index, style.unorderedList)}${value}`;\n  });\n\n  const totalPrefixLength = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n    return previousValue + makePrefix(currentIndex, style.unorderedList).length;\n  }, 0);\n\n  const totalPrefixLengthOpositeList = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n    return previousValue + makePrefix(currentIndex, !style.unorderedList).length;\n  }, 0);\n\n  if (undoResult.processed) {\n    if (noInitialSelection) {\n      selectionStart = Math.max(selectionStart - makePrefix(0, style.unorderedList).length, 0);\n      selectionEnd = selectionStart;\n    } else {\n      selectionStart = textarea.selectionStart;\n      selectionEnd = textarea.selectionEnd - totalPrefixLength;\n    }\n    return { text: pristineText, selectionStart, selectionEnd };\n  }\n\n  const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n  const text = newlinesToAppend + prefixedLines.join('\\n') + newlinesToPrepend;\n\n  if (noInitialSelection) {\n    selectionStart = Math.max(selectionStart + makePrefix(0, style.unorderedList).length + newlinesToAppend.length, 0);\n    selectionEnd = selectionStart;\n  } else {\n    if (undoResultOpositeList.processed) {\n      selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n      selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength - totalPrefixLengthOpositeList;\n    } else {\n      selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n      selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength;\n    }\n  }\n\n  return { text, selectionStart, selectionEnd };\n}\n","// Re-exports `throttle-debounce` to be used in `compat.js`.\n\nexport { throttle, debounce } from 'throttle-debounce';\n","/**\n * An event handler factory that makes it simpler to implement data binding\n * for component event listeners.\n *\n * The handler created by this factory passes the DOM element's attribute\n * identified by the first argument to the callback (usually a bidirectional\n * Mithril stream: https://mithril.js.org/stream.html#bidirectional-bindings).\n *\n * Replaces m.withAttr for Mithril 2.0.\n * @see https://mithril.js.org/archive/v0.2.5/mithril.withAttr.html\n */\nexport default (key: string, cb: Function) =>\n  function (this: Element) {\n    cb(this.getAttribute(key) || (this as any)[key]);\n  };\n","import app from './app';\n\nimport History from './utils/History';\nimport Pane from './utils/Pane';\nimport DiscussionPage from './components/DiscussionPage';\nimport SignUpModal from './components/SignUpModal';\nimport HeaderPrimary from './components/HeaderPrimary';\nimport HeaderSecondary from './components/HeaderSecondary';\nimport Composer from './components/Composer';\nimport DiscussionRenamedNotification from './components/DiscussionRenamedNotification';\nimport CommentPost from './components/CommentPost';\nimport DiscussionRenamedPost from './components/DiscussionRenamedPost';\nimport routes, { ForumRoutes, makeRouteHelpers } from './routes';\nimport alertEmailConfirmation from './utils/alertEmailConfirmation';\nimport Application, { ApplicationData } from '../common/Application';\nimport Navigation from '../common/components/Navigation';\nimport NotificationListState from './states/NotificationListState';\nimport GlobalSearchState from './states/GlobalSearchState';\nimport DiscussionListState from './states/DiscussionListState';\nimport ComposerState from './states/ComposerState';\nimport isSafariMobile from './utils/isSafariMobile';\n\nimport type Notification from './components/Notification';\nimport type Post from './components/Post';\nimport type Discussion from '../common/models/Discussion';\nimport type NotificationModel from '../common/models/Notification';\nimport type PostModel from '../common/models/Post';\nimport extractText from '../common/utils/extractText';\n\nexport interface ForumApplicationData extends ApplicationData {}\n\nexport default class ForumApplication extends Application {\n  /**\n   * A map of notification types to their components.\n   */\n  notificationComponents: Record<string, ComponentClass<{ notification: NotificationModel }, Notification<{ notification: NotificationModel }>>> = {\n    discussionRenamed: DiscussionRenamedNotification,\n  };\n\n  /**\n   * A map of post types to their components.\n   */\n  postComponents: Record<string, ComponentClass<{ post: PostModel }, Post<{ post: PostModel }>>> = {\n    comment: CommentPost,\n    discussionRenamed: DiscussionRenamedPost,\n  };\n\n  /**\n   * An object which controls the state of the page's side pane.\n   */\n  pane: Pane | null = null;\n\n  /**\n   * The app's history stack, which keeps track of which routes the user visits\n   * so that they can easily navigate back to the previous route.\n   */\n  history: History = new History();\n\n  /**\n   * An object which controls the state of the user's notifications.\n   */\n  notifications: NotificationListState = new NotificationListState();\n\n  /**\n   * An object which stores previously searched queries and provides convenient\n   * tools for retrieving and managing search values.\n   */\n  search: GlobalSearchState = new GlobalSearchState();\n\n  /**\n   * An object which controls the state of the composer.\n   */\n  composer: ComposerState = new ComposerState();\n\n  /**\n   * An object which controls the state of the cached discussion list, which\n   * is used in the index page and the slideout pane.\n   */\n  discussions: DiscussionListState = new DiscussionListState({});\n\n  route: typeof Application.prototype.route & ForumRoutes;\n\n  data!: ForumApplicationData;\n\n  constructor() {\n    super();\n\n    routes(this);\n\n    this.route = Object.assign((Object.getPrototypeOf(Object.getPrototypeOf(this)) as Application).route.bind(this), makeRouteHelpers(this));\n  }\n\n  /**\n   * @inheritdoc\n   */\n  mount() {\n    // Get the configured default route and update that route's path to be '/'.\n    // Push the homepage as the first route, so that the user will always be\n    // able to click on the 'back' button to go home, regardless of which page\n    // they started on.\n    const defaultRoute = this.forum.attribute('defaultRoute');\n    let defaultAction = 'index';\n\n    for (const i in this.routes) {\n      if (this.routes[i].path === defaultRoute) defaultAction = i;\n    }\n\n    this.routes[defaultAction].path = '/';\n    this.history.push(defaultAction, extractText(this.translator.trans('core.forum.header.back_to_index_tooltip')), '/');\n\n    this.pane = new Pane(document.getElementById('app'));\n\n    m.route.prefix = '';\n    super.mount(this.forum.attribute('basePath'));\n\n    // We mount navigation and header components after the page, so components\n    // like the back button can access the updated state when rendering.\n    m.mount(document.getElementById('app-navigation')!, { view: () => <Navigation className=\"App-backControl\" drawer /> });\n    m.mount(document.getElementById('header-navigation')!, Navigation);\n    m.mount(document.getElementById('header-primary')!, HeaderPrimary);\n    m.mount(document.getElementById('header-secondary')!, HeaderSecondary);\n    m.mount(document.getElementById('composer')!, { view: () => <Composer state={this.composer} /> });\n\n    alertEmailConfirmation(this);\n\n    // Route the home link back home when clicked. We do not want it to register\n    // if the user is opening it in a new tab, however.\n    document.getElementById('home-link')!.addEventListener('click', (e) => {\n      if (e.ctrlKey || e.metaKey || e.button === 1) return;\n      e.preventDefault();\n      app.history.home();\n\n      // Reload the current user so that their unread notification count is refreshed.\n      const userId = app.session.user?.id();\n      if (userId) {\n        app.store.find('users', userId);\n        m.redraw();\n      }\n    });\n\n    if (isSafariMobile()) {\n      $(() => {\n        $('.App').addClass('mobile-safari');\n      });\n    }\n  }\n\n  /**\n   * Check whether or not the user is currently viewing a discussion.\n   */\n  public viewingDiscussion(discussion: Discussion): boolean {\n    return this.current.matches(DiscussionPage, { discussion });\n  }\n\n  /**\n   * Callback for when an external authenticator (social login) action has\n   * completed.\n   *\n   * If the payload indicates that the user has been logged in, then the page\n   * will be reloaded. Otherwise, a SignUpModal will be opened, prefilled\n   * with the provided details.\n   */\n  public authenticationComplete(payload: Record<string, unknown>): void {\n    if (payload.loggedIn) {\n      window.location.reload();\n    } else {\n      this.modal.show(SignUpModal, payload);\n    }\n  }\n}\n","import Forum from './ForumApplication';\n\nconst app = new Forum();\n\n// @ts-expect-error We need to do this for backwards compatibility purposes.\nwindow.app = app;\n\nexport default app;\n","import compat from '../common/compat';\n\nimport PostControls from './utils/PostControls';\nimport KeyboardNavigatable from '../common/utils/KeyboardNavigatable';\nimport slidable from './utils/slidable';\nimport History from './utils/History';\nimport DiscussionControls from './utils/DiscussionControls';\nimport alertEmailConfirmation from './utils/alertEmailConfirmation';\nimport UserControls from './utils/UserControls';\nimport Pane from './utils/Pane';\nimport ComposerState from './states/ComposerState';\nimport DiscussionListState from './states/DiscussionListState';\nimport GlobalSearchState from './states/GlobalSearchState';\nimport NotificationListState from './states/NotificationListState';\nimport PostStreamState from './states/PostStreamState';\nimport SearchState from './states/SearchState';\nimport UserSecurityPageState from './states/UserSecurityPageState';\nimport AffixedSidebar from './components/AffixedSidebar';\nimport DiscussionPage from './components/DiscussionPage';\nimport DiscussionListPane from './components/DiscussionListPane';\nimport LogInModal from './components/LogInModal';\nimport ComposerBody from './components/ComposerBody';\nimport ForgotPasswordModal from './components/ForgotPasswordModal';\nimport Notification from './components/Notification';\nimport LogInButton from './components/LogInButton';\nimport DiscussionsUserPage from './components/DiscussionsUserPage';\nimport Composer from './components/Composer';\nimport SessionDropdown from './components/SessionDropdown';\nimport HeaderPrimary from './components/HeaderPrimary';\nimport PostEdited from './components/PostEdited';\nimport PostStream from './components/PostStream';\nimport ChangePasswordModal from './components/ChangePasswordModal';\nimport IndexPage from './components/IndexPage';\nimport DiscussionRenamedNotification from './components/DiscussionRenamedNotification';\nimport DiscussionsSearchSource from './components/DiscussionsSearchSource';\nimport HeaderSecondary from './components/HeaderSecondary';\nimport ComposerButton from './components/ComposerButton';\nimport DiscussionList from './components/DiscussionList';\nimport ReplyPlaceholder from './components/ReplyPlaceholder';\nimport AvatarEditor from './components/AvatarEditor';\nimport Post from './components/Post';\nimport SettingsPage from './components/SettingsPage';\nimport TerminalPost from './components/TerminalPost';\nimport ChangeEmailModal from './components/ChangeEmailModal';\nimport NotificationsDropdown from './components/NotificationsDropdown';\nimport UserPage from './components/UserPage';\nimport PostUser from './components/PostUser';\nimport UserCard from './components/UserCard';\nimport UsersSearchSource from './components/UsersSearchSource';\nimport UserSecurityPage from './components/UserSecurityPage';\nimport NotificationGrid from './components/NotificationGrid';\nimport PostPreview from './components/PostPreview';\nimport EventPost from './components/EventPost';\nimport DiscussionHero from './components/DiscussionHero';\nimport PostMeta from './components/PostMeta';\nimport DiscussionRenamedPost from './components/DiscussionRenamedPost';\nimport DiscussionComposer from './components/DiscussionComposer';\nimport LogInButtons from './components/LogInButtons';\nimport NotificationList from './components/NotificationList';\nimport WelcomeHero from './components/WelcomeHero';\nimport SignUpModal from './components/SignUpModal';\nimport CommentPost from './components/CommentPost';\nimport ComposerPostPreview from './components/ComposerPostPreview';\nimport ReplyComposer from './components/ReplyComposer';\nimport NotificationsPage from './components/NotificationsPage';\nimport PostStreamScrubber from './components/PostStreamScrubber';\nimport EditPostComposer from './components/EditPostComposer';\nimport RenameDiscussionModal from './components/RenameDiscussionModal';\nimport Search from './components/Search';\nimport DiscussionListItem from './components/DiscussionListItem';\nimport LoadingPost from './components/LoadingPost';\nimport PostsUserPage from './components/PostsUserPage';\nimport DiscussionPageResolver from './resolvers/DiscussionPageResolver';\nimport BasicEditorDriver from '../common/utils/BasicEditorDriver';\nimport routes from './routes';\nimport ForumApplication from './ForumApplication';\nimport isSafariMobile from './utils/isSafariMobile';\n\nexport default Object.assign(compat, {\n  'utils/PostControls': PostControls,\n  // @deprecated import from 'flarum/common/utils/KeyboardNavigatable' instead\n  'utils/KeyboardNavigatable': KeyboardNavigatable,\n  'utils/slidable': slidable,\n  'utils/History': History,\n  'utils/DiscussionControls': DiscussionControls,\n  'utils/alertEmailConfirmation': alertEmailConfirmation,\n  'utils/UserControls': UserControls,\n  'utils/Pane': Pane,\n  'utils/BasicEditorDriver': BasicEditorDriver,\n  'utils/isSafariMobile': isSafariMobile,\n  'states/ComposerState': ComposerState,\n  'states/DiscussionListState': DiscussionListState,\n  'states/GlobalSearchState': GlobalSearchState,\n  'states/NotificationListState': NotificationListState,\n  'states/PostStreamState': PostStreamState,\n  'states/SearchState': SearchState,\n  'states/UserSecurityPageState': UserSecurityPageState,\n  'components/AffixedSidebar': AffixedSidebar,\n  'components/DiscussionPage': DiscussionPage,\n  'components/DiscussionListPane': DiscussionListPane,\n  'components/LogInModal': LogInModal,\n  'components/ComposerBody': ComposerBody,\n  'components/ForgotPasswordModal': ForgotPasswordModal,\n  'components/Notification': Notification,\n  'components/LogInButton': LogInButton,\n  'components/DiscussionsUserPage': DiscussionsUserPage,\n  'components/Composer': Composer,\n  'components/SessionDropdown': SessionDropdown,\n  'components/HeaderPrimary': HeaderPrimary,\n  'components/PostEdited': PostEdited,\n  'components/PostStream': PostStream,\n  'components/ChangePasswordModal': ChangePasswordModal,\n  'components/IndexPage': IndexPage,\n  'components/DiscussionRenamedNotification': DiscussionRenamedNotification,\n  'components/DiscussionsSearchSource': DiscussionsSearchSource,\n  'components/HeaderSecondary': HeaderSecondary,\n  'components/ComposerButton': ComposerButton,\n  'components/DiscussionList': DiscussionList,\n  'components/ReplyPlaceholder': ReplyPlaceholder,\n  'components/AvatarEditor': AvatarEditor,\n  'components/Post': Post,\n  'components/SettingsPage': SettingsPage,\n  'components/TerminalPost': TerminalPost,\n  'components/ChangeEmailModal': ChangeEmailModal,\n  'components/NotificationsDropdown': NotificationsDropdown,\n  'components/UserPage': UserPage,\n  'components/PostUser': PostUser,\n  'components/UserCard': UserCard,\n  'components/UsersSearchSource': UsersSearchSource,\n  'components/UserSecurityPage': UserSecurityPage,\n  'components/NotificationGrid': NotificationGrid,\n  'components/PostPreview': PostPreview,\n  'components/EventPost': EventPost,\n  'components/DiscussionHero': DiscussionHero,\n  'components/PostMeta': PostMeta,\n  'components/DiscussionRenamedPost': DiscussionRenamedPost,\n  'components/DiscussionComposer': DiscussionComposer,\n  'components/LogInButtons': LogInButtons,\n  'components/NotificationList': NotificationList,\n  'components/WelcomeHero': WelcomeHero,\n  'components/SignUpModal': SignUpModal,\n  'components/CommentPost': CommentPost,\n  'components/ComposerPostPreview': ComposerPostPreview,\n  'components/ReplyComposer': ReplyComposer,\n  'components/NotificationsPage': NotificationsPage,\n  'components/PostStreamScrubber': PostStreamScrubber,\n  'components/EditPostComposer': EditPostComposer,\n  'components/RenameDiscussionModal': RenameDiscussionModal,\n  'components/Search': Search,\n  'components/DiscussionListItem': DiscussionListItem,\n  'components/LoadingPost': LoadingPost,\n  'components/PostsUserPage': PostsUserPage,\n  'resolvers/DiscussionPageResolver': DiscussionPageResolver,\n  routes: routes,\n  ForumApplication: ForumApplication,\n});\n","import app from '../app';\nimport Component, { ComponentAttrs } from '../../common/Component';\nimport icon from '../../common/helpers/icon';\nimport Button from '../../common/components/Button';\nimport humanTime from '../../common/helpers/humanTime';\nimport ItemList from '../../common/utils/ItemList';\nimport LabelValue from '../../common/components/LabelValue';\nimport extractText from '../../common/utils/extractText';\nimport classList from '../../common/utils/classList';\nimport Tooltip from '../../common/components/Tooltip';\nimport type Mithril from 'mithril';\nimport type AccessToken from '../../common/models/AccessToken';\nimport { NestedStringArray } from '@askvortsov/rich-icu-message-formatter';\n\nexport interface IAccessTokensListAttrs extends ComponentAttrs {\n  tokens: AccessToken[];\n  type: 'session' | 'developer_token';\n  hideTokens?: boolean;\n  icon?: string;\n  ondelete?: (token: AccessToken) => void;\n}\n\nexport default class AccessTokensList<CustomAttrs extends IAccessTokensListAttrs = IAccessTokensListAttrs> extends Component<CustomAttrs> {\n  protected loading: Record<string, boolean | undefined> = {};\n  protected showingTokens: Record<string, boolean | undefined> = {};\n\n  view(vnode: Mithril.Vnode<CustomAttrs, this>): Mithril.Children {\n    return (\n      <div className=\"AccessTokensList\">\n        {this.attrs.tokens.length ? (\n          this.attrs.tokens.map(this.tokenView.bind(this))\n        ) : (\n          <div className=\"AccessTokensList--empty\">{app.translator.trans('core.forum.security.empty_text')}</div>\n        )}\n      </div>\n    );\n  }\n\n  tokenView(token: AccessToken): Mithril.Children {\n    return (\n      <div\n        className={classList('AccessTokensList-item', {\n          'AccessTokensList-item--active': token.isCurrent(),\n        })}\n        key={token.id()!}\n      >\n        {this.tokenViewItems(token).toArray()}\n      </div>\n    );\n  }\n\n  tokenViewItems(token: AccessToken): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('icon', <div className=\"AccessTokensList-item-icon\">{icon(this.attrs.icon || 'fas fa-key')}</div>, 50);\n\n    items.add('info', <div className=\"AccessTokensList-item-info\">{this.tokenInfoItems(token).toArray()}</div>, 40);\n\n    items.add('actions', <div className=\"AccessTokensList-item-actions\">{this.tokenActionItems(token).toArray()}</div>, 30);\n\n    return items;\n  }\n\n  tokenInfoItems(token: AccessToken) {\n    const items = new ItemList<Mithril.Children>();\n\n    if (this.attrs.type === 'session') {\n      items.add(\n        'title',\n        <div className=\"AccessTokensList-item-title\">\n          <span className=\"AccessTokensList-item-title-main\">{token.device()}</span>\n          {token.isCurrent() && [\n            '  ',\n            <span className=\"AccessTokensList-item-title-sub\">{app.translator.trans('core.forum.security.current_active_session')}</span>,\n          ]}\n        </div>\n      );\n    } else {\n      items.add(\n        'title',\n        <div className=\"AccessTokensList-item-title\">\n          <span className=\"AccessTokensList-item-title-main\">{this.generateTokenTitle(token)}</span>\n        </div>\n      );\n    }\n\n    items.add(\n      'createdAt',\n      <div className=\"AccessTokensList-item-createdAt\">\n        <LabelValue label={app.translator.trans('core.forum.security.created')} value={humanTime(token.createdAt())} />\n      </div>\n    );\n\n    items.add(\n      'lastActivityAt',\n      <div className=\"AccessTokensList-item-lastActivityAt\">\n        <LabelValue\n          label={app.translator.trans('core.forum.security.last_activity')}\n          value={\n            token.lastActivityAt() ? (\n              <>\n                {humanTime(token.lastActivityAt())}\n                {token.lastIpAddress() && `  ${token.lastIpAddress()}`}\n                {this.attrs.type === 'developer_token' && token.device() && (\n                  <>\n                    {' '}\n                     <span className=\"AccessTokensList-item-title-sub\">{token.device()}</span>\n                  </>\n                )}\n              </>\n            ) : (\n              app.translator.trans('core.forum.security.never')\n            )\n          }\n        />\n      </div>\n    );\n\n    return items;\n  }\n\n  tokenActionItems(token: AccessToken) {\n    const items = new ItemList<Mithril.Children>();\n\n    const deleteKey = {\n      session: 'terminate_session',\n      developer_token: 'revoke_access_token',\n    }[this.attrs.type];\n\n    if (this.attrs.type === 'developer_token') {\n      const isHidden = !this.showingTokens[token.id()!];\n      const displayKey = isHidden ? 'show_access_token' : 'hide_access_token';\n\n      items.add(\n        'toggleDisplay',\n        <Button\n          className=\"Button Button--inverted\"\n          icon={isHidden ? 'fas fa-eye' : 'fas fa-eye-slash'}\n          onclick={() => {\n            this.showingTokens[token.id()!] = isHidden;\n            m.redraw();\n          }}\n        >\n          {app.translator.trans(`core.forum.security.${displayKey}`)}\n        </Button>\n      );\n    }\n\n    let revokeButton = (\n      <Button className=\"Button Button--danger\" disabled={token.isCurrent()} loading={!!this.loading[token.id()!]} onclick={() => this.revoke(token)}>\n        {app.translator.trans(`core.forum.security.${deleteKey}`)}\n      </Button>\n    );\n\n    if (token.isCurrent()) {\n      revokeButton = (\n        <Tooltip text={app.translator.trans('core.forum.security.cannot_terminate_current_session')}>\n          <div tabindex=\"0\">{revokeButton}</div>\n        </Tooltip>\n      );\n    }\n\n    items.add('revoke', revokeButton);\n\n    return items;\n  }\n\n  async revoke(token: AccessToken) {\n    if (!confirm(extractText(app.translator.trans('core.forum.security.revoke_access_token_confirmation')))) return;\n\n    this.loading[token.id()!] = true;\n\n    await token.delete();\n\n    this.loading[token.id()!] = false;\n    this.attrs.ondelete?.(token);\n\n    const key = this.attrs.type === 'session' ? 'session_terminated' : 'token_revoked';\n\n    app.alerts.show({ type: 'success' }, app.translator.trans(`core.forum.security.${key}`, { count: 1 }));\n    m.redraw();\n  }\n\n  generateTokenTitle(token: AccessToken): NestedStringArray {\n    const name = token.title() || app.translator.trans('core.forum.security.token_title_placeholder');\n    const value = this.tokenValueDisplay(token);\n\n    return app.translator.trans('core.forum.security.token_item_title', { title: name, token: value });\n  }\n\n  tokenValueDisplay(token: AccessToken): Mithril.Children {\n    const obfuscatedName = Array(12).fill('*').join('');\n    const value = this.showingTokens[token.id()!] ? token.token() : obfuscatedName;\n\n    return <code className=\"AccessTokensList-item-token\">{value}</code>;\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport Button from '../../common/components/Button';\nimport Stream from '../../common/utils/Stream';\nimport type Mithril from 'mithril';\nimport RequestError from '../../common/utils/RequestError';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `ChangeEmailModal` component shows a modal dialog which allows the user\n * to change their email address.\n */\nexport default class ChangeEmailModal<CustomAttrs extends IInternalModalAttrs = IInternalModalAttrs> extends Modal<CustomAttrs> {\n  /**\n   * The value of the email input.\n   */\n  email!: Stream<string>;\n\n  /**\n   * The value of the password input.\n   */\n  password!: Stream<string>;\n\n  /**\n   * Whether or not the email has been changed successfully.\n   */\n  success: boolean = false;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.email = Stream(app.session.user!.email() || '');\n    this.password = Stream('');\n  }\n\n  className() {\n    return 'ChangeEmailModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.change_email.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    if (this.success) {\n      items.add(\n        'help',\n        <p className=\"helpText\">\n          {app.translator.trans('core.forum.change_email.confirmation_message', {\n            email: <strong>{this.email()}</strong>,\n          })}\n        </p>\n      );\n\n      items.add(\n        'dismiss',\n        <div className=\"Form-group\">\n          <Button className=\"Button Button--primary Button--block\" onclick={this.hide.bind(this)}>\n            {app.translator.trans('core.forum.change_email.dismiss_button')}\n          </Button>\n        </div>\n      );\n    } else {\n      items.add(\n        'email',\n        <div className=\"Form-group\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            className=\"FormControl\"\n            placeholder={app.session.user!.email()}\n            bidi={this.email}\n            disabled={this.loading}\n          />\n        </div>\n      );\n\n      items.add(\n        'password',\n        <div className=\"Form-group\">\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"FormControl\"\n            autocomplete=\"current-password\"\n            placeholder={app.translator.trans('core.forum.change_email.confirm_password_placeholder')}\n            bidi={this.password}\n            disabled={this.loading}\n          />\n        </div>\n      );\n\n      items.add(\n        'submit',\n        <div className=\"Form-group\">\n          <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n            {app.translator.trans('core.forum.change_email.submit_button')}\n          </Button>\n        </div>\n      );\n    }\n\n    return items;\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    // If the user hasn't actually entered a different email address, we don't\n    // need to do anything. Woot!\n    if (this.email() === app.session.user!.email()) {\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n    this.alertAttrs = null;\n\n    app.session\n      .user!.save(this.requestAttributes(), {\n        errorHandler: this.onerror.bind(this),\n        meta: { password: this.password() },\n      })\n      .then(() => {\n        this.success = true;\n      })\n      .catch(() => {})\n      .then(this.loaded.bind(this));\n  }\n\n  requestAttributes() {\n    return { email: this.email() };\n  }\n\n  onerror(error: RequestError) {\n    if (error.status === 401 && error.alert) {\n      error.alert.content = app.translator.trans('core.forum.change_email.incorrect_password_message');\n    }\n\n    super.onerror(error);\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport Button from '../../common/components/Button';\nimport Mithril from 'mithril';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `ChangePasswordModal` component shows a modal dialog which allows the\n * user to send themself a password reset email.\n */\nexport default class ChangePasswordModal<CustomAttrs extends IInternalModalAttrs = IInternalModalAttrs> extends Modal<CustomAttrs> {\n  className() {\n    return 'ChangePasswordModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.change_password.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const fields = new ItemList<Mithril.Children>();\n\n    fields.add('help', <p className=\"helpText\">{app.translator.trans('core.forum.change_password.text')}</p>);\n\n    fields.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n          {app.translator.trans('core.forum.change_password.send_button')}\n        </Button>\n      </div>\n    );\n\n    return fields;\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/forgot',\n        body: this.requestBody(),\n      })\n      .then(this.hide.bind(this), this.loaded.bind(this));\n  }\n\n  requestBody() {\n    return { email: app.session.user!.email() };\n  }\n}\n","import app from '../../forum/app';\nimport Component, { ComponentAttrs } from '../../common/Component';\nimport Link from '../../common/components/Link';\nimport avatar from '../../common/helpers/avatar';\nimport listItems from '../../common/helpers/listItems';\nimport highlight from '../../common/helpers/highlight';\nimport icon from '../../common/helpers/icon';\nimport humanTime from '../../common/utils/humanTime';\nimport ItemList from '../../common/utils/ItemList';\nimport abbreviateNumber from '../../common/utils/abbreviateNumber';\nimport Dropdown from '../../common/components/Dropdown';\nimport TerminalPost from './TerminalPost';\nimport SubtreeRetainer from '../../common/utils/SubtreeRetainer';\nimport DiscussionControls from '../utils/DiscussionControls';\nimport slidable from '../utils/slidable';\nimport classList from '../../common/utils/classList';\nimport DiscussionPage from './DiscussionPage';\nimport escapeRegExp from '../../common/utils/escapeRegExp';\nimport Tooltip from '../../common/components/Tooltip';\nimport type Discussion from '../../common/models/Discussion';\nimport type Mithril from 'mithril';\nimport type { DiscussionListParams } from '../states/DiscussionListState';\n\nexport interface IDiscussionListItemAttrs extends ComponentAttrs {\n  discussion: Discussion;\n  params: DiscussionListParams;\n}\n\n/**\n * The `DiscussionListItem` component shows a single discussion in the\n * discussion list.\n */\nexport default class DiscussionListItem<CustomAttrs extends IDiscussionListItemAttrs = IDiscussionListItemAttrs> extends Component<CustomAttrs> {\n  /**\n   * Ensures that the discussion will not be redrawn\n   * unless new data comes in.\n   */\n  subtree!: SubtreeRetainer;\n\n  highlightRegExp?: RegExp;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.subtree = new SubtreeRetainer(\n      () => this.attrs.discussion.freshness,\n      () => {\n        const time = app.session.user && app.session.user.markedAllAsReadAt();\n        return time && time.getTime();\n      },\n      () => this.active()\n    );\n  }\n\n  elementAttrs() {\n    return {\n      className: classList('DiscussionListItem', {\n        active: this.active(),\n        'DiscussionListItem--hidden': this.attrs.discussion.isHidden(),\n        Slidable: 'ontouchstart' in window,\n      }),\n    };\n  }\n\n  view() {\n    const discussion = this.attrs.discussion;\n\n    const controls = DiscussionControls.controls(discussion, this).toArray();\n    const attrs = this.elementAttrs();\n\n    return (\n      <div {...attrs}>\n        {this.controlsView(controls)}\n        {this.slidableUnderneathView()}\n        {this.contentView()}\n      </div>\n    );\n  }\n\n  controlsView(controls: Mithril.ChildArray): Mithril.Children {\n    return (\n      !!controls.length && (\n        <Dropdown\n          icon=\"fas fa-ellipsis-v\"\n          className=\"DiscussionListItem-controls\"\n          buttonClassName=\"Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right\"\n          accessibleToggleLabel={app.translator.trans('core.forum.discussion_controls.toggle_dropdown_accessible_label')}\n        >\n          {controls}\n        </Dropdown>\n      )\n    );\n  }\n\n  slidableUnderneathView(): Mithril.Children {\n    const discussion = this.attrs.discussion;\n    const isUnread = discussion.isUnread();\n\n    return (\n      <span\n        className={classList('Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic', { disabled: !isUnread })}\n        onclick={this.markAsRead.bind(this)}\n      >\n        {icon('fas fa-check')}\n      </span>\n    );\n  }\n\n  contentView(): Mithril.Children {\n    const discussion = this.attrs.discussion;\n    const isUnread = discussion.isUnread();\n    const isRead = discussion.isRead();\n\n    return (\n      <div className={classList('DiscussionListItem-content', 'Slidable-content', { unread: isUnread, read: isRead })}>\n        {this.authorAvatarView()}\n        {this.badgesView()}\n        {this.mainView()}\n        {this.replyCountItem()}\n      </div>\n    );\n  }\n\n  authorAvatarView(): Mithril.Children {\n    const discussion = this.attrs.discussion;\n    const user = discussion.user();\n\n    return (\n      <Tooltip\n        text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\n        position=\"right\"\n      >\n        <Link className=\"DiscussionListItem-author\" href={user ? app.route.user(user) : '#'}>\n          {avatar(user || null, { title: '' })}\n        </Link>\n      </Tooltip>\n    );\n  }\n\n  badgesView(): Mithril.Children {\n    const discussion = this.attrs.discussion;\n\n    return <ul className=\"DiscussionListItem-badges badges\">{listItems(discussion.badges().toArray())}</ul>;\n  }\n\n  mainView(): Mithril.Children {\n    const discussion = this.attrs.discussion;\n    const jumpTo = this.getJumpTo();\n\n    return (\n      <Link href={app.route.discussion(discussion, jumpTo)} className=\"DiscussionListItem-main\">\n        <h2 className=\"DiscussionListItem-title\">{highlight(discussion.title(), this.highlightRegExp)}</h2>\n        <ul className=\"DiscussionListItem-info\">{listItems(this.infoItems().toArray())}</ul>\n      </Link>\n    );\n  }\n\n  getJumpTo() {\n    const discussion = this.attrs.discussion;\n    let jumpTo = 0;\n\n    if (this.attrs.params.q) {\n      const post = discussion.mostRelevantPost();\n      if (post) {\n        jumpTo = post.number();\n      }\n\n      const phrase = escapeRegExp(this.attrs.params.q);\n      this.highlightRegExp = new RegExp(phrase + '|' + phrase.trim().replace(/\\s+/g, '|'), 'gi');\n    } else {\n      jumpTo = Math.min(discussion.lastPostNumber() ?? 0, (discussion.lastReadPostNumber() || 0) + 1);\n    }\n\n    return jumpTo;\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.oncreate(vnode);\n\n    // If we're on a touch device, set up the discussion row to be slidable.\n    // This allows the user to drag the row to either side of the screen to\n    // reveal controls.\n    if ('ontouchstart' in window) {\n      const slidableInstance = slidable(this.element);\n\n      this.$('.DiscussionListItem-controls').on('hidden.bs.dropdown', () => slidableInstance.reset());\n    }\n  }\n\n  onbeforeupdate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onbeforeupdate(vnode);\n\n    return this.subtree.needsRebuild();\n  }\n\n  /**\n   * Determine whether or not the discussion is currently being viewed.\n   */\n  active() {\n    return app.current.matches(DiscussionPage, { discussion: this.attrs.discussion });\n  }\n\n  /**\n   * Determine whether or not information about who started the discussion\n   * should be displayed instead of information about the most recent reply to\n   * the discussion.\n   */\n  showFirstPost() {\n    return ['newest', 'oldest'].includes(this.attrs.params.sort ?? '');\n  }\n\n  /**\n   * Determine whether or not the number of replies should be shown instead of\n   * the number of unread posts.\n   *\n   * @return {boolean}\n   */\n  showRepliesCount() {\n    return this.attrs.params.sort === 'replies';\n  }\n\n  /**\n   * Mark the discussion as read.\n   */\n  markAsRead() {\n    const discussion = this.attrs.discussion;\n\n    if (discussion.isUnread()) {\n      discussion.save({ lastReadPostNumber: discussion.lastPostNumber() });\n      m.redraw();\n    }\n  }\n\n  /**\n   * Build an item list of info for a discussion listing. By default this is\n   * just the first/last post indicator.\n   */\n  infoItems(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    if (this.attrs.params.q) {\n      const post = this.attrs.discussion.mostRelevantPost() || this.attrs.discussion.firstPost();\n\n      if (post && post.contentType() === 'comment') {\n        const excerpt = highlight(post.contentPlain() ?? '', this.highlightRegExp, 175);\n        items.add('excerpt', excerpt, -100);\n      }\n    } else {\n      items.add('terminalPost', <TerminalPost discussion={this.attrs.discussion} lastPost={!this.showFirstPost()} />);\n    }\n\n    return items;\n  }\n\n  replyCountItem() {\n    const discussion = this.attrs.discussion;\n    const showUnread = !this.showRepliesCount() && discussion.isUnread();\n\n    if (showUnread) {\n      return (\n        <button className=\"Button--ua-reset DiscussionListItem-count\" onclick={this.markAsRead.bind(this)}>\n          <span aria-hidden=\"true\">{abbreviateNumber(discussion.unreadCount())}</span>\n\n          <span className=\"visually-hidden\">\n            {app.translator.trans('core.forum.discussion_list.unread_replies_a11y_label', { count: discussion.replyCount() })}\n          </span>\n        </button>\n      );\n    }\n\n    return (\n      <span className=\"DiscussionListItem-count\">\n        <span aria-hidden=\"true\">{abbreviateNumber(discussion.replyCount())}</span>\n\n        <span className=\"visually-hidden\">\n          {app.translator.trans('core.forum.discussion_list.total_replies_a11y_label', { count: discussion.replyCount() })}\n        </span>\n      </span>\n    );\n  }\n}\n","import type Mithril from 'mithril';\n\nimport app from '../../forum/app';\nimport Page, { IPageAttrs } from '../../common/components/Page';\nimport ItemList from '../../common/utils/ItemList';\nimport DiscussionHero from './DiscussionHero';\nimport DiscussionListPane from './DiscussionListPane';\nimport PostStream from './PostStream';\nimport PostStreamScrubber from './PostStreamScrubber';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport SplitDropdown from '../../common/components/SplitDropdown';\nimport listItems from '../../common/helpers/listItems';\nimport DiscussionControls from '../utils/DiscussionControls';\nimport PostStreamState from '../states/PostStreamState';\nimport Discussion from '../../common/models/Discussion';\nimport Post from '../../common/models/Post';\nimport { ApiResponseSingle } from '../../common/Store';\n\nexport interface IDiscussionPageAttrs extends IPageAttrs {\n  id: string;\n  near?: number;\n}\n\n/**\n * The `DiscussionPage` component displays a whole discussion page, including\n * the discussion list pane, the hero, the posts, and the sidebar.\n */\nexport default class DiscussionPage<CustomAttrs extends IDiscussionPageAttrs = IDiscussionPageAttrs> extends Page<CustomAttrs> {\n  /**\n   * The discussion that is being viewed.\n   */\n  protected discussion: Discussion | null = null;\n\n  /**\n   * A public API for interacting with the post stream.\n   */\n  protected stream: PostStreamState | null = null;\n\n  /**\n   * The number of the first post that is currently visible in the viewport.\n   */\n  protected near: number = 0;\n\n  protected useBrowserScrollRestoration = true;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.load();\n\n    // If the discussion list has been loaded, then we'll enable the pane (and\n    // hide it by default). Also, if we've just come from another discussion\n    // page, then we don't want Mithril to redraw the whole page  if it did,\n    // then the pane would redraw which would be slow and would cause problems with\n    // event handlers.\n    // We will also enable the pane if the discussion list is empty but loading,\n    // because the DiscussionComposer refreshes the list and redirects to the new discussion at the same time.\n    if (app.discussions.hasItems() || app.discussions.isLoading()) {\n      app.pane?.enable();\n      app.pane?.hide();\n    }\n\n    this.bodyClass = 'App--discussion';\n  }\n\n  onremove(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onremove(vnode);\n\n    // If we are indeed navigating away from this discussion, then disable the\n    // discussion list pane. Also, if we're composing a reply to this\n    // discussion, minimize the composer  unless it's empty, in which case\n    // we'll just close it.\n    app.pane?.disable();\n\n    if (this.discussion && app.composer.composingReplyTo(this.discussion) && !app.composer?.fields?.content()) {\n      app.composer.hide();\n    } else {\n      app.composer.minimize();\n    }\n  }\n\n  view() {\n    return (\n      <div className=\"DiscussionPage\">\n        <DiscussionListPane state={app.discussions} />\n        <div className=\"DiscussionPage-discussion\">{this.discussion ? this.pageContent().toArray() : this.loadingItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  /**\n   * List of components shown while the discussion is loading.\n   */\n  loadingItems(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('spinner', <LoadingIndicator />, 100);\n\n    return items;\n  }\n\n  /**\n   * Function that renders the `sidebarItems` ItemList.\n   */\n  sidebar(): Mithril.Children {\n    return (\n      <nav className=\"DiscussionPage-nav\">\n        <ul>{listItems(this.sidebarItems().toArray())}</ul>\n      </nav>\n    );\n  }\n\n  /**\n   * Renders the discussion's hero.\n   */\n  hero(): Mithril.Children {\n    return <DiscussionHero discussion={this.discussion} />;\n  }\n\n  /**\n   * List of items rendered as the main page content.\n   */\n  pageContent(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('hero', this.hero(), 100);\n    items.add('main', <div className=\"container\">{this.mainContent().toArray()}</div>, 10);\n\n    return items;\n  }\n\n  /**\n   * List of items rendered inside the main page content container.\n   */\n  mainContent(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('sidebar', this.sidebar(), 100);\n\n    items.add(\n      'poststream',\n      <div className=\"DiscussionPage-stream\">\n        <PostStream discussion={this.discussion} stream={this.stream} onPositionChange={this.positionChanged.bind(this)} />\n      </div>,\n      10\n    );\n\n    return items;\n  }\n\n  /**\n   * Load the discussion from the API or use the preloaded one.\n   */\n  load(): void {\n    const preloadedDiscussion = app.preloadedApiDocument<Discussion>();\n    if (preloadedDiscussion) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadedDiscussion), 0);\n    } else {\n      const params = this.requestParams();\n\n      app.store.find<Discussion>('discussions', m.route.param('id'), params).then(this.show.bind(this));\n    }\n\n    m.redraw();\n  }\n\n  /**\n   * Get the parameters that should be passed in the API request to get the\n   * discussion.\n   */\n  requestParams(): Record<string, unknown> {\n    return {\n      bySlug: true,\n      page: { near: this.near },\n    };\n  }\n\n  /**\n   * Initialize the component to display the given discussion.\n   */\n  show(discussion: ApiResponseSingle<Discussion>): void {\n    app.history.push('discussion', discussion.title());\n    app.setTitle(discussion.title());\n    app.setTitleCount(0);\n\n    // When the API responds with a discussion, it will also include a number of\n    // posts. Some of these posts are included because they are on the first\n    // page of posts we want to display (determined by the `near` parameter) \n    // others may be included because due to other relationships introduced by\n    // extensions. We need to distinguish the two so we don't end up displaying\n    // the wrong posts. We do so by filtering out the posts that don't have\n    // the 'discussion' relationship linked, then sorting and splicing.\n    let includedPosts: Post[] = [];\n    if (discussion.payload && discussion.payload.included) {\n      const discussionId = discussion.id();\n\n      includedPosts = discussion.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            !Array.isArray(record.relationships.discussion.data) &&\n            record.relationships.discussion.data.id === discussionId\n        )\n        // We can make this assertion because posts should be in the store,\n        // since they were in the discussion's payload.\n        .map((record) => app.store.getById<Post>('posts', record.id) as Post)\n        .sort((a: Post, b: Post) => a.number() - b.number())\n        .slice(0, 20);\n    }\n\n    // Set up the post stream for this discussion, along with the first page of\n    // posts we want to display. Tell the stream to scroll down and highlight\n    // the specific post that was routed to.\n    this.stream = new PostStreamState(discussion, includedPosts);\n    const rawNearParam = m.route.param('near');\n    const nearParam = rawNearParam === 'reply' ? 'reply' : parseInt(rawNearParam);\n    this.stream.goToNumber(nearParam || (includedPosts[0]?.number() ?? 0), true).then(() => {\n      this.discussion = discussion;\n\n      app.current.set('discussion', discussion);\n      app.current.set('stream', this.stream);\n    });\n  }\n\n  /**\n   * Build an item list for the contents of the sidebar.\n   */\n  sidebarItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    if (this.discussion) {\n      items.add(\n        'controls',\n        <SplitDropdown\n          icon=\"fas fa-ellipsis-v\"\n          className=\"App-primaryControl\"\n          buttonClassName=\"Button--primary\"\n          accessibleToggleLabel={app.translator.trans('core.forum.discussion_controls.toggle_dropdown_accessible_label')}\n        >\n          {DiscussionControls.controls(this.discussion, this).toArray()}\n        </SplitDropdown>,\n        100\n      );\n    }\n\n    items.add('scrubber', <PostStreamScrubber stream={this.stream} className=\"App-titleControl\" />, -100);\n\n    return items;\n  }\n\n  /**\n   * When the posts that are visible in the post stream change (i.e. the user\n   * scrolls up or down), then we update the URL and mark the posts as read.\n   */\n  positionChanged(startNumber: number, endNumber: number): void {\n    const discussion = this.discussion;\n\n    if (!discussion) return;\n\n    // Construct a URL to this discussion with the updated position, then\n    // replace it into the window's history and our own history stack.\n    const url = app.route.discussion(discussion, (this.near = startNumber));\n\n    window.history.replaceState(null, document.title, url);\n    app.history.push('discussion', discussion.title());\n\n    // If the user hasn't read past here before, then we'll update their read\n    // state and redraw.\n    if (app.session.user && endNumber > (discussion.lastReadPostNumber() || 0)) {\n      discussion.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","import type Discussion from '../../common/models/Discussion';\nimport app from '../../forum/app';\nimport Notification from './Notification';\n\ninterface DiscussionRenamedContent {\n  postNumber: number;\n}\n\n/**\n * The `DiscussionRenamedNotification` component displays a notification which\n * indicates that a discussion has had its title changed.\n */\nexport default class DiscussionRenamedNotification extends Notification {\n  icon() {\n    return 'fas fa-pencil-alt';\n  }\n\n  href() {\n    const notification = this.attrs.notification;\n    const discussion = notification.subject();\n\n    if (!discussion) {\n      return '#';\n    }\n\n    return app.route.discussion(discussion as Discussion, notification.content<DiscussionRenamedContent>().postNumber);\n  }\n\n  content() {\n    return app.translator.trans('core.forum.notifications.discussion_renamed_text', { user: this.attrs.notification.fromUser() });\n  }\n\n  excerpt() {\n    return null;\n  }\n}\n","import app from '../../forum/app';\nimport highlight from '../../common/helpers/highlight';\nimport LinkButton from '../../common/components/LinkButton';\nimport Link from '../../common/components/Link';\nimport { SearchSource } from './Search';\nimport type Mithril from 'mithril';\nimport Discussion from '../../common/models/Discussion';\n\n/**\n * The `DiscussionsSearchSource` finds and displays discussion search results in\n * the search dropdown.\n */\nexport default class DiscussionsSearchSource implements SearchSource {\n  protected results = new Map<string, Discussion[]>();\n\n  async search(query: string): Promise<void> {\n    query = query.toLowerCase();\n\n    this.results.set(query, []);\n\n    const params = {\n      filter: { q: query },\n      page: { limit: 3 },\n      include: 'mostRelevantPost',\n    };\n\n    return app.store.find<Discussion[]>('discussions', params).then((results) => {\n      this.results.set(query, results);\n      m.redraw();\n    });\n  }\n\n  view(query: string): Array<Mithril.Vnode> {\n    query = query.toLowerCase();\n\n    const results = (this.results.get(query) || []).map((discussion) => {\n      const mostRelevantPost = discussion.mostRelevantPost();\n\n      return (\n        <li className=\"DiscussionSearchResult\" data-index={'discussions' + discussion.id()}>\n          <Link href={app.route.discussion(discussion, (mostRelevantPost && mostRelevantPost.number()) || 0)}>\n            <div className=\"DiscussionSearchResult-title\">{highlight(discussion.title(), query)}</div>\n            {!!mostRelevantPost && (\n              <div className=\"DiscussionSearchResult-excerpt\">{highlight(mostRelevantPost.contentPlain() ?? '', query, 100)}</div>\n            )}\n          </Link>\n        </li>\n      );\n    }) as Array<Mithril.Vnode>;\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.discussions_heading')}</li>,\n      <li>\n        <LinkButton icon=\"fas fa-search\" href={app.route('index', { q: query })}>\n          {app.translator.trans('core.forum.search.all_discussions_button', { query })}\n        </LinkButton>\n      </li>,\n      ...results,\n    ];\n  }\n}\n","import UserPage, { IUserPageAttrs } from './UserPage';\nimport DiscussionList from './DiscussionList';\nimport DiscussionListState from '../states/DiscussionListState';\nimport type Mithril from 'mithril';\nimport type User from '../../common/models/User';\n\n/**\n * The `DiscussionsUserPage` component shows a discussion list inside of a user\n * page.\n */\nexport default class DiscussionsUserPage extends UserPage<IUserPageAttrs, DiscussionListState> {\n  oninit(vnode: Mithril.Vnode<IUserPageAttrs, this>) {\n    super.oninit(vnode);\n\n    this.loadUser(m.route.param('username'));\n  }\n\n  show(user: User): void {\n    super.show(user);\n\n    this.state = new DiscussionListState({\n      filter: { author: user.username() },\n      sort: 'newest',\n    });\n\n    this.state.refresh();\n  }\n\n  content() {\n    return (\n      <div className=\"DiscussionsUserPage\">\n        <DiscussionList state={this.state} />\n      </div>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport Button from '../../common/components/Button';\nimport extractText from '../../common/utils/extractText';\nimport Stream from '../../common/utils/Stream';\nimport Mithril from 'mithril';\nimport RequestError from '../../common/utils/RequestError';\nimport ItemList from '../../common/utils/ItemList';\n\nexport interface IForgotPasswordModalAttrs extends IInternalModalAttrs {\n  email?: string;\n}\n\n/**\n * The `ForgotPasswordModal` component displays a modal which allows the user to\n * enter their email address and request a link to reset their password.\n */\nexport default class ForgotPasswordModal<CustomAttrs extends IForgotPasswordModalAttrs = IForgotPasswordModalAttrs> extends Modal<CustomAttrs> {\n  /**\n   * The value of the email input.\n   */\n  email!: Stream<string>;\n\n  success: boolean = false;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.email = Stream(this.attrs.email || '');\n  }\n\n  className() {\n    return 'ForgotPasswordModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.forgot_password.title');\n  }\n\n  content() {\n    if (this.success) {\n      return (\n        <div className=\"Modal-body\">\n          <div className=\"Form Form--centered\">\n            <p className=\"helpText\">{app.translator.trans('core.forum.forgot_password.email_sent_message')}</p>\n            <div className=\"Form-group\">\n              <Button className=\"Button Button--primary Button--block\" onclick={this.hide.bind(this)}>\n                {app.translator.trans('core.forum.forgot_password.dismiss_button')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <p className=\"helpText\">{app.translator.trans('core.forum.forgot_password.text')}</p>\n          {this.fields().toArray()}\n        </div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    const emailLabel = extractText(app.translator.trans('core.forum.forgot_password.email_placeholder'));\n\n    items.add(\n      'email',\n      <div className=\"Form-group\">\n        <input\n          className=\"FormControl\"\n          name=\"email\"\n          type=\"email\"\n          placeholder={emailLabel}\n          aria-label={emailLabel}\n          bidi={this.email}\n          disabled={this.loading}\n        />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n          {app.translator.trans('core.forum.forgot_password.submit_button')}\n        </Button>\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/forgot',\n        body: this.requestParams(),\n        errorHandler: this.onerror.bind(this),\n      })\n      .then(() => {\n        this.success = true;\n        this.alertAttrs = null;\n      })\n      .catch(() => {})\n      .then(this.loaded.bind(this));\n  }\n\n  requestParams(): Record<string, unknown> {\n    const data = {\n      email: this.email(),\n    };\n\n    return data;\n  }\n\n  onerror(error: RequestError) {\n    if (error.status === 404 && error.alert) {\n      error.alert.content = app.translator.trans('core.forum.forgot_password.not_found_message');\n    }\n\n    super.onerror(error);\n  }\n}\n","import app from '../../forum/app';\nimport Page, { IPageAttrs } from '../../common/components/Page';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\nimport DiscussionList from './DiscussionList';\nimport WelcomeHero from './WelcomeHero';\nimport DiscussionComposer from './DiscussionComposer';\nimport LogInModal from './LogInModal';\nimport DiscussionPage from './DiscussionPage';\nimport Dropdown from '../../common/components/Dropdown';\nimport Button from '../../common/components/Button';\nimport LinkButton from '../../common/components/LinkButton';\nimport SelectDropdown from '../../common/components/SelectDropdown';\nimport extractText from '../../common/utils/extractText';\nimport type Mithril from 'mithril';\nimport type Discussion from '../../common/models/Discussion';\n\nexport interface IIndexPageAttrs extends IPageAttrs {}\n\n/**\n * The `IndexPage` component displays the index page, including the welcome\n * hero, the sidebar, and the discussion list.\n */\nexport default class IndexPage<CustomAttrs extends IIndexPageAttrs = IIndexPageAttrs, CustomState = {}> extends Page<CustomAttrs, CustomState> {\n  static providesInitialSearch = true;\n  lastDiscussion?: Discussion;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    // If the user is returning from a discussion page, then take note of which\n    // discussion they have just visited. After the view is rendered, we will\n    // scroll down so that this discussion is in view.\n    if (app.previous.matches(DiscussionPage)) {\n      this.lastDiscussion = app.previous.get('discussion');\n    }\n\n    // If the user is coming from the discussion list, then they have either\n    // just switched one of the parameters (filter, sort, search) or they\n    // probably want to refresh the results. We will clear the discussion list\n    // cache so that results are reloaded.\n    if (app.previous.matches(IndexPage)) {\n      app.discussions.clear();\n    }\n\n    app.discussions.refreshParams(app.search.params(), (m.route.param('page') && Number(m.route.param('page'))) || 1);\n\n    app.history.push('index', extractText(app.translator.trans('core.forum.header.back_to_index_tooltip')));\n\n    this.bodyClass = 'App--index';\n    this.scrollTopOnCreate = false;\n  }\n\n  view() {\n    return (\n      <div className=\"IndexPage\">\n        {this.hero()}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(this.sidebarItems().toArray())}</ul>\n            </nav>\n            <div className=\"IndexPage-results sideNavOffset\">\n              <div className=\"IndexPage-toolbar\">\n                <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\n                <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n              </div>\n              <DiscussionList state={app.discussions} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  setTitle() {\n    app.setTitle(extractText(app.translator.trans('core.forum.index.meta_title_text')));\n    app.setTitleCount(0);\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.oncreate(vnode);\n\n    this.setTitle();\n\n    // Work out the difference between the height of this hero and that of the\n    // previous hero. Maintain the same scroll position relative to the bottom\n    // of the hero so that the sidebar doesn't jump around.\n    const oldHeroHeight = app.cache.heroHeight as number;\n    const heroHeight = (app.cache.heroHeight = this.$('.Hero').outerHeight() || 0);\n    const scrollTop = app.cache.scrollTop as number;\n\n    $('#app').css('min-height', ($(window).height() || 0) + heroHeight);\n\n    // Let browser handle scrolling on page reload.\n    if (app.previous.type == null) return;\n\n    // Only retain scroll position if we're coming from a discussion page.\n    // Otherwise, we've just changed the filter, so we should go to the top of the page.\n    if (this.lastDiscussion) {\n      $(window).scrollTop(scrollTop - oldHeroHeight + heroHeight);\n    } else {\n      $(window).scrollTop(0);\n    }\n\n    // If we've just returned from a discussion page, then the constructor will\n    // have set the `lastDiscussion` property. If this is the case, we want to\n    // scroll down to that discussion so that it's in view.\n    if (this.lastDiscussion) {\n      const $discussion = this.$(`li[data-id=\"${this.lastDiscussion.id()}\"] .DiscussionListItem`);\n\n      if ($discussion.length) {\n        const indexTop = $('#header').outerHeight() || 0;\n        const indexBottom = $(window).height() || 0;\n        const discussionOffset = $discussion.offset();\n        const discussionTop = (discussionOffset && discussionOffset.top) || 0;\n        const discussionBottom = discussionTop + ($discussion.outerHeight() || 0);\n\n        if (discussionTop < scrollTop + indexTop || discussionBottom > scrollTop + indexBottom) {\n          $(window).scrollTop(discussionTop - indexTop);\n        }\n      }\n    }\n  }\n\n  onbeforeremove(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onbeforeremove(vnode);\n\n    // Save the scroll position so we can restore it when we return to the\n    // discussion list.\n    app.cache.scrollTop = $(window).scrollTop();\n  }\n\n  onremove(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onremove(vnode);\n\n    $('#app').css('min-height', '');\n  }\n\n  /**\n   * Get the component to display as the hero.\n   */\n  hero() {\n    return <WelcomeHero />;\n  }\n\n  /**\n   * Build an item list for the sidebar of the index page. By default this is a\n   * \"New Discussion\" button, and then a DropdownSelect component containing a\n   * list of navigation items.\n   */\n  sidebarItems() {\n    const items = new ItemList<Mithril.Children>();\n    const canStartDiscussion = app.forum.attribute('canStartDiscussion') || !app.session.user;\n\n    items.add(\n      'newDiscussion',\n      <Button\n        icon=\"fas fa-edit\"\n        className=\"Button Button--primary IndexPage-newDiscussion\"\n        itemClassName=\"App-primaryControl\"\n        onclick={() => {\n          // If the user is not logged in, the promise rejects, and a login modal shows up.\n          // Since that's already handled, we dont need to show an error message in the console.\n          return this.newDiscussionAction().catch(() => {});\n        }}\n        disabled={!canStartDiscussion}\n      >\n        {app.translator.trans(`core.forum.index.${canStartDiscussion ? 'start_discussion_button' : 'cannot_start_discussion_button'}`)}\n      </Button>\n    );\n\n    items.add(\n      'nav',\n      <SelectDropdown\n        buttonClassName=\"Button\"\n        className=\"App-titleControl\"\n        accessibleToggleLabel={app.translator.trans('core.forum.index.toggle_sidenav_dropdown_accessible_label')}\n      >\n        {this.navItems().toArray()}\n      </SelectDropdown>\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the navigation in the sidebar of the index page. By\n   * default this is just the 'All Discussions' link.\n   */\n  navItems() {\n    const items = new ItemList<Mithril.Children>();\n    const params = app.search.stickyParams();\n\n    items.add(\n      'allDiscussions',\n      <LinkButton href={app.route('index', params)} icon=\"far fa-comments\">\n        {app.translator.trans('core.forum.index.all_discussions_link')}\n      </LinkButton>,\n      100\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the part of the toolbar which is concerned with how\n   * the results are displayed. By default this is just a select box to change\n   * the way discussions are sorted.\n   */\n  viewItems() {\n    const items = new ItemList<Mithril.Children>();\n    const sortMap = app.discussions.sortMap();\n\n    const sortOptions = Object.keys(sortMap).reduce((acc: any, sortId) => {\n      acc[sortId] = app.translator.trans(`core.forum.index_sort.${sortId}_button`);\n      return acc;\n    }, {});\n\n    items.add(\n      'sort',\n      <Dropdown\n        buttonClassName=\"Button\"\n        label={sortOptions[app.search.params().sort] || Object.keys(sortMap).map((key) => sortOptions[key])[0]}\n        accessibleToggleLabel={app.translator.trans('core.forum.index_sort.toggle_dropdown_accessible_label')}\n      >\n        {Object.keys(sortOptions).map((value) => {\n          const label = sortOptions[value];\n          const active = (app.search.params().sort || Object.keys(sortMap)[0]) === value;\n\n          return (\n            <Button icon={active ? 'fas fa-check' : true} onclick={app.search.changeSort.bind(app.search, value)} active={active}>\n              {label}\n            </Button>\n          );\n        })}\n      </Dropdown>\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the part of the toolbar which is about taking action\n   * on the results. By default this is just a \"mark all as read\" button.\n   */\n  actionItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'refresh',\n      <Button\n        title={app.translator.trans('core.forum.index.refresh_tooltip')}\n        icon=\"fas fa-sync\"\n        className=\"Button Button--icon\"\n        onclick={() => {\n          app.discussions.refresh();\n          if (app.session.user) {\n            app.store.find('users', app.session.user.id()!);\n            m.redraw();\n          }\n        }}\n      />\n    );\n\n    if (app.session.user) {\n      items.add(\n        'markAllAsRead',\n        <Button\n          title={app.translator.trans('core.forum.index.mark_all_as_read_tooltip')}\n          icon=\"fas fa-check\"\n          className=\"Button Button--icon\"\n          onclick={this.markAllAsRead.bind(this)}\n        />\n      );\n    }\n\n    return items;\n  }\n\n  /**\n   * Open the composer for a new discussion or prompt the user to login.\n   */\n  newDiscussionAction(): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      if (app.session.user) {\n        app.composer.load(DiscussionComposer, { user: app.session.user });\n        app.composer.show();\n\n        return resolve(app.composer);\n      } else {\n        app.modal.show(LogInModal);\n\n        return reject();\n      }\n    });\n  }\n\n  /**\n   * Mark all discussions as read.\n   */\n  markAllAsRead() {\n    const confirmation = confirm(extractText(app.translator.trans('core.forum.index.mark_all_as_read_confirmation')));\n\n    if (confirmation) {\n      app.session.user?.save({ markedAllAsReadAt: new Date() });\n    }\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport ForgotPasswordModal from './ForgotPasswordModal';\nimport SignUpModal from './SignUpModal';\nimport Button from '../../common/components/Button';\nimport LogInButtons from './LogInButtons';\nimport extractText from '../../common/utils/extractText';\nimport ItemList from '../../common/utils/ItemList';\nimport Stream from '../../common/utils/Stream';\nimport type Mithril from 'mithril';\nimport RequestError from '../../common/utils/RequestError';\nimport type { LoginParams } from '../../common/Session';\n\nexport interface ILoginModalAttrs extends IInternalModalAttrs {\n  identification?: string;\n  password?: string;\n  remember?: boolean;\n}\n\nexport default class LogInModal<CustomAttrs extends ILoginModalAttrs = ILoginModalAttrs> extends Modal<CustomAttrs> {\n  /**\n   * The value of the identification input.\n   */\n  identification!: Stream<string>;\n  /**\n   * The value of the password input.\n   */\n  password!: Stream<string>;\n  /**\n   * The value of the remember me input.\n   */\n  remember!: Stream<boolean>;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.identification = Stream(this.attrs.identification || '');\n    this.password = Stream(this.attrs.password || '');\n    this.remember = Stream(!!this.attrs.remember);\n  }\n\n  className() {\n    return 'LogInModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.log_in.title');\n  }\n\n  content() {\n    return [<div className=\"Modal-body\">{this.body()}</div>, <div className=\"Modal-footer\">{this.footer()}</div>];\n  }\n\n  body() {\n    return [<LogInButtons />, <div className=\"Form Form--centered\">{this.fields().toArray()}</div>];\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    const identificationLabel = extractText(app.translator.trans('core.forum.log_in.username_or_email_placeholder'));\n    const passwordLabel = extractText(app.translator.trans('core.forum.log_in.password_placeholder'));\n\n    items.add(\n      'identification',\n      <div className=\"Form-group\">\n        <input\n          className=\"FormControl\"\n          name=\"identification\"\n          type=\"text\"\n          placeholder={identificationLabel}\n          aria-label={identificationLabel}\n          bidi={this.identification}\n          disabled={this.loading}\n        />\n      </div>,\n      30\n    );\n\n    items.add(\n      'password',\n      <div className=\"Form-group\">\n        <input\n          className=\"FormControl\"\n          name=\"password\"\n          type=\"password\"\n          autocomplete=\"current-password\"\n          placeholder={passwordLabel}\n          aria-label={passwordLabel}\n          bidi={this.password}\n          disabled={this.loading}\n        />\n      </div>,\n      20\n    );\n\n    items.add(\n      'remember',\n      <div className=\"Form-group\">\n        <div>\n          <label className=\"checkbox\">\n            <input type=\"checkbox\" bidi={this.remember} disabled={this.loading} />\n            {app.translator.trans('core.forum.log_in.remember_me_label')}\n          </label>\n        </div>\n      </div>,\n      10\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n          {app.translator.trans('core.forum.log_in.submit_button')}\n        </Button>\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  footer() {\n    return (\n      <>\n        <p className=\"LogInModal-forgotPassword\">\n          <a onclick={this.forgotPassword.bind(this)}>{app.translator.trans('core.forum.log_in.forgot_password_link')}</a>\n        </p>\n        {app.forum.attribute<boolean>('allowSignUp') && (\n          <p className=\"LogInModal-signUp\">{app.translator.trans('core.forum.log_in.sign_up_text', { a: <a onclick={this.signUp.bind(this)} /> })}</p>\n        )}\n      </>\n    );\n  }\n\n  /**\n   * Open the forgot password modal, prefilling it with an email if the user has\n   * entered one.\n   */\n  forgotPassword() {\n    const email = this.identification();\n    const attrs = email.includes('@') ? { email } : undefined;\n\n    app.modal.show(ForgotPasswordModal, attrs);\n  }\n\n  /**\n   * Open the sign up modal, prefilling it with an email/username/password if\n   * the user has entered one.\n   */\n  signUp() {\n    const identification = this.identification();\n\n    const attrs = {\n      [identification.includes('@') ? 'email' : 'username']: identification,\n    };\n\n    app.modal.show(SignUpModal, attrs);\n  }\n\n  onready() {\n    this.$('[name=' + (this.identification() ? 'password' : 'identification') + ']').trigger('select');\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    app.session.login(this.loginParams(), { errorHandler: this.onerror.bind(this) }).then(() => window.location.reload(), this.loaded.bind(this));\n  }\n\n  loginParams(): LoginParams {\n    const data = {\n      identification: this.identification(),\n      password: this.password(),\n      remember: this.remember(),\n    };\n\n    return data;\n  }\n\n  onerror(error: RequestError) {\n    if (error.status === 401 && error.alert) {\n      error.alert.content = app.translator.trans('core.forum.log_in.invalid_login_message');\n      this.password('');\n    }\n\n    super.onerror(error);\n  }\n}\n","import app from '../app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport Button from '../../common/components/Button';\nimport Stream from '../../common/utils/Stream';\nimport type AccessToken from '../../common/models/AccessToken';\nimport type { SaveAttributes } from '../../common/Model';\nimport type Mithril from 'mithril';\n\nexport interface INewAccessTokenModalAttrs extends IInternalModalAttrs {\n  onsuccess: (token: AccessToken) => void;\n}\n\nexport default class NewAccessTokenModal<CustomAttrs extends INewAccessTokenModalAttrs = INewAccessTokenModalAttrs> extends Modal<CustomAttrs> {\n  protected titleInput = Stream('');\n\n  className(): string {\n    return 'Modal--small NewAccessTokenModal';\n  }\n\n  title(): Mithril.Children {\n    return app.translator.trans('core.forum.security.new_access_token_modal.title');\n  }\n\n  content(): Mithril.Children {\n    const titleLabel = app.translator.trans('core.forum.security.new_access_token_modal.title_placeholder');\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            <input type=\"text\" className=\"FormControl\" bidi={this.titleInput} placeholder={titleLabel} aria-label={titleLabel} />\n          </div>\n          <div className=\"Form-group\">\n            <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n              {app.translator.trans('core.forum.security.new_access_token_modal.submit_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  submitData(): SaveAttributes {\n    return {\n      title: this.titleInput(),\n    };\n  }\n\n  onsubmit(e: SubmitEvent) {\n    super.onsubmit(e);\n    e.preventDefault();\n\n    this.loading = true;\n\n    app.store\n      .createRecord<AccessToken>('access-tokens')\n      .save(this.submitData())\n      .then((token) => {\n        this.attrs.onsuccess(token);\n        app.modal.close();\n      })\n      .finally(this.loaded.bind(this));\n  }\n}\n","import app from '../../forum/app';\nimport type NotificationModel from '../../common/models/Notification';\nimport Component, { ComponentAttrs } from '../../common/Component';\nimport avatar from '../../common/helpers/avatar';\nimport icon from '../../common/helpers/icon';\nimport humanTime from '../../common/helpers/humanTime';\nimport Button from '../../common/components/Button';\nimport Link from '../../common/components/Link';\nimport classList from '../../common/utils/classList';\nimport type Mithril from 'mithril';\n\nexport interface INotificationAttrs extends ComponentAttrs {\n  notification: NotificationModel;\n}\n\n// TODO [Flarum 2.0]: Remove `?.` from abstract function calls.\n\n/**\n * The `Notification` component abstract displays a single notification.\n * Subclasses should implement the `icon`, `href`, and `content` methods.\n */\nexport default abstract class Notification<CustomAttrs extends INotificationAttrs = INotificationAttrs> extends Component<CustomAttrs> {\n  view(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    const notification = this.attrs.notification;\n    const href = this.href?.() ?? '';\n\n    const fromUser = notification.fromUser();\n\n    return (\n      <Link\n        className={classList('Notification', `Notification--${notification.contentType()}`, [!notification.isRead() && 'unread'])}\n        href={href}\n        external={href.includes('://')}\n        onclick={this.markAsRead.bind(this)}\n      >\n        {avatar(fromUser || null)}\n        {icon(this.icon?.(), { className: 'Notification-icon' })}\n        <span className=\"Notification-title\">\n          <span className=\"Notification-content\">{this.content?.()}</span>\n          <span className=\"Notification-title-spring\" />\n          {humanTime(notification.createdAt())}\n        </span>\n        {!notification.isRead() && (\n          <Button\n            className=\"Notification-action Button Button--link\"\n            icon=\"fas fa-check\"\n            title={app.translator.trans('core.forum.notifications.mark_as_read_tooltip')}\n            onclick={(e: Event) => {\n              e.preventDefault();\n              e.stopPropagation();\n\n              this.markAsRead();\n            }}\n          />\n        )}\n        <div className=\"Notification-excerpt\">{this.excerpt?.()}</div>\n      </Link>\n    );\n  }\n\n  /**\n   * Get the name of the icon that should be displayed in the notification.\n   */\n  abstract icon(): string;\n\n  /**\n   * Get the URL that the notification should link to.\n   */\n  abstract href(): string;\n\n  /**\n   * Get the content of the notification.\n   */\n  abstract content(): Mithril.Children;\n\n  /**\n   * Get the excerpt of the notification.\n   */\n  abstract excerpt(): Mithril.Children;\n\n  /**\n   * Mark the notification as read.\n   */\n  markAsRead() {\n    if (this.attrs.notification.isRead()) return;\n\n    app.session.user?.pushAttributes({ unreadNotificationCount: (app.session.user.unreadNotificationCount() ?? 1) - 1 });\n\n    this.attrs.notification.save({ isRead: true });\n  }\n}\n","import app from '../../forum/app';\nimport Dropdown, { IDropdownAttrs } from '../../common/components/Dropdown';\nimport icon from '../../common/helpers/icon';\nimport classList from '../../common/utils/classList';\nimport NotificationList from './NotificationList';\nimport extractText from '../../common/utils/extractText';\nimport type Mithril from 'mithril';\n\nexport interface INotificationsDropdown extends IDropdownAttrs {}\n\nexport default class NotificationsDropdown<CustomAttrs extends IDropdownAttrs = IDropdownAttrs> extends Dropdown<CustomAttrs> {\n  static initAttrs(attrs: INotificationsDropdown) {\n    attrs.className ||= 'NotificationsDropdown';\n    attrs.buttonClassName ||= 'Button Button--flat';\n    attrs.menuClassName ||= 'Dropdown-menu--right';\n    attrs.label ||= extractText(app.translator.trans('core.forum.notifications.tooltip'));\n    attrs.icon ||= 'fas fa-bell';\n\n    // For best a11y support, both `title` and `aria-label` should be used\n    attrs.accessibleToggleLabel ||= extractText(app.translator.trans('core.forum.notifications.toggle_dropdown_accessible_label'));\n\n    super.initAttrs(attrs);\n  }\n\n  getButton(children: Mithril.ChildArray): Mithril.Vnode<any, any> {\n    const newNotifications = this.getNewCount();\n\n    const vdom = super.getButton(children);\n\n    vdom.attrs.title = this.attrs.label;\n\n    vdom.attrs.className = classList(vdom.attrs.className, [newNotifications && 'new']);\n    vdom.attrs.onclick = this.onclick.bind(this);\n\n    return vdom;\n  }\n\n  getButtonContent(): Mithril.ChildArray {\n    const unread = this.getUnreadCount();\n\n    return [\n      this.attrs.icon ? icon(this.attrs.icon, { className: 'Button-icon' }) : null,\n      unread !== 0 && <span className=\"NotificationsDropdown-unread\">{unread}</span>,\n      <span className=\"Button-label\">{this.attrs.label}</span>,\n    ];\n  }\n\n  getMenu() {\n    return (\n      <div className={classList('Dropdown-menu', this.attrs.menuClassName)} onclick={this.menuClick.bind(this)}>\n        {this.showing && <NotificationList state={this.attrs.state} />}\n      </div>\n    );\n  }\n\n  onclick() {\n    if (app.drawer.isOpen()) {\n      this.goToRoute();\n    } else {\n      this.attrs.state.load();\n    }\n  }\n\n  goToRoute() {\n    m.route.set(app.route('notifications'));\n  }\n\n  getUnreadCount() {\n    return app.session.user!.unreadNotificationCount();\n  }\n\n  getNewCount() {\n    return app.session.user!.newNotificationCount();\n  }\n\n  menuClick(e: MouseEvent) {\n    // Don't close the notifications dropdown if the user is opening a link in a\n    // new tab or window.\n    if (e.shiftKey || e.metaKey || e.ctrlKey || e.button === 1) e.stopPropagation();\n  }\n}\n","import app from '../../forum/app';\nimport Page, { IPageAttrs } from '../../common/components/Page';\nimport NotificationList from './NotificationList';\nimport type Mithril from 'mithril';\nimport extractText from '../../common/utils/extractText';\n\n/**\n * The `NotificationsPage` component shows the notifications list. It is only\n * used on mobile devices where the notifications dropdown is within the drawer.\n */\nexport default class NotificationsPage<CustomAttrs extends IPageAttrs = IPageAttrs> extends Page<CustomAttrs> {\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    app.history.push('notifications', extractText(app.translator.trans('core.forum.notifications.title')));\n\n    app.notifications.load();\n\n    this.bodyClass = 'App--notifications';\n  }\n\n  view() {\n    return (\n      <div className=\"NotificationsPage\">\n        <NotificationList state={app.notifications}></NotificationList>\n      </div>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport Component, { ComponentAttrs } from '../../common/Component';\nimport SubtreeRetainer from '../../common/utils/SubtreeRetainer';\nimport Dropdown from '../../common/components/Dropdown';\nimport PostControls from '../utils/PostControls';\nimport listItems from '../../common/helpers/listItems';\nimport ItemList from '../../common/utils/ItemList';\nimport type PostModel from '../../common/models/Post';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport type Mithril from 'mithril';\n\nexport interface IPostAttrs extends ComponentAttrs {\n  post: PostModel;\n}\n\n/**\n * The `Post` component displays a single post. The basic post template just\n * includes a controls dropdown; subclasses must implement `content` and `attrs`\n * methods.\n */\nexport default abstract class Post<CustomAttrs extends IPostAttrs = IPostAttrs> extends Component<CustomAttrs> {\n  /**\n   * May be set by subclasses.\n   */\n  loading = false;\n\n  /**\n   * Ensures that the post will not be redrawn\n   * unless new data comes in.\n   */\n  subtree!: SubtreeRetainer;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.loading = false;\n\n    this.subtree = new SubtreeRetainer(\n      () => this.loading,\n      () => this.attrs.post.freshness,\n      () => {\n        const user = this.attrs.post.user();\n        return user && user.freshness;\n      }\n    );\n  }\n\n  view(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    const attrs = this.elementAttrs();\n\n    attrs.className = this.classes(attrs.className as string | undefined).join(' ');\n\n    const controls = PostControls.controls(this.attrs.post, this).toArray();\n    const footerItems = this.footerItems().toArray();\n\n    return (\n      <article {...attrs}>\n        <div>\n          {this.loading ? <LoadingIndicator /> : this.content()}\n          <aside className=\"Post-actions\">\n            <ul>\n              {listItems(this.actionItems().toArray())}\n              {!!controls.length && (\n                <li>\n                  <Dropdown\n                    className=\"Post-controls\"\n                    buttonClassName=\"Button Button--icon Button--flat\"\n                    menuClassName=\"Dropdown-menu--right\"\n                    icon=\"fas fa-ellipsis-h\"\n                    onshow={() => this.$('.Post-controls').addClass('open')}\n                    onhide={() => this.$('.Post-controls').removeClass('open')}\n                    accessibleToggleLabel={app.translator.trans('core.forum.post_controls.toggle_dropdown_accessible_label')}\n                  >\n                    {controls}\n                  </Dropdown>\n                </li>\n              )}\n            </ul>\n          </aside>\n          <footer className=\"Post-footer\">{footerItems.length ? <ul>{listItems(footerItems)}</ul> : null}</footer>\n        </div>\n      </article>\n    );\n  }\n\n  onbeforeupdate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onbeforeupdate(vnode);\n\n    return this.subtree.needsRebuild();\n  }\n\n  onupdate(vnode: Mithril.VnodeDOM<CustomAttrs, this>) {\n    super.onupdate(vnode);\n\n    const $actions = this.$('.Post-actions');\n    const $controls = this.$('.Post-controls');\n\n    $actions.toggleClass('openWithin', $controls.hasClass('open'));\n  }\n\n  /**\n   * Get attributes for the post element.\n   */\n  elementAttrs(): Record<string, unknown> {\n    return {};\n  }\n\n  /**\n   * Get the post's content.\n   */\n  content(): Mithril.Children {\n    // TODO: [Flarum 2.0] return `null`\n    return [];\n  }\n\n  /**\n   * Get the post's classes.\n   */\n  classes(existing?: string): string[] {\n    let classes = (existing || '').split(' ').concat(['Post']);\n\n    const user = this.attrs.post.user();\n    const discussion = this.attrs.post.discussion();\n\n    if (this.loading) {\n      classes.push('Post--loading');\n    }\n\n    if (user && user === app.session.user) {\n      classes.push('Post--by-actor');\n    }\n\n    if (user && user === discussion.user()) {\n      classes.push('Post--by-start-user');\n    }\n\n    return classes;\n  }\n\n  /**\n   * Build an item list for the post's actions.\n   */\n  actionItems(): ItemList<Mithril.Children> {\n    return new ItemList();\n  }\n\n  /**\n   * Build an item list for the post's footer.\n   */\n  footerItems(): ItemList<Mithril.Children> {\n    return new ItemList();\n  }\n}\n","import app from '../../forum/app';\nimport UserPage, { IUserPageAttrs } from './UserPage';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport Button from '../../common/components/Button';\nimport Link from '../../common/components/Link';\nimport Placeholder from '../../common/components/Placeholder';\nimport CommentPost from './CommentPost';\nimport type Post from '../../common/models/Post';\nimport type Mithril from 'mithril';\nimport type User from '../../common/models/User';\n\n/**\n * The `PostsUserPage` component shows a user's activity feed inside of their\n * profile.\n */\nexport default class PostsUserPage extends UserPage {\n  /**\n   * Whether or not the activity feed is currently loading.\n   */\n  loading: boolean = true;\n\n  /**\n   * Whether or not there are any more activity items that can be loaded.\n   */\n  moreResults: boolean = false;\n\n  /**\n   * The Post models in the feed.\n   */\n  posts: Post[] = [];\n\n  /**\n   * The number of activity items to load per request.\n   */\n  loadLimit: number = 20;\n\n  oninit(vnode: Mithril.Vnode<IUserPageAttrs, this>) {\n    super.oninit(vnode);\n\n    this.loadUser(m.route.param('username'));\n  }\n\n  content() {\n    if (this.posts.length === 0 && !this.loading) {\n      return (\n        <div className=\"PostsUserPage\">\n          <Placeholder text={app.translator.trans('core.forum.user.posts_empty_text')} />\n        </div>\n      );\n    }\n\n    let footer;\n\n    if (this.loading) {\n      footer = <LoadingIndicator />;\n    } else if (this.moreResults) {\n      footer = (\n        <div className=\"PostsUserPage-loadMore\">\n          <Button className=\"Button\" onclick={this.loadMore.bind(this)}>\n            {app.translator.trans('core.forum.user.posts_load_more_button')}\n          </Button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"PostsUserPage\">\n        <ul className=\"PostsUserPage-list\">\n          {this.posts.map((post) => (\n            <li>\n              <div className=\"PostsUserPage-discussion\">\n                {app.translator.trans('core.forum.user.in_discussion_text', {\n                  discussion: <Link href={app.route.post(post)}>{post.discussion().title()}</Link>,\n                })}\n              </div>\n\n              <CommentPost post={post} />\n            </li>\n          ))}\n        </ul>\n        <div className=\"PostsUserPage-loadMore\">{footer}</div>\n      </div>\n    );\n  }\n\n  /**\n   * Initialize the component with a user, and trigger the loading of their\n   * activity feed.\n   */\n  show(user: User): void {\n    super.show(user);\n\n    this.refresh();\n  }\n\n  /**\n   * Clear and reload the user's activity feed.\n   */\n  refresh() {\n    this.loading = true;\n    this.posts = [];\n\n    m.redraw();\n\n    this.loadResults().then(this.parseResults.bind(this));\n  }\n\n  /**\n   * Load a new page of the user's activity feed.\n   *\n   * @protected\n   */\n  loadResults(offset = 0) {\n    return app.store.find<Post[]>('posts', {\n      filter: {\n        author: this.user!.username(),\n        type: 'comment',\n      },\n      page: { offset, limit: this.loadLimit },\n      sort: '-createdAt',\n    });\n  }\n\n  /**\n   * Load the next page of results.\n   */\n  loadMore() {\n    this.loading = true;\n    this.loadResults(this.posts.length).then(this.parseResults.bind(this));\n  }\n\n  /**\n   * Parse results and append them to the activity feed.\n   */\n  parseResults(results: Post[]): Post[] {\n    this.loading = false;\n\n    this.posts.push(...results);\n\n    this.moreResults = results.length >= this.loadLimit;\n    m.redraw();\n\n    return results;\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport Button from '../../common/components/Button';\nimport Stream from '../../common/utils/Stream';\nimport Mithril from 'mithril';\nimport Discussion from '../../common/models/Discussion';\n\nexport interface IRenameDiscussionModalAttrs extends IInternalModalAttrs {\n  discussion: Discussion;\n  currentTitle: string;\n}\n\n/**\n * The 'RenameDiscussionModal' displays a modal dialog with an input to rename a discussion\n */\nexport default class RenameDiscussionModal<CustomAttrs extends IRenameDiscussionModalAttrs = IRenameDiscussionModalAttrs> extends Modal<CustomAttrs> {\n  discussion!: Discussion;\n  currentTitle!: string;\n  newTitle!: Stream<string>;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.discussion = this.attrs.discussion;\n    this.currentTitle = this.attrs.currentTitle;\n    this.newTitle = Stream(this.currentTitle);\n  }\n\n  className() {\n    return 'RenameDiscussionModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.rename_discussion.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            <input className=\"FormControl\" bidi={this.newTitle} type=\"text\" />\n          </div>\n          <div className=\"Form-group\">\n            <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n              {app.translator.trans('core.forum.rename_discussion.submit_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e: SubmitEvent): Promise<void> | void {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const title = this.newTitle();\n    const currentTitle = this.currentTitle;\n\n    // If the title is different to what it was before, then save it. After the\n    // save has completed, update the post stream as there will be a new post\n    // indicating that the discussion was renamed.\n    if (title && title !== currentTitle) {\n      return this.discussion\n        .save({ title })\n        .then(() => {\n          if (app.viewingDiscussion(this.discussion)) {\n            app.current.get('stream').update();\n          }\n          m.redraw();\n          this.hide();\n        })\n        .catch(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    } else {\n      this.hide();\n    }\n  }\n}\n","import app from '../../forum/app';\nimport Component, { ComponentAttrs } from '../../common/Component';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport ItemList from '../../common/utils/ItemList';\nimport classList from '../../common/utils/classList';\nimport extractText from '../../common/utils/extractText';\nimport KeyboardNavigatable from '../../common/utils/KeyboardNavigatable';\nimport icon from '../../common/helpers/icon';\nimport SearchState from '../states/SearchState';\nimport DiscussionsSearchSource from './DiscussionsSearchSource';\nimport UsersSearchSource from './UsersSearchSource';\nimport { fireDeprecationWarning } from '../../common/helpers/fireDebugWarning';\nimport type Mithril from 'mithril';\n\n/**\n * The `SearchSource` interface defines a section of search results in the\n * search dropdown.\n *\n * Search sources should be registered with the `Search` component class\n * by extending the `sourceItems` method. When the user types a\n * query, each search source will be prompted to load search results via the\n * `search` method. When the dropdown is redrawn, it will be constructed by\n * putting together the output from the `view` method of each source.\n */\nexport interface SearchSource {\n  /**\n   * Make a request to get results for the given query.\n   * The results will be updated internally in the search source, not exposed.\n   */\n  search(query: string): Promise<void>;\n\n  /**\n   * Get an array of virtual <li>s that list the search results for the given\n   * query.\n   */\n  view(query: string): Array<Mithril.Vnode>;\n}\n\nexport interface SearchAttrs extends ComponentAttrs {\n  /** The type of alert this is. Will be used to give the alert a class name of `Alert--{type}`. */\n  state: SearchState;\n}\n\n/**\n * The `Search` component displays a menu of as-you-type results from a variety\n * of sources.\n *\n * The search box will be 'activated' if the app's search state's\n * getInitialSearch() value is a truthy value. If this is the case, an 'x'\n * button will be shown next to the search field, and clicking it will clear the search.\n *\n * ATTRS:\n *\n * - state: SearchState instance.\n */\nexport default class Search<T extends SearchAttrs = SearchAttrs> extends Component<T, SearchState> {\n  /**\n   * The minimum query length before sources are searched.\n   */\n  protected static MIN_SEARCH_LEN = 3;\n\n  /**\n   * The instance of `SearchState` for this component.\n   */\n  protected searchState!: SearchState;\n\n  /**\n   * The instance of `SearchState` for this component.\n   *\n   * @deprecated Replace with`this.searchState` instead.\n   */\n  // TODO: [Flarum 2.0] Remove this.\n  // @ts-expect-error This is a get accessor, while superclass defines this as a property. This is needed to prevent breaking changes, however.\n  get state() {\n    fireDeprecationWarning('`state` property of the Search component is deprecated', '3212');\n    return this.searchState;\n  }\n  set state(state: SearchState) {\n    // Workaround to prevent triggering deprecation warnings due to Mithril\n    // setting state to undefined when creating components\n    state !== undefined && fireDeprecationWarning('`state` property of the Search component is deprecated', '3212');\n    this.searchState = state;\n  }\n\n  /**\n   * Whether or not the search input has focus.\n   */\n  protected hasFocus = false;\n\n  /**\n   * An array of SearchSources.\n   */\n  protected sources?: SearchSource[];\n\n  /**\n   * The number of sources that are still loading results.\n   */\n  protected loadingSources = 0;\n\n  /**\n   * The index of the currently-selected <li> in the results list. This can be\n   * a unique string (to account for the fact that an item's position may jump\n   * around as new results load), but otherwise it will be numeric (the\n   * sequential position within the list).\n   */\n  protected index: number = 0;\n\n  protected navigator!: KeyboardNavigatable;\n\n  protected searchTimeout?: number;\n\n  private updateMaxHeightHandler?: () => void;\n\n  oninit(vnode: Mithril.Vnode<T, this>) {\n    super.oninit(vnode);\n\n    this.searchState = this.attrs.state;\n  }\n\n  view() {\n    const currentSearch = this.searchState.getInitialSearch();\n\n    // Initialize search sources in the view rather than the constructor so\n    // that we have access to app.forum.\n    if (!this.sources) this.sources = this.sourceItems().toArray();\n\n    // Hide the search view if no sources were loaded\n    if (!this.sources.length) return <div></div>;\n\n    const searchLabel = extractText(app.translator.trans('core.forum.header.search_placeholder'));\n\n    const isActive = !!currentSearch;\n    const shouldShowResults = !!(this.searchState.getValue() && this.hasFocus);\n    const shouldShowClearButton = !!(!this.loadingSources && this.searchState.getValue());\n\n    return (\n      <div\n        role=\"search\"\n        aria-label={app.translator.trans('core.forum.header.search_role_label')}\n        className={classList('Search', {\n          open: this.searchState.getValue() && this.hasFocus,\n          focused: this.hasFocus,\n          active: isActive,\n          loading: !!this.loadingSources,\n        })}\n      >\n        <div className=\"Search-input\">\n          <input\n            aria-label={searchLabel}\n            className=\"FormControl\"\n            type=\"search\"\n            placeholder={searchLabel}\n            value={this.searchState.getValue()}\n            oninput={(e: InputEvent) => this.searchState.setValue((e?.target as HTMLInputElement)?.value)}\n            onfocus={() => (this.hasFocus = true)}\n            onblur={() => (this.hasFocus = false)}\n          />\n          {!!this.loadingSources && <LoadingIndicator size=\"small\" display=\"inline\" containerClassName=\"Button Button--icon Button--link\" />}\n          {shouldShowClearButton && (\n            <button\n              className=\"Search-clear Button Button--icon Button--link\"\n              onclick={this.clear.bind(this)}\n              aria-label={app.translator.trans('core.forum.header.search_clear_button_accessible_label')}\n              type=\"button\"\n            >\n              {icon('fas fa-times-circle')}\n            </button>\n          )}\n        </div>\n        <ul\n          className=\"Dropdown-menu Search-results\"\n          aria-hidden={!shouldShowResults || undefined}\n          aria-live={shouldShowResults ? 'polite' : undefined}\n        >\n          {shouldShowResults && this.sources.map((source) => source.view(this.searchState.getValue()))}\n        </ul>\n      </div>\n    );\n  }\n\n  updateMaxHeight() {\n    // Since extensions might add elements above the search box on mobile,\n    // we need to calculate and set the max height dynamically.\n    const resultsElementMargin = 14;\n    const maxHeight =\n      window.innerHeight - this.element.querySelector('.Search-input>.FormControl')!.getBoundingClientRect().bottom - resultsElementMargin;\n\n    this.element.querySelector<HTMLElement>('.Search-results')?.style?.setProperty('max-height', `${maxHeight}px`);\n  }\n\n  onupdate(vnode: Mithril.VnodeDOM<T, this>) {\n    super.onupdate(vnode);\n\n    // Highlight the item that is currently selected.\n    this.setIndex(this.getCurrentNumericIndex());\n\n    // If there are no sources, the search view is not shown.\n    if (!this.sources?.length) return;\n\n    this.updateMaxHeight();\n  }\n\n  oncreate(vnode: Mithril.VnodeDOM<T, this>) {\n    super.oncreate(vnode);\n\n    // If there are no sources, we shouldn't initialize logic for\n    // search elements, as they will not be shown.\n    if (!this.sources?.length) return;\n\n    const search = this;\n    const state = this.searchState;\n\n    // Highlight the item that is currently selected.\n    this.setIndex(this.getCurrentNumericIndex());\n\n    this.$('.Search-results')\n      .on('mousedown', (e) => e.preventDefault())\n      .on('click', () => this.$('input').trigger('blur'))\n\n      // Whenever the mouse is hovered over a search result, highlight it.\n      .on('mouseenter', '> li:not(.Dropdown-header)', function () {\n        search.setIndex(search.selectableItems().index(this));\n      });\n\n    const $input = this.$('input') as JQuery<HTMLInputElement>;\n\n    this.navigator = new KeyboardNavigatable();\n    this.navigator\n      .onUp(() => this.setIndex(this.getCurrentNumericIndex() - 1, true))\n      .onDown(() => this.setIndex(this.getCurrentNumericIndex() + 1, true))\n      .onSelect(this.selectResult.bind(this), true)\n      .onCancel(this.clear.bind(this))\n      .bindTo($input);\n\n    // Handle input key events on the search input, triggering results to load.\n    $input\n      .on('input focus', function () {\n        const query = this.value.toLowerCase();\n\n        if (!query) return;\n\n        if (search.searchTimeout) clearTimeout(search.searchTimeout);\n        search.searchTimeout = window.setTimeout(() => {\n          if (state.isCached(query)) return;\n\n          if (query.length >= (search.constructor as typeof Search).MIN_SEARCH_LEN) {\n            search.sources?.map((source) => {\n              if (!source.search) return;\n\n              search.loadingSources++;\n\n              source.search(query).then(() => {\n                search.loadingSources = Math.max(0, search.loadingSources - 1);\n                m.redraw();\n              });\n            });\n          }\n\n          state.cache(query);\n          m.redraw();\n        }, 250);\n      })\n\n      .on('focus', function () {\n        $(this)\n          .one('mouseup', (e) => e.preventDefault())\n          .trigger('select');\n      });\n\n    this.updateMaxHeightHandler = this.updateMaxHeight.bind(this);\n    window.addEventListener('resize', this.updateMaxHeightHandler);\n  }\n\n  onremove(vnode: Mithril.VnodeDOM<T, this>) {\n    super.onremove(vnode);\n\n    if (this.updateMaxHeightHandler) {\n      window.removeEventListener('resize', this.updateMaxHeightHandler);\n    }\n  }\n\n  /**\n   * Navigate to the currently selected search result and close the list.\n   */\n  selectResult() {\n    if (this.searchTimeout) clearTimeout(this.searchTimeout);\n\n    this.loadingSources = 0;\n\n    const selectedUrl = this.getItem(this.index).find('a').attr('href');\n    if (this.searchState.getValue() && selectedUrl) {\n      m.route.set(selectedUrl);\n    } else {\n      this.clear();\n    }\n\n    this.$('input').blur();\n  }\n\n  /**\n   * Clear the search\n   */\n  clear() {\n    this.searchState.clear();\n  }\n\n  /**\n   * Build an item list of SearchSources.\n   */\n  sourceItems(): ItemList<SearchSource> {\n    const items = new ItemList<SearchSource>();\n\n    if (app.forum.attribute('canViewForum')) items.add('discussions', new DiscussionsSearchSource());\n    if (app.forum.attribute('canSearchUsers')) items.add('users', new UsersSearchSource());\n\n    return items;\n  }\n\n  /**\n   * Get all of the search result items that are selectable.\n   */\n  selectableItems(): JQuery {\n    return this.$('.Search-results > li:not(.Dropdown-header)');\n  }\n\n  /**\n   * Get the position of the currently selected search result item.\n   * Returns zero if not found.\n   */\n  getCurrentNumericIndex(): number {\n    return Math.max(0, this.selectableItems().index(this.getItem(this.index)));\n  }\n\n  /**\n   * Get the <li> in the search results with the given index (numeric or named).\n   */\n  getItem(index: number): JQuery {\n    const $items = this.selectableItems();\n    let $item = $items.filter(`[data-index=\"${index}\"]`);\n\n    if (!$item.length) {\n      $item = $items.eq(index);\n    }\n\n    return $item;\n  }\n\n  /**\n   * Set the currently-selected search result item to the one with the given\n   * index.\n   */\n  setIndex(index: number, scrollToItem: boolean = false) {\n    const $items = this.selectableItems();\n    const $dropdown = $items.parent();\n\n    let fixedIndex = index;\n    if (index < 0) {\n      fixedIndex = $items.length - 1;\n    } else if (index >= $items.length) {\n      fixedIndex = 0;\n    }\n\n    const $item = $items.removeClass('active').eq(fixedIndex).addClass('active');\n\n    this.index = parseInt($item.attr('data-index') as string) || fixedIndex;\n\n    if (scrollToItem) {\n      const dropdownScroll = $dropdown.scrollTop()!;\n      const dropdownTop = $dropdown.offset()!.top;\n      const dropdownBottom = dropdownTop + $dropdown.outerHeight()!;\n      const itemTop = $item.offset()!.top;\n      const itemBottom = itemTop + $item.outerHeight()!;\n\n      let scrollTop;\n      if (itemTop < dropdownTop) {\n        scrollTop = dropdownScroll - dropdownTop + itemTop - parseInt($dropdown.css('padding-top'), 10);\n      } else if (itemBottom > dropdownBottom) {\n        scrollTop = dropdownScroll - dropdownBottom + itemBottom + parseInt($dropdown.css('padding-bottom'), 10);\n      }\n\n      if (typeof scrollTop !== 'undefined') {\n        $dropdown.stop(true).animate({ scrollTop }, 100);\n      }\n    }\n  }\n}\n","import app from '../../forum/app';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport Dropdown, { IDropdownAttrs } from '../../common/components/Dropdown';\nimport LinkButton from '../../common/components/LinkButton';\nimport Button from '../../common/components/Button';\nimport ItemList from '../../common/utils/ItemList';\nimport Separator from '../../common/components/Separator';\nimport extractText from '../../common/utils/extractText';\nimport type Mithril from 'mithril';\n\nexport interface ISessionDropdownAttrs extends IDropdownAttrs {}\n\n/**\n * The `SessionDropdown` component shows a button with the current user's\n * avatar/name, with a dropdown of session controls.\n */\nexport default class SessionDropdown<CustomAttrs extends ISessionDropdownAttrs = ISessionDropdownAttrs> extends Dropdown<CustomAttrs> {\n  static initAttrs(attrs: ISessionDropdownAttrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = 'SessionDropdown';\n    attrs.buttonClassName = 'Button Button--user Button--flat';\n    attrs.menuClassName = 'Dropdown-menu--right';\n\n    attrs.accessibleToggleLabel = extractText(app.translator.trans('core.forum.header.session_dropdown_accessible_label'));\n  }\n\n  view(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    return super.view({ ...vnode, children: this.items().toArray() });\n  }\n\n  getButtonContent() {\n    const user = app.session.user;\n\n    return [avatar(user), ' ', <span className=\"Button-label\">{username(user)}</span>];\n  }\n\n  /**\n   * Build an item list for the contents of the dropdown menu.\n   */\n  items(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n    const user = app.session.user!;\n\n    items.add(\n      'profile',\n      <LinkButton icon=\"fas fa-user\" href={app.route.user(user)}>\n        {app.translator.trans('core.forum.header.profile_button')}\n      </LinkButton>,\n      100\n    );\n\n    items.add(\n      'settings',\n      <LinkButton icon=\"fas fa-cog\" href={app.route('settings')}>\n        {app.translator.trans('core.forum.header.settings_button')}\n      </LinkButton>,\n      50\n    );\n\n    if (app.forum.attribute('adminUrl')) {\n      items.add(\n        'administration',\n        <LinkButton icon=\"fas fa-wrench\" href={app.forum.attribute('adminUrl')} target=\"_blank\">\n          {app.translator.trans('core.forum.header.admin_button')}\n        </LinkButton>,\n        0\n      );\n    }\n\n    items.add('separator', <Separator />, -90);\n\n    items.add(\n      'logOut',\n      <Button icon=\"fas fa-sign-out-alt\" onclick={app.session.logout.bind(app.session)}>\n        {app.translator.trans('core.forum.header.log_out_button')}\n      </Button>,\n      -100\n    );\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport UserPage, { IUserPageAttrs } from './UserPage';\nimport ItemList from '../../common/utils/ItemList';\nimport Switch from '../../common/components/Switch';\nimport Button from '../../common/components/Button';\nimport FieldSet from '../../common/components/FieldSet';\nimport NotificationGrid from './NotificationGrid';\nimport ChangePasswordModal from './ChangePasswordModal';\nimport ChangeEmailModal from './ChangeEmailModal';\nimport listItems from '../../common/helpers/listItems';\nimport extractText from '../../common/utils/extractText';\nimport type Mithril from 'mithril';\n\n/**\n * The `SettingsPage` component displays the user's settings control panel, in\n * the context of their user profile.\n */\nexport default class SettingsPage<CustomAttrs extends IUserPageAttrs = IUserPageAttrs> extends UserPage<CustomAttrs> {\n  discloseOnlineLoading?: boolean;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.show(app.session.user!);\n\n    app.setTitle(extractText(app.translator.trans('core.forum.settings.title')));\n  }\n\n  content() {\n    return (\n      <div className=\"SettingsPage\">\n        <ul>{listItems(this.settingsItems().toArray())}</ul>\n      </div>\n    );\n  }\n\n  /**\n   * Build an item list for the user's settings controls.\n   */\n  settingsItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    ['account', 'notifications', 'privacy'].forEach((section, index) => {\n      const sectionItems = `${section}Items` as 'accountItems' | 'notificationsItems' | 'privacyItems';\n\n      items.add(\n        section,\n        <FieldSet className={`Settings-${section}`} label={app.translator.trans(`core.forum.settings.${section}_heading`)}>\n          {this[sectionItems]().toArray()}\n        </FieldSet>,\n        100 - index * 10\n      );\n    });\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the user's account settings.\n   */\n  accountItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'changePassword',\n      <Button className=\"Button\" onclick={() => app.modal.show(ChangePasswordModal)}>\n        {app.translator.trans('core.forum.settings.change_password_button')}\n      </Button>,\n      100\n    );\n\n    items.add(\n      'changeEmail',\n      <Button className=\"Button\" onclick={() => app.modal.show(ChangeEmailModal)}>\n        {app.translator.trans('core.forum.settings.change_email_button')}\n      </Button>,\n      90\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the user's notification settings.\n   */\n  notificationsItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('notificationGrid', <NotificationGrid user={this.user} />, 100);\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the user's privacy settings.\n   */\n  privacyItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'discloseOnline',\n      <Switch\n        state={this.user!.preferences()?.discloseOnline}\n        onchange={(value: boolean) => {\n          this.discloseOnlineLoading = true;\n\n          this.user!.savePreferences({ discloseOnline: value }).then(() => {\n            this.discloseOnlineLoading = false;\n            m.redraw();\n          });\n        }}\n        loading={this.discloseOnlineLoading}\n      >\n        {app.translator.trans('core.forum.settings.privacy_disclose_online_label')}\n      </Switch>,\n      100\n    );\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport Modal, { IInternalModalAttrs } from '../../common/components/Modal';\nimport LogInModal from './LogInModal';\nimport Button from '../../common/components/Button';\nimport LogInButtons from './LogInButtons';\nimport extractText from '../../common/utils/extractText';\nimport ItemList from '../../common/utils/ItemList';\nimport Stream from '../../common/utils/Stream';\nimport type Mithril from 'mithril';\n\nexport interface ISignupModalAttrs extends IInternalModalAttrs {\n  username?: string;\n  email?: string;\n  password?: string;\n  token?: string;\n  provided?: string[];\n}\n\nexport type SignupBody = {\n  username: string;\n  email: string;\n} & ({ token: string } | { password: string });\n\nexport default class SignUpModal<CustomAttrs extends ISignupModalAttrs = ISignupModalAttrs> extends Modal<CustomAttrs> {\n  /**\n   * The value of the username input.\n   */\n  username!: Stream<string>;\n\n  /**\n   * The value of the email input.\n   */\n  email!: Stream<string>;\n\n  /**\n   * The value of the password input.\n   */\n  password!: Stream<string>;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.username = Stream(this.attrs.username || '');\n    this.email = Stream(this.attrs.email || '');\n    this.password = Stream(this.attrs.password || '');\n  }\n\n  className() {\n    return 'Modal--small SignUpModal';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.sign_up.title');\n  }\n\n  content() {\n    return [<div className=\"Modal-body\">{this.body()}</div>, <div className=\"Modal-footer\">{this.footer()}</div>];\n  }\n\n  isProvided(field: string): boolean {\n    return this.attrs.provided?.includes(field) ?? false;\n  }\n\n  body() {\n    return [!this.attrs.token && <LogInButtons />, <div className=\"Form Form--centered\">{this.fields().toArray()}</div>];\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    const usernameLabel = extractText(app.translator.trans('core.forum.sign_up.username_placeholder'));\n    const emailLabel = extractText(app.translator.trans('core.forum.sign_up.email_placeholder'));\n    const passwordLabel = extractText(app.translator.trans('core.forum.sign_up.password_placeholder'));\n\n    items.add(\n      'username',\n      <div className=\"Form-group\">\n        <input\n          className=\"FormControl\"\n          name=\"username\"\n          type=\"text\"\n          placeholder={usernameLabel}\n          aria-label={usernameLabel}\n          bidi={this.username}\n          disabled={this.loading || this.isProvided('username')}\n        />\n      </div>,\n      30\n    );\n\n    items.add(\n      'email',\n      <div className=\"Form-group\">\n        <input\n          className=\"FormControl\"\n          name=\"email\"\n          type=\"email\"\n          placeholder={emailLabel}\n          aria-label={emailLabel}\n          bidi={this.email}\n          disabled={this.loading || this.isProvided('email')}\n        />\n      </div>,\n      20\n    );\n\n    if (!this.attrs.token) {\n      items.add(\n        'password',\n        <div className=\"Form-group\">\n          <input\n            className=\"FormControl\"\n            name=\"password\"\n            type=\"password\"\n            autocomplete=\"new-password\"\n            placeholder={passwordLabel}\n            aria-label={passwordLabel}\n            bidi={this.password}\n            disabled={this.loading}\n          />\n        </div>,\n        10\n      );\n    }\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n          {app.translator.trans('core.forum.sign_up.submit_button')}\n        </Button>\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  footer() {\n    return [\n      <p className=\"SignUpModal-logIn\">{app.translator.trans('core.forum.sign_up.log_in_text', { a: <a onclick={this.logIn.bind(this)} /> })}</p>,\n    ];\n  }\n\n  /**\n   * Open the log in modal, prefilling it with an email/username/password if\n   * the user has entered one.\n   */\n  logIn() {\n    const attrs = {\n      identification: this.email() || this.username(),\n    };\n\n    app.modal.show(LogInModal, attrs);\n  }\n\n  onready() {\n    if (this.attrs.username && !this.attrs.email) {\n      this.$('[name=email]').select();\n    } else {\n      this.$('[name=username]').select();\n    }\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const body = this.submitData();\n\n    app\n      .request({\n        url: app.forum.attribute('baseUrl') + '/register',\n        method: 'POST',\n        body,\n        errorHandler: this.onerror.bind(this),\n      })\n      .then(() => window.location.reload(), this.loaded.bind(this));\n  }\n\n  /**\n   * Get the data that should be submitted in the sign-up request.\n   */\n  submitData(): SignupBody {\n    const authData = this.attrs.token ? { token: this.attrs.token } : { password: this.password() };\n\n    const data = {\n      username: this.username(),\n      email: this.email(),\n      ...authData,\n    };\n\n    return data;\n  }\n}\n","import app from '../../forum/app';\nimport Page, { IPageAttrs } from '../../common/components/Page';\nimport ItemList from '../../common/utils/ItemList';\nimport UserCard from './UserCard';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport SelectDropdown from '../../common/components/SelectDropdown';\nimport LinkButton from '../../common/components/LinkButton';\nimport Separator from '../../common/components/Separator';\nimport listItems from '../../common/helpers/listItems';\nimport AffixedSidebar from './AffixedSidebar';\nimport type User from '../../common/models/User';\nimport type Mithril from 'mithril';\n\nexport interface IUserPageAttrs extends IPageAttrs {}\n\n/**\n * The `UserPage` component shows a user's profile. It can be extended to show\n * content inside of the content area. See `ActivityPage` and `SettingsPage` for\n * examples.\n *\n * @abstract\n */\nexport default class UserPage<CustomAttrs extends IUserPageAttrs = IUserPageAttrs, CustomState = undefined> extends Page<CustomAttrs, CustomState> {\n  /**\n   * The user this page is for.\n   */\n  user: User | null = null;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    this.bodyClass = 'App--user';\n  }\n\n  /**\n   * Base view template for the user page.\n   */\n  view() {\n    return (\n      <div className=\"UserPage\">\n        {this.user\n          ? [\n              <UserCard\n                user={this.user}\n                className=\"Hero UserHero\"\n                editable={this.user.canEdit() || this.user === app.session.user}\n                controlsButtonClassName=\"Button\"\n              />,\n              <div className=\"container\">\n                <div className=\"sideNavContainer\">\n                  <AffixedSidebar>\n                    <nav className=\"sideNav UserPage-nav\">\n                      <ul>{listItems(this.sidebarItems().toArray())}</ul>\n                    </nav>\n                  </AffixedSidebar>\n                  <div className=\"sideNavOffset UserPage-content\">{this.content()}</div>\n                </div>\n              </div>,\n            ]\n          : [<LoadingIndicator display=\"block\" />]}\n      </div>\n    );\n  }\n\n  /**\n   * Get the content to display in the user page.\n   */\n  content(): Mithril.Children | void {}\n\n  /**\n   * Initialize the component with a user, and trigger the loading of their\n   * activity feed.\n   *\n   * @protected\n   */\n  show(user: User): void {\n    this.user = user;\n\n    app.current.set('user', user);\n\n    app.setTitle(user.displayName());\n\n    m.redraw();\n  }\n\n  /**\n   * Given a username, load the user's profile from the store, or make a request\n   * if we don't have it yet. Then initialize the profile page with that user.\n   */\n  loadUser(username: string) {\n    const lowercaseUsername = username.toLowerCase();\n\n    // Load the preloaded user object, if any, into the global app store\n    // We don't use the output of the method because it returns raw JSON\n    // instead of the parsed models\n    app.preloadedApiDocument();\n\n    app.store.all<User>('users').some((user) => {\n      if ((user.username().toLowerCase() === lowercaseUsername || user.id() === username) && user.joinTime()) {\n        this.show(user);\n        return true;\n      }\n\n      return false;\n    });\n\n    if (!this.user) {\n      app.store.find<User>('users', username, { bySlug: true }).then(this.show.bind(this));\n    }\n  }\n\n  /**\n   * Build an item list for the content of the sidebar.\n   */\n  sidebarItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'nav',\n      <SelectDropdown className=\"App-titleControl\" buttonClassName=\"Button\">\n        {this.navItems().toArray()}\n      </SelectDropdown>\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the navigation in the sidebar.\n   */\n  navItems() {\n    const items = new ItemList<Mithril.Children>();\n    const user = this.user!;\n    const isActor = app.session.user === user;\n\n    items.add(\n      'posts',\n      <LinkButton href={app.route('user.posts', { username: user.slug() })} icon=\"far fa-comment\">\n        {app.translator.trans('core.forum.user.posts_link')} <span className=\"Button-badge\">{user.commentCount()}</span>\n      </LinkButton>,\n      100\n    );\n\n    items.add(\n      'discussions',\n      <LinkButton href={app.route('user.discussions', { username: user.slug() })} icon=\"fas fa-bars\">\n        {app.translator.trans('core.forum.user.discussions_link')} <span className=\"Button-badge\">{user.discussionCount()}</span>\n      </LinkButton>,\n      90\n    );\n\n    if (isActor) {\n      items.add('separator', <Separator />, -90);\n      items.add(\n        'settings',\n        <LinkButton href={app.route('settings')} icon=\"fas fa-cog\">\n          {app.translator.trans('core.forum.user.settings_link')}\n        </LinkButton>,\n        -100\n      );\n    }\n\n    if (isActor || app.forum.attribute<boolean>('canModerateAccessTokens')) {\n      if (!isActor) {\n        items.add('security-separator', <Separator />, -90);\n      }\n\n      items.add(\n        'security',\n        <LinkButton href={app.route('user.security', { username: user.slug() })} icon=\"fas fa-shield-alt\">\n          {app.translator.trans('core.forum.user.security_link')}\n        </LinkButton>,\n        -100\n      );\n    }\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport UserPage, { IUserPageAttrs } from './UserPage';\nimport ItemList from '../../common/utils/ItemList';\nimport FieldSet from '../../common/components/FieldSet';\nimport listItems from '../../common/helpers/listItems';\nimport extractText from '../../common/utils/extractText';\nimport AccessTokensList from './AccessTokensList';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport Button from '../../common/components/Button';\nimport NewAccessTokenModal from './NewAccessTokenModal';\nimport { camelCaseToSnakeCase } from '../../common/utils/string';\nimport type AccessToken from '../../common/models/AccessToken';\nimport type Mithril from 'mithril';\nimport Tooltip from '../../common/components/Tooltip';\nimport UserSecurityPageState from '../states/UserSecurityPageState';\n\n/**\n * The `UserSecurityPage` component displays the user's security control panel, in\n * the context of their user profile.\n */\nexport default class UserSecurityPage<CustomAttrs extends IUserPageAttrs = IUserPageAttrs> extends UserPage<CustomAttrs, UserSecurityPageState> {\n  state = new UserSecurityPageState();\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    const routeUsername = m.route.param('username');\n\n    if (routeUsername !== app.session.user?.slug() && !app.forum.attribute<boolean>('canModerateAccessTokens')) {\n      m.route.set('/');\n    }\n\n    this.loadUser(routeUsername);\n\n    app.setTitle(extractText(app.translator.trans('core.forum.security.title')));\n\n    this.loadTokens();\n  }\n\n  content() {\n    return (\n      <div className=\"UserSecurityPage\">\n        <ul>{listItems(this.settingsItems().toArray())}</ul>\n      </div>\n    );\n  }\n\n  /**\n   * Build an item list for the user's settings controls.\n   */\n  settingsItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    if (\n      app.forum.attribute('canCreateAccessToken') ||\n      app.forum.attribute('canModerateAccessTokens') ||\n      (this.state.hasLoadedTokens() && this.state.getDeveloperTokens()?.length)\n    ) {\n      items.add(\n        'developerTokens',\n        <FieldSet className=\"UserSecurityPage-developerTokens\" label={app.translator.trans(`core.forum.security.developer_tokens_heading`)}>\n          {this.developerTokensItems().toArray()}\n        </FieldSet>\n      );\n    } else if (!this.state.hasLoadedTokens()) {\n      items.add('developerTokens', <LoadingIndicator />);\n    }\n\n    items.add(\n      'sessions',\n      <FieldSet className=\"UserSecurityPage-sessions\" label={app.translator.trans(`core.forum.security.sessions_heading`)}>\n        {this.sessionsItems().toArray()}\n      </FieldSet>\n    );\n\n    if (this.user!.id() === app.session.user!.id()) {\n      items.add(\n        'globalLogout',\n        <FieldSet className=\"UserSecurityPage-globalLogout\" label={app.translator.trans('core.forum.security.global_logout.heading')}>\n          <span className=\"helpText\">{app.translator.trans('core.forum.security.global_logout.help_text')}</span>\n          <Button\n            className=\"Button\"\n            icon=\"fas fa-sign-out-alt\"\n            onclick={this.globalLogout.bind(this)}\n            loading={this.state.loadingGlobalLogout}\n            disabled={this.state.loadingTerminateSessions}\n          >\n            {app.translator.trans('core.forum.security.global_logout.log_out_button')}\n          </Button>\n        </FieldSet>\n      );\n    }\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the user's access accessToken settings.\n   */\n  developerTokensItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'accessTokenList',\n      !this.state.hasLoadedTokens() ? (\n        <LoadingIndicator />\n      ) : (\n        <AccessTokensList\n          type=\"developer_token\"\n          ondelete={(token: AccessToken) => {\n            this.state.removeToken(token);\n            m.redraw();\n          }}\n          tokens={this.state.getDeveloperTokens()}\n          icon=\"fas fa-key\"\n          hideTokens={false}\n        />\n      )\n    );\n\n    if (this.user!.id() === app.session.user!.id()) {\n      items.add(\n        'newAccessToken',\n        <Button\n          className=\"Button\"\n          disabled={!app.forum.attribute<boolean>('canCreateAccessToken')}\n          onclick={() =>\n            app.modal.show(NewAccessTokenModal, {\n              onsuccess: (token: AccessToken) => {\n                this.state.pushToken(token);\n                m.redraw();\n              },\n            })\n          }\n        >\n          {app.translator.trans('core.forum.security.new_access_token_button')}\n        </Button>\n      );\n    }\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the user's access accessToken settings.\n   */\n  sessionsItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'sessionsList',\n      !this.state.hasLoadedTokens() ? (\n        <LoadingIndicator />\n      ) : (\n        <AccessTokensList\n          type=\"session\"\n          ondelete={(token: AccessToken) => {\n            this.state.removeToken(token);\n            m.redraw();\n          }}\n          tokens={this.state.getSessionTokens()}\n          icon=\"fas fa-laptop\"\n          hideTokens={true}\n        />\n      )\n    );\n\n    if (this.user!.id() === app.session.user!.id()) {\n      const isDisabled = !this.state.hasOtherActiveSessions();\n\n      let terminateAllOthersButton = (\n        <Button\n          className=\"Button\"\n          onclick={this.terminateAllOtherSessions.bind(this)}\n          loading={this.state.loadingTerminateSessions}\n          disabled={this.state.loadingGlobalLogout || isDisabled}\n        >\n          {app.translator.trans('core.forum.security.terminate_all_other_sessions')}\n        </Button>\n      );\n\n      if (isDisabled) {\n        terminateAllOthersButton = (\n          <Tooltip text={app.translator.trans('core.forum.security.cannot_terminate_current_session')}>\n            <span tabindex=\"0\">{terminateAllOthersButton}</span>\n          </Tooltip>\n        );\n      }\n\n      items.add('terminateAllOtherSessions', terminateAllOthersButton);\n    }\n\n    return items;\n  }\n\n  loadTokens() {\n    return app.store\n      .find<AccessToken[]>('access-tokens', {\n        filter: { user: this.user!.id()! },\n      })\n      .then((tokens) => {\n        this.state.setTokens(tokens);\n        m.redraw();\n      });\n  }\n\n  terminateAllOtherSessions() {\n    if (!confirm(extractText(app.translator.trans('core.forum.security.terminate_all_other_sessions_confirmation')))) return;\n\n    this.state.loadingTerminateSessions = true;\n\n    return app\n      .request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + '/sessions',\n      })\n      .then(() => {\n        // Count terminated sessions first.\n        const count = this.state.getOtherSessionTokens().length;\n\n        this.state.removeOtherSessionTokens();\n\n        app.alerts.show({ type: 'success' }, app.translator.trans('core.forum.security.session_terminated', { count }));\n      })\n      .catch(() => {\n        app.alerts.show({ type: 'error' }, app.translator.trans('core.forum.security.session_termination_failed'));\n      })\n      .finally(() => {\n        this.state.loadingTerminateSessions = false;\n        m.redraw();\n      });\n  }\n\n  globalLogout() {\n    this.state.loadingGlobalLogout = true;\n\n    return app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute<string>('baseUrl') + '/global-logout',\n      })\n      .then(() => window.location.reload())\n      .finally(() => {\n        this.state.loadingGlobalLogout = false;\n        m.redraw();\n      });\n  }\n}\n","import type Mithril from 'mithril';\n\nimport app from '../../forum/app';\nimport highlight from '../../common/helpers/highlight';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport Link from '../../common/components/Link';\nimport { SearchSource } from './Search';\nimport User from '../../common/models/User';\n\n/**\n * The `UsersSearchSource` finds and displays user search results in the search\n * dropdown.\n */\nexport default class UsersSearchResults implements SearchSource {\n  protected results = new Map<string, User[]>();\n\n  async search(query: string): Promise<void> {\n    return app.store\n      .find<User[]>('users', {\n        filter: { q: query },\n        page: { limit: 5 },\n      })\n      .then((results) => {\n        this.results.set(query, results);\n        m.redraw();\n      });\n  }\n\n  view(query: string): Array<Mithril.Vnode> {\n    query = query.toLowerCase();\n\n    const results = (this.results.get(query) || [])\n      .concat(\n        app.store\n          .all<User>('users')\n          .filter((user) => [user.username(), user.displayName()].some((value) => value.toLowerCase().substr(0, query.length) === query))\n      )\n      .filter((e, i, arr) => arr.lastIndexOf(e) === i)\n      .sort((a, b) => a.displayName().localeCompare(b.displayName()));\n\n    if (!results.length) return [];\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n      ...results.map((user) => {\n        const name = username(user);\n\n        const children = [highlight(name.text as string, query)];\n\n        return (\n          <li className=\"UserSearchResult\" data-index={'users' + user.id()}>\n            <Link href={app.route.user(user)}>\n              {avatar(user)}\n              {{ ...name, text: undefined, children }}\n            </Link>\n          </li>\n        );\n      }),\n    ];\n  }\n}\n","import app from '../app';\nimport Component from '../../common/Component';\nimport Button from '../../common/components/Button';\nimport type Mithril from 'mithril';\n\nexport interface IWelcomeHeroAttrs {}\n\nconst LOCAL_STORAGE_KEY = 'welcomeHidden';\n\n/**\n * The `WelcomeHero` component displays a hero that welcomes the user to the\n * forum.\n */\nexport default class WelcomeHero extends Component<IWelcomeHeroAttrs> {\n  /**\n   * @deprecated Extend the `isHidden` method instead.\n   */\n  hidden: boolean = false;\n\n  oninit(vnode: Mithril.Vnode<IWelcomeHeroAttrs, this>) {\n    super.oninit(vnode);\n  }\n\n  view(vnode: Mithril.Vnode<IWelcomeHeroAttrs, this>) {\n    if (this.isHidden()) return null;\n\n    const slideUp = () => {\n      this.$().slideUp(this.hide.bind(this));\n    };\n\n    return (\n      <header className=\"Hero WelcomeHero\">\n        <div className=\"container\">\n          <Button\n            icon=\"fas fa-times\"\n            onclick={slideUp}\n            className=\"Hero-close Button Button--icon Button--link\"\n            aria-label={app.translator.trans('core.forum.welcome_hero.hide')}\n          />\n\n          <div className=\"containerNarrow\">\n            <h1 className=\"Hero-title\">{app.forum.attribute('welcomeTitle')}</h1>\n            <div className=\"Hero-subtitle\">{m.trust(app.forum.attribute('welcomeMessage'))}</div>\n          </div>\n        </div>\n      </header>\n    );\n  }\n\n  /**\n   * Hide the welcome hero.\n   */\n  hide() {\n    localStorage.setItem(LOCAL_STORAGE_KEY, 'true');\n  }\n\n  /**\n   * Determines whether the welcome hero should be hidden.\n   *\n   * @returns if the welcome hero is hidden.\n   */\n  isHidden(): boolean {\n    if (!app.forum.attribute<string>('welcomeTitle')?.trim()) return true;\n    if (localStorage.getItem(LOCAL_STORAGE_KEY)) return true;\n    if (this.hidden) return true;\n\n    return false;\n  }\n}\n","// Expose punycode and ColorThief to the window browser object\nimport 'expose-loader?exposes=punycode!punycode';\nimport 'expose-loader?exposes=ColorThief!color-thief-browser';\n\nimport app from './app';\n\nexport { app };\n\n// Export compat API\nimport compatObj from './compat';\nimport proxifyCompat from '../common/utils/proxifyCompat';\n\n// @ts-ignore\ncompatObj.app = app;\n\nexport const compat = proxifyCompat(compatObj, 'forum');\n","import type Mithril from 'mithril';\n\nimport app from '../../forum/app';\nimport DefaultResolver from '../../common/resolvers/DefaultResolver';\nimport DiscussionPage, { IDiscussionPageAttrs } from '../components/DiscussionPage';\n\n/**\n * A custom route resolver for DiscussionPage that generates the same key to all posts\n * on the same discussion. It triggers a scroll when going from one post to another\n * in the same discussion.\n */\nexport default class DiscussionPageResolver<\n  Attrs extends IDiscussionPageAttrs = IDiscussionPageAttrs,\n  RouteArgs extends Record<string, unknown> = {}\n> extends DefaultResolver<Attrs, DiscussionPage<Attrs>, RouteArgs> {\n  static scrollToPostNumber: number | null = null;\n\n  /**\n   * Remove optional parts of a discussion's slug to keep the substring\n   * that bijectively maps to a discussion object. By default this just\n   * extracts the numerical ID from the slug. If a custom discussion\n   * slugging driver is used, this may need to be overriden.\n   * @param slug\n   */\n  canonicalizeDiscussionSlug(slug: string | undefined) {\n    if (!slug) return;\n    return slug.split('-')[0];\n  }\n\n  /**\n   * @inheritdoc\n   */\n  makeKey() {\n    const params = { ...m.route.param() };\n    if ('near' in params) {\n      delete params.near;\n    }\n    params.id = this.canonicalizeDiscussionSlug(params.id);\n    return this.routeName.replace('.near', '') + JSON.stringify(params);\n  }\n\n  onmatch(args: Attrs & RouteArgs, requestedPath: string, route: string) {\n    if (app.current.matches(DiscussionPage) && this.canonicalizeDiscussionSlug(args.id) === this.canonicalizeDiscussionSlug(m.route.param('id'))) {\n      // By default, the first post number of any discussion is 1\n      DiscussionPageResolver.scrollToPostNumber = args.near || 1;\n    }\n\n    return super.onmatch(args, requestedPath, route);\n  }\n\n  render(vnode: Mithril.Vnode<Attrs, DiscussionPage<Attrs>>) {\n    if (DiscussionPageResolver.scrollToPostNumber !== null) {\n      const number = DiscussionPageResolver.scrollToPostNumber;\n      // Scroll after a timeout to avoid clashes with the render.\n      setTimeout(() => app.current.get('stream').goToNumber(number));\n      DiscussionPageResolver.scrollToPostNumber = null;\n    }\n\n    return super.render(vnode);\n  }\n}\n","import ForumApplication from './ForumApplication';\nimport IndexPage from './components/IndexPage';\nimport DiscussionPage from './components/DiscussionPage';\nimport PostsUserPage from './components/PostsUserPage';\nimport DiscussionsUserPage from './components/DiscussionsUserPage';\nimport SettingsPage from './components/SettingsPage';\nimport NotificationsPage from './components/NotificationsPage';\nimport DiscussionPageResolver from './resolvers/DiscussionPageResolver';\nimport Discussion from '../common/models/Discussion';\nimport type Post from '../common/models/Post';\nimport type User from '../common/models/User';\nimport UserSecurityPage from './components/UserSecurityPage';\n\n/**\n * Helper functions to generate URLs to form pages.\n */\nexport interface ForumRoutes {\n  discussion: (discussion: Discussion, near?: number) => string;\n  post: (post: Post) => string;\n  user: (user: User) => string;\n}\n\n/**\n * The `routes` initializer defines the forum app's routes.\n */\nexport default function (app: ForumApplication) {\n  app.routes = {\n    index: { path: '/all', component: IndexPage },\n\n    discussion: { path: '/d/:id', component: DiscussionPage, resolverClass: DiscussionPageResolver },\n    'discussion.near': { path: '/d/:id/:near', component: DiscussionPage, resolverClass: DiscussionPageResolver },\n\n    user: { path: '/u/:username', component: PostsUserPage },\n    'user.posts': { path: '/u/:username', component: PostsUserPage },\n    'user.discussions': { path: '/u/:username/discussions', component: DiscussionsUserPage },\n\n    settings: { path: '/settings', component: SettingsPage },\n    'user.security': { path: '/u/:username/security', component: UserSecurityPage },\n    notifications: { path: '/notifications', component: NotificationsPage },\n  };\n}\n\nexport function makeRouteHelpers(app: ForumApplication) {\n  return {\n    /**\n     * Generate a URL to a discussion.\n     */\n    discussion: (discussion: Discussion, near?: number) => {\n      return app.route(near && near !== 1 ? 'discussion.near' : 'discussion', {\n        id: discussion.slug(),\n        near: near && near !== 1 ? near : undefined,\n      });\n    },\n\n    /**\n     * Generate a URL to a post.\n     */\n    post: (post: Post) => {\n      return app.route.discussion(post.discussion(), post.number());\n    },\n\n    /**\n     * Generate a URL to a user.\n     */\n    user: (user: User) => {\n      return app.route('user', {\n        username: user.slug(),\n      });\n    },\n  };\n}\n","import app from '../../forum/app';\nimport PaginatedListState, { Page, PaginatedListParams, PaginatedListRequestParams } from '../../common/states/PaginatedListState';\nimport Discussion from '../../common/models/Discussion';\nimport { ApiResponsePlural } from '../../common/Store';\nimport EventEmitter from '../../common/utils/EventEmitter';\n\nexport interface DiscussionListParams extends PaginatedListParams {\n  sort?: string;\n}\n\nconst globalEventEmitter = new EventEmitter();\n\nexport default class DiscussionListState<P extends DiscussionListParams = DiscussionListParams> extends PaginatedListState<Discussion, P> {\n  protected extraDiscussions: Discussion[] = [];\n  protected eventEmitter: EventEmitter;\n\n  constructor(params: P, page: number = 1) {\n    super(params, page, 20);\n\n    this.eventEmitter = globalEventEmitter.on('discussion.deleted', this.deleteDiscussion.bind(this));\n  }\n\n  get type(): string {\n    return 'discussions';\n  }\n\n  requestParams(): PaginatedListRequestParams {\n    const params = {\n      include: ['user', 'lastPostedUser'],\n      filter: this.params.filter || {},\n      sort: this.sortMap()[this.params.sort ?? ''],\n    };\n\n    if (this.params.q) {\n      params.filter.q = this.params.q;\n      params.include.push('mostRelevantPost', 'mostRelevantPost.user');\n    }\n\n    return params;\n  }\n\n  protected loadPage(page: number = 1): Promise<ApiResponsePlural<Discussion>> {\n    const preloadedDiscussions = app.preloadedApiDocument<Discussion[]>();\n\n    if (preloadedDiscussions) {\n      this.initialLoading = false;\n\n      return Promise.resolve(preloadedDiscussions);\n    }\n\n    return super.loadPage(page);\n  }\n\n  clear(): void {\n    super.clear();\n\n    this.extraDiscussions = [];\n  }\n\n  /**\n   * Get a map of sort keys (which appear in the URL, and are used for\n   * translation) to the API sort value that they represent.\n   */\n  sortMap() {\n    const map: any = {};\n\n    if (this.params.q) {\n      map.relevance = '';\n    }\n    map.latest = '-lastPostedAt';\n    map.top = '-commentCount';\n    map.newest = '-createdAt';\n    map.oldest = 'createdAt';\n\n    return map;\n  }\n\n  /**\n   * In the last request, has the user searched for a discussion?\n   */\n  isSearchResults(): boolean {\n    return !!this.params.q;\n  }\n\n  removeDiscussion(discussion: Discussion): void {\n    this.eventEmitter.emit('discussion.deleted', discussion);\n  }\n\n  deleteDiscussion(discussion: Discussion): void {\n    for (const page of this.pages) {\n      const index = page.items.indexOf(discussion);\n\n      if (index !== -1) {\n        page.items.splice(index, 1);\n        break;\n      }\n    }\n\n    const index = this.extraDiscussions.indexOf(discussion);\n\n    if (index !== -1) {\n      this.extraDiscussions.splice(index);\n    }\n\n    m.redraw();\n  }\n\n  /**\n   * Add a discussion to the top of the list.\n   */\n  addDiscussion(discussion: Discussion): void {\n    this.removeDiscussion(discussion);\n    this.extraDiscussions.unshift(discussion);\n\n    m.redraw();\n  }\n\n  protected getAllItems(): Discussion[] {\n    return this.extraDiscussions.concat(super.getAllItems());\n  }\n\n  public getPages(): Page<Discussion>[] {\n    const pages = super.getPages();\n\n    if (this.extraDiscussions.length) {\n      return [\n        {\n          number: -1,\n          items: this.extraDiscussions,\n        },\n        ...pages,\n      ];\n    }\n\n    return pages;\n  }\n}\n","import app from '../../forum/app';\nimport setRouteWithForcedRefresh from '../../common/utils/setRouteWithForcedRefresh';\nimport SearchState from './SearchState';\n\ntype SearchParams = Record<string, string>;\n\nexport default class GlobalSearchState extends SearchState {\n  private initialValueSet = false;\n\n  constructor(cachedSearches = []) {\n    super(cachedSearches);\n  }\n\n  getValue(): string {\n    // If we are on a search results page, we should initialize the value\n    // from the current search, if one is present.\n    // We can't do this in the constructor, as this class is instantiated\n    // before pages are rendered, and we need app.current.\n    if (!this.initialValueSet && this.currPageProvidesSearch()) {\n      this.intializeValue();\n    }\n\n    return super.getValue();\n  }\n\n  protected intializeValue() {\n    this.setValue(this.getInitialSearch());\n    this.initialValueSet = true;\n  }\n\n  protected currPageProvidesSearch(): boolean {\n    return app.current.type && app.current.type.providesInitialSearch;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  getInitialSearch(): string {\n    return this.currPageProvidesSearch() ? this.params().q : '';\n  }\n\n  /**\n   * Clear the search input and the current controller's active search.\n   */\n  clear() {\n    super.clear();\n\n    if (this.getInitialSearch()) {\n      this.clearInitialSearch();\n    } else {\n      m.redraw();\n    }\n  }\n\n  /**\n   * Redirect to the index page without a search filter. This is called when the\n   * 'x' is clicked in the search box in the header.\n   */\n  protected clearInitialSearch() {\n    const { q, ...params } = this.params();\n\n    setRouteWithForcedRefresh(app.route(app.current.get('routeName'), params));\n  }\n\n  /**\n   * Get URL parameters that stick between filter changes.\n   *\n   * This can be used to generate a link that clears filters.\n   */\n  stickyParams(): SearchParams {\n    return {\n      sort: m.route.param('sort'),\n      q: m.route.param('q'),\n    };\n  }\n\n  /**\n   * Get parameters to be used in the current page.\n   */\n  params(): SearchParams {\n    const params = this.stickyParams();\n\n    params.filter = m.route.param('filter');\n\n    return params;\n  }\n\n  /**\n   * Redirect to the index page using the given sort parameter.\n   */\n  changeSort(sort: string) {\n    const params = this.params();\n\n    if (sort === Object.keys(app.discussions.sortMap())[0]) {\n      delete params.sort;\n    } else {\n      params.sort = sort;\n    }\n\n    setRouteWithForcedRefresh(app.route(app.current.get('routeName'), params));\n  }\n}\n","import app from '../../forum/app';\nimport PaginatedListState from '../../common/states/PaginatedListState';\nimport Notification from '../../common/models/Notification';\n\nexport default class NotificationListState extends PaginatedListState<Notification> {\n  constructor() {\n    super({}, 1, 20);\n  }\n\n  get type(): string {\n    return 'notifications';\n  }\n\n  /**\n   * Load the next page of notification results.\n   */\n  load(): Promise<void> {\n    if (app.session.user?.newNotificationCount()) {\n      this.pages = [];\n      this.location = { page: 1 };\n    }\n\n    if (this.pages.length > 0) {\n      return Promise.resolve();\n    }\n\n    app.session.user?.pushAttributes({ newNotificationCount: 0 });\n\n    return super.loadNext();\n  }\n\n  /**\n   * Mark all of the notifications as read.\n   */\n  markAllAsRead() {\n    if (this.pages.length === 0) return;\n\n    app.session.user?.pushAttributes({ unreadNotificationCount: 0 });\n\n    this.pages.forEach((page) => {\n      page.items.forEach((notification) => notification.pushAttributes({ isRead: true }));\n    });\n\n    return app.request({\n      url: app.forum.attribute('apiUrl') + '/notifications/read',\n      method: 'POST',\n    });\n  }\n\n  /**\n   * Delete all of the notifications for this user.\n   */\n  deleteAll() {\n    if (this.pages.length === 0) return;\n\n    app.session.user?.pushAttributes({ unreadNotificationCount: 0 });\n\n    this.pages = [];\n\n    return app.request({\n      url: app.forum.attribute('apiUrl') + '/notifications',\n      method: 'DELETE',\n    });\n  }\n}\n","import app from '../../forum/app';\nimport { throttle } from 'throttle-debounce';\nimport anchorScroll from '../../common/utils/anchorScroll';\nimport type Discussion from '../../common/models/Discussion';\nimport type Post from '../../common/models/Post';\n\nexport default class PostStreamState {\n  /**\n   * The number of posts to load per page.\n   */\n  static loadCount = 20;\n\n  /**\n   * The discussion to display the post stream for.\n   */\n  discussion: Discussion;\n\n  /**\n   * Whether or not the infinite-scrolling auto-load functionality is\n   * disabled.\n   */\n  paused = false;\n\n  loadPageTimeouts: Record<number, NodeJS.Timeout> = {};\n  pagesLoading = 0;\n\n  index = 0;\n  number = 1;\n\n  /**\n   * The number of posts that are currently visible in the viewport.\n   */\n  visible = 1;\n  visibleStart = 0;\n  visibleEnd = 0;\n\n  animateScroll = false;\n  needsScroll = false;\n  targetPost: { number: number } | { index: number; reply?: boolean } | null = null;\n\n  /**\n   * The description to render on the scrubber.\n   */\n  description = '';\n\n  /**\n   * When the page is scrolled, goToIndex is called, or the page is loaded,\n   * various listeners result in the scrubber being updated with a new\n   * position and values. However, if goToNumber is called, the scrubber\n   * will not be updated. Accordingly, we add logic to the scrubber's\n   * onupdate to update itself, but only when needed, as indicated by this\n   * property.\n   *\n   */\n  forceUpdateScrubber = false;\n\n  loadPromise: Promise<void> | null = null;\n\n  loadNext: () => void;\n  loadPrevious: () => void;\n\n  constructor(discussion: Discussion, includedPosts: Post[] = []) {\n    this.discussion = discussion;\n\n    this.loadNext = throttle(300, this._loadNext);\n    this.loadPrevious = throttle(300, this._loadPrevious);\n\n    this.show(includedPosts);\n  }\n\n  /**\n   * Update the stream so that it loads and includes the latest posts in the\n   * discussion, if the end is being viewed.\n   */\n  update() {\n    if (!this.viewingEnd()) return Promise.resolve();\n\n    this.visibleEnd = this.count();\n\n    return this.loadRange(this.visibleStart, this.visibleEnd);\n  }\n\n  /**\n   * Load and scroll up to the first post in the discussion.\n   */\n  goToFirst(): Promise<void> {\n    return this.goToIndex(0);\n  }\n\n  /**\n   * Load and scroll down to the last post in the discussion.\n   */\n  goToLast(): Promise<void> {\n    return this.goToIndex(this.count() - 1, true);\n  }\n\n  /**\n   * Load and scroll to a post with a certain number.\n   *\n   * @param number The post number to go to. If 'reply', go to the last post and scroll the reply preview into view.\n   */\n  goToNumber(number: number | 'reply', noAnimation = false): Promise<void> {\n    // If we want to go to the reply preview, then we will go to the end of the\n    // discussion and then scroll to the very bottom of the page.\n    if (number === 'reply') {\n      const resultPromise = this.goToLast();\n      this.targetPost = { ...(this.targetPost as { index: number }), reply: true };\n      return resultPromise;\n    }\n\n    this.paused = true;\n\n    this.loadPromise = this.loadNearNumber(number);\n\n    this.needsScroll = true;\n    this.targetPost = { number };\n    this.animateScroll = !noAnimation;\n    this.number = number;\n\n    // In this case, the redraw is only called after the response has been loaded\n    // because we need to know the indices of the post range before we can\n    // start scrolling to items. Calling redraw early causes issues.\n    // Since this is only used for external navigation to the post stream, the delay\n    // before the stream is moved is not an issue.\n    return this.loadPromise.then(() => m.redraw());\n  }\n\n  /**\n   * Load and scroll to a certain index within the discussion.\n   */\n  goToIndex(index: number, noAnimation = false): Promise<void> {\n    this.paused = true;\n\n    this.loadPromise = this.loadNearIndex(index);\n\n    this.needsScroll = true;\n    this.targetPost = { index };\n    this.animateScroll = !noAnimation;\n    this.index = index;\n\n    m.redraw();\n\n    return this.loadPromise;\n  }\n\n  /**\n   * Clear the stream and load posts near a certain number. Returns a promise.\n   * If the post with the given number is already loaded, the promise will be\n   * resolved immediately.\n   */\n  loadNearNumber(number: number): Promise<void> {\n    if (this.posts().some((post) => post && Number(post.number()) === Number(number))) {\n      return Promise.resolve();\n    }\n\n    this.reset();\n\n    return app.store\n      .find<Post[]>('posts', {\n        filter: { discussion: this.discussion.id() as string },\n        page: { near: number },\n      })\n      .then(this.show.bind(this));\n  }\n\n  /**\n   * Clear the stream and load posts near a certain index. A page of posts\n   * surrounding the given index will be loaded. Returns a promise. If the given\n   * index is already loaded, the promise will be resolved immediately.\n   */\n  loadNearIndex(index: number): Promise<void> {\n    if (index >= this.visibleStart && index < this.visibleEnd) {\n      return Promise.resolve();\n    }\n\n    const start = this.sanitizeIndex(index - PostStreamState.loadCount / 2);\n    const end = start + PostStreamState.loadCount;\n\n    this.reset(start, end);\n\n    return this.loadRange(start, end).then(this.show.bind(this));\n  }\n\n  /**\n   * Load the next page of posts.\n   */\n  _loadNext() {\n    const start = this.visibleEnd;\n    const end = (this.visibleEnd = this.sanitizeIndex(this.visibleEnd + PostStreamState.loadCount));\n\n    // Unload the posts which are two pages back from the page we're currently\n    // loading.\n    const twoPagesAway = start - PostStreamState.loadCount * 2;\n    if (twoPagesAway > this.visibleStart && twoPagesAway >= 0) {\n      this.visibleStart = twoPagesAway + PostStreamState.loadCount + 1;\n\n      if (this.loadPageTimeouts[twoPagesAway]) {\n        clearTimeout(this.loadPageTimeouts[twoPagesAway]);\n        delete this.loadPageTimeouts[twoPagesAway];\n        this.pagesLoading--;\n      }\n    }\n\n    this.loadPage(start, end);\n  }\n\n  /**\n   * Load the previous page of posts.\n   */\n  _loadPrevious() {\n    const end = this.visibleStart;\n    const start = (this.visibleStart = this.sanitizeIndex(this.visibleStart - PostStreamState.loadCount));\n\n    // Unload the posts which are two pages back from the page we're currently\n    // loading.\n    const twoPagesAway = start + PostStreamState.loadCount * 2;\n    if (twoPagesAway < this.visibleEnd && twoPagesAway <= this.count()) {\n      this.visibleEnd = twoPagesAway;\n\n      if (this.loadPageTimeouts[twoPagesAway]) {\n        clearTimeout(this.loadPageTimeouts[twoPagesAway]);\n        delete this.loadPageTimeouts[twoPagesAway];\n        this.pagesLoading--;\n      }\n    }\n\n    this.loadPage(start, end, true);\n  }\n\n  /**\n   * Load a page of posts into the stream and redraw.\n   */\n  loadPage(start: number, end: number, backwards = false) {\n    this.pagesLoading++;\n\n    const redraw = () => {\n      if (start < this.visibleStart || end > this.visibleEnd) return;\n\n      const anchorIndex = backwards ? this.visibleEnd - 1 : this.visibleStart;\n      anchorScroll(`.PostStream-item[data-index=\"${anchorIndex}\"]`, m.redraw.sync);\n    };\n    redraw();\n\n    this.loadPageTimeouts[start] = setTimeout(\n      () => {\n        this.loadRange(start, end).then(() => {\n          redraw();\n          this.pagesLoading--;\n        });\n        delete this.loadPageTimeouts[start];\n      },\n      this.pagesLoading - 1 ? 1000 : 0\n    );\n  }\n\n  /**\n   * Load and inject the specified range of posts into the stream, without\n   * clearing it.\n   */\n  loadRange(start: number, end: number): Promise<Post[]> {\n    const loadIds: string[] = [];\n    const loaded: Post[] = [];\n\n    this.discussion\n      .postIds()\n      .slice(start, end)\n      .forEach((id) => {\n        const post = app.store.getById<Post>('posts', id);\n\n        if (post && post.discussion() && typeof post.canEdit() !== 'undefined') {\n          loaded.push(post);\n        } else {\n          loadIds.push(id);\n        }\n      });\n\n    if (loadIds.length) {\n      return app.store.find<Post[]>('posts', loadIds).then((newPosts) => {\n        return loaded.concat(newPosts).sort((a, b) => a.number() - b.number());\n      });\n    }\n\n    return Promise.resolve(loaded);\n  }\n\n  /**\n   * Set up the stream with the given array of posts.\n   */\n  show(posts: Post[]) {\n    this.visibleStart = posts.length ? this.discussion.postIds().indexOf(posts[0].id() ?? '0') : 0;\n    this.visibleEnd = this.sanitizeIndex(this.visibleStart + posts.length);\n  }\n\n  /**\n   * Reset the stream so that a specific range of posts is displayed. If a range\n   * is not specified, the first page of posts will be displayed.\n   */\n  reset(start?: number, end?: number) {\n    this.visibleStart = start || 0;\n    this.visibleEnd = this.sanitizeIndex(end || PostStreamState.loadCount);\n  }\n\n  /**\n   * Get the visible page of posts.\n   */\n  posts(): (Post | null)[] {\n    return this.discussion\n      .postIds()\n      .slice(this.visibleStart, this.visibleEnd)\n      .map((id) => {\n        const post = app.store.getById<Post>('posts', id);\n\n        return post && post.discussion() && typeof post.canEdit() !== 'undefined' ? post : null;\n      });\n  }\n\n  /**\n   * Get the total number of posts in the discussion.\n   */\n  count(): number {\n    return this.discussion.postIds().length;\n  }\n\n  /**\n   * Check whether or not the scrubber should be disabled, i.e. if all of the\n   * posts are visible in the viewport.\n   */\n  disabled(): boolean {\n    return this.visible >= this.count();\n  }\n\n  /**\n   * Are we currently viewing the end of the discussion?\n   */\n  viewingEnd(): boolean {\n    // In some cases, such as if we've stickied a post, an event post\n    // may have been added / removed. This means that `this.visibleEnd`\n    // and`this.count()` will be out of sync by 1 post, but we are still\n    // \"viewing the end\" of the post stream, so we should still reload\n    // all posts up until the last one.\n    return Math.abs(this.count() - this.visibleEnd) <= 1;\n  }\n\n  /**\n   * Make sure that the given index is not outside of the possible range of\n   * indexes in the discussion.\n   */\n  sanitizeIndex(index: number) {\n    return Math.max(0, Math.min(this.count(), Math.floor(index)));\n  }\n}\n","export default class SearchState {\n  protected cachedSearches: Set<string>;\n  protected value: string = '';\n\n  constructor(cachedSearches: string[] = []) {\n    this.cachedSearches = new Set(cachedSearches);\n  }\n\n  /**\n   * If we are displaying the full results of a search (not just a preview),\n   * this value should return the query that prompted that search.\n   *\n   * In this generic class, full page searching is not supported.\n   * This method should be implemented by subclasses that do support it.\n   *\n   * @see Search\n   */\n  getInitialSearch(): string {\n    return '';\n  }\n\n  getValue(): string {\n    return this.value;\n  }\n\n  setValue(value: string) {\n    this.value = value;\n  }\n\n  /**\n   * Clear the search value.\n   */\n  clear() {\n    this.setValue('');\n  }\n\n  /**\n   * Mark that we have already searched for this query so that we don't\n   * have to ping the endpoint again.\n   */\n  cache(query: string) {\n    this.cachedSearches.add(query);\n  }\n\n  /**\n   * Check if this query has been searched before.\n   */\n  isCached(query: string): boolean {\n    return this.cachedSearches.has(query);\n  }\n}\n","import AccessToken from '../../common/models/AccessToken';\n\nexport default class UserSecurityPageState {\n  protected tokens: AccessToken[] | null = null;\n  public loadingTerminateSessions: boolean = false;\n  public loadingGlobalLogout: boolean = false;\n\n  public hasLoadedTokens(): boolean {\n    return this.tokens !== null;\n  }\n\n  public getTokens(): AccessToken[] | null {\n    return this.tokens;\n  }\n\n  public setTokens(tokens: AccessToken[]): void {\n    this.tokens = tokens;\n  }\n\n  public pushToken(token: AccessToken): void {\n    this.tokens?.push(token);\n  }\n\n  public removeToken(token: AccessToken): void {\n    this.tokens = this.tokens!.filter((t) => t !== token);\n  }\n\n  public getSessionTokens(): AccessToken[] {\n    return this.tokens?.filter((token) => token.isSessionToken()).sort((a, b) => (b.isCurrent() ? 1 : -1)) || [];\n  }\n\n  public getDeveloperTokens(): AccessToken[] | null {\n    return this.tokens?.filter((token) => !token.isSessionToken()) || null;\n  }\n\n  /**\n   * Look up session tokens other than the current one.\n   */\n  public getOtherSessionTokens(): AccessToken[] {\n    return this.tokens?.filter((token) => token.isSessionToken() && !token.isCurrent()) || [];\n  }\n\n  public hasOtherActiveSessions(): boolean {\n    return (this.getOtherSessionTokens() || []).length > 0;\n  }\n\n  public removeOtherSessionTokens() {\n    this.tokens = this.tokens!.filter((token) => !token.isSessionToken() || token.isCurrent());\n  }\n}\n","import setRouteWithForcedRefresh from '../../common/utils/setRouteWithForcedRefresh';\nimport IHistory, { HistoryEntry } from '../../common/IHistory';\n\n/**\n * The `History` class keeps track and manages a stack of routes that the user\n * has navigated to in their session.\n *\n * An item can be pushed to the top of the stack using the `push` method. An\n * item in the stack has a name and a URL. The name need not be unique; if it is\n * the same as the item before it, that will be overwritten with the new URL. In\n * this way, if a user visits a discussion, and then visits another discussion,\n * popping the history stack will still take them back to the discussion list\n * rather than the previous discussion.\n */\nexport default class History implements IHistory {\n  /**\n   * The stack of routes that have been navigated to.\n   */\n  protected stack: HistoryEntry[] = [];\n\n  /**\n   * Get the item on the top of the stack.\n   */\n  getCurrent(): HistoryEntry {\n    return this.stack[this.stack.length - 1];\n  }\n\n  /**\n   * Get the previous item on the stack.\n   */\n  getPrevious(): HistoryEntry {\n    return this.stack[this.stack.length - 2];\n  }\n\n  /**\n   * Push an item to the top of the stack.\n   *\n   * @param {string} name The name of the route.\n   * @param {string} title The title of the route.\n   * @param {string} [url] The URL of the route. The current URL will be used if\n   *     not provided.\n   */\n  push(name: string, title: string, url = m.route.get()) {\n    // If we're pushing an item with the same name as second-to-top item in the\n    // stack, we will assume that the user has clicked the 'back' button in\n    // their browser. In this case, we don't want to push a new item, so we will\n    // pop off the top item, and then the second-to-top item will be overwritten\n    // below.\n    const secondTop = this.stack[this.stack.length - 2];\n    if (secondTop && secondTop.name === name) {\n      this.stack.pop();\n    }\n\n    // If we're pushing an item with the same name as the top item in the stack,\n    // then we'll overwrite it with the new URL.\n    const top = this.getCurrent();\n    if (top && top.name === name) {\n      Object.assign(top, { url, title });\n    } else {\n      this.stack.push({ name, url, title });\n    }\n  }\n\n  /**\n   * Check whether or not the history stack is able to be popped.\n   */\n  canGoBack(): boolean {\n    return this.stack.length > 1;\n  }\n\n  /**\n   * Go back to the previous route in the history stack.\n   */\n  back() {\n    if (!this.canGoBack()) {\n      return this.home();\n    }\n\n    this.stack.pop();\n\n    m.route.set(this.getCurrent().url);\n  }\n\n  /**\n   * Get the URL of the previous page.\n   */\n  backUrl(): string {\n    const secondTop = this.stack[this.stack.length - 2];\n\n    return secondTop.url;\n  }\n\n  /**\n   * Go to the first route in the history stack.\n   */\n  home() {\n    this.stack.splice(0);\n\n    setRouteWithForcedRefresh('/');\n  }\n}\n","/**\n * @see https://stackoverflow.com/a/31732310\n */\nexport default function isSafariMobile(): boolean {\n  return (\n    'ontouchstart' in window &&\n    navigator.vendor != null &&\n    navigator.vendor.includes('Apple') &&\n    navigator.userAgent != null &&\n    !navigator.userAgent.includes('CriOS') &&\n    !navigator.userAgent.includes('FxiOS')\n  );\n}\n","/**\n * Replaces rich tags with elements, as per a provided handler.\n * No spaces allowed in tag name, syntax MUST be <TAG_NAME>SOME_CONTENTS</TAG_NAME>.\n * Currently does not support tags with attributes.\n * Currently does not support self closing tags.\n *\n * @param {String[]|any[]} message\n * @param {Object} values\n * @param {Function} handler\n * @param {Number[]} [dontUnescapeIndices]\n * @return {String[]|any[]}\n */\nexport function replaceRichTags(message, values, handler, dontUnescapeIndices = []) {\n\tconst result = [];\n\n\tconst onTagClose = (\n\t\tsegment,\n\t\tcurrTagIsClosing,\n\t\tcurrTag,\n\t\ti,\n\t\tj,\n\t\tcurrTagStart\n\t) => {\n\t\tif (currTagIsClosing) {\n\t\t\treturn {\n\t\t\t\tbreak: true\n\t\t\t};\n\t\t}\n\n\t\tconst endingLocation = findClosingTag(message, currTag, i, j);\n\n\t\tif (!endingLocation) {\n\t\t  return result;\n\t\t}\n\n\t\tconst entireTagInSegment = endingLocation.segmentIndex === i;\n\t\tconst segmentContainingClosingTag = message[endingLocation.segmentIndex];\n\n\t\tconst tagContents = [];\n\n\t\tif (entireTagInSegment) {\n\t\t\ttagContents.push(segment.slice(j + 1, endingLocation.segmentStart));\n\t\t}\n\t\telse {\n\t\t\ttagContents.push(segment.slice(j + 1));\n\n\t\t\tfor (let k = i + 1; k < endingLocation.segmentIndex; k++) {\n\t\t\t\ttagContents.push(message[k]);\n\t\t\t}\n\t\t\ttagContents.push(\n\t\t\t\tsegmentContainingClosingTag.slice(0, endingLocation.segmentStart)\n\t\t\t);\n\t\t}\n\n\t\tresult.push(segment.slice(0, currTagStart));\n\n\t\tresult.push(\n\t\t\thandler(\n\t\t\t\tcurrTag,\n\t\t\t\tvalues,\n\t\t\t\treplaceRichTags(\n\t\t\t\t\ttagContents.filter((s) => s !== ''),\n\t\t\t\t\tvalues,\n\t\t\t\t\thandler\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\n\t\tmessage.splice(\n\t\t\tendingLocation.segmentIndex + 1,\n\t\t\t0,\n\t\t\tsegmentContainingClosingTag.slice(endingLocation.segmentEnd + 1)\n\t\t);\n\n\t\treturn {\n\t\t\tprocessedSegment: true,\n\t\t\tnewSegmentIndex: endingLocation.segmentIndex,\n\t\t\tbreak: true\n\t\t};\n\t};\n\n\ttraverseMessageTags(message, 0, 0, result, onTagClose);\n\n\treturn result.filter((s) => s !== '').map((s, i) => dontUnescapeIndices.includes(i) ? s : unEscapeHtml(s));\n}\n\n/**\n * Finds the index of the matching closing tag, including through strings that\n * could have nested tags.\n *\n * @param {String[]|any[]} message\n * @param {String} tag\n * @param {Number} startIndex\n * @param {Number} startSegmentIndex\n * @return {Boolean}\n */\nfunction findClosingTag(message, tag, startIndex, startSegmentIndex) {\n\tlet position; // set in callback\n\tlet depth = 1;\n\n\tconst onTagClose = (\n\t\tsegment,\n\t\tcurrTagIsClosing,\n\t\tcurrTag,\n\t\ti,\n\t\tj,\n\t\tcurrTagStart\n\t) => {\n\t\tif (currTag === tag) {\n\t\t\tif (currTagIsClosing) {\n\t\t\t\tdepth--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdepth++;\n\t\t\t}\n\n\t\t\tif (depth === 0) {\n\t\t\t\tposition = {\n\t\t\t\t\tsegmentIndex: i,\n\t\t\t\t\tsegmentStart: currTagStart,\n\t\t\t\t\tsegmentEnd: j\n\t\t\t\t};\n\n\t\t\t\treturn { exit: true };\n\t\t\t}\n\t\t}\n\n\t\treturn { exit: false };\n\t};\n\n\ttraverseMessageTags(message, startIndex, startSegmentIndex, [], onTagClose);\n\n\treturn position;\n}\n\nfunction traverseMessageTags(message, startI, startJ, result, onTagClose) {\n\tconst isHtmlTagChar = (ch) => /[a-zA-Z-_]/.test(ch);\n\tfor (let i = startI; i < message.length; i++) {\n\t\tconst segment = message[i];\n\n\t\tif (typeof segment !== 'string') {\n\t\t\tresult.push(segment);\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet currTagIsClosing = false;\n\t\tlet currTagStart = null;\n\t\tlet inTag = false;\n\n\t\tlet processedSegment = false;\n\t\tfor (let j = i === startI ? startJ : 0; j < segment.length; j++) {\n\t\t\t// Start of tag\n\t\t\tif (!inTag && segment[j] === '<') {\n\t\t\t\tcurrTagStart = j;\n\t\t\t\tinTag = true;\n\n\t\t\t\tif (segment[j + 1] === '/') {\n\t\t\t\t\tcurrTagIsClosing = true;\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Tag ended\n\t\t\telse if (inTag && segment[j] === '>') {\n\t\t\t\tconst currTag = segment.slice(currTagStart + 1 + currTagIsClosing, j);\n\n\t\t\t\tconst instructions = onTagClose(\n\t\t\t\t\tsegment,\n\t\t\t\t\tcurrTagIsClosing,\n\t\t\t\t\tcurrTag,\n\t\t\t\t\ti,\n\t\t\t\t\tj,\n\t\t\t\t\tcurrTagStart\n\t\t\t\t);\n\n\t\t\t\tif (instructions.exit) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (instructions.newSegmentIndex) {\n\t\t\t\t\ti = instructions.newSegmentIndex;\n\t\t\t\t}\n\t\t\t\tif (instructions.processedSegment) {\n\t\t\t\t\tprocessedSegment = true;\n\t\t\t\t}\n\t\t\t\tif (instructions.break) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcurrTagIsClosing = false;\n\t\t\t\tcurrTagStart = null;\n\t\t\t\tinTag = false;\n\t\t\t}\n\n\t\t\t// Not a valid tag, reset state.\n\t\t\telse if (inTag && !isHtmlTagChar(segment[j])) {\n\t\t\t\tcurrTagIsClosing = false;\n\t\t\t\tcurrTagStart = null;\n\t\t\t\tinTag = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!processedSegment) {\n\t\t\tresult.push(segment);\n\t\t}\n\t}\n}\n\n/**\n * Escapes HTML markup in string and nested array arguments.\n *\n * @param {Object} values\n * @return {Object}\n */\nexport function sanitizeValues(values) {\n\treturn Object.keys(values).reduce((acc, key) => {\n\t\tacc[key] = recSanitizeArr(values[key]);\n\n\t\treturn acc;\n\t}, {});\n}\n\n/**\n * De-sanitizes HTML markup.\n *\n * @param {any} str\n * @return {string}\n */\nexport function unEscapeHtml(str) {\n\tif (typeof str !== 'string') {\n\t\treturn str;\n\t}\n\n\treturn str\n\t\t.replace(/&lt;/g, '<')\n\t\t.replace(/&gt;/g, '>')\n\t\t.replace(/&quot;/g, '\"')\n\t\t.replace(/&#039;/g, \"'\")\n\t\t.replace(/&amp;/g, '&');\n}\n\n/**\n * Recursively escape HTML in string or string array.\n *\n * @param {string[]|string} input\n * @return {string[]|string}\n */\nexport function recSanitizeArr(input) {\n\tif (typeof input === 'string' || input instanceof String) {\n\t\treturn input\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#039;');\n\t}\n\telse if (Array.isArray(input)) {\n\t\treturn input.map(recSanitizeArr);\n\t}\n\n\treturn input;\n}\n","import { unEscapeHtml } from './utilities';\n\nexport default function defaultRichHandler(tag, values, contents) {\n\treturn `<${tag}>${unEscapeHtml(contents)}</${tag}>`;\n}\n","import { MessageFormatter } from '@ultraq/icu-message-formatter';\nimport { flatten } from '@ultraq/array-utils';\n\nimport defaultRichHandler from './defaultRichHandler';\nimport { replaceRichTags, sanitizeValues } from './utilities';\n\nexport default class RichMessageFormatter extends MessageFormatter {\n\tconstructor(locale, typeHandlers = {}, richHandler = null) {\n\t\tsuper(locale, typeHandlers);\n\t\tthis.richHandler = richHandler ? richHandler : defaultRichHandler;\n\t}\n\n\trich(message, values = {}) {\n\t\tconst cleanedValues = sanitizeValues(values);\n\n\t\tconst formatted = flatten(this.process(message, cleanedValues));\n\n\t\t// TODO\n\t\t// Should be a symbol but isn't because of conversion issues.\n\t\t// We use a random string instead. \n\t\tlet sym = Math.random().toString(36) + Math.random().toString(36) + Math.random().toString(36);\n\t\tconst fakeValues = Object.fromEntries(Object.entries(values).map(([key, _value]) => [key, sym]));\n\t\tconst formattedFake = flatten(this.process(message, fakeValues));\n\t\tconst replaceFake = replaceRichTags(formattedFake, fakeValues, () => sym);\n\t\tconst originalTemplateSegmentIndices = replaceFake.map((v, i) => v === sym ? null: i).filter(i => i !== null);\n\n\t\treturn replaceRichTags(formatted, cleanedValues, this.richHandler, originalTemplateSegmentIndices);\n\t}\n}\n","import { unEscapeHtml } from './utilities';\n\nexport default function mithrilRichHandler(tag, values, contents) {\n\tconst vnode = values[tag] || m(tag);\n\tlet children = unEscapeHtml(m.fragment(contents).children);\n\treturn { ...vnode, children };\n}\n","/* \n * Copyright 2017, Emanuel Rabina (http://www.ultraq.net.nz/)\n * \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *     http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Flattens an array of arrays of infinite depth into a single-dimension array.\n * \n * > This is now natively in JavaScript as the `flat` method on an Array\n * > instance.  [Check MDN for which browsers have access to this feature](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat).\n * > If you can't use `flat`, then this method will do the job \n * \n * @param {Array} array\n * @return {Array} Flattened array.\n */\nexport function flatten(array) {\n\n\treturn array.reduce((accumulator, value) => {\n\t\treturn accumulator.concat(Array.isArray(value) ? flatten(value) : value);\n\t}, []);\n}\n\n/**\n * Creates an array of numbers from the starting value (inclusive) to the end\n * (exclusive), with an optional step (the gap between values).\n * \n * @param {Number} start\n *   The value to start at, the first item in the returned array.\n * @param {Number} end\n *   The value to end with, the last item in the returned array.\n * @param {Number} [step=1]\n *   The increment/gap between values, defaults to 1.\n * @return {Array} An array encompassing the given range.\n */\nexport function range(start, end, step = 1) {\n\n\treturn Array.apply(0, Array(Math.ceil((end - start) / step))).map((empty, index) => index * step + start);\n}\n\n/**\n * Remove and return the first item from `array` that matches the predicate\n * function.\n * \n * @param {Array} array\n * @param {Function} predicate\n *   Invoked with the array item.\n * @return {Object} The matching item, or `null` if no match was found.\n */\nexport function remove(array, predicate) {\n\n\treturn array.find((item, index) => {\n\t\tif (predicate(item)) {\n\t\t\tarray.splice(index, 1);\n\t\t\treturn item;\n\t\t}\n\t});\n}\n","/**\n * A higher-order function to apply [memoization](https://en.wikipedia.org/wiki/Memoization).\n * \n * If memoizing a recursive function, then memoize and define the function at\n * the same time so you can make a call to the memoized function, eg:\n * \n * ```javascript\n * const myFunction = memoize(() => myFunction());\n * ```\n * \n * @param {Function} func\n * @return {Function} \n */\nexport function memoize(func) {\n\tconst cache = {};\n\treturn function(...args) {\n\t\tlet key = args.length ? args\n\t\t\t.map(arg =>\n\t\t\t\targ === null ? 'null' :\n\t\t\t\targ === undefined ? 'undefined' :\n\t\t\t\ttypeof arg === 'function' ? arg.toString() :\n\t\t\t\targ instanceof Date ? arg.toISOString() :\n\t\t\t\tJSON.stringify(arg)\n\t\t\t)\n\t\t\t.join('|') :\n\t\t\t'_(no-args)_';\n\t\tif (Object.prototype.hasOwnProperty.call(cache, key)) {\n\t\t\treturn cache[key];\n\t\t}\n\t\tlet result = func(...args);\n\t\tcache[key] = result;\n\t\treturn result;\n\t};\n}\n","/* \n * Copyright 2019, Emanuel Rabina (http://www.ultraq.net.nz/)\n * \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *     http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {findClosingBracket, splitFormattedArgument} from './utilities.js';\n\nimport {flatten} from '@ultraq/array-utils';\nimport {memoize} from '@ultraq/function-utils';\n\n/**\n * The main class for formatting messages.\n * \n * @author Emanuel Rabina\n */\nexport default class MessageFormatter {\n\n\t/**\n\t * Creates a new formatter that can work using any of the custom type handlers\n\t * you register.\n\t * \n\t * @param {String} locale\n\t * @param {Object} [typeHandlers={}]\n\t *   Optional object where the keys are the names of the types to register,\n\t *   their values being the functions that will return a nicely formatted\n\t *   string for the data and locale they are given.\n\t */\n\tconstructor(locale, typeHandlers = {}) {\n\n\t\tthis.locale = locale;\n\t\tthis.typeHandlers = typeHandlers;\n\t}\n\n\t/**\n\t * Formats an ICU message syntax string using `values` for placeholder data\n\t * and any currently-registered type handlers.\n\t * \n\t * @param {String} message\n\t * @param {Object} [values={}]\n\t * @return {String}\n\t */\n\tformat = memoize((message, values = {}) => {\n\n\t\treturn flatten(this.process(message, values)).join('');\n\t})\n\n\t/**\n\t * Process an ICU message syntax string using `values` for placeholder data\n\t * and any currently-registered type handlers.  The result of this method is\n\t * an array of the component parts after they have been processed in turn by\n\t * their own type handlers.  This raw output is useful for other renderers,\n\t * eg: React where components can be used instead of being forced to return\n\t * raw strings.\n\t * \n\t * This method is used by {@link MessageFormatter#format} where it acts as a\n\t * string renderer.\n\t * \n\t * @param {String} message\n\t * @param {Object} [values={}]\n\t * @return {Array}\n\t */\n\tprocess(message, values = {}) {\n\n\t\tif (!message) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet blockStartIndex = message.indexOf('{');\n\t\tif (blockStartIndex !== -1) {\n\t\t\tlet blockEndIndex = findClosingBracket(message, blockStartIndex);\n\t\t\tif (blockEndIndex !== -1) {\n\t\t\t\tlet block = message.substring(blockStartIndex, blockEndIndex + 1);\n\t\t\t\tif (block) {\n\t\t\t\t\tlet result = [];\n\t\t\t\t\tlet head = message.substring(0, blockStartIndex);\n\t\t\t\t\tif (head) {\n\t\t\t\t\t\tresult.push(head);\n\t\t\t\t\t}\n\t\t\t\t\tlet [key, type, format] = splitFormattedArgument(block);\n\t\t\t\t\tlet body = values[key];\n\t\t\t\t\tif (body === null || body === undefined) {\n\t\t\t\t\t\tbody = '';\n\t\t\t\t\t}\n\t\t\t\t\tlet typeHandler = type && this.typeHandlers[type];\n\t\t\t\t\tresult.push(typeHandler ?\n\t\t\t\t\t\ttypeHandler(body, format, this.locale, values, this.process.bind(this)) :\n\t\t\t\t\t\tbody);\n\t\t\t\t\tlet tail = message.substring(blockEndIndex + 1);\n\t\t\t\t\tif (tail) {\n\t\t\t\t\t\tresult.push(this.process(tail, values));\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow new Error(`Unbalanced curly braces in string: \"${message}\"`);\n\t\t\t}\n\t\t}\n\t\treturn [message];\n\t}\n}\n","/* \n * Copyright 2019, Emanuel Rabina (http://www.ultraq.net.nz/)\n * \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *     http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {parseCases} from './utilities.js';\n\nlet pluralFormatter;\n\nlet keyCounter = 0;\n\n// All the special keywords that can be used in `plural` blocks for the various branches\nconst ONE   = 'one';\nconst OTHER = 'other';\n\n/**\n * @private\n * @param {String} caseBody\n * @param {Number} value\n * @return {Object} {caseBody: string, numberValues: object}\n */\nfunction replaceNumberSign(caseBody, value) {\n\tlet i = 0;\n\tlet output = '';\n\tlet numBraces = 0;\n\tconst numberValues = {};\n\n\twhile (i < caseBody.length) {\n\t\tif (caseBody[i] === '#' && !numBraces) {\n\t\t\tlet keyParam = `__hashToken${keyCounter++}`;\n\t\t\toutput += `{${keyParam}, number}`;\n\t\t\tnumberValues[keyParam] = value;\n\t\t}\n\t\telse {\n\t\t\toutput += caseBody[i];\n\t\t}\n\n\t\tif (caseBody[i] === '{') {\n\t\t\tnumBraces++;\n\t\t}\n\t\telse if (caseBody[i] === '}') {\n\t\t\tnumBraces--;\n\t\t}\n\n\t\ti++;\n\t}\n\n\treturn {\n\t\tcaseBody: output,\n\t\tnumberValues\n\t};\n}\n\n/**\n * Handler for `plural` statements within ICU message syntax strings.  Returns\n * a formatted string for the branch that closely matches the current value.\n * \n * See https://formatjs.io/docs/core-concepts/icu-syntax#plural-format for more\n * details on how the `plural` statement works.\n * \n * @param {String} value\n * @param {String} matches\n * @param {String} locale\n * @param {String} values\n * @param {Function} format\n * @return {String}\n */\nexport default function pluralTypeHandler(value, matches = '', locale, values, format) {\n\tconst { args, cases } = parseCases(matches);\n\n\tlet intValue = parseInt(value);\n\n\targs.forEach((arg) => {\n\t\tif (arg.startsWith('offset:')) {\n\t\t\tintValue -= parseInt(arg.slice('offset:'.length));\n\t\t}\n\t});\n\n\tconst keywordPossibilities = [];\n\n\tif ('PluralRules' in Intl) {\n\t\t// Effectively memoize because instantiation of `Int.*` objects is expensive.\n\t\tif (pluralFormatter === undefined || pluralFormatter.resolvedOptions().locale !== locale) {\n\t\t\tpluralFormatter = new Intl.PluralRules(locale);\n\t\t}\n\n\t\tconst pluralKeyword = pluralFormatter.select(intValue);\n\n\t\t// Other is always added last with least priority, so we don't want to add it here.\n\t\tif (pluralKeyword !== OTHER) {\n\t\t\tkeywordPossibilities.push(pluralKeyword);\n\t\t}\n\t}\n\tif (intValue === 1) {\n\t\tkeywordPossibilities.push(ONE);\n\t}\n\tkeywordPossibilities.push(`=${intValue}`, OTHER);\n\n\tfor (let i = 0; i < keywordPossibilities.length; i++) {\n\t\tconst keyword = keywordPossibilities[i];\n\t\tif (keyword in cases) {\n\t\t\tconst { caseBody, numberValues } = replaceNumberSign(cases[keyword], intValue);\n\t\t\treturn format(caseBody, {\n\t\t\t\t...values,\n\t\t\t\t...numberValues\n\t\t\t});\n\t\t}\n\t}\n\n\treturn value;\n}\n","/* \n * Copyright 2019, Emanuel Rabina (http://www.ultraq.net.nz/)\n * \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *     http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {parseCases} from './utilities.js';\n\nconst OTHER = 'other';\n\n/**\n * Handler for `select` statements within ICU message syntax strings.  Returns\n * a formatted string for the branch that closely matches the current value.\n * \n * See https://formatjs.io/docs/core-concepts/icu-syntax#select-format for more\n * details on how the `select` statement works.\n * \n * @param {String} value\n * @param {String} matches\n * @param {String} locale\n * @param {String} values\n * @param {Function} format\n * @return {String}\n */\nexport default function selectTypeHandler(value, matches = '', locale, values, format) {\n\tconst { cases } = parseCases(matches);\n\n\tif (value in cases) {\n\t\treturn format(cases[value], values);\n\t}\n\telse if (OTHER in cases) {\n\t\treturn format(cases[OTHER], values);\n\t}\n\n\treturn value;\n}\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPosition = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      var computedBodyPaddingRight = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'), 10);\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = computedBodyPaddingRight + scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\nvar setPositionFixed = function setPositionFixed() {\n  return window.requestAnimationFrame(function () {\n    // If previousBodyPosition is already set, don't set it again.\n    if (previousBodyPosition === undefined) {\n      previousBodyPosition = {\n        position: document.body.style.position,\n        top: document.body.style.top,\n        left: document.body.style.left\n      };\n\n      // Update the dom inside an animation frame \n      var _window = window,\n          scrollY = _window.scrollY,\n          scrollX = _window.scrollX,\n          innerHeight = _window.innerHeight;\n\n      document.body.style.position = 'fixed';\n      document.body.style.top = -scrollY;\n      document.body.style.left = -scrollX;\n\n      setTimeout(function () {\n        return window.requestAnimationFrame(function () {\n          // Attempt to check if the bottom bar appeared due to the position change\n          var bottomBarHeight = innerHeight - window.innerHeight;\n          if (bottomBarHeight && scrollY >= innerHeight) {\n            // Move the content further up so that the bottom bar doesn't hide it\n            document.body.style.top = -(scrollY + bottomBarHeight);\n          }\n        });\n      }, 300);\n    }\n  });\n};\n\nvar restorePositionSetting = function restorePositionSetting() {\n  if (previousBodyPosition !== undefined) {\n    // Convert the position from \"px\" to Int\n    var y = -parseInt(document.body.style.top, 10);\n    var x = -parseInt(document.body.style.left, 10);\n\n    // Restore styles\n    document.body.style.position = previousBodyPosition.position;\n    document.body.style.top = previousBodyPosition.top;\n    document.body.style.left = previousBodyPosition.left;\n\n    // Restore scroll\n    window.scrollTo(x, y);\n\n    previousBodyPosition = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    setPositionFixed();\n  } else {\n    setOverflowHidden(options);\n  }\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  }\n\n  if (isIosDevice) {\n    restorePositionSetting();\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  }\n\n  if (isIosDevice) {\n    restorePositionSetting();\n  } else {\n    restoreOverflowSetting();\n  }\n};\n\n","/* ========================================================================\n * Bootstrap: affix.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#affix\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    var target = this.options.target === Affix.DEFAULTS.target ? $(this.options.target) : $(document).find(this.options.target)\n\n    this.$target = target\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.4.1'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: dropdown.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.4.1'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector !== '#' ? $(document).find(selector) : null\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: tooltip.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n+function ($) {\n  'use strict';\n\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn']\n\n  var uriAttrs = [\n    'background',\n    'cite',\n    'href',\n    'itemtype',\n    'longdesc',\n    'poster',\n    'src',\n    'xlink:href'\n  ]\n\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\n  var DefaultWhitelist = {\n    // Global attributes allowed on any supplied element below.\n    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n    a: ['target', 'href', 'title', 'rel'],\n    area: [],\n    b: [],\n    br: [],\n    col: [],\n    code: [],\n    div: [],\n    em: [],\n    hr: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    i: [],\n    img: ['src', 'alt', 'title', 'width', 'height'],\n    li: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    u: [],\n    ul: []\n  }\n\n  /**\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi\n\n  /**\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i\n\n  function allowedAttribute(attr, allowedAttributeList) {\n    var attrName = attr.nodeName.toLowerCase()\n\n    if ($.inArray(attrName, allowedAttributeList) !== -1) {\n      if ($.inArray(attrName, uriAttrs) !== -1) {\n        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\n      }\n\n      return true\n    }\n\n    var regExp = $(allowedAttributeList).filter(function (index, value) {\n      return value instanceof RegExp\n    })\n\n    // Check if a regular expression validates the attribute.\n    for (var i = 0, l = regExp.length; i < l; i++) {\n      if (attrName.match(regExp[i])) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {\n    if (unsafeHtml.length === 0) {\n      return unsafeHtml\n    }\n\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\n      return sanitizeFn(unsafeHtml)\n    }\n\n    // IE 8 and below don't support createHTMLDocument\n    if (!document.implementation || !document.implementation.createHTMLDocument) {\n      return unsafeHtml\n    }\n\n    var createdDocument = document.implementation.createHTMLDocument('sanitization')\n    createdDocument.body.innerHTML = unsafeHtml\n\n    var whitelistKeys = $.map(whiteList, function (el, i) { return i })\n    var elements = $(createdDocument.body).find('*')\n\n    for (var i = 0, len = elements.length; i < len; i++) {\n      var el = elements[i]\n      var elName = el.nodeName.toLowerCase()\n\n      if ($.inArray(elName, whitelistKeys) === -1) {\n        el.parentNode.removeChild(el)\n\n        continue\n      }\n\n      var attributeList = $.map(el.attributes, function (el) { return el })\n      var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || [])\n\n      for (var j = 0, len2 = attributeList.length; j < len2; j++) {\n        if (!allowedAttribute(attributeList[j], whitelistedAttributes)) {\n          el.removeAttribute(attributeList[j].nodeName)\n        }\n      }\n    }\n\n    return createdDocument.body.innerHTML\n  }\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n    this.inState    = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.4.1'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    },\n    sanitize : true,\n    sanitizeFn : null,\n    whiteList : DefaultWhitelist\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $(document).find($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n    this.inState   = { click: false, hover: false, focus: false }\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    var dataAttributes = this.$element.data()\n\n    for (var dataAttr in dataAttributes) {\n      if (dataAttributes.hasOwnProperty(dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\n        delete dataAttributes[dataAttr]\n      }\n    }\n\n    options = $.extend({}, this.getDefaults(), dataAttributes, options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    if (options.sanitize) {\n      options.template = sanitizeHtml(options.template, options.whiteList, options.sanitizeFn)\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n    }\n\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\n      self.hoverState = 'in'\n      return\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.isInStateTrue = function () {\n    for (var key in this.inState) {\n      if (this.inState[key]) return true\n    }\n\n    return false\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n    }\n\n    if (self.isInStateTrue()) return\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo($(document).find(this.options.container)) : $tip.insertAfter(this.$element)\n      this.$element.trigger('inserted.bs.' + this.type)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var viewportDim = this.getPosition(this.$viewport)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  += marginTop\n    offset.left += marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    if (this.options.html) {\n      if (this.options.sanitize) {\n        title = sanitizeHtml(title, this.options.whiteList, this.options.sanitizeFn)\n      }\n\n      $tip.find('.tooltip-inner').html(title)\n    } else {\n      $tip.find('.tooltip-inner').text(title)\n    }\n\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n      }\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n    // See https://github.com/twbs/bootstrap/issues/20280\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    if (!this.$tip) {\n      this.$tip = $(this.options.template)\n      if (this.$tip.length != 1) {\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n      }\n    }\n    return this.$tip\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    if (e) {\n      self.inState.click = !self.inState.click\n      if (self.isInStateTrue()) self.enter(self)\n      else self.leave(self)\n    } else {\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      if (that.$tip) {\n        that.$tip.detach()\n      }\n      that.$tip = null\n      that.$arrow = null\n      that.$viewport = null\n      that.$element = null\n    })\n  }\n\n  Tooltip.prototype.sanitizeHtml = function (unsafeHtml) {\n    return sanitizeHtml(unsafeHtml, this.options.whiteList, this.options.sanitizeFn)\n  }\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: transition.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: https://modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // https://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/*!\r\n * Color Thief v2.0\r\n * by Lokesh Dhakar - http://www.lokeshdhakar.com\r\n *\r\n * Thanks\r\n * ------\r\n * Nick Rabinowitz - For creating quantize.js.\r\n * John Schulz - For clean up and optimization. @JFSIII\r\n * Nathan Spady - For adding drag and drop support to the demo page.\r\n *\r\n * License\r\n * -------\r\n * Copyright 2011, 2015 Lokesh Dhakar\r\n * Released under the MIT license\r\n * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE\r\n *\r\n */\r\nvar CanvasImage=function(a){this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),document.body.appendChild(this.canvas),this.width=this.canvas.width=a.width,this.height=this.canvas.height=a.height,this.context.drawImage(a,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},CanvasImage.prototype.update=function(a){this.context.putImageData(a,0,0)},CanvasImage.prototype.getPixelCount=function(){return this.width*this.height},CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};/*!\r\n * quantize.js Copyright 2008 Nick Rabinowitz.\r\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\r\n */\r\n/*!\r\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\r\n * Copyright 2010 Stanford Visualization Group\r\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\r\n */\r\nif(ColorThief.prototype.getColor=function(a,b){var c=this.getPalette(a,5,b),d=c[0];return d},ColorThief.prototype.getPalette=function(a,b,c){\"undefined\"==typeof b&&(b=10),(\"undefined\"==typeof c||1>c)&&(c=10);for(var d,e,f,g,h,i=new CanvasImage(a),j=i.getImageData(),k=j.data,l=i.getPixelCount(),m=[],n=0;l>n;n+=c)d=4*n,e=k[d+0],f=k[d+1],g=k[d+2],h=k[d+3],h>=125&&(e>250&&f>250&&g>250||m.push([e,f,g]));var o=MMCQ.quantize(m,b),p=o?o.palette():null;return i.removeCanvas(),p},!pv)var pv={map:function(a,b){var c={};return b?a.map(function(a,d){return c.index=d,b.call(c,a)}):a.slice()},naturalOrder:function(a,b){return b>a?-1:a>b?1:0},sum:function(a,b){var c={};return a.reduce(b?function(a,d,e){return c.index=e,a+b.call(c,d)}:function(a,b){return a+b},0)},max:function(a,b){return Math.max.apply(null,b?pv.map(a,b):a)}};var MMCQ=function(){function a(a,b,c){return(a<<2*i)+(b<<i)+c}function b(a){function b(){c.sort(a),d=!0}var c=[],d=!1;return{push:function(a){c.push(a),d=!1},peek:function(a){return d||b(),void 0===a&&(a=c.length-1),c[a]},pop:function(){return d||b(),c.pop()},size:function(){return c.length},map:function(a){return c.map(a)},debug:function(){return d||b(),c}}}function c(a,b,c,d,e,f,g){var h=this;h.r1=a,h.r2=b,h.g1=c,h.g2=d,h.b1=e,h.b2=f,h.histo=g}function d(){this.vboxes=new b(function(a,b){return pv.naturalOrder(a.vbox.count()*a.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function e(b){var c,d,e,f,g=1<<3*i,h=new Array(g);return b.forEach(function(b){d=b[0]>>j,e=b[1]>>j,f=b[2]>>j,c=a(d,e,f),h[c]=(h[c]||0)+1}),h}function f(a,b){var d,e,f,g=1e6,h=0,i=1e6,k=0,l=1e6,m=0;return a.forEach(function(a){d=a[0]>>j,e=a[1]>>j,f=a[2]>>j,g>d?g=d:d>h&&(h=d),i>e?i=e:e>k&&(k=e),l>f?l=f:f>m&&(m=f)}),new c(g,h,i,k,l,m,b)}function g(b,c){function d(a){var b,d,e,f,g,h=a+\"1\",j=a+\"2\",k=0;for(i=c[h];i<=c[j];i++)if(o[i]>n/2){for(e=c.copy(),f=c.copy(),b=i-c[h],d=c[j]-i,g=d>=b?Math.min(c[j]-1,~~(i+d/2)):Math.max(c[h],~~(i-1-b/2));!o[g];)g++;for(k=p[g];!k&&o[g-1];)k=p[--g];return e[j]=g,f[h]=e[j]+1,[e,f]}}if(c.count()){var e=c.r2-c.r1+1,f=c.g2-c.g1+1,g=c.b2-c.b1+1,h=pv.max([e,f,g]);if(1==c.count())return[c.copy()];var i,j,k,l,m,n=0,o=[],p=[];if(h==e)for(i=c.r1;i<=c.r2;i++){for(l=0,j=c.g1;j<=c.g2;j++)for(k=c.b1;k<=c.b2;k++)m=a(i,j,k),l+=b[m]||0;n+=l,o[i]=n}else if(h==f)for(i=c.g1;i<=c.g2;i++){for(l=0,j=c.r1;j<=c.r2;j++)for(k=c.b1;k<=c.b2;k++)m=a(j,i,k),l+=b[m]||0;n+=l,o[i]=n}else for(i=c.b1;i<=c.b2;i++){for(l=0,j=c.r1;j<=c.r2;j++)for(k=c.g1;k<=c.g2;k++)m=a(j,k,i),l+=b[m]||0;n+=l,o[i]=n}return o.forEach(function(a,b){p[b]=n-a}),d(h==e?\"r\":h==f?\"g\":\"b\")}}function h(a,c){function h(a,b){for(var c,d=1,e=0;k>e;)if(c=a.pop(),c.count()){var f=g(i,c),h=f[0],j=f[1];if(!h)return;if(a.push(h),j&&(a.push(j),d++),d>=b)return;if(e++>k)return}else a.push(c),e++}if(!a.length||2>c||c>256)return!1;var i=e(a),j=0;i.forEach(function(){j++});var m=f(a,i),n=new b(function(a,b){return pv.naturalOrder(a.count(),b.count())});n.push(m),h(n,l*c);for(var o=new b(function(a,b){return pv.naturalOrder(a.count()*a.volume(),b.count()*b.volume())});n.size();)o.push(n.pop());h(o,c-o.size());for(var p=new d;o.size();)p.push(o.pop());return p}var i=5,j=8-i,k=1e3,l=.75;return c.prototype={volume:function(a){var b=this;return(!b._volume||a)&&(b._volume=(b.r2-b.r1+1)*(b.g2-b.g1+1)*(b.b2-b.b1+1)),b._volume},count:function(b){var c=this,d=c.histo;if(!c._count_set||b){var e,f,g,h=0;for(e=c.r1;e<=c.r2;e++)for(f=c.g1;f<=c.g2;f++)for(g=c.b1;g<=c.b2;g++)index=a(e,f,g),h+=d[index]||0;c._count=h,c._count_set=!0}return c._count},copy:function(){var a=this;return new c(a.r1,a.r2,a.g1,a.g2,a.b1,a.b2,a.histo)},avg:function(b){var c=this,d=c.histo;if(!c._avg||b){var e,f,g,h,j,k=0,l=1<<8-i,m=0,n=0,o=0;for(f=c.r1;f<=c.r2;f++)for(g=c.g1;g<=c.g2;g++)for(h=c.b1;h<=c.b2;h++)j=a(f,g,h),e=d[j]||0,k+=e,m+=e*(f+.5)*l,n+=e*(g+.5)*l,o+=e*(h+.5)*l;k?c._avg=[~~(m/k),~~(n/k),~~(o/k)]:c._avg=[~~(l*(c.r1+c.r2+1)/2),~~(l*(c.g1+c.g2+1)/2),~~(l*(c.b1+c.b2+1)/2)]}return c._avg},contains:function(a){var b=this,c=a[0]>>j;return gval=a[1]>>j,bval=a[2]>>j,c>=b.r1&&c<=b.r2&&gval>=b.g1&&gval<=b.g2&&bval>=b.b1&&bval<=b.b2}},d.prototype={push:function(a){this.vboxes.push({vbox:a,color:a.avg()})},palette:function(){return this.vboxes.map(function(a){return a.color})},size:function(){return this.vboxes.size()},map:function(a){for(var b=this.vboxes,c=0;c<b.size();c++)if(b.peek(c).vbox.contains(a))return b.peek(c).color;return this.nearest(a)},nearest:function(a){for(var b,c,d,e=this.vboxes,f=0;f<e.size();f++)c=Math.sqrt(Math.pow(a[0]-e.peek(f).color[0],2)+Math.pow(a[1]-e.peek(f).color[1],2)+Math.pow(a[2]-e.peek(f).color[2],2)),(b>c||void 0===b)&&(b=c,d=e.peek(f).color);return d},forcebw:function(){var a=this.vboxes;a.sort(function(a,b){return pv.naturalOrder(pv.sum(a.color),pv.sum(b.color))});var b=a[0].color;b[0]<5&&b[1]<5&&b[2]<5&&(a[0].color=[0,0,0]);var c=a.length-1,d=a[c].color;d[0]>251&&d[1]>251&&d[2]>251&&(a[c].color=[255,255,255])}},{quantize:h}}();\r\nmodule.exports = ColorThief;\r\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","\"use strict\";\n\n// eslint-disable-next-line func-names\nmodule.exports = function () {\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n\n  var g;\n\n  try {\n    // This works if eval is allowed (see CSP)\n    // eslint-disable-next-line no-new-func\n    g = this || new Function(\"return this\")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === \"object\") {\n      return window;\n    } // This works if the self reference is available\n\n\n    if (typeof self === \"object\") {\n      return self;\n    } // This works if the global reference is available\n\n\n    if (typeof global !== \"undefined\") {\n      return global;\n    }\n  }\n\n  return g;\n}();","import { tabbable, focusable, isFocusable, isTabbable } from 'tabbable';\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [], // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  const findContainerIndex = function (element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(\n      ({ container, tabbableNodes }) =>\n        container.contains(element) ||\n        // fall back to explicit tabbable search which will take into consideration any\n        //  web components if the `tabbableOptions.getShadowRoot` option was used for\n        //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n        //  look inside web components even if open)\n        tabbableNodes.find((node) => node === element)\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  const getNodeForOption = function (optionName, ...params) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\n          `\\`${optionName}\\` as selector refers to no known node`\n        );\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.containerGroups = state.containers.map((container) => {\n      const tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n      const focusableNodes = focusable(container, config.tabbableOptions);\n\n      return {\n        container,\n        tabbableNodes,\n        focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode:\n          tabbableNodes.length > 0\n            ? tabbableNodes[tabbableNodes.length - 1]\n            : null,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode(node, forward = true) {\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          const nodeIdx = focusableNodes.findIndex((n) => n === node);\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n\n          if (forward) {\n            return focusableNodes\n              .slice(nodeIdx + 1)\n              .find((n) => isTabbable(n, config.tabbableOptions));\n          }\n\n          return focusableNodes\n            .slice(0, nodeIdx)\n            .reverse()\n            .find((n) => isTabbable(n, config.tabbableOptions));\n        },\n      };\n    });\n\n    state.tabbableGroups = state.containerGroups.filter(\n      (group) => group.tabbableNodes.length > 0\n    );\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus:\n          config.returnFocusOnDeactivate &&\n          !isFocusable(target, config.tabbableOptions),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const target = getActualTarget(e);\n    const targetContained = findContainerIndex(target) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    const target = getActualTarget(e);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findContainerIndex(target);\n      const containerGroup =\n        containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target, false)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (e) {\n    if (\n      isEscapeEvent(e) &&\n      valueOrHandler(config.escapeDeactivates, e) !== false\n    ) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n\n    get paused() {\n      return state.paused;\n    },\n\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      const options = {\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus,\n        ...deactivateOptions,\n      };\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate = getOption(options, 'onDeactivate');\n      const onPostDeactivate = getOption(options, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      const returnFocus = getOption(\n        options,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","/*jslint browser: true*/\r\n/*jslint jquery: true*/\r\n\r\n/*\r\n * jQuery Hotkeys Plugin\r\n * Copyright 2010, John Resig\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n *\r\n * Based upon the plugin by Tzury Bar Yochay:\r\n * https://github.com/tzuryby/jquery.hotkeys\r\n *\r\n * Original idea by:\r\n * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/\r\n */\r\n\r\n/*\r\n * One small change is: now keys are passed by object { keys: '...' }\r\n * Might be useful, when you want to pass some other data to your handler\r\n */\r\n\r\n(function(jQuery) {\r\n\r\n  jQuery.hotkeys = {\r\n    version: \"0.2.0\",\r\n\r\n    specialKeys: {\r\n      8: \"backspace\",\r\n      9: \"tab\",\r\n      10: \"return\",\r\n      13: \"return\",\r\n      16: \"shift\",\r\n      17: \"ctrl\",\r\n      18: \"alt\",\r\n      19: \"pause\",\r\n      20: \"capslock\",\r\n      27: \"esc\",\r\n      32: \"space\",\r\n      33: \"pageup\",\r\n      34: \"pagedown\",\r\n      35: \"end\",\r\n      36: \"home\",\r\n      37: \"left\",\r\n      38: \"up\",\r\n      39: \"right\",\r\n      40: \"down\",\r\n      45: \"insert\",\r\n      46: \"del\",\r\n      59: \";\",\r\n      61: \"=\",\r\n      96: \"0\",\r\n      97: \"1\",\r\n      98: \"2\",\r\n      99: \"3\",\r\n      100: \"4\",\r\n      101: \"5\",\r\n      102: \"6\",\r\n      103: \"7\",\r\n      104: \"8\",\r\n      105: \"9\",\r\n      106: \"*\",\r\n      107: \"+\",\r\n      109: \"-\",\r\n      110: \".\",\r\n      111: \"/\",\r\n      112: \"f1\",\r\n      113: \"f2\",\r\n      114: \"f3\",\r\n      115: \"f4\",\r\n      116: \"f5\",\r\n      117: \"f6\",\r\n      118: \"f7\",\r\n      119: \"f8\",\r\n      120: \"f9\",\r\n      121: \"f10\",\r\n      122: \"f11\",\r\n      123: \"f12\",\r\n      144: \"numlock\",\r\n      145: \"scroll\",\r\n      173: \"-\",\r\n      186: \";\",\r\n      187: \"=\",\r\n      188: \",\",\r\n      189: \"-\",\r\n      190: \".\",\r\n      191: \"/\",\r\n      192: \"`\",\r\n      219: \"[\",\r\n      220: \"\\\\\",\r\n      221: \"]\",\r\n      222: \"'\"\r\n    },\r\n\r\n    shiftNums: {\r\n      \"`\": \"~\",\r\n      \"1\": \"!\",\r\n      \"2\": \"@\",\r\n      \"3\": \"#\",\r\n      \"4\": \"$\",\r\n      \"5\": \"%\",\r\n      \"6\": \"^\",\r\n      \"7\": \"&\",\r\n      \"8\": \"*\",\r\n      \"9\": \"(\",\r\n      \"0\": \")\",\r\n      \"-\": \"_\",\r\n      \"=\": \"+\",\r\n      \";\": \": \",\r\n      \"'\": \"\\\"\",\r\n      \",\": \"<\",\r\n      \".\": \">\",\r\n      \"/\": \"?\",\r\n      \"\\\\\": \"|\"\r\n    },\r\n\r\n    // excludes: button, checkbox, file, hidden, image, password, radio, reset, search, submit, url\r\n    textAcceptingInputTypes: [\r\n      \"text\", \"password\", \"number\", \"email\", \"url\", \"range\", \"date\", \"month\", \"week\", \"time\", \"datetime\",\r\n      \"datetime-local\", \"search\", \"color\", \"tel\"],\r\n\r\n    // default input types not to bind to unless bound directly\r\n    textInputTypes: /textarea|input|select/i,\r\n\r\n    options: {\r\n      filterInputAcceptingElements: true,\r\n      filterTextInputs: true,\r\n      filterContentEditable: true\r\n    }\r\n  };\r\n\r\n  function keyHandler(handleObj) {\r\n    if (typeof handleObj.data === \"string\") {\r\n      handleObj.data = {\r\n        keys: handleObj.data\r\n      };\r\n    }\r\n\r\n    // Only care when a possible input has been specified\r\n    if (!handleObj.data || !handleObj.data.keys || typeof handleObj.data.keys !== \"string\") {\r\n      return;\r\n    }\r\n\r\n    var origHandler = handleObj.handler,\r\n      keys = handleObj.data.keys.toLowerCase().split(\" \");\r\n\r\n    handleObj.handler = function(event) {\r\n      //      Don't fire in text-accepting inputs that we didn't directly bind to\r\n      if (this !== event.target &&\r\n        (jQuery.hotkeys.options.filterInputAcceptingElements &&\r\n          jQuery.hotkeys.textInputTypes.test(event.target.nodeName) ||\r\n          (jQuery.hotkeys.options.filterContentEditable && jQuery(event.target).attr('contenteditable')) ||\r\n          (jQuery.hotkeys.options.filterTextInputs &&\r\n            jQuery.inArray(event.target.type, jQuery.hotkeys.textAcceptingInputTypes) > -1))) {\r\n        return;\r\n      }\r\n\r\n      var special = event.type !== \"keypress\" && jQuery.hotkeys.specialKeys[event.which],\r\n        character = String.fromCharCode(event.which).toLowerCase(),\r\n        modif = \"\",\r\n        possible = {};\r\n\r\n      jQuery.each([\"alt\", \"ctrl\", \"shift\"], function(index, specialKey) {\r\n\r\n        if (event[specialKey + 'Key'] && special !== specialKey) {\r\n          modif += specialKey + '+';\r\n        }\r\n      });\r\n\r\n      // metaKey is triggered off ctrlKey erronously\r\n      if (event.metaKey && !event.ctrlKey && special !== \"meta\") {\r\n        modif += \"meta+\";\r\n      }\r\n\r\n      if (event.metaKey && special !== \"meta\" && modif.indexOf(\"alt+ctrl+shift+\") > -1) {\r\n        modif = modif.replace(\"alt+ctrl+shift+\", \"hyper+\");\r\n      }\r\n\r\n      if (special) {\r\n        possible[modif + special] = true;\r\n      }\r\n      else {\r\n        possible[modif + character] = true;\r\n        possible[modif + jQuery.hotkeys.shiftNums[character]] = true;\r\n\r\n        // \"$\" can be triggered as \"Shift+4\" or \"Shift+$\" or just \"$\"\r\n        if (modif === \"shift+\") {\r\n          possible[jQuery.hotkeys.shiftNums[character]] = true;\r\n        }\r\n      }\r\n\r\n      for (var i = 0, l = keys.length; i < l; i++) {\r\n        if (possible[keys[i]]) {\r\n          return origHandler.apply(this, arguments);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  jQuery.each([\"keydown\", \"keyup\", \"keypress\"], function() {\r\n    jQuery.event.special[this] = {\r\n      add: keyHandler\r\n    };\r\n  });\r\n\r\n})(jQuery || this.jQuery || window.jQuery);\r\n","/*!\n * jQuery JavaScript Library v3.6.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2022-08-26T17:52Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.6.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.6\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2021-02-16\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem && elem.namespaceURI,\n\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: Chrome 86+\n\t\t\t\t\t\t// In Chrome, if an element having a focusout handler is blurred by\n\t\t\t\t\t\t// clicking outside of it, it invokes the handler synchronously. If\n\t\t\t\t\t\t// that handler calls `.remove()` on the element, the data is cleared,\n\t\t\t\t\t\t// leaving `result` undefined. We need to guard against this.\n\t\t\t\t\t\treturn result && result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is display: block\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\t// trim whitespace for custom property (issue gh-4926)\n\t\tif ( isCustomProp ) {\n\n\t\t\t// rtrim treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" );\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","\"use strict\"\n\nmodule.exports = require(\"./stream/stream\")\n","/* eslint-disable */\n;(function() {\n\"use strict\"\n/* eslint-enable */\nStream.SKIP = {}\nStream.lift = lift\nStream.scan = scan\nStream.merge = merge\nStream.combine = combine\nStream.scanMerge = scanMerge\nStream[\"fantasy-land/of\"] = Stream\n\nvar warnedHalt = false\nObject.defineProperty(Stream, \"HALT\", {\n\tget: function() {\n\t\twarnedHalt || console.log(\"HALT is deprecated and has been renamed to SKIP\");\n\t\twarnedHalt = true\n\t\treturn Stream.SKIP\n\t}\n})\n\nfunction Stream(value) {\n\tvar dependentStreams = []\n\tvar dependentFns = []\n\n\tfunction stream(v) {\n\t\tif (arguments.length && v !== Stream.SKIP) {\n\t\t\tvalue = v\n\t\t\tif (open(stream)) {\n\t\t\t\tstream._changing()\n\t\t\t\tstream._state = \"active\"\n\t\t\t\tdependentStreams.forEach(function(s, i) { s(dependentFns[i](value)) })\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\tstream.constructor = Stream\n\tstream._state = arguments.length && value !== Stream.SKIP ? \"active\" : \"pending\"\n\tstream._parents = []\n\n\tstream._changing = function() {\n\t\tif (open(stream)) stream._state = \"changing\"\n\t\tdependentStreams.forEach(function(s) {\n\t\t\ts._changing()\n\t\t})\n\t}\n\n\tstream._map = function(fn, ignoreInitial) {\n\t\tvar target = ignoreInitial ? Stream() : Stream(fn(value))\n\t\ttarget._parents.push(stream)\n\t\tdependentStreams.push(target)\n\t\tdependentFns.push(fn)\n\t\treturn target\n\t}\n\n\tstream.map = function(fn) {\n\t\treturn stream._map(fn, stream._state !== \"active\")\n\t}\n\n\tvar end\n\tfunction createEnd() {\n\t\tend = Stream()\n\t\tend.map(function(value) {\n\t\t\tif (value === true) {\n\t\t\t\tstream._parents.forEach(function (p) {p._unregisterChild(stream)})\n\t\t\t\tstream._state = \"ended\"\n\t\t\t\tstream._parents.length = dependentStreams.length = dependentFns.length = 0\n\t\t\t}\n\t\t\treturn value\n\t\t})\n\t\treturn end\n\t}\n\n\tstream.toJSON = function() { return value != null && typeof value.toJSON === \"function\" ? value.toJSON() : value }\n\n\tstream[\"fantasy-land/map\"] = stream.map\n\tstream[\"fantasy-land/ap\"] = function(x) { return combine(function(s1, s2) { return s1()(s2()) }, [x, stream]) }\n\n\tstream._unregisterChild = function(child) {\n\t\tvar childIndex = dependentStreams.indexOf(child)\n\t\tif (childIndex !== -1) {\n\t\t\tdependentStreams.splice(childIndex, 1)\n\t\t\tdependentFns.splice(childIndex, 1)\n\t\t}\n\t}\n\n\tObject.defineProperty(stream, \"end\", {\n\t\tget: function() { return end || createEnd() }\n\t})\n\n\treturn stream\n}\n\nfunction combine(fn, streams) {\n\tvar ready = streams.every(function(s) {\n\t\tif (s.constructor !== Stream)\n\t\t\tthrow new Error(\"Ensure that each item passed to stream.combine/stream.merge/lift is a stream\")\n\t\treturn s._state === \"active\"\n\t})\n\tvar stream = ready\n\t\t? Stream(fn.apply(null, streams.concat([streams])))\n\t\t: Stream()\n\n\tvar changed = []\n\n\tvar mappers = streams.map(function(s) {\n\t\treturn s._map(function(value) {\n\t\t\tchanged.push(s)\n\t\t\tif (ready || streams.every(function(s) { return s._state !== \"pending\" })) {\n\t\t\t\tready = true\n\t\t\t\tstream(fn.apply(null, streams.concat([changed])))\n\t\t\t\tchanged = []\n\t\t\t}\n\t\t\treturn value\n\t\t}, true)\n\t})\n\n\tvar endStream = stream.end.map(function(value) {\n\t\tif (value === true) {\n\t\t\tmappers.forEach(function(mapper) { mapper.end(true) })\n\t\t\tendStream.end(true)\n\t\t}\n\t\treturn undefined\n\t})\n\n\treturn stream\n}\n\nfunction merge(streams) {\n\treturn combine(function() { return streams.map(function(s) { return s() }) }, streams)\n}\n\nfunction scan(fn, acc, origin) {\n\tvar stream = origin.map(function(v) {\n\t\tvar next = fn(acc, v)\n\t\tif (next !== Stream.SKIP) acc = next\n\t\treturn next\n\t})\n\tstream(acc)\n\treturn stream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) { return tuple[0] })\n\n\tvar stream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1]\n\t\tstreams.forEach(function(stream, i) {\n\t\t\tif (changed.indexOf(stream) > -1)\n\t\t\t\tseed = tuples[i][1](seed, stream())\n\t\t})\n\n\t\treturn seed\n\t}, streams)\n\n\tstream(seed)\n\n\treturn stream\n}\n\nfunction lift() {\n\tvar fn = arguments[0]\n\tvar streams = Array.prototype.slice.call(arguments, 1)\n\treturn merge(streams).map(function(streams) {\n\t\treturn fn.apply(undefined, streams)\n\t})\n}\n\nfunction open(s) {\n\treturn s._state === \"pending\" || s._state === \"active\" || s._state === \"changing\"\n}\n\nif (typeof module !== \"undefined\") module[\"exports\"] = Stream\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = Stream\nelse window.m = {stream : Stream}\n\n}());\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]:not(slot)',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element.getRootNode()\n    : (element) => element.ownerDocument;\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      const validShadowRoot =\n        !options.shadowRootFilter || options.shadowRootFilter(element);\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\nconst getTabindex = function (node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if (\n      (isScope ||\n        /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        node.isContentEditable) &&\n      isNaN(parseInt(node.getAttribute('tabindex'), 10))\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  const nodeRootHost = getRootNode(node).host;\n  const nodeIsAttached =\n    nodeRootHost?.ownerDocument.contains(nodeRootHost) ||\n    node.ownerDocument.contains(node);\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (nodeIsAttached) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck` mode\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scope;\n    const element = isScope ? item.scope : item;\n    const candidateTabindex = getTabindex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n","/* jshint browser: true */\n\n(function () {\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) el.parentNode.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n  var isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput)\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput)\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nif (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n  module.exports = getCaretCoordinates;\n} else if(isBrowser) {\n  window.getCaretCoordinates = getCaretCoordinates;\n}\n\n}());\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../../babel-loader/lib/index.js??ruleSet[1].rules[0]!./jquery.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"$\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"$\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"$\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"jQuery\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"jQuery\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"jQuery\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../../babel-loader/lib/index.js??ruleSet[1].rules[0]!./color-thief.min.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"ColorThief\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"ColorThief\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"ColorThief\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../babel-loader/lib/index.js??ruleSet[1].rules[0]!./dayjs.min.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"dayjs\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"dayjs\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"dayjs\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../babel-loader/lib/index.js??ruleSet[1].rules[0]!./index.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"m\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"m\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"m\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../babel-loader/lib/index.js??ruleSet[1].rules[0]!./punycode.es6.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"punycode\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"punycode\"] = ___EXPOSE_LOADER_IMPORT___;\nelse throw new Error('[exposes-loader] The \"punycode\" value exists in the global scope, it may not be safe to overwrite it, use the \"override\" option')\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import Component from '../Component';\n\n/**\n * The `ConfirmDocumentUnload` component can be used to register a global\n * event handler that prevents closing the browser window/tab based on the\n * return value of a given callback prop.\n *\n * ### Attrs\n *\n * - `when` - a callback returning true when the browser should prompt for\n *            confirmation before closing the window/tab\n */\nexport default class ConfirmDocumentUnload extends Component {\n  handler() {\n    return this.attrs.when() || undefined;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.boundHandler = this.handler.bind(this);\n    $(window).on('beforeunload', this.boundHandler);\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    $(window).off('beforeunload', this.boundHandler);\n  }\n\n  view(vnode) {\n    return <>{vnode.children}</>;\n  }\n}\n","import Component from '../Component';\nimport listItems from '../helpers/listItems';\n\n/**\n * The `FieldSet` component defines a collection of fields, displayed in a list\n * underneath a title. Accepted properties are:\n *\n * - `className` The class name for the fieldset.\n * - `label` The title of this group of fields.\n *\n * The children should be an array of items to show in the fieldset.\n */\nexport default class FieldSet extends Component {\n  view(vnode) {\n    return (\n      <fieldset className={this.attrs.className}>\n        <legend>{this.attrs.label}</legend>\n        <ul>{listItems(vnode.children)}</ul>\n      </fieldset>\n    );\n  }\n}\n","import Component from '../Component';\nimport extract from '../utils/extract';\n\n/**\n * The link component enables both internal and external links.\n * It will return a regular HTML link for any links to external sites,\n * and it will use Mithril's m.route.Link for any internal links.\n *\n * Links will default to internal; the 'external' attr must be set to\n * `true` for the link to be external.\n */\nexport default class Link extends Component {\n  view(vnode) {\n    let { options = {}, ...attrs } = vnode.attrs;\n\n    attrs.href ||= '';\n\n    // For some reason, m.route.Link does not like vnode.text, so if present, we\n    // need to convert it to text vnodes and store it in children.\n    const children = vnode.children || { tag: '#', children: vnode.text };\n\n    if (attrs.external) {\n      return <a {...attrs}>{children}</a>;\n    }\n\n    // If the href URL of the link is the same as the current page path\n    // we will not add a new entry to the browser history.\n    // This allows us to still refresh the Page component\n    // without adding endless history entries.\n    if (attrs.href === m.route.get()) {\n      if (!('replace' in options)) options.replace = true;\n    }\n\n    // Mithril 2 does not completely rerender the page if a route change leads to the same route\n    // (or the same component handling a different route).\n    // Here, the `force` parameter will use Mithril's key system to force a full rerender\n    // see https://mithril.js.org/route.html#key-parameter\n    if (extract(attrs, 'force')) {\n      if (!('state' in options)) options.state = {};\n      if (!('key' in options.state)) options.state.key = Date.now();\n    }\n\n    attrs.options = options;\n\n    return <m.route.Link {...attrs}>{children}</m.route.Link>;\n  }\n}\n","import Button from './Button';\nimport Link from './Link';\n\n/**\n * The `LinkButton` component defines a `Button` which links to a route.\n *\n * ### Attrs\n *\n * All of the attrs accepted by `Button`, plus:\n *\n * - `active` Whether or not the page that this button links to is currently\n *   active.\n * - `href` The URL to link to. If the current URL `m.route()` matches this,\n *   the `active` prop will automatically be set to true.\n * - `force` Whether the page should be fully rerendered. Defaults to `true`.\n */\nexport default class LinkButton extends Button {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.active = this.isActive(attrs);\n    if (attrs.force === undefined) attrs.force = true;\n  }\n\n  view(vnode) {\n    const vdom = super.view(vnode);\n\n    vdom.tag = Link;\n    vdom.attrs.active = String(vdom.attrs.active);\n    delete vdom.attrs.type;\n\n    return vdom;\n  }\n\n  /**\n   * Determine whether a component with the given attrs is 'active'.\n   *\n   * @param {object} attrs\n   * @return {boolean}\n   */\n  static isActive(attrs) {\n    return typeof attrs.active !== 'undefined' ? attrs.active : m.route.get()?.split('?')[0] === attrs.href?.split('?')[0];\n  }\n}\n","import Component from '../Component';\n\n/**\n * The `Placeholder` component displays a muted text with some call to action,\n * usually used as an empty state.\n *\n * ### Attrs\n *\n * - `text`\n */\nexport default class Placeholder extends Component {\n  view() {\n    return (\n      <div className=\"Placeholder\">\n        <p>{this.attrs.text}</p>\n      </div>\n    );\n  }\n}\n","import Component from '../Component';\nimport icon from '../helpers/icon';\nimport withAttr from '../utils/withAttr';\nimport classList from '../utils/classList';\n\n/**\n * The `Select` component displays a <select> input, surrounded with some extra\n * elements for styling. It accepts the following attrs:\n *\n * - `options` A map of option values to labels.\n * - `onchange` A callback to run when the selected value is changed.\n * - `value` The value of the selected option.\n * - `disabled` Disabled state for the input.\n * - `wrapperAttrs` A map of attrs to be passed to the DOM element wrapping the `<select>`\n *\n * Other attributes are passed directly to the `<select>` element rendered to the DOM.\n */\nexport default class Select extends Component {\n  view() {\n    const {\n      options,\n      onchange,\n      value,\n      disabled,\n      className,\n      class: _class,\n\n      // Destructure the `wrapperAttrs` object to extract the `className` for passing to `classList()`\n      // `= {}` prevents errors when `wrapperAttrs` is undefined\n      wrapperAttrs: { className: wrapperClassName, class: wrapperClass, ...wrapperAttrs } = {},\n\n      ...domAttrs\n    } = this.attrs;\n\n    return (\n      <span className={classList('Select', wrapperClassName, wrapperClass)} {...wrapperAttrs}>\n        <select\n          className={classList('Select-input FormControl', className, _class)}\n          onchange={onchange ? withAttr('value', onchange.bind(this)) : undefined}\n          value={value}\n          disabled={disabled}\n          {...domAttrs}\n        >\n          {Object.keys(options).map((key) => (\n            <option value={key}>{options[key]}</option>\n          ))}\n        </select>\n        {icon('fas fa-sort', { className: 'Select-caret' })}\n      </span>\n    );\n  }\n}\n","import Component from '../Component';\n\n/**\n * The `Separator` component defines a menu separator item.\n */\nclass Separator extends Component {\n  view() {\n    return <li className=\"Dropdown-separator\" />;\n  }\n}\n\nSeparator.isListItem = true;\n\nexport default Separator;\n","import app from '../../common/app';\n\nimport Component from '../Component';\nimport ItemList from '../utils/ItemList';\nimport listItems from '../helpers/listItems';\nimport Button from './Button';\n\nimport BasicEditorDriver from '../utils/BasicEditorDriver';\nimport Tooltip from './Tooltip';\n\n/**\n * The `TextEditor` component displays a textarea with controls, including a\n * submit button.\n *\n * ### Attrs\n *\n * - `composer`\n * - `submitLabel`\n * - `value`\n * - `placeholder`\n * - `disabled`\n * - `preview`\n */\nexport default class TextEditor extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * The value of the editor.\n     *\n     * @type {String}\n     */\n    this.value = this.attrs.value || '';\n\n    /**\n     * Whether the editor is disabled.\n     */\n    this.disabled = !!this.attrs.disabled;\n  }\n\n  view() {\n    return (\n      <div className=\"TextEditor\">\n        <div className=\"TextEditor-editorContainer\"></div>\n\n        <ul className=\"TextEditor-controls Composer-footer\">\n          {listItems(this.controlItems().toArray())}\n          <li className=\"TextEditor-toolbar\">{this.toolbarItems().toArray()}</li>\n        </ul>\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.attrs.composer.editor = this.buildEditor(this.$('.TextEditor-editorContainer')[0]);\n  }\n\n  onupdate(vnode) {\n    super.onupdate(vnode);\n\n    const newDisabled = !!this.attrs.disabled;\n\n    if (this.disabled !== newDisabled) {\n      this.disabled = newDisabled;\n      this.attrs.composer.editor.disabled(newDisabled);\n    }\n  }\n\n  buildEditorParams() {\n    return {\n      classNames: ['FormControl', 'Composer-flexible', 'TextEditor-editor'],\n      disabled: this.disabled,\n      placeholder: this.attrs.placeholder || '',\n      value: this.value,\n      oninput: this.oninput.bind(this),\n      inputListeners: [],\n      onsubmit: () => {\n        this.onsubmit();\n        m.redraw();\n      },\n    };\n  }\n\n  buildEditor(dom) {\n    return new BasicEditorDriver(dom, this.buildEditorParams());\n  }\n\n  /**\n   * Build an item list for the text editor controls.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  controlItems() {\n    const items = new ItemList();\n\n    items.add(\n      'submit',\n      <Button icon=\"fas fa-paper-plane\" className=\"Button Button--primary\" itemClassName=\"App-primaryControl\" onclick={this.onsubmit.bind(this)}>\n        {this.attrs.submitLabel}\n      </Button>\n    );\n\n    if (this.attrs.preview) {\n      items.add(\n        'preview',\n        <Tooltip text={app.translator.trans('core.forum.composer.preview_tooltip')}>\n          <Button icon=\"far fa-eye\" className=\"Button Button--icon\" onclick={this.attrs.preview} />\n        </Tooltip>\n      );\n    }\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the toolbar controls.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  toolbarItems() {\n    return new ItemList();\n  }\n\n  /**\n   * Handle input into the textarea.\n   *\n   * @param {string} value\n   */\n  oninput(value) {\n    this.value = value;\n\n    this.attrs.onchange(this.value);\n  }\n\n  /**\n   * Handle the submit button being clicked.\n   */\n  onsubmit() {\n    this.attrs.onsubmit(this.value);\n  }\n}\n","import extractText from '../utils/extractText';\nimport Button from './Button';\nimport Tooltip from './Tooltip';\n\n/**\n * The `TextEditorButton` component displays a button suitable for the text\n * editor toolbar.\n *\n * Automatically creates tooltips using the Tooltip component and provided text.\n *\n * ## Attrs\n * - `title` - Tooltip for the button\n */\nexport default class TextEditorButton extends Button {\n  view(vnode) {\n    const originalView = super.view(vnode);\n\n    return <Tooltip text={this.attrs.tooltipText || extractText(vnode.children)}>{originalView}</Tooltip>;\n  }\n\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = attrs.className || 'Button Button--icon Button--link';\n    attrs.tooltipText = attrs.title;\n  }\n}\n","import app from '../../common/app';\n\n/**\n * The `punctuateSeries` helper formats a list of strings (e.g. names) to read\n * fluently in the application's locale.\n *\n * ```js\n * punctuateSeries(['Toby', 'Franz', 'Dominion']) // Toby, Franz, and Dominion\n * ```\n *\n * @param {import('mithril').Children[]} items\n * @return {import('mithril').Children}')}\n */\nexport default function punctuateSeries(items) {\n  if (items.length === 2) {\n    return app.translator.trans('core.lib.series.two_text', {\n      first: items[0],\n      second: items[1],\n    });\n  } else if (items.length >= 3) {\n    // If there are three or more items, we will join all but the first and\n    // last items with the equivalent of a comma, and then we will feed that\n    // into the translator along with the first and last item.\n    const second = items\n      .slice(1, items.length - 1)\n      .reduce((list, item) => list.concat([item, app.translator.trans('core.lib.series.glue_text')]), [])\n      .slice(0, -1);\n\n    return app.translator.trans('core.lib.series.three_text', {\n      first: items[0],\n      second,\n      third: items[items.length - 1],\n    });\n  }\n\n  return items;\n}\n","import subclassOf from '../../common/utils/subclassOf';\n\nexport default class PageState {\n  constructor(type, data = {}) {\n    this.type = type;\n    this.data = data;\n  }\n\n  /**\n   * Determine whether the page matches the given class and data.\n   *\n   * @param {object} type The page class to check against. Subclasses are accepted as well.\n   * @param {Record<string, unknown>} data\n   * @return {boolean}\n   */\n  matches(type, data = {}) {\n    // Fail early when the page is of a different type\n    if (!subclassOf(this.type, type)) return false;\n\n    // Now that the type is known to be correct, we loop through the provided\n    // data to see whether it matches the data in our state.\n    return Object.keys(data).every((key) => this.data[key] === data[key]);\n  }\n\n  get(key) {\n    return this.data[key];\n  }\n\n  set(key, value) {\n    this.data[key] = value;\n  }\n}\n","import { createFocusTrap } from './focusTrap';\n\n/**\n * The `Drawer` class controls the page's drawer. The drawer is the area the\n * slides out from the left on mobile devices; it contains the header and the\n * footer.\n */\nexport default class Drawer {\n  /**\n   * @type {import('./focusTrap').FocusTrap}\n   */\n  focusTrap;\n\n  /**\n   * @type {HTMLDivElement}\n   */\n  appElement;\n\n  constructor() {\n    // Set up an event handler so that whenever the content area is tapped,\n    // the drawer will close.\n    document.getElementById('content').addEventListener('click', (e) => {\n      if (this.isOpen()) {\n        e.preventDefault();\n        this.hide();\n      }\n    });\n\n    this.appElement = document.getElementById('app');\n    // Despite the `focus-trap` documentation, both `clickOutsideDeactivates`\n    // and `allowOutsideClick` are necessary so that inputs in modals triggered\n    // from the drawer's nav components can be interacted with.\n    this.focusTrap = createFocusTrap('#drawer', { allowOutsideClick: true, clickOutsideDeactivates: true });\n    this.drawerAvailableMediaQuery = window.matchMedia(\n      `(max-width: ${getComputedStyle(document.documentElement).getPropertyValue('--screen-phone-max')})`\n    );\n  }\n\n  /**\n   * Handler for the `resize` event on `window`.\n   *\n   * This is used to close the drawer when the viewport is widened past the `phone` size.\n   * At this point, the drawer turns into the standard header that we see on desktop, but\n   * the drawer is still registered as 'open' internally.\n   *\n   * This causes issues with the focus trap, resulting in focus becoming trapped within\n   * the header on desktop viewports.\n   *\n   * @internal\n   */\n  resizeHandler = ((e) => {\n    if (!e.matches && this.isOpen()) {\n      // Drawer is open but we've made window bigger, so hide it.\n      this.hide();\n    }\n  }).bind(this);\n\n  /**\n   * @internal\n   * @type {MediaQueryList}\n   */\n  drawerAvailableMediaQuery;\n\n  /**\n   * Check whether or not the drawer is currently open.\n   *\n   * @return {boolean}\n   */\n  isOpen() {\n    return this.appElement.classList.contains('drawerOpen');\n  }\n\n  /**\n   * Hide the drawer.\n   */\n  hide() {\n    /**\n     * As part of hiding the drawer, this function also ensures that the drawer\n     * correctly animates out, while ensuring it is not part of the navigation\n     * tree while off-screen.\n     *\n     * More info: https://github.com/flarum/core/pull/2666#discussion_r595381014\n     */\n\n    this.focusTrap.deactivate();\n    this.drawerAvailableMediaQuery.removeListener(this.resizeHandler);\n\n    if (!this.isOpen()) return;\n\n    const $drawer = $('#drawer');\n\n    // Used to prevent `visibility: hidden` from breaking the exit animation\n    $drawer.css('visibility', 'visible').one('transitionend', () => $drawer.css('visibility', ''));\n\n    this.appElement.classList.remove('drawerOpen');\n\n    this.$backdrop?.remove?.();\n  }\n\n  /**\n   * Show the drawer.\n   */\n  show() {\n    this.appElement.classList.add('drawerOpen');\n\n    this.drawerAvailableMediaQuery.addListener(this.resizeHandler);\n\n    this.$backdrop = $('<div/>').addClass('drawer-backdrop fade').appendTo('body').on('click', this.hide.bind(this));\n\n    requestAnimationFrame(() => {\n      this.$backdrop.addClass('in');\n\n      this.focusTrap.activate();\n    });\n  }\n}\n","/**\n * The `ScrollListener` class sets up a listener that handles window scroll\n * events.\n */\nexport default class ScrollListener {\n  /**\n   * @param {(top: number) => void} callback The callback to run when the scroll position\n   *     changes.\n   */\n  constructor(callback) {\n    this.callback = callback;\n    this.ticking = false;\n  }\n\n  /**\n   * On each animation frame, as long as the listener is active, run the\n   * `update` method.\n   *\n   * @protected\n   */\n  loop() {\n    // THROTTLE: If the callback is still running (or hasn't yet run), we ignore\n    // further scroll events.\n    if (this.ticking) return;\n\n    // Schedule the callback to be executed soon (TM), and stop throttling once\n    // the callback is done.\n    requestAnimationFrame(() => {\n      this.update();\n      this.ticking = false;\n    });\n\n    this.ticking = true;\n  }\n\n  /**\n   * Run the callback, whether there was a scroll event or not.\n   */\n  update() {\n    this.callback(window.pageYOffset);\n  }\n\n  /**\n   * Start listening to and handling the window's scroll position.\n   */\n  start() {\n    if (!this.active) {\n      window.addEventListener('scroll', (this.active = this.loop.bind(this)), { passive: true });\n    }\n  }\n\n  /**\n   * Stop listening to and handling the window's scroll position.\n   */\n  stop() {\n    window.removeEventListener('scroll', this.active);\n\n    this.active = null;\n  }\n}\n","/**\n * The `anchorScroll` utility saves the scroll position relative to an element,\n * and then restores it after a callback has been run.\n *\n * This is useful if a redraw will change the page's content above the viewport.\n * Normally doing this will result in the content in the viewport being pushed\n * down or pulled up. By wrapping the redraw with this utility, the scroll\n * position can be anchor to an element that is in or below the viewport, so\n * the content in the viewport will stay the same.\n *\n * @param {string | HTMLElement | SVGElement | Element} element The element to anchor the scroll position to.\n * @param {() => void} callback The callback to run that will change page content.\n */\nexport default function anchorScroll(element, callback) {\n  const $window = $(window);\n  const relativeScroll = $(element).offset().top - $window.scrollTop();\n\n  callback();\n\n  $window.scrollTop($(element).offset().top - relativeScroll);\n}\n","function bidi(node, prop) {\n  var type = node.tag === 'select' ? (node.attrs.multi ? 'multi' : 'select') : node.attrs.type;\n\n  // Setup: bind listeners\n  if (type === 'multi') {\n    node.attrs.onchange = function () {\n      prop(\n        [].slice.call(this.selectedOptions, function (x) {\n          return x.value;\n        })\n      );\n    };\n  } else if (type === 'select') {\n    node.attrs.onchange = function (e) {\n      prop(this.selectedOptions[0].value);\n    };\n  } else if (type === 'checkbox') {\n    node.attrs.onchange = function (e) {\n      prop(this.checked);\n    };\n  } else {\n    node.attrs.onchange = node.attrs.oninput = function (e) {\n      prop(this.value);\n    };\n  }\n\n  if (node.tag === 'select') {\n    node.children.forEach(function (option) {\n      if (option.attrs.value === prop() || option.children[0] === prop()) {\n        option.attrs.selected = true;\n      }\n    });\n  } else if (type === 'checkbox') {\n    node.attrs.checked = prop();\n  } else if (type === 'radio') {\n    node.attrs.checked = prop() === node.attrs.value;\n  } else {\n    node.attrs.value = prop();\n  }\n\n  node.attrs.bidi = null;\n\n  return node;\n}\n\nbidi.view = function (ctrl, node, prop) {\n  return bidi(node, node.attrs.bidi);\n};\n\nexport default bidi;\n","import { fireDeprecationWarning } from '../helpers/fireDebugWarning';\n\nconst deprecatedNotice = 'The `evented` util is deprecated and no longer supported.';\nconst deprecationIssueId = '2547';\n\n/**\n * The `evented` mixin provides methods allowing an object to trigger events,\n * running externally registered event handlers.\n *\n * @deprecated v1.2, to be removed in v2.0\n */\nexport default {\n  /**\n   * Arrays of registered event handlers, grouped by the event name.\n   *\n   * @type {Record<string, unknown>}\n   * @protected\n   *\n   * @deprecated\n   */\n  handlers: null,\n\n  /**\n   * Get all of the registered handlers for an event.\n   *\n   * @param {string} event The name of the event.\n   * @return {Function[]}\n   * @protected\n   *\n   * @deprecated\n   */\n  getHandlers(event) {\n    fireDeprecationWarning(deprecatedNotice, deprecationIssueId);\n\n    this.handlers = this.handlers || {};\n\n    this.handlers[event] = this.handlers[event] || [];\n\n    return this.handlers[event];\n  },\n\n  /**\n   * Trigger an event.\n   *\n   * @param {string} event The name of the event.\n   * @param {any[]} args Arguments to pass to event handlers.\n   *\n   * @deprecated\n   */\n  trigger(event, ...args) {\n    fireDeprecationWarning(deprecatedNotice, deprecationIssueId);\n\n    this.getHandlers(event).forEach((handler) => handler.apply(this, args));\n  },\n\n  /**\n   * Register an event handler.\n   *\n   * @param {string} event The name of the event.\n   * @param {Function} handler The function to handle the event.\n   *\n   * @deprecated\n   */\n  on(event, handler) {\n    fireDeprecationWarning(deprecatedNotice, deprecationIssueId);\n\n    this.getHandlers(event).push(handler);\n  },\n\n  /**\n   * Register an event handler so that it will run only once, and then\n   * unregister itself.\n   *\n   * @param {string} event The name of the event.\n   * @param {Function} handler The function to handle the event.\n   *\n   * @deprecated\n   */\n  one(event, handler) {\n    fireDeprecationWarning(deprecatedNotice, deprecationIssueId);\n\n    const wrapper = function () {\n      handler.apply(this, arguments);\n\n      this.off(event, wrapper);\n    };\n\n    this.getHandlers(event).push(wrapper);\n  },\n\n  /**\n   * Unregister an event handler.\n   *\n   * @param {string} event The name of the event.\n   * @param {Function} handler The function that handles the event.\n   *\n   * @deprecated\n   */\n  off(event, handler) {\n    fireDeprecationWarning(deprecatedNotice, deprecationIssueId);\n\n    const handlers = this.getHandlers(event);\n    const index = handlers.indexOf(handler);\n\n    if (index !== -1) {\n      handlers.splice(index, 1);\n    }\n  },\n};\n","/**\n * The `mixin` utility assigns the properties of a set of 'mixin' objects to\n * the prototype of a parent object.\n *\n * @example\n * class MyClass extends mixin(ExistingClass, evented, etc) {}\n *\n * @param {object} Parent The class to extend the new class from.\n * @param {Record<string, any>[]} mixins The objects to mix in.\n * @return {object} A new class that extends Parent and contains the mixins.\n */\nexport default function mixin(Parent, ...mixins) {\n  class Mixed extends Parent {}\n\n  mixins.forEach((object) => {\n    Object.assign(Mixed.prototype, object);\n  });\n\n  return Mixed;\n}\n","import bidi from './bidi';\n\nexport default function patchMithril(global) {\n  const defaultMithril = global.m;\n\n  const modifiedMithril = function (comp, ...args) {\n    const node = defaultMithril.apply(this, arguments);\n\n    if (!node.attrs) node.attrs = {};\n\n    // Allows the use of the bidi attr.\n    if (node.attrs.bidi) {\n      bidi(node, node.attrs.bidi);\n    }\n\n    return node;\n  };\n\n  Object.keys(defaultMithril).forEach((key) => (modifiedMithril[key] = defaultMithril[key]));\n\n  global.m = modifiedMithril;\n}\n","/**\n * Check if class A is the same as or a subclass of class B.\n */\nexport default function subclassOf(A, B) {\n  return A && (A === B || A.prototype instanceof B);\n}\n","import Component from '../../common/Component';\n\n/**\n * The `AffixedSidebar` component uses Bootstrap's \"affix\" plugin to keep a\n * sidebar navigation at the top of the viewport when scrolling.\n *\n * ### Children\n *\n * The component must wrap an element that itself wraps an <ul> element, which\n * will be \"affixed\".\n *\n * @see https://getbootstrap.com/docs/3.4/javascript/#affix\n */\nexport default class AffixedSidebar extends Component {\n  view(vnode) {\n    return vnode.children[0];\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    // Register the affix plugin to execute on every window resize (and trigger)\n    this.boundOnresize = this.onresize.bind(this);\n    $(window).on('resize', this.boundOnresize).resize();\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    $(window).off('resize', this.boundOnresize);\n  }\n\n  onresize() {\n    const $sidebar = this.$();\n    const $header = $('#header');\n    const $footer = $('#footer');\n    const $affixElement = $sidebar.find('> ul');\n\n    $(window).off('.affix');\n    $affixElement.removeClass('affix affix-top affix-bottom').removeData('bs.affix');\n\n    // Don't affix the sidebar if it is taller than the viewport (otherwise\n    // there would be no way to scroll through its content).\n    if ($sidebar.outerHeight(true) > $(window).height() - $header.outerHeight(true)) return;\n\n    $affixElement.affix({\n      offset: {\n        top: () => $sidebar.offset().top - $header.outerHeight(true) - parseInt($sidebar.css('margin-top'), 10),\n        bottom: () => (this.bottom = $footer.outerHeight(true)),\n      },\n    });\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport avatar from '../../common/helpers/avatar';\nimport icon from '../../common/helpers/icon';\nimport listItems from '../../common/helpers/listItems';\nimport ItemList from '../../common/utils/ItemList';\nimport classList from '../../common/utils/classList';\nimport Button from '../../common/components/Button';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\n\n/**\n * The `AvatarEditor` component displays a user's avatar along with a dropdown\n * menu which allows the user to upload/remove the avatar.\n *\n * ### Attrs\n *\n * - `className`\n * - `user`\n */\nexport default class AvatarEditor extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * Whether or not an avatar upload is in progress.\n     *\n     * @type {Boolean}\n     */\n    this.loading = false;\n\n    /**\n     * Whether or not an image has been dragged over the dropzone.\n     *\n     * @type {Boolean}\n     */\n    this.isDraggedOver = false;\n  }\n\n  view() {\n    const user = this.attrs.user;\n\n    return (\n      <div className={classList(['AvatarEditor', 'Dropdown', this.attrs.className, this.loading && 'loading', this.isDraggedOver && 'dragover'])}>\n        {avatar(user, { loading: 'eager' })}\n        <a\n          className={user.avatarUrl() ? 'Dropdown-toggle' : 'Dropdown-toggle AvatarEditor--noAvatar'}\n          title={app.translator.trans('core.forum.user.avatar_upload_tooltip')}\n          data-toggle=\"dropdown\"\n          onclick={this.quickUpload.bind(this)}\n          ondragover={this.enableDragover.bind(this)}\n          ondragenter={this.enableDragover.bind(this)}\n          ondragleave={this.disableDragover.bind(this)}\n          ondragend={this.disableDragover.bind(this)}\n          ondrop={this.dropUpload.bind(this)}\n        >\n          {this.loading ? (\n            <LoadingIndicator display=\"unset\" size=\"large\" />\n          ) : user.avatarUrl() ? (\n            icon('fas fa-pencil-alt')\n          ) : (\n            icon('fas fa-plus-circle')\n          )}\n        </a>\n        <ul className=\"Dropdown-menu Menu\">{listItems(this.controlItems().toArray())}</ul>\n      </div>\n    );\n  }\n\n  /**\n   * Get the items in the edit avatar dropdown menu.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  controlItems() {\n    const items = new ItemList();\n\n    items.add(\n      'upload',\n      <Button icon=\"fas fa-upload\" onclick={this.openPicker.bind(this)}>\n        {app.translator.trans('core.forum.user.avatar_upload_button')}\n      </Button>\n    );\n\n    items.add(\n      'remove',\n      <Button icon=\"fas fa-times\" onclick={this.remove.bind(this)}>\n        {app.translator.trans('core.forum.user.avatar_remove_button')}\n      </Button>\n    );\n\n    return items;\n  }\n\n  /**\n   * Enable dragover style\n   *\n   * @param {DragEvent} e\n   */\n  enableDragover(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.isDraggedOver = true;\n  }\n\n  /**\n   * Disable dragover style\n   *\n   * @param {DragEvent} e\n   */\n  disableDragover(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.isDraggedOver = false;\n  }\n\n  /**\n   * Upload avatar when file is dropped into dropzone.\n   *\n   * @param {DragEvent} e\n   */\n  dropUpload(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.isDraggedOver = false;\n    this.upload(e.dataTransfer.files[0]);\n  }\n\n  /**\n   * If the user doesn't have an avatar, there's no point in showing the\n   * controls dropdown, because only one option would be viable: uploading.\n   * Thus, when the avatar editor's dropdown toggle button is clicked, we prompt\n   * the user to upload an avatar immediately.\n   *\n   * @param {MouseEvent} e\n   */\n  quickUpload(e) {\n    if (!this.attrs.user.avatarUrl()) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.openPicker();\n    }\n  }\n\n  /**\n   * Upload avatar using file picker\n   */\n  openPicker() {\n    if (this.loading) return;\n\n    // Create a hidden HTML input element and click on it so the user can select\n    // an avatar file. Once they have, we will upload it via the API.\n    const $input = $('<input type=\"file\" accept=\".jpg, .jpeg, .png, .bmp, .gif\">');\n\n    $input\n      .appendTo('body')\n      .hide()\n      .click()\n      .on('input', (e) => {\n        this.upload($(e.target)[0].files[0]);\n      });\n  }\n\n  /**\n   * Upload avatar\n   *\n   * @param {File} file\n   */\n  upload(file) {\n    if (this.loading) return;\n\n    const user = this.attrs.user;\n    const data = new FormData();\n    data.append('avatar', file);\n\n    this.loading = true;\n    m.redraw();\n\n    app\n      .request({\n        method: 'POST',\n        url: `${app.forum.attribute('apiUrl')}/users/${user.id()}/avatar`,\n        serialize: (raw) => raw,\n        body: data,\n      })\n      .then(this.success.bind(this), this.failure.bind(this));\n  }\n\n  /**\n   * Remove the user's avatar.\n   */\n  remove() {\n    const user = this.attrs.user;\n\n    this.loading = true;\n    m.redraw();\n\n    app\n      .request({\n        method: 'DELETE',\n        url: `${app.forum.attribute('apiUrl')}/users/${user.id()}/avatar`,\n      })\n      .then(this.success.bind(this), this.failure.bind(this));\n  }\n\n  /**\n   * After a successful upload/removal, push the updated user data into the\n   * store, and force a re-computation of the user's avatar color.\n   *\n   * @param {object} response\n   * @protected\n   */\n  success(response) {\n    app.store.pushPayload(response);\n    delete this.attrs.user.avatarColor;\n\n    this.loading = false;\n    m.redraw();\n  }\n\n  /**\n   * If avatar upload/removal fails, stop loading.\n   *\n   * @param {object} response\n   * @protected\n   */\n  failure(response) {\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import app from '../../forum/app';\nimport Post from './Post';\nimport classList from '../../common/utils/classList';\nimport PostUser from './PostUser';\nimport PostMeta from './PostMeta';\nimport PostEdited from './PostEdited';\nimport EditPostComposer from './EditPostComposer';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\nimport Button from '../../common/components/Button';\nimport ComposerPostPreview from './ComposerPostPreview';\n\n/**\n * The `CommentPost` component displays a standard `comment`-typed post. This\n * includes a number of item lists (controls, header, and footer) surrounding\n * the post's HTML content.\n *\n * ### Attrs\n *\n * - `post`\n */\nexport default class CommentPost extends Post {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * If the post has been hidden, then this flag determines whether or not its\n     * content has been expanded.\n     *\n     * @type {Boolean}\n     */\n    this.revealContent = false;\n\n    /**\n     * Whether or not the user hover card inside of PostUser is visible.\n     * The property must be managed in CommentPost to be able to use it in the subtree check\n     *\n     * @type {Boolean}\n     */\n    this.cardVisible = false;\n\n    this.subtree.check(\n      () => this.cardVisible,\n      () => this.isEditing(),\n      () => this.revealContent\n    );\n  }\n\n  content() {\n    return super.content().concat([\n      <header className=\"Post-header\">\n        <ul>{listItems(this.headerItems().toArray())}</ul>\n      </header>,\n      <div className=\"Post-body\">\n        {this.isEditing() ? <ComposerPostPreview className=\"Post-preview\" composer={app.composer} /> : m.trust(this.attrs.post.contentHtml())}\n      </div>,\n    ]);\n  }\n\n  refreshContent() {\n    const contentHtml = this.isEditing() ? '' : this.attrs.post.contentHtml();\n\n    // If the post content has changed since the last render, we'll run through\n    // all of the <script> tags in the content and evaluate them. This is\n    // necessary because TextFormatter outputs them for e.g. syntax highlighting.\n    if (this.contentHtml !== contentHtml) {\n      this.$('.Post-body script').each(function () {\n        const script = document.createElement('script');\n        script.textContent = this.textContent;\n        Array.from(this.attributes).forEach((attr) => script.setAttribute(attr.name, attr.value));\n        this.parentNode.replaceChild(script, this);\n      });\n    }\n\n    this.contentHtml = contentHtml;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.refreshContent();\n  }\n\n  onupdate(vnode) {\n    super.onupdate(vnode);\n\n    this.refreshContent();\n  }\n\n  isEditing() {\n    return app.composer.bodyMatches(EditPostComposer, { post: this.attrs.post });\n  }\n\n  elementAttrs() {\n    const post = this.attrs.post;\n    const attrs = super.elementAttrs();\n\n    attrs.className = classList(attrs.className, 'CommentPost', {\n      'Post--renderFailed': post.renderFailed(),\n      'Post--hidden': post.isHidden(),\n      'Post--edited': post.isEdited(),\n      revealContent: this.revealContent,\n      editing: this.isEditing(),\n    });\n\n    if (this.isEditing()) attrs['aria-busy'] = 'true';\n\n    return attrs;\n  }\n\n  /**\n   * Toggle the visibility of a hidden post's content.\n   */\n  toggleContent() {\n    this.revealContent = !this.revealContent;\n  }\n\n  /**\n   * Build an item list for the post's header.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  headerItems() {\n    const items = new ItemList();\n    const post = this.attrs.post;\n\n    items.add(\n      'user',\n      <PostUser\n        post={post}\n        cardVisible={this.cardVisible}\n        oncardshow={() => {\n          this.cardVisible = true;\n          m.redraw();\n        }}\n        oncardhide={() => {\n          this.cardVisible = false;\n          m.redraw();\n        }}\n      />,\n      100\n    );\n    items.add('meta', <PostMeta post={post} />);\n\n    if (post.isEdited() && !post.isHidden()) {\n      items.add('edited', <PostEdited post={post} />);\n    }\n\n    // If the post is hidden, add a button that allows toggling the visibility\n    // of the post's content.\n    if (post.isHidden()) {\n      items.add(\n        'toggle',\n        <Button className=\"Button Button--default Button--more\" icon=\"fas fa-ellipsis-h\" onclick={this.toggleContent.bind(this)} />\n      );\n    }\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport ItemList from '../../common/utils/ItemList';\nimport ComposerButton from './ComposerButton';\nimport listItems from '../../common/helpers/listItems';\nimport classList from '../../common/utils/classList';\nimport ComposerState from '../states/ComposerState';\n\n/**\n * The `Composer` component displays the composer. It can be loaded with a\n * content component with `load` and then its position/state can be altered with\n * `show`, `hide`, `close`, `minimize`, `fullScreen`, and `exitFullScreen`.\n */\nexport default class Composer extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * The composer's \"state\".\n     *\n     * @type {ComposerState}\n     */\n    this.state = this.attrs.state;\n\n    /**\n     * Whether or not the composer currently has focus.\n     *\n     * @type {Boolean}\n     */\n    this.active = false;\n\n    // Store the initial position so that we can trigger animations correctly.\n    this.prevPosition = this.state.position;\n  }\n\n  view() {\n    const body = this.state.body;\n    const classes = {\n      normal: this.state.position === ComposerState.Position.NORMAL,\n      minimized: this.state.position === ComposerState.Position.MINIMIZED,\n      fullScreen: this.state.position === ComposerState.Position.FULLSCREEN,\n      active: this.active,\n      visible: this.state.isVisible(),\n    };\n\n    // Set up a handler so that clicks on the content will show the composer.\n    const showIfMinimized = this.state.position === ComposerState.Position.MINIMIZED ? this.state.show.bind(this.state) : undefined;\n\n    const ComposerBody = body.componentClass;\n\n    return (\n      <div className={'Composer ' + classList(classes)}>\n        <div className=\"Composer-handle\" oncreate={this.configHandle.bind(this)} />\n        <ul className=\"Composer-controls\">{listItems(this.controlItems().toArray())}</ul>\n        <div className=\"Composer-content\" onclick={showIfMinimized}>\n          {ComposerBody && <ComposerBody {...body.attrs} composer={this.state} disabled={classes.minimized} />}\n        </div>\n      </div>\n    );\n  }\n\n  onupdate(vnode) {\n    super.onupdate(vnode);\n\n    if (this.state.position === this.prevPosition) {\n      // Set the height of the Composer element and its contents on each redraw,\n      // so that they do not lose it if their DOM elements are recreated.\n      this.updateHeight();\n    } else {\n      this.animatePositionChange();\n\n      this.prevPosition = this.state.position;\n    }\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.initializeHeight();\n    this.$().hide().css('bottom', -this.state.computedHeight());\n\n    // Whenever any of the inputs inside the composer are have focus, we want to\n    // add a class to the composer to draw attention to it.\n    this.$().on('focus blur', ':input,.TextEditor-editorContainer', (e) => {\n      this.active = e.type === 'focusin';\n      m.redraw();\n    });\n\n    // When the escape key is pressed on any inputs, close the composer.\n    this.$().on('keydown', ':input,.TextEditor-editorContainer', 'esc', () => this.state.close());\n\n    this.handlers = {};\n\n    $(window)\n      .on('resize', (this.handlers.onresize = this.updateHeight.bind(this)))\n      .resize();\n\n    $(document)\n      .on('mousemove', (this.handlers.onmousemove = this.onmousemove.bind(this)))\n      .on('mouseup', (this.handlers.onmouseup = this.onmouseup.bind(this)));\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    $(window).off('resize', this.handlers.onresize);\n\n    $(document).off('mousemove', this.handlers.onmousemove).off('mouseup', this.handlers.onmouseup);\n  }\n\n  /**\n   * Add the necessary event handlers to the composer's handle so that it can\n   * be used to resize the composer.\n   */\n  configHandle(vnode) {\n    const composer = this;\n\n    $(vnode.dom)\n      .css('cursor', 'row-resize')\n      .bind('dragstart mousedown', (e) => e.preventDefault())\n      .mousedown(function (e) {\n        composer.mouseStart = e.clientY;\n        composer.heightStart = composer.$().height();\n        composer.handle = $(this);\n        $('body').css('cursor', 'row-resize');\n      });\n  }\n\n  /**\n   * Resize the composer according to mouse movement.\n   *\n   * @param {MouseEvent} e\n   */\n  onmousemove(e) {\n    if (!this.handle) return;\n\n    // Work out how much the mouse has been moved, and set the height\n    // relative to the old one based on that. Then update the content's\n    // height so that it fills the height of the composer, and update the\n    // body's padding.\n    const deltaPixels = this.mouseStart - e.clientY;\n    this.changeHeight(this.heightStart + deltaPixels);\n\n    // Update the body's padding-bottom so that no content on the page will ever\n    // get permanently hidden behind the composer. If the user is already\n    // scrolled to the bottom of the page, then we will keep them scrolled to\n    // the bottom after the padding has been updated.\n    const scrollTop = $(window).scrollTop();\n    const anchorToBottom = scrollTop > 0 && scrollTop + $(window).height() >= $(document).height();\n    this.updateBodyPadding(anchorToBottom);\n  }\n\n  /**\n   * Finish resizing the composer when the mouse is released.\n   */\n  onmouseup() {\n    if (!this.handle) return;\n\n    this.handle = null;\n    $('body').css('cursor', '');\n  }\n\n  /**\n   * Draw focus to the first focusable content element (the text editor).\n   */\n  focus() {\n    this.$('.Composer-content :input:enabled:visible, .TextEditor-editor').first().focus();\n  }\n\n  /**\n   * Update the DOM to reflect the composer's current height. This involves\n   * setting the height of the composer's root element, and adjusting the height\n   * of any flexible elements inside the composer's body.\n   */\n  updateHeight() {\n    const height = this.state.computedHeight();\n    const $flexible = this.$('.Composer-flexible');\n\n    this.$().height(height);\n\n    if ($flexible.length) {\n      const headerHeight = $flexible.offset().top - this.$().offset().top;\n      const paddingBottom = parseInt($flexible.css('padding-bottom'), 10);\n      const footerHeight = this.$('.Composer-footer').outerHeight(true);\n\n      $flexible.height(this.$().outerHeight() - headerHeight - paddingBottom - footerHeight);\n    }\n  }\n\n  /**\n   * Update the amount of padding-bottom on the body so that the page's\n   * content will still be visible above the composer when the page is\n   * scrolled right to the bottom.\n   */\n  updateBodyPadding() {\n    const visible =\n      this.state.position !== ComposerState.Position.HIDDEN && this.state.position !== ComposerState.Position.MINIMIZED && app.screen() !== 'phone';\n\n    const paddingBottom = visible ? this.state.computedHeight() - parseInt($('#app').css('padding-bottom'), 10) : 0;\n\n    $('#content').css({ paddingBottom });\n  }\n\n  /**\n   * Trigger the right animation depending on the desired new position.\n   */\n  animatePositionChange() {\n    // When exiting full-screen mode: focus content\n    if (this.prevPosition === ComposerState.Position.FULLSCREEN && this.state.position === ComposerState.Position.NORMAL) {\n      this.focus();\n      return;\n    }\n\n    switch (this.state.position) {\n      case ComposerState.Position.HIDDEN:\n        return this.hide();\n      case ComposerState.Position.MINIMIZED:\n        return this.minimize();\n      case ComposerState.Position.FULLSCREEN:\n        return this.focus();\n      case ComposerState.Position.NORMAL:\n        return this.show();\n    }\n  }\n\n  /**\n   * Animate the Composer into the new position by changing the height.\n   */\n  animateHeightChange() {\n    const $composer = this.$().stop(true);\n    const oldHeight = $composer.outerHeight();\n    const scrollTop = $(window).scrollTop();\n\n    $composer.show();\n    this.updateHeight();\n\n    const newHeight = $composer.outerHeight();\n\n    if (this.prevPosition === ComposerState.Position.HIDDEN) {\n      $composer.css({ bottom: -newHeight, height: newHeight });\n    } else {\n      $composer.css({ height: oldHeight });\n    }\n\n    const animation = $composer.animate({ bottom: 0, height: newHeight }, 'fast').promise();\n\n    this.updateBodyPadding();\n    $(window).scrollTop(scrollTop);\n    return animation;\n  }\n\n  /**\n   * Show the Composer backdrop.\n   */\n  showBackdrop() {\n    this.$backdrop = $('<div/>').addClass('composer-backdrop').appendTo('body');\n  }\n\n  /**\n   * Hide the Composer backdrop.\n   */\n  hideBackdrop() {\n    if (this.$backdrop) this.$backdrop.remove();\n  }\n\n  /**\n   * Animate the composer sliding up from the bottom to take its normal height.\n   *\n   * @private\n   */\n  show() {\n    this.animateHeightChange().then(() => this.focus());\n\n    if (app.screen() === 'phone') {\n      // On safari fixed position doesn't properly work on mobile,\n      // So we use absolute and set the top value.\n      // https://github.com/flarum/core/issues/2652\n\n      // Due to another safari bug, `scrollTop` is unreliable when\n      // at the very bottom of the page AND opening the composer.\n      // So we fallback to a calculated version of scrollTop.\n      // https://github.com/flarum/core/issues/2683\n      const scrollElement = document.documentElement;\n      const topOfViewport = Math.min(scrollElement.scrollTop, scrollElement.scrollHeight - scrollElement.clientHeight);\n      this.$().css('top', $('.App').is('.mobile-safari') ? topOfViewport : 0);\n      this.showBackdrop();\n    }\n  }\n\n  /**\n   * Animate closing the composer.\n   *\n   * @private\n   */\n  hide() {\n    const $composer = this.$();\n\n    // Animate the composer sliding down off the bottom edge of the viewport.\n    // Only when the animation is completed, update other elements on the page.\n    $composer.stop(true).animate({ bottom: -$composer.height() }, 'fast', () => {\n      $composer.hide();\n      this.hideBackdrop();\n      this.updateBodyPadding();\n    });\n  }\n\n  /**\n   * Shrink the composer until only its title is visible.\n   *\n   * @private\n   */\n  minimize() {\n    this.animateHeightChange();\n\n    this.$().css('top', 'auto');\n    this.hideBackdrop();\n  }\n\n  /**\n   * Build an item list for the composer's controls.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  controlItems() {\n    const items = new ItemList();\n\n    if (this.state.position === ComposerState.Position.FULLSCREEN) {\n      items.add(\n        'exitFullScreen',\n        <ComposerButton\n          icon=\"fas fa-compress\"\n          title={app.translator.trans('core.forum.composer.exit_full_screen_tooltip')}\n          onclick={this.state.exitFullScreen.bind(this.state)}\n        />\n      );\n    } else {\n      if (this.state.position !== ComposerState.Position.MINIMIZED) {\n        items.add(\n          'minimize',\n          <ComposerButton\n            icon=\"fas fa-minus minimize\"\n            title={app.translator.trans('core.forum.composer.minimize_tooltip')}\n            onclick={this.state.minimize.bind(this.state)}\n            itemClassName=\"App-backControl\"\n          />\n        );\n\n        items.add(\n          'fullScreen',\n          <ComposerButton\n            icon=\"fas fa-expand\"\n            title={app.translator.trans('core.forum.composer.full_screen_tooltip')}\n            onclick={this.state.fullScreen.bind(this.state)}\n          />\n        );\n      }\n\n      items.add(\n        'close',\n        <ComposerButton\n          icon=\"fas fa-times\"\n          title={app.translator.trans('core.forum.composer.close_tooltip')}\n          onclick={this.state.close.bind(this.state)}\n        />\n      );\n    }\n\n    return items;\n  }\n\n  /**\n   * Initialize default Composer height.\n   */\n  initializeHeight() {\n    this.state.height = localStorage.getItem('composerHeight');\n\n    if (!this.state.height) {\n      this.state.height = this.defaultHeight();\n    }\n  }\n\n  /**\n   * Default height of the Composer in case none is saved.\n   * @returns {number}\n   */\n  defaultHeight() {\n    return this.$().height();\n  }\n\n  /**\n   * Save a new Composer height and update the DOM.\n   * @param {number} height\n   */\n  changeHeight(height) {\n    this.state.height = height;\n    this.updateHeight();\n\n    localStorage.setItem('composerHeight', this.state.height);\n  }\n}\n","import Component from '../../common/Component';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport ConfirmDocumentUnload from '../../common/components/ConfirmDocumentUnload';\nimport TextEditor from '../../common/components/TextEditor';\nimport avatar from '../../common/helpers/avatar';\nimport listItems from '../../common/helpers/listItems';\nimport ItemList from '../../common/utils/ItemList';\nimport classList from '../../common/utils/classList';\n\n/**\n * The `ComposerBody` component handles the body, or the content, of the\n * composer. Subclasses should implement the `onsubmit` method and override\n * `headerTimes`.\n *\n * ### Attrs\n *\n * - `composer`\n * - `originalContent`\n * - `submitLabel`\n * - `placeholder`\n * - `user`\n * - `confirmExit`\n * - `disabled`\n *\n * @abstract\n */\nexport default class ComposerBody extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.composer = this.attrs.composer;\n\n    /**\n     * Whether or not the component is loading.\n     *\n     * @type {Boolean}\n     */\n    this.loading = false;\n\n    // Let the composer state know to ask for confirmation under certain\n    // circumstances, if the body supports / requires it and has a corresponding\n    // confirmation question to ask.\n    if (this.attrs.confirmExit) {\n      this.composer.preventClosingWhen(() => this.hasChanges(), this.attrs.confirmExit);\n    }\n\n    this.composer.fields.content(this.attrs.originalContent || '');\n  }\n\n  view() {\n    return (\n      <ConfirmDocumentUnload when={this.hasChanges.bind(this)}>\n        <div className={classList('ComposerBody', this.attrs.className)}>\n          {avatar(this.attrs.user, { className: 'ComposerBody-avatar' })}\n          <div className=\"ComposerBody-content\">\n            <ul className=\"ComposerBody-header\">{listItems(this.headerItems().toArray())}</ul>\n            <div className=\"ComposerBody-editor\">\n              <TextEditor\n                submitLabel={this.attrs.submitLabel}\n                placeholder={this.attrs.placeholder}\n                disabled={this.loading || this.attrs.disabled}\n                composer={this.composer}\n                preview={this.jumpToPreview?.bind(this)}\n                onchange={this.composer.fields.content}\n                onsubmit={this.onsubmit.bind(this)}\n                value={this.composer.fields.content()}\n              />\n            </div>\n          </div>\n          <LoadingIndicator display=\"unset\" containerClassName={classList('ComposerBody-loading', this.loading && 'active')} size=\"large\" />\n        </div>\n      </ConfirmDocumentUnload>\n    );\n  }\n\n  /**\n   * Check if there is any unsaved data.\n   *\n   * @return {boolean}\n   */\n  hasChanges() {\n    const content = this.composer.fields.content();\n\n    return content && content !== this.attrs.originalContent;\n  }\n\n  /**\n   * Build an item list for the composer's header.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  headerItems() {\n    return new ItemList();\n  }\n\n  /**\n   * Handle the submit event of the text editor.\n   *\n   * @abstract\n   */\n  onsubmit() {}\n\n  /**\n   * Stop loading.\n   */\n  loaded() {\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import Button from '../../common/components/Button';\n\n/**\n * The `ComposerButton` component displays a button suitable for the composer\n * controls.\n */\nexport default class ComposerButton extends Button {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = attrs.className || 'Button Button--icon Button--link';\n  }\n}\n","/*global s9e*/\n\nimport Component from '../../common/Component';\n\n/**\n * The `ComposerPostPreview` component renders Markdown as HTML using the\n * TextFormatter library, polling a data source for changes every 50ms. This is\n * done to prevent expensive redraws on e.g. every single keystroke, while\n * still retaining the perception of live updates for the user.\n *\n * ### Attrs\n *\n * - `composer` The state of the composer controlling this preview.\n * - `className` A CSS class for the element surrounding the preview.\n * - `surround` A callback that can execute code before and after re-render, e.g. for scroll anchoring.\n */\nexport default class ComposerPostPreview extends Component {\n  static initAttrs(attrs) {\n    attrs.className = attrs.className || '';\n    attrs.surround = attrs.surround || ((preview) => preview());\n  }\n\n  view() {\n    return <div className={this.attrs.className} />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    // Every 50ms, if the composer content has changed, then update the post's\n    // body with a preview.\n    let preview;\n    const updatePreview = () => {\n      // Since we're polling, the composer may have been closed in the meantime,\n      // so we bail in that case.\n      if (!this.attrs.composer.isVisible()) return;\n\n      const content = this.attrs.composer.fields.content();\n\n      if (preview === content) return;\n\n      preview = content;\n\n      this.attrs.surround(() => s9e.TextFormatter.preview(preview || '', vnode.dom));\n    };\n    updatePreview();\n\n    this.updateInterval = setInterval(updatePreview, 50);\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    clearInterval(this.updateInterval);\n  }\n}\n","import app from '../../forum/app';\nimport ComposerBody from './ComposerBody';\nimport extractText from '../../common/utils/extractText';\nimport Stream from '../../common/utils/Stream';\n\n/**\n * The `DiscussionComposer` component displays the composer content for starting\n * a new discussion. It adds a text field as a header control so the user can\n * enter the title of their discussion. It also overrides the `submit` and\n * `willExit` actions to account for the title.\n *\n * ### Attrs\n *\n * - All of the attrs for ComposerBody\n * - `titlePlaceholder`\n */\nexport default class DiscussionComposer extends ComposerBody {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.placeholder = attrs.placeholder || extractText(app.translator.trans('core.forum.composer_discussion.body_placeholder'));\n    attrs.submitLabel = attrs.submitLabel || app.translator.trans('core.forum.composer_discussion.submit_button');\n    attrs.confirmExit = attrs.confirmExit || extractText(app.translator.trans('core.forum.composer_discussion.discard_confirmation'));\n    attrs.titlePlaceholder = attrs.titlePlaceholder || extractText(app.translator.trans('core.forum.composer_discussion.title_placeholder'));\n    attrs.className = 'ComposerBody--discussion';\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.composer.fields.title = this.composer.fields.title || Stream('');\n\n    /**\n     * The value of the title input.\n     *\n     * @type {Function}\n     */\n    this.title = this.composer.fields.title;\n  }\n\n  headerItems() {\n    const items = super.headerItems();\n\n    items.add('title', <h3>{app.translator.trans('core.forum.composer_discussion.title')}</h3>, 100);\n\n    items.add(\n      'discussionTitle',\n      <h3>\n        <input\n          className=\"FormControl\"\n          bidi={this.title}\n          placeholder={this.attrs.titlePlaceholder}\n          disabled={!!this.attrs.disabled}\n          onkeydown={this.onkeydown.bind(this)}\n        />\n      </h3>\n    );\n\n    return items;\n  }\n\n  /**\n   * Handle the title input's keydown event. When the return key is pressed,\n   * move the focus to the start of the text editor.\n   *\n   * @param {KeyboardEvent} e\n   */\n  onkeydown(e) {\n    if (e.which === 13) {\n      // Return\n      e.preventDefault();\n      this.composer.editor.moveCursorTo(0);\n    }\n\n    e.redraw = false;\n  }\n\n  hasChanges() {\n    return this.title() || this.composer.fields.content();\n  }\n\n  /**\n   * Get the data to submit to the server when the discussion is saved.\n   *\n   * @return {Record<string, unknown>}\n   */\n  data() {\n    return {\n      title: this.title(),\n      content: this.composer.fields.content(),\n    };\n  }\n\n  onsubmit() {\n    this.loading = true;\n\n    const data = this.data();\n\n    app.store\n      .createRecord('discussions')\n      .save(data)\n      .then((discussion) => {\n        this.composer.hide();\n        app.discussions.refresh();\n        m.route.set(app.route.discussion(discussion));\n      }, this.loaded.bind(this));\n  }\n}\n","import Component from '../../common/Component';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\n\n/**\n * The `DiscussionHero` component displays the hero on a discussion page.\n *\n * ### attrs\n *\n * - `discussion`\n */\nexport default class DiscussionHero extends Component {\n  view() {\n    return (\n      <header className=\"Hero DiscussionHero\">\n        <div className=\"container\">\n          <ul className=\"DiscussionHero-items\">{listItems(this.items().toArray())}</ul>\n        </div>\n      </header>\n    );\n  }\n\n  /**\n   * Build an item list for the contents of the discussion hero.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  items() {\n    const items = new ItemList();\n    const discussion = this.attrs.discussion;\n    const badges = discussion.badges().toArray();\n\n    if (badges.length) {\n      items.add('badges', <ul className=\"DiscussionHero-badges badges\">{listItems(badges)}</ul>, 10);\n    }\n\n    items.add('title', <h1 className=\"DiscussionHero-title\">{discussion.title()}</h1>);\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport DiscussionListItem from './DiscussionListItem';\nimport Button from '../../common/components/Button';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport Placeholder from '../../common/components/Placeholder';\nimport classList from '../../common/utils/classList';\n\n/**\n * The `DiscussionList` component displays a list of discussions.\n *\n * ### Attrs\n *\n * - `state` A DiscussionListState object that represents the discussion lists's state.\n */\nexport default class DiscussionList extends Component {\n  view() {\n    /**\n     * @type {import('../states/DiscussionListState').default}\n     */\n    const state = this.attrs.state;\n\n    const params = state.getParams();\n    const isLoading = state.isInitialLoading() || state.isLoadingNext();\n\n    let loading;\n\n    if (isLoading) {\n      loading = <LoadingIndicator />;\n    } else if (state.hasNext()) {\n      loading = (\n        <Button className=\"Button\" onclick={state.loadNext.bind(state)}>\n          {app.translator.trans('core.forum.discussion_list.load_more_button')}\n        </Button>\n      );\n    }\n\n    if (state.isEmpty()) {\n      const text = app.translator.trans('core.forum.discussion_list.empty_text');\n      return (\n        <div className=\"DiscussionList\">\n          <Placeholder text={text} />\n        </div>\n      );\n    }\n\n    const pageSize = state.pageSize;\n\n    return (\n      <div className={classList('DiscussionList', { 'DiscussionList--searchResults': state.isSearchResults() })}>\n        <ul role=\"feed\" aria-busy={isLoading} className=\"DiscussionList-discussions\">\n          {state.getPages().map((pg, pageNum) => {\n            return pg.items.map((discussion, itemNum) => (\n              <li key={discussion.id()} data-id={discussion.id()} role=\"article\" aria-setsize=\"-1\" aria-posinset={pageNum * pageSize + itemNum}>\n                <DiscussionListItem discussion={discussion} params={params} />\n              </li>\n            ));\n          })}\n        </ul>\n        <div className=\"DiscussionList-loadMore\">{loading}</div>\n      </div>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport DiscussionList from './DiscussionList';\nimport Component from '../../common/Component';\nimport DiscussionPage from './DiscussionPage';\n\nconst hotEdge = (e) => {\n  if (e.pageX < 10) app.pane.show();\n};\n\n/**\n * The `DiscussionListPane` component displays the list of previously viewed\n * discussions in a panel that can be displayed by moving the mouse to the left\n * edge of the screen, where it can also be pinned in place.\n *\n * ### Attrs\n *\n * - `state` A DiscussionListState object that represents the discussion lists's state.\n */\nexport default class DiscussionListPane extends Component {\n  view() {\n    if (!this.attrs.state.hasItems()) {\n      return;\n    }\n\n    return <aside className=\"DiscussionPage-list\">{this.enoughSpace() && <DiscussionList state={this.attrs.state} />}</aside>;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    const $list = $(vnode.dom);\n\n    // When the mouse enters and leaves the discussions pane, we want to show\n    // and hide the pane respectively. We also create a 10px 'hot edge' on the\n    // left of the screen to activate the pane.\n    const pane = app.pane;\n    $list.hover(pane.show.bind(pane), pane.onmouseleave.bind(pane));\n\n    $(document).on('mousemove', hotEdge);\n\n    // When coming from another discussion, scroll to the previous postition\n    // to prevent the discussion list jumping around.\n    if (app.previous.matches(DiscussionPage)) {\n      const top = app.cache.discussionListPaneScrollTop || 0;\n      $list.scrollTop(top);\n    } else {\n      // If the discussion we are viewing is listed in the discussion list, then\n      // we will make sure it is visible in the viewport  if it is not we will\n      // scroll the list down to it.\n      const $discussion = $list.find('.DiscussionListItem.active');\n      if ($discussion.length) {\n        const listTop = $list.offset().top;\n        const listBottom = listTop + $list.outerHeight();\n        const discussionTop = $discussion.offset().top;\n        const discussionBottom = discussionTop + $discussion.outerHeight();\n\n        if (discussionTop < listTop || discussionBottom > listBottom) {\n          $list.scrollTop($list.scrollTop() - listTop + discussionTop);\n        }\n      }\n    }\n  }\n\n  onremove(vnode) {\n    app.cache.discussionListPaneScrollTop = $(vnode.dom).scrollTop();\n    $(document).off('mousemove', hotEdge);\n  }\n\n  /**\n   * Are we on a device that's larger than we consider \"mobile\"?\n   *\n   * @returns {boolean}\n   */\n  enoughSpace() {\n    return !$('.App-navigation').is(':visible');\n  }\n}\n","import app from '../../forum/app';\nimport EventPost from './EventPost';\nimport extractText from '../../common/utils/extractText';\nimport Tooltip from '../../common/components/Tooltip';\n\n/**\n * The `DiscussionRenamedPost` component displays a discussion event post\n * indicating that the discussion has been renamed.\n *\n * ### Attrs\n *\n * - All of the attrs for EventPost\n */\nexport default class DiscussionRenamedPost extends EventPost {\n  icon() {\n    return 'fas fa-pencil-alt';\n  }\n\n  description(data) {\n    const renamed = app.translator.trans('core.forum.post_stream.discussion_renamed_text', data);\n\n    return <span>{renamed}</span>;\n  }\n\n  descriptionData() {\n    const post = this.attrs.post;\n    const oldTitle = post.content()[0];\n    const newTitle = post.content()[1];\n\n    return {\n      new: (\n        <Tooltip text={extractText(app.translator.trans('core.forum.post_stream.discussion_renamed_old_tooltip', { old: oldTitle }))}>\n          <strong className=\"DiscussionRenamedPost-new\">{newTitle}</strong>\n        </Tooltip>\n      ),\n    };\n  }\n}\n","import app from '../../forum/app';\nimport ComposerBody from './ComposerBody';\nimport Button from '../../common/components/Button';\nimport Link from '../../common/components/Link';\nimport icon from '../../common/helpers/icon';\n\nfunction minimizeComposerIfFullScreen(e) {\n  if (app.composer.isFullScreen()) {\n    app.composer.minimize();\n    e.stopPropagation();\n  }\n}\n\n/**\n * The `EditPostComposer` component displays the composer content for editing a\n * post. It sets the initial content to the content of the post that is being\n * edited, and adds a header control to indicate which post is being edited.\n *\n * ### Attrs\n *\n * - All of the attrs for ComposerBody\n * - `post`\n */\nexport default class EditPostComposer extends ComposerBody {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.submitLabel = attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button');\n    attrs.confirmExit = attrs.confirmExit || app.translator.trans('core.forum.composer_edit.discard_confirmation');\n    attrs.originalContent = attrs.originalContent || attrs.post.content();\n    attrs.user = attrs.user || attrs.post.user();\n\n    attrs.post.editedContent = attrs.originalContent;\n  }\n\n  headerItems() {\n    const items = super.headerItems();\n    const post = this.attrs.post;\n\n    items.add(\n      'title',\n      <h3>\n        {icon('fas fa-pencil-alt')}{' '}\n        <Link href={app.route.discussion(post.discussion(), post.number())} onclick={minimizeComposerIfFullScreen}>\n          {app.translator.trans('core.forum.composer_edit.post_link', { number: post.number(), discussion: post.discussion().title() })}\n        </Link>\n      </h3>\n    );\n\n    return items;\n  }\n\n  /**\n   * Jump to the preview when triggered by the text editor.\n   */\n  jumpToPreview(e) {\n    minimizeComposerIfFullScreen(e);\n\n    m.route.set(app.route.post(this.attrs.post));\n  }\n\n  /**\n   * Get the data to submit to the server when the post is saved.\n   *\n   * @return {Record<string, unknown>}\n   */\n  data() {\n    return {\n      content: this.composer.fields.content(),\n    };\n  }\n\n  onsubmit() {\n    const discussion = this.attrs.post.discussion();\n\n    this.loading = true;\n\n    const data = this.data();\n\n    this.attrs.post.save(data).then((post) => {\n      // If we're currently viewing the discussion which this edit was made\n      // in, then we can scroll to the post.\n      if (app.viewingDiscussion(discussion)) {\n        app.current.get('stream').goToNumber(post.number());\n      } else {\n        // Otherwise, we'll create an alert message to inform the user that\n        // their edit has been made, containing a button which will\n        // transition to their edited post when clicked.\n        const alert = app.alerts.show(\n          {\n            type: 'success',\n            controls: [\n              <Button\n                className=\"Button Button--link\"\n                onclick={() => {\n                  m.route.set(app.route.post(post));\n                  app.alerts.dismiss(alert);\n                }}\n              >\n                {app.translator.trans('core.forum.composer_edit.view_button')}\n              </Button>,\n            ],\n          },\n          app.translator.trans('core.forum.composer_edit.edited_message')\n        );\n      }\n\n      this.composer.hide();\n    }, this.loaded.bind(this));\n  }\n}\n","import app from '../../forum/app';\nimport Post from './Post';\nimport { ucfirst } from '../../common/utils/string';\nimport usernameHelper from '../../common/helpers/username';\nimport icon from '../../common/helpers/icon';\nimport Link from '../../common/components/Link';\nimport humanTime from '../../common/helpers/humanTime';\nimport classList from '../../common/utils/classList';\n\n/**\n * The `EventPost` component displays a post which indicating a discussion\n * event, like a discussion being renamed or stickied. Subclasses must implement\n * the `icon` and `description` methods.\n *\n * ### Attrs\n *\n * - All of the attrs for `Post`\n *\n * @abstract\n */\nexport default class EventPost extends Post {\n  elementAttrs() {\n    const attrs = super.elementAttrs();\n\n    attrs.className = classList(attrs.className, 'EventPost', ucfirst(this.attrs.post.contentType()) + 'Post');\n\n    return attrs;\n  }\n\n  content() {\n    const user = this.attrs.post.user();\n    const username = usernameHelper(user);\n    const data = Object.assign(this.descriptionData(), {\n      user,\n      username: user ? (\n        <Link className=\"EventPost-user\" href={app.route.user(user)}>\n          {username}\n        </Link>\n      ) : (\n        username\n      ),\n      time: humanTime(this.attrs.post.createdAt()),\n    });\n\n    return super\n      .content()\n      .concat([icon(this.icon(), { className: 'EventPost-icon' }), <div className=\"EventPost-info\">{this.description(data)}</div>]);\n  }\n\n  /**\n   * Get the name of the event icon.\n   *\n   * @return {string}\n   */\n  icon() {\n    return '';\n  }\n\n  /**\n   * Get the description text for the event.\n   *\n   * @param {Record<string, unknown>} data\n   * @return {import('mithril').Children} The description to render in the DOM\n   */\n  description(data) {\n    return app.translator.trans(this.descriptionKey(), data);\n  }\n\n  /**\n   * Get the translation key for the description of the event.\n   *\n   * @return {string}\n   */\n  descriptionKey() {\n    return '';\n  }\n\n  /**\n   * Get the translation data for the description of the event.\n   *\n   * @return {Record<string, unknown>}\n   */\n  descriptionData() {\n    return {};\n  }\n}\n","import Component from '../../common/Component';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\n\n/**\n * The `HeaderPrimary` component displays primary header controls. On the\n * default skin, these are shown just to the right of the forum title.\n */\nexport default class HeaderPrimary extends Component {\n  view() {\n    return <ul className=\"Header-controls\">{listItems(this.items().toArray())}</ul>;\n  }\n\n  /**\n   * Build an item list for the controls.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  items() {\n    return new ItemList();\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport Button from '../../common/components/Button';\nimport LogInModal from './LogInModal';\nimport SignUpModal from './SignUpModal';\nimport SessionDropdown from './SessionDropdown';\nimport SelectDropdown from '../../common/components/SelectDropdown';\nimport NotificationsDropdown from './NotificationsDropdown';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\nimport Search from '../components/Search';\n\n/**\n * The `HeaderSecondary` component displays secondary header controls, such as\n * the search box and the user menu. On the default skin, these are shown on the\n * right side of the header.\n */\nexport default class HeaderSecondary extends Component {\n  view() {\n    return <ul className=\"Header-controls\">{listItems(this.items().toArray())}</ul>;\n  }\n\n  /**\n   * Build an item list for the controls.\n   *\n   * @return {ItemList}\n   */\n  items() {\n    const items = new ItemList();\n\n    items.add('search', <Search state={app.search} />, 30);\n\n    if (app.forum.attribute('showLanguageSelector') && Object.keys(app.data.locales).length > 1) {\n      const locales = [];\n\n      for (const locale in app.data.locales) {\n        locales.push(\n          <Button\n            active={app.data.locale === locale}\n            icon={app.data.locale === locale ? 'fas fa-check' : true}\n            onclick={() => {\n              if (app.session.user) {\n                app.session.user.savePreferences({ locale }).then(() => window.location.reload());\n              } else {\n                document.cookie = `locale=${locale}; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT`;\n                window.location.reload();\n              }\n            }}\n          >\n            {app.data.locales[locale]}\n          </Button>\n        );\n      }\n\n      items.add(\n        'locale',\n        <SelectDropdown\n          buttonClassName=\"Button Button--link\"\n          accessibleToggleLabel={app.translator.trans('core.forum.header.locale_dropdown_accessible_label')}\n        >\n          {locales}\n        </SelectDropdown>,\n        20\n      );\n    }\n\n    if (app.session.user) {\n      items.add('notifications', <NotificationsDropdown state={app.notifications} />, 10);\n      items.add('session', <SessionDropdown />, 0);\n    } else {\n      if (app.forum.attribute('allowSignUp')) {\n        items.add(\n          'signUp',\n          <Button className=\"Button Button--link\" onclick={() => app.modal.show(SignUpModal)}>\n            {app.translator.trans('core.forum.header.sign_up_link')}\n          </Button>,\n          10\n        );\n      }\n\n      items.add(\n        'logIn',\n        <Button className=\"Button Button--link\" onclick={() => app.modal.show(LogInModal)}>\n          {app.translator.trans('core.forum.header.log_in_link')}\n        </Button>,\n        0\n      );\n    }\n\n    return items;\n  }\n}\n","import Component from '../../common/Component';\nimport avatar from '../../common/helpers/avatar';\n\n/**\n * The `LoadingPost` component shows a placeholder that looks like a post,\n * indicating that the post is loading.\n */\nexport default class LoadingPost extends Component {\n  view() {\n    return (\n      <div className=\"Post CommentPost LoadingPost\">\n        <header className=\"Post-header\">\n          {avatar(null, { className: 'PostUser-avatar' })}\n          <div className=\"fakeText\" />\n        </header>\n\n        <div className=\"Post-body\">\n          <div className=\"fakeText\" />\n          <div className=\"fakeText\" />\n          <div className=\"fakeText\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport Button from '../../common/components/Button';\nimport classList from '../../common/utils/classList';\n\n/**\n * The `LogInButton` component displays a social login button which will open\n * a popup window containing the specified path.\n *\n * ### Attrs\n *\n * - `path`\n */\nexport default class LogInButton extends Button {\n  static initAttrs(attrs) {\n    attrs.className = classList(attrs.className, 'LogInButton');\n\n    attrs.onclick = function () {\n      const width = 580;\n      const height = 400;\n      const $window = $(window);\n\n      window.open(\n        app.forum.attribute('baseUrl') + attrs.path,\n        'logInPopup',\n        `width=${width},` +\n          `height=${height},` +\n          `top=${$window.height() / 2 - height / 2},` +\n          `left=${$window.width() / 2 - width / 2},` +\n          'status=no,scrollbars=yes,resizable=no'\n      );\n    };\n\n    super.initAttrs(attrs);\n  }\n}\n","import Component from '../../common/Component';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `LogInButtons` component displays a collection of social login buttons.\n */\nexport default class LogInButtons extends Component {\n  view() {\n    return <div className=\"LogInButtons\">{this.items().toArray()}</div>;\n  }\n\n  /**\n   * Build a list of LogInButton components.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  items() {\n    return new ItemList();\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport Checkbox from '../../common/components/Checkbox';\nimport icon from '../../common/helpers/icon';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `NotificationGrid` component displays a table of notification types and\n * methods, allowing the user to toggle each combination.\n *\n * ### Attrs\n *\n * - `user`\n */\nexport default class NotificationGrid extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * Information about the available notification methods.\n     *\n     * @type {({ name: string, icon: string, label: import('mithril').Children })[]}\n     */\n    this.methods = this.notificationMethods().toArray();\n\n    /**\n     * A map of which notification checkboxes are loading.\n     *\n     * @type {Record<string, boolean>}\n     */\n    this.loading = {};\n\n    /**\n     * Information about the available notification types.\n     *\n     * @type {({ name: string, icon: string, label: import('mithril').Children })[]}\n     */\n    this.types = this.notificationTypes().toArray();\n  }\n\n  view() {\n    const preferences = this.attrs.user.preferences();\n\n    return (\n      <table className=\"NotificationGrid\">\n        <thead>\n          <tr>\n            <td />\n            {this.methods.map((method) => (\n              <th className=\"NotificationGrid-groupToggle\" onclick={this.toggleMethod.bind(this, method.name)}>\n                {icon(method.icon)} {method.label}\n              </th>\n            ))}\n          </tr>\n        </thead>\n\n        <tbody>\n          {this.types.map((type) => (\n            <tr>\n              <td className=\"NotificationGrid-groupToggle\" onclick={this.toggleType.bind(this, type.name)}>\n                {icon(type.icon)} {type.label}\n              </td>\n              {this.methods.map((method) => {\n                const key = this.preferenceKey(type.name, method.name);\n\n                return (\n                  <td className=\"NotificationGrid-checkbox\">\n                    <Checkbox\n                      state={!!preferences[key]}\n                      loading={this.loading[key]}\n                      disabled={!(key in preferences)}\n                      onchange={this.toggle.bind(this, [key])}\n                    >\n                      <span className=\"sr-only\">\n                        {app.translator.trans('core.forum.settings.notification_checkbox_a11y_label_template', {\n                          description: type.label,\n                          method: method.label,\n                        })}\n                      </span>\n                    </Checkbox>\n                  </td>\n                );\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$('thead .NotificationGrid-groupToggle').bind('mouseenter mouseleave', function (e) {\n      const i = parseInt($(this).index(), 10) + 1;\n      $(this)\n        .parents('table')\n        .find('td:nth-child(' + i + ')')\n        .toggleClass('highlighted', e.type === 'mouseenter');\n    });\n\n    this.$('tbody .NotificationGrid-groupToggle').bind('mouseenter mouseleave', function (e) {\n      $(this)\n        .parent()\n        .find('td')\n        .toggleClass('highlighted', e.type === 'mouseenter');\n    });\n  }\n\n  /**\n   * Toggle the state of the given preferences, based on the value of the first\n   * one.\n   *\n   * @param {string[]} keys\n   */\n  toggle(keys) {\n    const user = this.attrs.user;\n    const preferences = user.preferences();\n    const enabled = !preferences[keys[0]];\n\n    keys.forEach((key) => {\n      this.loading[key] = true;\n      preferences[key] = enabled;\n    });\n\n    m.redraw();\n\n    user.save({ preferences }).then(() => {\n      keys.forEach((key) => (this.loading[key] = false));\n\n      m.redraw();\n    });\n  }\n\n  /**\n   * Toggle all notification types for the given method.\n   *\n   * @param {string} method\n   */\n  toggleMethod(method) {\n    const keys = this.types.map((type) => this.preferenceKey(type.name, method)).filter((key) => key in this.attrs.user.preferences());\n\n    this.toggle(keys);\n  }\n\n  /**\n   * Toggle all notification methods for the given type.\n   *\n   * @param {string} type\n   */\n  toggleType(type) {\n    const keys = this.methods.map((method) => this.preferenceKey(type, method.name)).filter((key) => key in this.attrs.user.preferences());\n\n    this.toggle(keys);\n  }\n\n  /**\n   * Get the name of the preference key for the given notification type-method\n   * combination.\n   *\n   * @param {string} type\n   * @param {string} method\n   * @return {string}\n   */\n  preferenceKey(type, method) {\n    return 'notify_' + type + '_' + method;\n  }\n\n  /**\n   * Build an item list for the notification methods to display in the grid.\n   *\n   * Each notification method is an object which has the following properties:\n   *\n   * - `name` The name of the notification method.\n   * - `icon` The icon to display in the column header.\n   * - `label` The label to display in the column header.\n   *\n   * @return {ItemList<{ name: string, icon: string, label: import('mithril').Children }>}\n   */\n  notificationMethods() {\n    const items = new ItemList();\n\n    items.add('alert', {\n      name: 'alert',\n      icon: 'fas fa-bell',\n      label: app.translator.trans('core.forum.settings.notify_by_web_heading'),\n    });\n\n    items.add('email', {\n      name: 'email',\n      icon: 'far fa-envelope',\n      label: app.translator.trans('core.forum.settings.notify_by_email_heading'),\n    });\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the notification types to display in the grid.\n   *\n   * Each notification type is an object which has the following properties:\n   *\n   * - `name` The name of the notification type.\n   * - `icon` The icon to display in the notification grid row.\n   * - `label` The label to display in the notification grid row.\n   *\n   * @return {ItemList<{ name: string, icon: string, label: import('mithril').Children}>}\n   */\n  notificationTypes() {\n    const items = new ItemList();\n\n    items.add('discussionRenamed', {\n      name: 'discussionRenamed',\n      icon: 'fas fa-pencil-alt',\n      label: app.translator.trans('core.forum.settings.notify_discussion_renamed_label'),\n    });\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport listItems from '../../common/helpers/listItems';\nimport Button from '../../common/components/Button';\nimport Link from '../../common/components/Link';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport Discussion from '../../common/models/Discussion';\nimport ItemList from '../../common/utils/ItemList';\nimport Tooltip from '../../common/components/Tooltip';\n\n/**\n * The `NotificationList` component displays a list of the logged-in user's\n * notifications, grouped by discussion.\n */\nexport default class NotificationList extends Component {\n  view() {\n    const state = this.attrs.state;\n\n    return (\n      <div className=\"NotificationList\">\n        <div className=\"NotificationList-header\">\n          <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('core.forum.notifications.title')}</h4>\n\n          <div className=\"App-primaryControl\">{this.controlItems().toArray()}</div>\n        </div>\n\n        <div className=\"NotificationList-content\">{this.content(state)}</div>\n      </div>\n    );\n  }\n\n  controlItems() {\n    const items = new ItemList();\n    const state = this.attrs.state;\n\n    items.add(\n      'mark_all_as_read',\n      <Tooltip text={app.translator.trans('core.forum.notifications.mark_all_as_read_tooltip')}>\n        <Button\n          className=\"Button Button--link\"\n          data-container=\".NotificationList\"\n          icon=\"fas fa-check\"\n          title={app.translator.trans('core.forum.notifications.mark_all_as_read_tooltip')}\n          onclick={state.markAllAsRead.bind(state)}\n        />\n      </Tooltip>,\n      70\n    );\n\n    items.add(\n      'delete_all',\n      <Tooltip text={app.translator.trans('core.forum.notifications.delete_all_tooltip')}>\n        <Button\n          className=\"Button Button--link\"\n          data-container=\".NotificationList\"\n          icon=\"fas fa-trash-alt\"\n          title={app.translator.trans('core.forum.notifications.delete_all_tooltip')}\n          onclick={() => {\n            if (confirm(app.translator.trans('core.forum.notifications.delete_all_confirm'))) {\n              state.deleteAll.call(state);\n            }\n          }}\n        />\n      </Tooltip>,\n      50\n    );\n\n    return items;\n  }\n\n  content(state) {\n    if (state.isLoading()) {\n      return <LoadingIndicator className=\"LoadingIndicator--block\" />;\n    }\n\n    if (state.hasItems()) {\n      return state.getPages().map((page) => {\n        const groups = [];\n        const discussions = {};\n\n        page.items.forEach((notification) => {\n          const subject = notification.subject();\n\n          if (typeof subject === 'undefined') return;\n\n          // Get the discussion that this notification is related to. If it's not\n          // directly related to a discussion, it may be related to a post or\n          // other entity which is related to a discussion.\n          let discussion = null;\n          if (subject instanceof Discussion) discussion = subject;\n          else if (subject && subject.discussion) discussion = subject.discussion();\n\n          // If the notification is not related to a discussion directly or\n          // indirectly, then we will assign it to a neutral group.\n          const key = discussion ? discussion.id() : 0;\n          discussions[key] = discussions[key] || { discussion: discussion, notifications: [] };\n          discussions[key].notifications.push(notification);\n\n          if (groups.indexOf(discussions[key]) === -1) {\n            groups.push(discussions[key]);\n          }\n        });\n\n        return groups.map((group) => {\n          const badges = group.discussion && group.discussion.badges().toArray();\n\n          return (\n            <div className=\"NotificationGroup\">\n              {group.discussion ? (\n                <Link className=\"NotificationGroup-header\" href={app.route.discussion(group.discussion)}>\n                  {badges && !!badges.length && <ul className=\"NotificationGroup-badges badges\">{listItems(badges)}</ul>}\n                  <span>{group.discussion.title()}</span>\n                </Link>\n              ) : (\n                <div className=\"NotificationGroup-header\">{app.forum.attribute('title')}</div>\n              )}\n\n              <ul className=\"NotificationGroup-content\">\n                {group.notifications.map((notification) => {\n                  const NotificationComponent = app.notificationComponents[notification.contentType()];\n                  return (\n                    !!NotificationComponent && (\n                      <li>\n                        <NotificationComponent notification={notification} />\n                      </li>\n                    )\n                  );\n                })}\n              </ul>\n            </div>\n          );\n        });\n      });\n    }\n\n    return <div className=\"NotificationList-empty\">{app.translator.trans('core.forum.notifications.empty_text')}</div>;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$notifications = this.$('.NotificationList-content');\n\n    // If we are on the notifications page, the window will be scrolling and not the $notifications element.\n    this.$scrollParent = this.inPanel() ? this.$notifications : $(window);\n\n    this.boundScrollHandler = this.scrollHandler.bind(this);\n    this.$scrollParent.on('scroll', this.boundScrollHandler);\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    this.$scrollParent.off('scroll', this.boundScrollHandler);\n  }\n\n  scrollHandler() {\n    const state = this.attrs.state;\n\n    // Whole-page scroll events are listened to on `window`, but we need to get the actual\n    // scrollHeight, scrollTop, and clientHeight from the document element.\n    const scrollParent = this.inPanel() ? this.$scrollParent[0] : document.documentElement;\n\n    // On very short screens, the scrollHeight + scrollTop might not reach the clientHeight\n    // by a fraction of a pixel, so we compensate for that.\n    const atBottom = Math.abs(scrollParent.scrollHeight - scrollParent.scrollTop - scrollParent.clientHeight) <= 1;\n\n    if (state.hasNext() && !state.isLoadingNext() && atBottom) {\n      state.loadNext();\n    }\n  }\n\n  /**\n   * If the NotificationList component isn't in a panel (e.g. on NotificationPage when mobile),\n   * we need to listen to scroll events on the window, and get scroll state from the body.\n   */\n  inPanel() {\n    return this.$notifications.css('overflow') === 'auto';\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport humanTime from '../../common/utils/humanTime';\nimport Tooltip from '../../common/components/Tooltip';\n\n/**\n * The `PostEdited` component displays information about when and by whom a post\n * was edited.\n *\n * ### Attrs\n *\n * - `post`\n */\nexport default class PostEdited extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  view() {\n    const post = this.attrs.post;\n    const editedUser = post.editedUser();\n    const editedInfo = app.translator.trans('core.forum.post.edited_tooltip', { user: editedUser, ago: humanTime(post.editedAt()) });\n\n    return (\n      <Tooltip text={editedInfo}>\n        <span className=\"PostEdited\">{app.translator.trans('core.forum.post.edited_text')}</span>\n      </Tooltip>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport humanTime from '../../common/helpers/humanTime';\nimport fullTime from '../../common/helpers/fullTime';\n\n/**\n * The `PostMeta` component displays the time of a post, and when clicked, shows\n * a dropdown containing more information about the post (number, full time,\n * permalink).\n *\n * ### Attrs\n *\n * - `post`\n */\nexport default class PostMeta extends Component {\n  view() {\n    const post = this.attrs.post;\n    const time = post.createdAt();\n    const permalink = this.getPermalink(post);\n    const touch = 'ontouchstart' in document.documentElement;\n\n    // When the dropdown menu is shown, select the contents of the permalink\n    // input so that the user can quickly copy the URL.\n    const selectPermalink = function (e) {\n      setTimeout(() => $(this).parent().find('.PostMeta-permalink').select());\n\n      e.redraw = false;\n    };\n\n    return (\n      <div className=\"Dropdown PostMeta\">\n        <a className=\"Dropdown-toggle\" onclick={selectPermalink} data-toggle=\"dropdown\">\n          {humanTime(time)}\n        </a>\n\n        <div className=\"Dropdown-menu dropdown-menu\">\n          <span className=\"PostMeta-number\">{app.translator.trans('core.forum.post.number_tooltip', { number: post.number() })}</span>{' '}\n          <span className=\"PostMeta-time\">{fullTime(time)}</span> <span className=\"PostMeta-ip\">{post.data.attributes.ipAddress}</span>\n          {touch ? (\n            <a className=\"Button PostMeta-permalink\" href={permalink}>\n              {permalink}\n            </a>\n          ) : (\n            <input className=\"FormControl PostMeta-permalink\" value={permalink} onclick={(e) => e.stopPropagation()} />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Get the permalink for the given post.\n   *\n   * @param {import('../../common/models/Post').default} post\n   * @returns {string}\n   */\n  getPermalink(post) {\n    return app.forum.attribute('baseOrigin') + app.route.post(post);\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport Link from '../../common/components/Link';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport highlight from '../../common/helpers/highlight';\n\n/**\n * The `PostPreview` component shows a link to a post containing the avatar and\n * username of the author, and a short excerpt of the post's content.\n *\n * ### Attrs\n *\n * - `post`\n */\nexport default class PostPreview extends Component {\n  view() {\n    const post = this.attrs.post;\n    const user = post.user();\n    const content = post.contentType() === 'comment' && post.contentPlain();\n    const excerpt = content ? highlight(content, this.attrs.highlight, 300) : '';\n\n    return (\n      <Link className=\"PostPreview\" href={app.route.post(post)} onclick={this.attrs.onclick}>\n        <span className=\"PostPreview-content\">\n          {avatar(user)}\n          {username(user)} <span className=\"PostPreview-excerpt\">{excerpt}</span>\n        </span>\n      </Link>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport ScrollListener from '../../common/utils/ScrollListener';\nimport PostLoading from './LoadingPost';\nimport ReplyPlaceholder from './ReplyPlaceholder';\nimport Button from '../../common/components/Button';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `PostStream` component displays an infinitely-scrollable wall of posts in\n * a discussion. Posts that have not loaded will be displayed as placeholders.\n *\n * ### Attrs\n *\n * - `discussion`\n * - `stream`\n * - `targetPost`\n * - `onPositionChange`\n */\nexport default class PostStream extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.discussion = this.attrs.discussion;\n    this.stream = this.attrs.stream;\n\n    this.scrollListener = new ScrollListener(this.onscroll.bind(this));\n  }\n\n  view() {\n    let lastTime;\n\n    const viewingEnd = this.stream.viewingEnd();\n    const posts = this.stream.posts();\n    const postIds = this.discussion.postIds();\n\n    const postFadeIn = (vnode) => {\n      $(vnode.dom).addClass('fadeIn');\n      // 500 is the duration of the fadeIn CSS animation + 100ms,\n      // so the animation has time to complete\n      setTimeout(() => $(vnode.dom).removeClass('fadeIn'), 500);\n    };\n\n    const items = posts.map((post, i) => {\n      let content;\n      const attrs = { 'data-index': this.stream.visibleStart + i };\n\n      if (post) {\n        const time = post.createdAt();\n        const PostComponent = app.postComponents[post.contentType()];\n        content = !!PostComponent && <PostComponent post={post} />;\n\n        attrs.key = 'post' + post.id();\n        attrs.oncreate = postFadeIn;\n        attrs['data-time'] = time.toISOString();\n        attrs['data-number'] = post.number();\n        attrs['data-id'] = post.id();\n        attrs['data-type'] = post.contentType();\n\n        // If the post before this one was more than 4 days ago, we will\n        // display a 'time gap' indicating how long it has been in between\n        // the posts.\n        const dt = time - lastTime;\n\n        if (dt > 1000 * 60 * 60 * 24 * 4) {\n          content = [\n            <div className=\"PostStream-timeGap\">\n              <span>{app.translator.trans('core.forum.post_stream.time_lapsed_text', { period: dayjs().add(dt, 'ms').fromNow(true) })}</span>\n            </div>,\n            content,\n          ];\n        }\n\n        lastTime = time;\n      } else {\n        attrs.key = 'post' + postIds[this.stream.visibleStart + i];\n\n        content = <PostLoading />;\n      }\n\n      return (\n        <div className=\"PostStream-item\" {...attrs}>\n          {content}\n        </div>\n      );\n    });\n\n    if (!viewingEnd && posts[this.stream.visibleEnd - this.stream.visibleStart - 1]) {\n      items.push(\n        <div className=\"PostStream-loadMore\" key=\"loadMore\">\n          <Button className=\"Button\" onclick={this.stream.loadNext.bind(this.stream)}>\n            {app.translator.trans('core.forum.post_stream.load_more_button')}\n          </Button>\n        </div>\n      );\n    }\n\n    // Allow extensions to add items to the end of the post stream.\n    if (viewingEnd) {\n      items.push(...this.endItems().toArray());\n    }\n\n    // If we're viewing the end of the discussion, the user can reply, and\n    // is not already doing so, then show a 'write a reply' placeholder.\n    if (viewingEnd && (!app.session.user || this.discussion.canReply())) {\n      items.push(\n        <div className=\"PostStream-item\" key=\"reply\" data-index={this.stream.count()} oncreate={postFadeIn}>\n          <ReplyPlaceholder discussion={this.discussion} />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"PostStream\" role=\"feed\" aria-live=\"off\" aria-busy={this.stream.pagesLoading ? 'true' : 'false'}>\n        {items}\n      </div>\n    );\n  }\n\n  /**\n   * @returns {ItemList<import('mithril').Children>}\n   */\n  endItems() {\n    const items = new ItemList();\n\n    return items;\n  }\n\n  onupdate(vnode) {\n    super.onupdate(vnode);\n\n    this.triggerScroll();\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.triggerScroll();\n\n    // This is wrapped in setTimeout due to the following Mithril issue:\n    // https://github.com/lhorie/mithril.js/issues/637\n    setTimeout(() => this.scrollListener.start());\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    this.scrollListener.stop();\n    clearTimeout(this.calculatePositionTimeout);\n  }\n\n  /**\n   * Start scrolling, if appropriate, to a newly-targeted post.\n   */\n  triggerScroll() {\n    if (!this.stream.needsScroll) return;\n\n    const target = this.stream.targetPost;\n    this.stream.needsScroll = false;\n\n    if ('number' in target) {\n      this.scrollToNumber(target.number, this.stream.animateScroll);\n    } else if ('index' in target) {\n      this.scrollToIndex(target.index, this.stream.animateScroll, target.reply);\n    }\n  }\n\n  /**\n   *\n   * @param {number} top\n   */\n  onscroll(top = window.pageYOffset) {\n    if (this.stream.paused || this.stream.pagesLoading) return;\n\n    this.updateScrubber(top);\n\n    this.loadPostsIfNeeded(top);\n\n    // Throttle calculation of our position (start/end numbers of posts in the\n    // viewport) to 100ms.\n    clearTimeout(this.calculatePositionTimeout);\n    this.calculatePositionTimeout = setTimeout(this.calculatePosition.bind(this, top), 100);\n  }\n\n  /**\n   * Check if either extreme of the post stream is in the viewport,\n   * and if so, trigger loading the next/previous page.\n   *\n   * @param {number} top\n   */\n  loadPostsIfNeeded(top = window.pageYOffset) {\n    const marginTop = this.getMarginTop();\n    const viewportHeight = $(window).height() - marginTop;\n    const viewportTop = top + marginTop;\n    const loadAheadDistance = 300;\n\n    if (this.stream.visibleStart > 0) {\n      const $item = this.$('.PostStream-item[data-index=' + this.stream.visibleStart + ']');\n\n      if ($item.length && $item.offset().top > viewportTop - loadAheadDistance) {\n        this.stream.loadPrevious();\n      }\n    }\n\n    if (this.stream.visibleEnd < this.stream.count()) {\n      const $item = this.$('.PostStream-item[data-index=' + (this.stream.visibleEnd - 1) + ']');\n\n      if ($item.length && $item.offset().top + $item.outerHeight(true) < viewportTop + viewportHeight + loadAheadDistance) {\n        this.stream.loadNext();\n      }\n    }\n  }\n\n  updateScrubber(top = window.pageYOffset) {\n    const marginTop = this.getMarginTop();\n    const viewportHeight = $(window).height() - marginTop;\n    const viewportTop = top + marginTop;\n\n    // Before looping through all of the posts, we reset the scrollbar\n    // properties to a 'default' state. These values reflect what would be\n    // seen if the browser were scrolled right up to the top of the page,\n    // and the viewport had a height of 0.\n    const $items = this.$('.PostStream-item[data-index]');\n    let visible = 0;\n    let period = '';\n    let indexFromViewPort = null;\n\n    // Now loop through each of the items in the discussion. An 'item' is\n    // either a single post or a 'gap' of one or more posts that haven't\n    // been loaded yet.\n    $items.each(function () {\n      const $this = $(this);\n      const top = $this.offset().top;\n      const height = $this.outerHeight(true);\n\n      // If this item is above the top of the viewport, skip to the next\n      // one. If it's below the bottom of the viewport, break out of the\n      // loop.\n      if (top + height < viewportTop) {\n        return true;\n      }\n      if (top > viewportTop + viewportHeight) {\n        return false;\n      }\n\n      // Work out how many pixels of this item are visible inside the viewport.\n      // Then add the proportion of this item's total height to the index.\n      const visibleTop = Math.max(0, viewportTop - top);\n      const visibleBottom = Math.min(height, viewportTop + viewportHeight - top);\n      const visiblePost = visibleBottom - visibleTop;\n\n      // We take the index of the first item that passed the previous checks.\n      // It is the item that is first visible in the viewport.\n      if (indexFromViewPort === null) {\n        indexFromViewPort = parseFloat($this.data('index')) + visibleTop / height;\n      }\n\n      if (visiblePost > 0) {\n        visible += visiblePost / height;\n      }\n\n      // If this item has a time associated with it, then set the\n      // scrollbar's current period to a formatted version of this time.\n      const time = $this.data('time');\n      if (time) period = time;\n    });\n\n    // If indexFromViewPort is null, it means no posts are visible in the\n    // viewport. This can happen, when drafting a long reply post. In that case\n    // set the index to the last post.\n    this.stream.index = indexFromViewPort !== null ? indexFromViewPort + 1 : this.stream.count();\n    this.stream.visible = visible;\n    if (period) this.stream.description = dayjs(period).format('MMMM YYYY');\n  }\n\n  /**\n   * Work out which posts (by number) are currently visible in the viewport, and\n   * fire an event with the information.\n   */\n  calculatePosition(top = window.pageYOffset) {\n    const marginTop = this.getMarginTop();\n    const $window = $(window);\n    const viewportHeight = $window.height() - marginTop;\n    const scrollTop = $window.scrollTop() + marginTop;\n    const viewportTop = top + marginTop;\n\n    let startNumber;\n    let endNumber;\n\n    this.$('.PostStream-item').each(function () {\n      const $item = $(this);\n      const top = $item.offset().top;\n      const height = $item.outerHeight(true);\n      const visibleTop = Math.max(0, viewportTop - top);\n\n      const threeQuartersVisible = visibleTop / height < 0.75;\n      const coversQuarterOfViewport = (height - visibleTop) / viewportHeight > 0.25;\n      if (startNumber === undefined && (threeQuartersVisible || coversQuarterOfViewport)) {\n        startNumber = $item.data('number');\n      }\n\n      if (top + height > scrollTop) {\n        if (top + height < scrollTop + viewportHeight) {\n          if ($item.data('number')) {\n            endNumber = $item.data('number');\n          }\n        } else return false;\n      }\n    });\n\n    if (startNumber) {\n      this.attrs.onPositionChange(startNumber || 1, endNumber, startNumber);\n    }\n  }\n\n  /**\n   * Get the distance from the top of the viewport to the point at which we\n   * would consider a post to be the first one visible.\n   *\n   * @return {number}\n   */\n  getMarginTop() {\n    const headerId = app.screen() === 'phone' ? '#app-navigation' : '#header';\n\n    return this.$() && $(headerId).outerHeight() + parseInt(this.$().css('margin-top'), 10);\n  }\n\n  /**\n   * Scroll down to a certain post by number and 'flash' it.\n   *\n   * @param {number} number\n   * @param {boolean} animate\n   * @return {JQueryDeferred}\n   */\n  scrollToNumber(number, animate) {\n    const $item = this.$(`.PostStream-item[data-number=${number}]`);\n\n    return this.scrollToItem($item, animate).then(this.flashItem.bind(this, $item));\n  }\n\n  /**\n   * Scroll down to a certain post by index.\n   *\n   * @param {number} index\n   * @param {boolean} animate\n   * @param {boolean} reply Whether or not to scroll to the reply placeholder.\n   * @return {JQueryDeferred}\n   */\n  scrollToIndex(index, animate, reply) {\n    const $item = reply ? $('.PostStream-item:last-child') : this.$(`.PostStream-item[data-index=${index}]`);\n\n    this.scrollToItem($item, animate, true, reply);\n\n    if (reply) {\n      this.flashItem($item);\n    }\n  }\n\n  /**\n   * Scroll down to the given post.\n   *\n   * @param {JQuery} $item\n   * @param {boolean} animate\n   * @param {boolean} force Whether or not to force scrolling to the item, even\n   *     if it is already in the viewport.\n   * @param {boolean} reply Whether or not to scroll to the reply placeholder.\n   * @return {JQueryDeferred}\n   */\n  scrollToItem($item, animate, force, reply) {\n    const $container = $('html, body').stop(true);\n    const index = $item.data('index');\n\n    if ($item.length) {\n      const itemTop = $item.offset().top - this.getMarginTop();\n      const itemBottom = $item.offset().top + $item.height();\n      const scrollTop = $(document).scrollTop();\n      const scrollBottom = scrollTop + $(window).height();\n\n      // If the item is already in the viewport, we may not need to scroll.\n      // If we're scrolling to the reply placeholder, we'll make sure its\n      // bottom will line up with the top of the composer.\n      if (force || itemTop < scrollTop || itemBottom > scrollBottom) {\n        const top = reply ? itemBottom - $(window).height() + app.composer.computedHeight() : $item.is(':first-child') ? 0 : itemTop;\n\n        if (!animate) {\n          $container.scrollTop(top);\n        } else if (top !== scrollTop) {\n          $container.animate({ scrollTop: top }, 'fast');\n        }\n      }\n    }\n\n    const updateScrubberHeight = () => {\n      // We manually set the index because we want to display the index of the\n      // exact post we've scrolled to, not just that of the first post within viewport.\n      this.updateScrubber();\n      if (index !== undefined) this.stream.index = index + 1;\n    };\n\n    // If we don't update this before the scroll, the scrubber will start\n    // at the top, and animate down, which can be confusing\n    updateScrubberHeight();\n    this.stream.forceUpdateScrubber = true;\n\n    return Promise.all([$container.promise(), this.stream.loadPromise]).then(() => {\n      m.redraw.sync();\n\n      // Rendering post contents will probably throw off our position.\n      // To counter this, we'll scroll either:\n      //   - To the reply placeholder (aligned with composer top)\n      //   - To the top of the page if we're on the first post\n      //   - To the top of a post (if that post exists)\n      // If the post does not currently exist, it's probably\n      // outside of the range we loaded in, so we won't adjust anything,\n      // as it will soon be rendered by the \"load more\" system.\n      let itemOffset;\n      if (reply) {\n        const $placeholder = $('.PostStream-item:last-child');\n        $(window).scrollTop($placeholder.offset().top + $placeholder.height() - $(window).height() + app.composer.computedHeight());\n      } else if (index === 0) {\n        $(window).scrollTop(0);\n      } else if ((itemOffset = $(`.PostStream-item[data-index=${index}]`).offset())) {\n        $(window).scrollTop(itemOffset.top - this.getMarginTop());\n      }\n\n      // We want to adjust this again after posts have been loaded in\n      // and position adjusted so that the scrubber's height is accurate.\n      updateScrubberHeight();\n\n      this.calculatePosition();\n      this.stream.paused = false;\n      // Check if we need to load more posts after scrolling.\n      this.loadPostsIfNeeded();\n    });\n  }\n\n  /**\n   * 'Flash' the given post, drawing the user's attention to it.\n   *\n   * @param {JQuery} $item\n   */\n  flashItem($item) {\n    // This might execute before the fadeIn class has been removed in PostStreamItem's\n    // oncreate, so we remove it just to be safe and avoid a double animation.\n    $item.removeClass('fadeIn');\n    $item.addClass('flash').on('animationend webkitAnimationEnd', (e) => {\n      $item.removeClass('flash');\n    });\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport icon from '../../common/helpers/icon';\nimport formatNumber from '../../common/utils/formatNumber';\nimport ScrollListener from '../../common/utils/ScrollListener';\n\n/**\n * The `PostStreamScrubber` component displays a scrubber which can be used to\n * navigate/scrub through a post stream.\n *\n * ### Attrs\n *\n * - `stream`\n * - `className`\n */\nexport default class PostStreamScrubber extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.stream = this.attrs.stream;\n    this.handlers = {};\n\n    this.scrollListener = new ScrollListener(this.updateScrubberValues.bind(this, { fromScroll: true, forceHeightChange: true }));\n  }\n\n  view() {\n    const count = this.stream.count();\n\n    // Index is left blank for performance reasons, it is filled in in updateScubberValues\n    const viewing = app.translator.trans('core.forum.post_scrubber.viewing_text', {\n      count,\n      index: <span className=\"Scrubber-index\"></span>,\n      formattedCount: <span className=\"Scrubber-count\">{formatNumber(count)}</span>,\n    });\n\n    const unreadCount = this.stream.discussion.unreadCount();\n    const unreadPercent = count ? Math.min(count - this.stream.index, unreadCount) / count : 0;\n\n    function styleUnread(vnode) {\n      const $element = $(vnode.dom);\n      const newStyle = {\n        top: 100 - unreadPercent * 100 + '%',\n        height: unreadPercent * 100 + '%',\n        opacity: unreadPercent ? 1 : 0,\n      };\n\n      if (vnode.state.oldStyle) {\n        $element.stop(true).css(vnode.state.oldStyle).animate(newStyle);\n      } else {\n        $element.css(newStyle);\n      }\n\n      vnode.state.oldStyle = newStyle;\n    }\n    const classNames = ['PostStreamScrubber', 'Dropdown'];\n    if (this.attrs.className) classNames.push(this.attrs.className);\n\n    return (\n      <div className={classNames.join(' ')}>\n        <button className=\"Button Dropdown-toggle\" data-toggle=\"dropdown\">\n          {viewing} {icon('fas fa-sort')}\n        </button>\n\n        <div className=\"Dropdown-menu dropdown-menu\">\n          <div className=\"Scrubber\">\n            <a className=\"Scrubber-first\" onclick={this.goToFirst.bind(this)}>\n              {icon('fas fa-angle-double-up')} {app.translator.trans('core.forum.post_scrubber.original_post_link')}\n            </a>\n\n            <div className=\"Scrubber-scrollbar\">\n              <div className=\"Scrubber-before\" />\n              <div className=\"Scrubber-handle\">\n                <div className=\"Scrubber-bar\" />\n                <div className=\"Scrubber-info\">\n                  <strong>{viewing}</strong>\n                  <span className=\"Scrubber-description\"></span>\n                </div>\n              </div>\n              <div className=\"Scrubber-after\" />\n\n              <div className=\"Scrubber-unread\" oncreate={styleUnread} onupdate={styleUnread}>\n                {app.translator.trans('core.forum.post_scrubber.unread_text', { count: unreadCount })}\n              </div>\n            </div>\n\n            <a className=\"Scrubber-last\" onclick={this.goToLast.bind(this)}>\n              {icon('fas fa-angle-double-down')} {app.translator.trans('core.forum.post_scrubber.now_link')}\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onupdate(vnode) {\n    super.onupdate(vnode);\n\n    if (this.stream.forceUpdateScrubber) {\n      this.stream.forceUpdateScrubber = false;\n      this.stream.loadPromise.then(() => this.updateScrubberValues({ animate: true, forceHeightChange: true }));\n    }\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    // Whenever the window is resized, adjust the height of the scrollbar\n    // so that it fills the height of the sidebar.\n    $(window)\n      .on('resize', (this.handlers.onresize = this.onresize.bind(this)))\n      .resize();\n\n    // When any part of the whole scrollbar is clicked, we want to jump to\n    // that position.\n    this.$('.Scrubber-scrollbar')\n      .bind('click', this.onclick.bind(this))\n\n      // Now we want to make the scrollbar handle draggable. Let's start by\n      // preventing default browser events from messing things up.\n      .bind('dragstart mousedown touchstart', (e) => e.preventDefault());\n\n    // When the mouse is pressed on the scrollbar handle, we capture some\n    // information about its current position. We will store this\n    // information in an object and pass it on to the document's\n    // mousemove/mouseup events later.\n    this.dragging = false;\n    this.mouseStart = 0;\n    this.indexStart = 0;\n\n    this.$('.Scrubber-handle')\n      .bind('mousedown touchstart', this.onmousedown.bind(this))\n\n      // Exempt the scrollbar handle from the 'jump to' click event.\n      .click((e) => e.stopPropagation());\n\n    // When the mouse moves and when it is released, we pass the\n    // information that we captured when the mouse was first pressed onto\n    // some event handlers. These handlers will move the scrollbar/stream-\n    // content as appropriate.\n    $(document)\n      .on('mousemove touchmove', (this.handlers.onmousemove = this.onmousemove.bind(this)))\n      .on('mouseup touchend', (this.handlers.onmouseup = this.onmouseup.bind(this)));\n\n    setTimeout(() => this.scrollListener.start());\n\n    this.stream.loadPromise.then(() => this.updateScrubberValues({ animate: false, forceHeightChange: true }));\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    this.scrollListener.stop();\n    $(window).off('resize', this.handlers.onresize);\n\n    $(document).off('mousemove touchmove', this.handlers.onmousemove).off('mouseup touchend', this.handlers.onmouseup);\n  }\n\n  /**\n   * Update the scrollbar's position to reflect the current values of the\n   * index/visible properties.\n   *\n   * @param {Partial<{fromScroll: boolean, forceHeightChange: boolean, animate: boolean}>} options\n   */\n  updateScrubberValues(options = {}) {\n    const index = this.stream.index;\n    const count = this.stream.count();\n    const visible = this.stream.visible || 1;\n    const percentPerPost = this.percentPerPost();\n\n    const $scrubber = this.$();\n    $scrubber.find('.Scrubber-index').text(formatNumber(this.stream.sanitizeIndex(Math.max(1, index))));\n    $scrubber.find('.Scrubber-description').text(this.stream.description);\n    $scrubber.toggleClass('disabled', this.stream.disabled());\n\n    const heights = {};\n    heights.before = Math.max(0, percentPerPost.index * Math.min(index - 1, count - visible));\n    heights.handle = Math.min(100 - heights.before, percentPerPost.visible * visible);\n    heights.after = 100 - heights.before - heights.handle;\n\n    // If the stream is paused, don't change height on scroll, as the viewport is being scrolled by the JS\n    // If a height change animation is already in progress, don't adjust height unless overriden\n    if ((options.fromScroll && this.stream.paused) || (this.adjustingHeight && !options.forceHeightChange)) return;\n\n    const func = options.animate ? 'animate' : 'css';\n    this.adjustingHeight = true;\n    const animationPromises = [];\n    for (const part in heights) {\n      const $part = $scrubber.find(`.Scrubber-${part}`);\n      animationPromises.push(\n        $part\n          .stop(true, true)\n          [func]({ height: heights[part] + '%' }, 'fast')\n          .promise()\n      );\n\n      // jQuery likes to put overflow:hidden, but because the scrollbar handle\n      // has a negative margin-left, we need to override.\n      if (func === 'animate') $part.css('overflow', 'visible');\n    }\n    Promise.all(animationPromises).then(() => (this.adjustingHeight = false));\n  }\n\n  /**\n   * Go to the first post in the discussion.\n   */\n  goToFirst() {\n    this.stream.goToFirst();\n    this.updateScrubberValues({ animate: true, forceHeightChange: true });\n  }\n\n  /**\n   * Go to the last post in the discussion.\n   */\n  goToLast() {\n    this.stream.goToLast();\n    this.updateScrubberValues({ animate: true, forceHeightChange: true });\n  }\n\n  onresize() {\n    // Adjust the height of the scrollbar so that it fills the height of\n    // the sidebar and doesn't overlap the footer.\n    const scrubber = this.$();\n    const scrollbar = this.$('.Scrubber-scrollbar');\n\n    scrollbar.css(\n      'max-height',\n      $(window).height() -\n        scrubber.offset().top +\n        $(window).scrollTop() -\n        parseInt($('#app').css('padding-bottom'), 10) -\n        (scrubber.outerHeight() - scrollbar.outerHeight())\n    );\n  }\n\n  onmousedown(e) {\n    e.redraw = false;\n    this.mouseStart = e.clientY || e.originalEvent.touches[0].clientY;\n    this.indexStart = this.stream.index;\n    this.dragging = true;\n    $('body').css('cursor', 'move');\n    this.$().toggleClass('dragging', this.dragging);\n  }\n\n  onmousemove(e) {\n    if (!this.dragging) return;\n\n    // Work out how much the mouse has moved by - first in pixels, then\n    // convert it to a percentage of the scrollbar's height, and then\n    // finally convert it into an index. Add this delta index onto\n    // the index at which the drag was started, and then scroll there.\n    const deltaPixels = (e.clientY || e.originalEvent.touches[0].clientY) - this.mouseStart;\n    const deltaPercent = (deltaPixels / this.$('.Scrubber-scrollbar').outerHeight()) * 100;\n    const deltaIndex = deltaPercent / this.percentPerPost().index || 0;\n    const newIndex = Math.min(this.indexStart + deltaIndex, this.stream.count() - 1);\n\n    this.stream.index = Math.max(0, newIndex);\n    this.updateScrubberValues();\n  }\n\n  onmouseup() {\n    this.$().toggleClass('dragging', this.dragging);\n    if (!this.dragging) return;\n\n    this.mouseStart = 0;\n    this.indexStart = 0;\n    this.dragging = false;\n    $('body').css('cursor', '');\n\n    this.$().removeClass('open');\n\n    // If the index we've landed on is in a gap, then tell the stream-\n    // content that we want to load those posts.\n    const intIndex = Math.floor(this.stream.index);\n    this.stream.goToIndex(intIndex);\n  }\n\n  onclick(e) {\n    // Calculate the index which we want to jump to based on the click position.\n\n    // 1. Get the offset of the click from the top of the scrollbar, as a\n    //    percentage of the scrollbar's height.\n    const $scrollbar = this.$('.Scrubber-scrollbar');\n    const offsetPixels = (e.pageY || e.originalEvent.touches[0].pageY) - $scrollbar.offset().top + $('body').scrollTop();\n    let offsetPercent = (offsetPixels / $scrollbar.outerHeight()) * 100;\n\n    // 2. We want the handle of the scrollbar to end up centered on the click\n    //    position. Thus, we calculate the height of the handle in percent and\n    //    use that to find a new offset percentage.\n    offsetPercent = offsetPercent - parseFloat($scrollbar.find('.Scrubber-handle')[0].style.height) / 2;\n\n    // 3. Now we can convert the percentage into an index, and tell the stream-\n    //    content component to jump to that index.\n    let offsetIndex = offsetPercent / this.percentPerPost().index;\n    offsetIndex = Math.max(0, Math.min(this.stream.count() - 1, offsetIndex));\n    this.stream.goToIndex(Math.floor(offsetIndex));\n    this.updateScrubberValues({ animate: true, forceHeightChange: true });\n\n    this.$().removeClass('open');\n  }\n\n  /**\n   * Get the percentage of the height of the scrubber that should be allocated\n   * to each post.\n   *\n   * @return {{ index: number, visible: number }}\n   * @property {Number} index The percent per post for posts on either side of\n   *     the visible part of the scrubber.\n   * @property {Number} visible The percent per post for the visible part of the\n   *     scrubber.\n   */\n  percentPerPost() {\n    const count = this.stream.count() || 1;\n    const visible = this.stream.visible || 1;\n\n    // To stop the handle of the scrollbar from getting too small when there\n    // are many posts, we define a minimum percentage height for the handle\n    // calculated from a 50 pixel limit. From this, we can calculate the\n    // minimum percentage per visible post. If this is greater than the actual\n    // percentage per post, then we need to adjust the 'before' percentage to\n    // account for it.\n    const minPercentVisible = (50 / this.$('.Scrubber-scrollbar').outerHeight()) * 100;\n    const percentPerVisiblePost = Math.max(100 / count, minPercentVisible / visible);\n    const percentPerPost = count === visible ? 0 : (100 - percentPerVisiblePost * visible) / (count - visible);\n\n    return {\n      index: percentPerPost,\n      visible: percentPerVisiblePost,\n    };\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport Link from '../../common/components/Link';\nimport UserCard from './UserCard';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport userOnline from '../../common/helpers/userOnline';\nimport listItems from '../../common/helpers/listItems';\n\n/**\n * The `PostUser` component shows the avatar and username of a post's author.\n *\n * ### Attrs\n *\n * - `post`\n */\nexport default class PostUser extends Component {\n  view() {\n    const post = this.attrs.post;\n    const user = post.user();\n\n    if (!user) {\n      return (\n        <div className=\"PostUser\">\n          <h3 className=\"PostUser-name\">\n            {avatar(user, { className: 'PostUser-avatar' })} {username(user)}\n          </h3>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"PostUser\">\n        <h3 className=\"PostUser-name\">\n          <Link href={app.route.user(user)}>\n            {avatar(user, { className: 'PostUser-avatar' })}\n            {userOnline(user)}\n            {username(user)}\n          </Link>\n        </h3>\n        <ul className=\"PostUser-badges badges\">{listItems(user.badges().toArray())}</ul>\n\n        {!post.isHidden() && this.attrs.cardVisible && (\n          <UserCard user={user} className=\"UserCard--popover\" controlsButtonClassName=\"Button Button--icon Button--flat\" />\n        )}\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    let timeout;\n\n    this.$()\n      .on('mouseover', '.PostUser-name a, .UserCard', () => {\n        clearTimeout(timeout);\n        timeout = setTimeout(this.showCard.bind(this), 500);\n      })\n      .on('mouseout', '.PostUser-name a, .UserCard', () => {\n        clearTimeout(timeout);\n        timeout = setTimeout(this.hideCard.bind(this), 250);\n      });\n  }\n\n  /**\n   * Show the user card.\n   */\n  showCard() {\n    this.attrs.oncardshow();\n\n    setTimeout(() => this.$('.UserCard').addClass('in'));\n  }\n\n  /**\n   * Hide the user card.\n   */\n  hideCard() {\n    this.$('.UserCard')\n      .removeClass('in')\n      .one('transitionend webkitTransitionEnd oTransitionEnd', () => {\n        this.attrs.oncardhide();\n      });\n  }\n}\n","import app from '../../forum/app';\nimport ComposerBody from './ComposerBody';\nimport Button from '../../common/components/Button';\nimport Link from '../../common/components/Link';\nimport icon from '../../common/helpers/icon';\nimport extractText from '../../common/utils/extractText';\n\nfunction minimizeComposerIfFullScreen(e) {\n  if (app.composer.isFullScreen()) {\n    app.composer.minimize();\n    e.stopPropagation();\n  }\n}\n\n/**\n * The `ReplyComposer` component displays the composer content for replying to a\n * discussion.\n *\n * ### Attrs\n *\n * - All of the attrs of ComposerBody\n * - `discussion`\n */\nexport default class ReplyComposer extends ComposerBody {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.placeholder = attrs.placeholder || extractText(app.translator.trans('core.forum.composer_reply.body_placeholder'));\n    attrs.submitLabel = attrs.submitLabel || app.translator.trans('core.forum.composer_reply.submit_button');\n    attrs.confirmExit = attrs.confirmExit || extractText(app.translator.trans('core.forum.composer_reply.discard_confirmation'));\n  }\n\n  headerItems() {\n    const items = super.headerItems();\n    const discussion = this.attrs.discussion;\n\n    items.add(\n      'title',\n      <h3>\n        {icon('fas fa-reply')}{' '}\n        <Link href={app.route.discussion(discussion)} onclick={minimizeComposerIfFullScreen}>\n          {discussion.title()}\n        </Link>\n      </h3>\n    );\n\n    return items;\n  }\n\n  /**\n   * Jump to the preview when triggered by the text editor.\n   */\n  jumpToPreview(e) {\n    minimizeComposerIfFullScreen(e);\n\n    m.route.set(app.route.discussion(this.attrs.discussion, 'reply'));\n  }\n\n  /**\n   * Get the data to submit to the server when the reply is saved.\n   *\n   * @return {Record<string, unknown>}\n   */\n  data() {\n    return {\n      content: this.composer.fields.content(),\n      relationships: { discussion: this.attrs.discussion },\n    };\n  }\n\n  onsubmit() {\n    const discussion = this.attrs.discussion;\n\n    this.loading = true;\n    m.redraw();\n\n    const data = this.data();\n\n    app.store\n      .createRecord('posts')\n      .save(data)\n      .then((post) => {\n        // If we're currently viewing the discussion which this reply was made\n        // in, then we can update the post stream and scroll to the post.\n        if (app.viewingDiscussion(discussion)) {\n          const stream = app.current.get('stream');\n          stream.update().then(() => stream.goToNumber(post.number()));\n        } else {\n          // Otherwise, we'll create an alert message to inform the user that\n          // their reply has been posted, containing a button which will\n          // transition to their new post when clicked.\n          let alert;\n          const viewButton = (\n            <Button\n              className=\"Button Button--link\"\n              onclick={() => {\n                m.route.set(app.route.post(post));\n                app.alerts.dismiss(alert);\n              }}\n            >\n              {app.translator.trans('core.forum.composer_reply.view_button')}\n            </Button>\n          );\n          alert = app.alerts.show(\n            {\n              type: 'success',\n              controls: [viewButton],\n            },\n            app.translator.trans('core.forum.composer_reply.posted_message')\n          );\n        }\n\n        this.composer.hide();\n      }, this.loaded.bind(this));\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport DiscussionControls from '../utils/DiscussionControls';\nimport ComposerPostPreview from './ComposerPostPreview';\nimport listItems from '../../common/helpers/listItems';\n\n/**\n * The `ReplyPlaceholder` component displays a placeholder for a reply, which,\n * when clicked, opens the reply composer.\n *\n * ### Attrs\n *\n * - `discussion`\n */\nexport default class ReplyPlaceholder extends Component {\n  view() {\n    if (app.composer.composingReplyTo(this.attrs.discussion)) {\n      return (\n        <article className=\"Post CommentPost editing\" aria-busy=\"true\">\n          <header className=\"Post-header\">\n            <div className=\"PostUser\">\n              <h3 className=\"PostUser-name\">\n                {avatar(app.session.user, { className: 'PostUser-avatar' })}\n                {username(app.session.user)}\n              </h3>\n              <ul className=\"PostUser-badges badges\">{listItems(app.session.user.badges().toArray())}</ul>\n            </div>\n          </header>\n          <ComposerPostPreview className=\"Post-body\" composer={app.composer} surround={this.anchorPreview.bind(this)} />\n        </article>\n      );\n    }\n\n    const reply = () => {\n      DiscussionControls.replyAction.call(this.attrs.discussion, true).catch(() => {});\n    };\n\n    return (\n      <button className=\"Post ReplyPlaceholder\" onclick={reply}>\n        <span className=\"Post-header\">\n          {avatar(app.session.user, { className: 'PostUser-avatar' })} {app.translator.trans('core.forum.post_stream.reply_placeholder')}\n        </span>\n      </button>\n    );\n  }\n\n  anchorPreview(preview) {\n    const anchorToBottom = $(window).scrollTop() + $(window).height() >= $(document).height();\n\n    preview();\n\n    if (anchorToBottom) {\n      $(window).scrollTop($(document).height());\n    }\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport humanTime from '../../common/helpers/humanTime';\nimport icon from '../../common/helpers/icon';\n\n/**\n * Displays information about a the first or last post in a discussion.\n *\n * ### Attrs\n *\n * - `discussion`\n * - `lastPost`\n */\nexport default class TerminalPost extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const lastPost = this.attrs.lastPost && discussion.replyCount();\n\n    const user = discussion[lastPost ? 'lastPostedUser' : 'user']();\n    const time = discussion[lastPost ? 'lastPostedAt' : 'createdAt']();\n\n    return (\n      <span>\n        {!!lastPost && icon('fas fa-reply')}{' '}\n        {app.translator.trans('core.forum.discussion_list.' + (lastPost ? 'replied' : 'started') + '_text', {\n          user,\n          ago: humanTime(time),\n        })}\n      </span>\n    );\n  }\n}\n","import app from '../../forum/app';\nimport Component from '../../common/Component';\nimport humanTime from '../../common/utils/humanTime';\nimport ItemList from '../../common/utils/ItemList';\nimport UserControls from '../utils/UserControls';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport icon from '../../common/helpers/icon';\nimport Dropdown from '../../common/components/Dropdown';\nimport Link from '../../common/components/Link';\nimport AvatarEditor from './AvatarEditor';\nimport listItems from '../../common/helpers/listItems';\nimport classList from '../../common/utils/classList';\n\n/**\n * The `UserCard` component displays a user's profile card. This is used both on\n * the `UserPage` (in the hero) and in discussions, shown when hovering over a\n * post author.\n *\n * ### Attrs\n *\n * - `user`\n * - `className`\n * - `editable`\n * - `controlsButtonClassName`\n */\nexport default class UserCard extends Component {\n  view() {\n    const user = this.attrs.user;\n    const controls = UserControls.controls(user, this).toArray();\n    const color = user.color();\n    const badges = user.badges().toArray();\n\n    return (\n      <div className={classList('UserCard', this.attrs.className)} style={color && { '--usercard-bg': color }}>\n        <div className=\"darkenBackground\">\n          <div className=\"container\">\n            {!!controls.length && (\n              <Dropdown\n                className=\"UserCard-controls App-primaryControl\"\n                menuClassName=\"Dropdown-menu--right\"\n                buttonClassName={this.attrs.controlsButtonClassName}\n                label={app.translator.trans('core.forum.user_controls.button')}\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\n                icon=\"fas fa-ellipsis-v\"\n              >\n                {controls}\n              </Dropdown>\n            )}\n\n            <div className=\"UserCard-profile\">\n              <h1 className=\"UserCard-identity\">\n                {this.attrs.editable ? (\n                  <>\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" /> {username(user)}\n                  </>\n                ) : (\n                  <Link href={app.route.user(user)}>\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\n                    {username(user)}\n                  </Link>\n                )}\n              </h1>\n\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\n\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Build an item list of tidbits of info to show on this user's profile.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  infoItems() {\n    const items = new ItemList();\n    const user = this.attrs.user;\n    const lastSeenAt = user.lastSeenAt();\n\n    if (lastSeenAt) {\n      const online = user.isOnline();\n\n      items.add(\n        'lastSeen',\n        <span className={classList('UserCard-lastSeen', { online })}>\n          {online\n            ? [icon('fas fa-circle'), ' ', app.translator.trans('core.forum.user.online_text')]\n            : [icon('far fa-clock'), ' ', humanTime(lastSeenAt)]}\n        </span>,\n        100\n      );\n    }\n\n    items.add('joined', app.translator.trans('core.forum.user.joined_date_text', { ago: humanTime(user.joinTime()) }), 90);\n\n    return items;\n  }\n}\n","import app from '../../forum/app';\nimport subclassOf from '../../common/utils/subclassOf';\nimport Stream from '../../common/utils/Stream';\nimport ReplyComposer from '../components/ReplyComposer';\n\nclass ComposerState {\n  constructor() {\n    /**\n     * The composer's current position.\n     *\n     * @type {ComposerState.Position}\n     */\n    this.position = ComposerState.Position.HIDDEN;\n\n    /**\n     * The composer's intended height, which can be modified by the user\n     * (by dragging the composer handle).\n     *\n     * @type {number}\n     */\n    this.height = null;\n\n    /**\n     * The dynamic component being shown inside the composer.\n     *\n     * @type {Object}\n     */\n    this.body = { attrs: {} };\n\n    /**\n     * A reference to the text editor that allows text manipulation.\n     *\n     * @type {import('../../common/utils/EditorDriverInterface')|null}\n     */\n    this.editor = null;\n\n    this.clear();\n  }\n\n  /**\n   * Load a content component into the composer.\n   *\n   * @param {typeof import('../components/ComposerBody').default} componentClass\n   */\n  load(componentClass, attrs) {\n    const body = { componentClass, attrs };\n\n    if (this.preventExit()) return;\n\n    // If we load a similar component into the composer, then Mithril will be\n    // able to diff the old/new contents and some DOM-related state from the\n    // old composer will remain. To prevent this from happening, we clear the\n    // component and force a redraw, so that the new component will be working\n    // on a blank slate.\n    if (this.isVisible()) {\n      this.clear();\n      m.redraw.sync();\n    }\n\n    this.body = body;\n  }\n\n  /**\n   * Clear the composer's content component.\n   */\n  clear() {\n    this.position = ComposerState.Position.HIDDEN;\n    this.body = { attrs: {} };\n    this.onExit = null;\n\n    this.fields = {\n      content: Stream(''),\n    };\n\n    if (this.editor) {\n      this.editor.destroy();\n    }\n    this.editor = null;\n  }\n\n  /**\n   * Show the composer.\n   */\n  show() {\n    if (this.position === ComposerState.Position.NORMAL || this.position === ComposerState.Position.FULLSCREEN) return;\n\n    this.position = ComposerState.Position.NORMAL;\n    m.redraw.sync();\n  }\n\n  /**\n   * Close the composer.\n   */\n  hide() {\n    this.clear();\n    m.redraw();\n  }\n\n  /**\n   * Confirm with the user so they don't lose their content, then close the\n   * composer.\n   */\n  close() {\n    if (this.preventExit()) return;\n\n    this.hide();\n  }\n\n  /**\n   * Minimize the composer. Has no effect if the composer is hidden.\n   */\n  minimize() {\n    if (!this.isVisible()) return;\n\n    this.position = ComposerState.Position.MINIMIZED;\n    m.redraw();\n  }\n\n  /**\n   * Take the composer into fullscreen mode. Has no effect if the composer is\n   * hidden.\n   */\n  fullScreen() {\n    if (!this.isVisible()) return;\n\n    this.position = ComposerState.Position.FULLSCREEN;\n    m.redraw();\n  }\n\n  /**\n   * Exit fullscreen mode.\n   */\n  exitFullScreen() {\n    if (this.position !== ComposerState.Position.FULLSCREEN) return;\n\n    this.position = ComposerState.Position.NORMAL;\n    m.redraw();\n  }\n\n  /**\n   * Determine whether the body matches the given component class and data.\n   *\n   * @param {object} type The component class to check against. Subclasses are accepted as well.\n   * @param {object} data\n   * @return {boolean}\n   */\n  bodyMatches(type, data = {}) {\n    // Fail early when the body is of a different type\n    if (!subclassOf(this.body.componentClass, type)) return false;\n\n    // Now that the type is known to be correct, we loop through the provided\n    // data to see whether it matches the data in the attributes for the body.\n    return Object.keys(data).every((key) => this.body.attrs[key] === data[key]);\n  }\n\n  /**\n   * Determine whether or not the Composer is visible.\n   *\n   * True when the composer is displayed on the screen and has a body component.\n   * It could be open in \"normal\" or full-screen mode, or even minimized.\n   *\n   * @returns {boolean}\n   */\n  isVisible() {\n    return this.position !== ComposerState.Position.HIDDEN;\n  }\n\n  /**\n   * Determine whether or not the Composer is covering the screen.\n   *\n   * This will be true if the Composer is in full-screen mode on desktop,\n   * or if we are on a mobile device, where we always consider the composer as full-screen..\n   *\n   * @return {boolean}\n   */\n  isFullScreen() {\n    return this.position === ComposerState.Position.FULLSCREEN || app.screen() === 'phone';\n  }\n\n  /**\n   * Check whether or not the user is currently composing a reply to a\n   * discussion.\n   *\n   * @param {import('../../common/models/Discussion').default} discussion\n   * @return {boolean}\n   */\n  composingReplyTo(discussion) {\n    return this.isVisible() && this.bodyMatches(ReplyComposer, { discussion });\n  }\n\n  /**\n   * Confirm with the user that they want to close the composer and lose their\n   * content.\n   *\n   * @return {boolean} Whether or not the exit was cancelled.\n   */\n  preventExit() {\n    if (!this.isVisible()) return;\n    if (!this.onExit) return;\n\n    if (this.onExit.callback()) {\n      return !confirm(this.onExit.message);\n    }\n  }\n\n  /**\n   * Configure when / what to ask the user before closing the composer.\n   *\n   * The provided callback will be used to determine whether asking for\n   * confirmation is necessary. If the callback returns true at the time of\n   * closing, the provided text will be shown in a standard confirmation dialog.\n   *\n   * @param {() => boolean} callback\n   * @param {string} message\n   */\n  preventClosingWhen(callback, message) {\n    this.onExit = { callback, message };\n  }\n\n  /**\n   * Minimum height of the Composer.\n   * @returns {number}\n   */\n  minimumHeight() {\n    return 200;\n  }\n\n  /**\n   * Maxmimum height of the Composer.\n   * @returns {number}\n   */\n  maximumHeight() {\n    return $(window).height() - $('#header').outerHeight();\n  }\n\n  /**\n   * Computed the composer's current height, based on the intended height, and\n   * the composer's current state. This will be applied to the composer\n   * content's DOM element.\n   * @returns {number | string}\n   */\n  computedHeight() {\n    // If the composer is minimized, then we don't want to set a height; we'll\n    // let the CSS decide how high it is. If it's fullscreen, then we need to\n    // make it as high as the window.\n    if (this.position === ComposerState.Position.MINIMIZED) {\n      return '';\n    } else if (this.position === ComposerState.Position.FULLSCREEN) {\n      return $(window).height();\n    }\n\n    // Otherwise, if it's normal or hidden, then we use the intended height.\n    // We don't let the composer get too small or too big, though.\n    return Math.max(this.minimumHeight(), Math.min(this.height, this.maximumHeight()));\n  }\n}\n\nComposerState.Position = {\n  HIDDEN: 'hidden',\n  NORMAL: 'normal',\n  MINIMIZED: 'minimized',\n  FULLSCREEN: 'fullScreen',\n};\n\nexport default ComposerState;\n","import app from '../../forum/app';\nimport DiscussionPage from '../components/DiscussionPage';\nimport ReplyComposer from '../components/ReplyComposer';\nimport LogInModal from '../components/LogInModal';\nimport Button from '../../common/components/Button';\nimport Separator from '../../common/components/Separator';\nimport RenameDiscussionModal from '../components/RenameDiscussionModal';\nimport ItemList from '../../common/utils/ItemList';\nimport extractText from '../../common/utils/extractText';\n\n/**\n * The `DiscussionControls` utility constructs a list of buttons for a\n * discussion which perform actions on it.\n */\nexport default {\n  /**\n   * Get a list of controls for a discussion.\n   *\n   * @param {import('../../common/models/Discussion').default} discussion\n   * @param {import('../../common/Component').default<any, any>} context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  controls(discussion, context) {\n    const items = new ItemList();\n\n    ['user', 'moderation', 'destructive'].forEach((section) => {\n      const controls = this[section + 'Controls'](discussion, context).toArray();\n      if (controls.length) {\n        controls.forEach((item) => items.add(item.itemName, item));\n        items.add(section + 'Separator', <Separator />);\n      }\n    });\n\n    return items;\n  },\n\n  /**\n   * Get controls for a discussion pertaining to the current user (e.g. reply,\n   * follow).\n   *\n   * @param {import('../../common/models/Discussion').default} discussion\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  userControls(discussion, context) {\n    const items = new ItemList();\n\n    // Only add a reply control if this is the discussion's controls dropdown\n    // for the discussion page itself. We don't want it to show up for\n    // discussions in the discussion list, etc.\n    if (context instanceof DiscussionPage) {\n      items.add(\n        'reply',\n        !app.session.user || discussion.canReply() ? (\n          <Button\n            icon=\"fas fa-reply\"\n            onclick={() => {\n              // If the user is not logged in, the promise rejects, and a login modal shows up.\n              // Since that's already handled, we dont need to show an error message in the console.\n              return this.replyAction\n                .bind(discussion)(true, false)\n                .catch(() => {});\n            }}\n          >\n            {app.translator.trans(\n              app.session.user ? 'core.forum.discussion_controls.reply_button' : 'core.forum.discussion_controls.log_in_to_reply_button'\n            )}\n          </Button>\n        ) : (\n          <Button\n            icon=\"fas fa-reply\"\n            className=\"disabled\"\n            title={extractText(app.translator.trans('core.forum.discussion_controls.cannot_reply_text'))}\n          >\n            {app.translator.trans('core.forum.discussion_controls.cannot_reply_button')}\n          </Button>\n        )\n      );\n    }\n\n    return items;\n  },\n\n  /**\n   * Get controls for a discussion pertaining to moderation (e.g. rename, lock).\n   *\n   * @param {import('../../common/models/Discussion').default} discussion\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  moderationControls(discussion) {\n    const items = new ItemList();\n\n    if (discussion.canRename()) {\n      items.add(\n        'rename',\n        <Button icon=\"fas fa-pencil-alt\" onclick={this.renameAction.bind(discussion)}>\n          {app.translator.trans('core.forum.discussion_controls.rename_button')}\n        </Button>\n      );\n    }\n\n    return items;\n  },\n\n  /**\n   * Get controls for a discussion which are destructive (e.g. delete).\n   *\n   * @param {import('../../common/models/Discussion').default} discussion\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  destructiveControls(discussion) {\n    const items = new ItemList();\n\n    if (!discussion.isHidden()) {\n      if (discussion.canHide()) {\n        items.add(\n          'hide',\n          <Button icon=\"far fa-trash-alt\" onclick={this.hideAction.bind(discussion)}>\n            {app.translator.trans('core.forum.discussion_controls.delete_button')}\n          </Button>\n        );\n      }\n    } else {\n      if (discussion.canHide()) {\n        items.add(\n          'restore',\n          <Button icon=\"fas fa-reply\" onclick={this.restoreAction.bind(discussion)}>\n            {app.translator.trans('core.forum.discussion_controls.restore_button')}\n          </Button>\n        );\n      }\n\n      if (discussion.canDelete()) {\n        items.add(\n          'delete',\n          <Button icon=\"fas fa-times\" onclick={this.deleteAction.bind(discussion)}>\n            {app.translator.trans('core.forum.discussion_controls.delete_forever_button')}\n          </Button>\n        );\n      }\n    }\n\n    return items;\n  },\n\n  /**\n   * Open the reply composer for the discussion. A promise will be returned,\n   * which resolves when the composer opens successfully. If the user is not\n   * logged in, they will be prompted. If they don't have permission to\n   * reply, the promise will be rejected.\n   *\n   * @param {boolean} goToLast Whether or not to scroll down to the last post if the discussion is being viewed.\n   * @param {boolean} forceRefresh Whether or not to force a reload of the composer component, even if it is already open for this discussion.\n   *\n   * @return {Promise<void>}\n   */\n  replyAction(goToLast, forceRefresh) {\n    return new Promise((resolve, reject) => {\n      if (app.session.user) {\n        if (this.canReply()) {\n          if (!app.composer.composingReplyTo(this) || forceRefresh) {\n            app.composer.load(ReplyComposer, {\n              user: app.session.user,\n              discussion: this,\n            });\n          }\n          app.composer.show();\n\n          if (goToLast && app.viewingDiscussion(this) && !app.composer.isFullScreen()) {\n            app.current.get('stream').goToNumber('reply');\n          }\n\n          return resolve(app.composer);\n        } else {\n          return reject();\n        }\n      }\n\n      app.modal.show(LogInModal);\n\n      return reject();\n    });\n  },\n\n  /**\n   * Hide a discussion.\n   *\n   * @return {Promise<void>}\n   */\n  hideAction() {\n    this.pushData({ attributes: { hiddenAt: new Date() }, relationships: { hiddenUser: app.session.user } });\n\n    return this.save({ isHidden: true });\n  },\n\n  /**\n   * Restore a discussion.\n   *\n   * @return {Promise<void>}\n   */\n  restoreAction() {\n    this.pushData({ attributes: { hiddenAt: null }, relationships: { hiddenUser: null } });\n\n    return this.save({ isHidden: false });\n  },\n\n  /**\n   * Delete the discussion after confirming with the user.\n   *\n   * @return {Promise<void>}\n   */\n  deleteAction() {\n    if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n      // If we're currently viewing the discussion that was deleted, go back\n      // to the previous page.\n      if (app.viewingDiscussion(this)) {\n        app.history.back();\n      }\n\n      return this.delete().then(() => app.discussions.removeDiscussion(this));\n    }\n  },\n\n  /**\n   * Rename the discussion.\n   */\n  renameAction() {\n    return app.modal.show(RenameDiscussionModal, {\n      currentTitle: this.title(),\n      discussion: this,\n    });\n  },\n};\n","/**\n * The `Pane` class manages the page's discussion list sidepane. The pane is a\n * part of the content view (DiscussionPage component), but its visibility is\n * determined by CSS classes applied to the outer page element. This class\n * manages the application of those CSS classes.\n */\nexport default class Pane {\n  constructor(element) {\n    /**\n     * The localStorage key to store the pane's pinned state with.\n     *\n     * @type {String}\n     * @protected\n     */\n    this.pinnedKey = 'panePinned';\n\n    /**\n     * The page element.\n     *\n     * @type {jQuery}\n     * @protected\n     */\n    this.$element = $(element);\n\n    /**\n     * Whether or not the pane is currently pinned.\n     *\n     * @type {Boolean}\n     * @protected\n     */\n    this.pinned = localStorage.getItem(this.pinnedKey) === 'true';\n\n    /**\n     * Whether or not the pane is currently exists.\n     *\n     * @type {Boolean}\n     * @protected\n     */\n    this.active = false;\n\n    /**\n     * Whether or not the pane is currently showing, or is hidden off the edge\n     * of the screen.\n     *\n     * @type {Boolean}\n     * @protected\n     */\n    this.showing = false;\n\n    this.render();\n  }\n\n  /**\n   * Enable the pane.\n   */\n  enable() {\n    this.active = true;\n    this.render();\n  }\n\n  /**\n   * Disable the pane.\n   */\n  disable() {\n    this.active = false;\n    this.showing = false;\n    this.render();\n  }\n\n  /**\n   * Show the pane.\n   */\n  show() {\n    clearTimeout(this.hideTimeout);\n    this.showing = true;\n    this.render();\n  }\n\n  /**\n   * Hide the pane.\n   */\n  hide() {\n    this.showing = false;\n    this.render();\n  }\n\n  /**\n   * Begin a timeout to hide the pane, which can be cancelled by showing the\n   * pane.\n   */\n  onmouseleave() {\n    this.hideTimeout = setTimeout(this.hide.bind(this), 250);\n  }\n\n  /**\n   * Toggle whether or not the pane is pinned.\n   */\n  togglePinned() {\n    this.pinned = !this.pinned;\n\n    localStorage.setItem(this.pinnedKey, this.pinned ? 'true' : 'false');\n\n    this.render();\n  }\n\n  /**\n   * Apply the appropriate CSS classes to the page element.\n   *\n   * @protected\n   */\n  render() {\n    this.$element.toggleClass('panePinned', this.pinned).toggleClass('hasPane', this.active).toggleClass('paneShowing', this.showing);\n  }\n}\n","import app from '../../forum/app';\nimport EditPostComposer from '../components/EditPostComposer';\nimport Button from '../../common/components/Button';\nimport Separator from '../../common/components/Separator';\nimport ItemList from '../../common/utils/ItemList';\nimport extractText from '../../common/utils/extractText';\n\n/**\n * The `PostControls` utility constructs a list of buttons for a post which\n * perform actions on it.\n */\nexport default {\n  /**\n   * Get a list of controls for a post.\n   *\n   * @param {import('../../common/models/Post').default} post\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}')}\n   */\n  controls(post, context) {\n    const items = new ItemList();\n\n    ['user', 'moderation', 'destructive'].forEach((section) => {\n      const controls = this[section + 'Controls'](post, context).toArray();\n      if (controls.length) {\n        controls.forEach((item) => items.add(item.itemName, item));\n        items.add(section + 'Separator', <Separator />);\n      }\n    });\n\n    return items;\n  },\n\n  /**\n   * Get controls for a post pertaining to the current user (e.g. report).\n   *\n   * @param {import('../../common/models/Post').default} post\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}')}\n   * @protected\n   */\n  userControls(post, context) {\n    return new ItemList();\n  },\n\n  /**\n   * Get controls for a post pertaining to moderation (e.g. edit).\n   *\n   * @param {import('../../common/models/Post').default} post\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}')}\n   * @protected\n   */\n  moderationControls(post, context) {\n    const items = new ItemList();\n\n    if (post.contentType() === 'comment' && post.canEdit()) {\n      if (!post.isHidden()) {\n        items.add(\n          'edit',\n          <Button icon=\"fas fa-pencil-alt\" onclick={this.editAction.bind(post)}>\n            {app.translator.trans('core.forum.post_controls.edit_button')}\n          </Button>\n        );\n      }\n    }\n\n    return items;\n  },\n\n  /**\n   * Get controls for a post that are destructive (e.g. delete).\n   *\n   * @param {import('../../common/models/Post').default} post\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}')}\n   * @protected\n   */\n  destructiveControls(post, context) {\n    const items = new ItemList();\n\n    if (post.contentType() === 'comment' && !post.isHidden()) {\n      if (post.canHide()) {\n        items.add(\n          'hide',\n          <Button icon=\"far fa-trash-alt\" onclick={this.hideAction.bind(post)}>\n            {app.translator.trans('core.forum.post_controls.delete_button')}\n          </Button>\n        );\n      }\n    } else {\n      if (post.contentType() === 'comment' && post.canHide()) {\n        items.add(\n          'restore',\n          <Button icon=\"fas fa-reply\" onclick={this.restoreAction.bind(post)}>\n            {app.translator.trans('core.forum.post_controls.restore_button')}\n          </Button>\n        );\n      }\n      if (post.canDelete()) {\n        items.add(\n          'delete',\n          <Button icon=\"fas fa-times\" onclick={this.deleteAction.bind(post, context)}>\n            {app.translator.trans('core.forum.post_controls.delete_forever_button')}\n          </Button>\n        );\n      }\n    }\n\n    return items;\n  },\n\n  /**\n   * Open the composer to edit a post.\n   *\n   * @return {Promise<void>}\n   */\n  editAction() {\n    return new Promise((resolve) => {\n      app.composer.load(EditPostComposer, { post: this });\n      app.composer.show();\n\n      return resolve();\n    });\n  },\n\n  /**\n   * Hide a post.\n   *\n   * @return {Promise<void>}\n   */\n  hideAction() {\n    if (!confirm(extractText(app.translator.trans('core.forum.post_controls.hide_confirmation')))) return;\n    this.pushData({ attributes: { hiddenAt: new Date() }, relationships: { hiddenUser: app.session.user } });\n\n    return this.save({ isHidden: true }).then(() => m.redraw());\n  },\n\n  /**\n   * Restore a post.\n   *\n   * @return {Promise<void>}\n   */\n  restoreAction() {\n    this.pushData({ attributes: { hiddenAt: null }, relationships: { hiddenUser: null } });\n\n    return this.save({ isHidden: false }).then(() => m.redraw());\n  },\n\n  /**\n   * Delete a post.\n   *\n   * @return {Promise<void>}\n   */\n  deleteAction(context) {\n    if (!confirm(extractText(app.translator.trans('core.forum.post_controls.delete_confirmation')))) return;\n    if (context) context.loading = true;\n\n    return this.delete()\n      .then(() => {\n        const discussion = this.discussion();\n\n        discussion.removePost(this.id());\n\n        // If this was the last post in the discussion, then we will assume that\n        // the whole discussion was deleted too.\n        if (!discussion.postIds().length) {\n          app.discussions.removeDiscussion(discussion);\n\n          if (app.viewingDiscussion(discussion)) {\n            app.history.back();\n          }\n        }\n      })\n      .catch(() => {})\n      .then(() => {\n        if (context) context.loading = false;\n        m.redraw();\n      });\n  },\n};\n","import app from '../../forum/app';\nimport Button from '../../common/components/Button';\nimport Separator from '../../common/components/Separator';\nimport EditUserModal from '../../common/components/EditUserModal';\nimport UserPage from '../components/UserPage';\nimport ItemList from '../../common/utils/ItemList';\n\n/**\n * The `UserControls` utility constructs a list of buttons for a user which\n * perform actions on it.\n */\nexport default {\n  /**\n   * Get a list of controls for a user.\n   *\n   * @param {import('../../common/models/User').default} user\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  controls(user, context) {\n    const items = new ItemList();\n\n    ['user', 'moderation', 'destructive'].forEach((section) => {\n      const controls = this[section + 'Controls'](user, context).toArray();\n      if (controls.length) {\n        controls.forEach((item) => items.add(item.itemName, item));\n        items.add(section + 'Separator', <Separator />);\n      }\n    });\n\n    return items;\n  },\n\n  /**\n   * Get controls for a user pertaining to the current user (e.g. poke, follow).\n   *\n   * @param {import('../../common/models/User').default} user\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  userControls() {\n    return new ItemList();\n  },\n\n  /**\n   * Get controls for a user pertaining to moderation (e.g. suspend, edit).\n   *\n   * @param {import('../../common/models/User').default} user\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  moderationControls(user) {\n    const items = new ItemList();\n\n    if (user.canEdit() || user.canEditCredentials() || user.canEditGroups()) {\n      items.add(\n        'edit',\n        <Button icon=\"fas fa-pencil-alt\" onclick={this.editAction.bind(this, user)}>\n          {app.translator.trans('core.forum.user_controls.edit_button')}\n        </Button>\n      );\n    }\n\n    return items;\n  },\n\n  /**\n   * Get controls for a user which are destructive (e.g. delete).\n   *\n   * @param {import('../../common/models/User').default} user\n   * @param {import('../../common/Component').default<any, any>}  context The parent component under which the controls menu will be displayed.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   * @protected\n   */\n  destructiveControls(user) {\n    const items = new ItemList();\n\n    if (user.id() !== '1' && user.canDelete()) {\n      items.add(\n        'delete',\n        <Button icon=\"fas fa-times\" onclick={this.deleteAction.bind(this, user)}>\n          {app.translator.trans('core.forum.user_controls.delete_button')}\n        </Button>\n      );\n    }\n\n    return items;\n  },\n\n  /**\n   * Delete the user.\n   *\n   * @param {import('../../common/models/User').default} user\n   */\n  deleteAction(user) {\n    if (!confirm(app.translator.trans('core.forum.user_controls.delete_confirmation'))) {\n      return;\n    }\n\n    user\n      .delete()\n      .then(() => {\n        this.showDeletionAlert(user, 'success');\n        if (app.current.matches(UserPage, { user })) {\n          app.history.back();\n        } else {\n          window.location.reload();\n        }\n      })\n      .catch(() => this.showDeletionAlert(user, 'error'));\n  },\n\n  /**\n   * Show deletion alert of user.\n   *\n   * @param {import('../../common/models/User').default} user\n   * @param {string} type\n   */\n  showDeletionAlert(user, type) {\n    const message = {\n      success: 'core.forum.user_controls.delete_success_message',\n      error: 'core.forum.user_controls.delete_error_message',\n    }[type];\n\n    app.alerts.show(\n      { type },\n      app.translator.trans(message, {\n        user,\n        email: user.email(),\n      })\n    );\n  },\n\n  /**\n   * Edit the user.\n   *\n   * @param {import('../../common/models/User').default} user\n   */\n  editAction(user) {\n    app.modal.show(EditUserModal, { user });\n  },\n};\n","import Alert from '../../common/components/Alert';\nimport Button from '../../common/components/Button';\nimport icon from '../../common/helpers/icon';\nimport Component from '../../common/Component';\n\n/**\n * Shows an alert if the user has not yet confirmed their email address.\n *\n * @param {import('../ForumApplication').default} app\n */\nexport default function alertEmailConfirmation(app) {\n  const user = app.session.user;\n\n  if (!user || user.isEmailConfirmed()) return;\n\n  class ResendButton extends Component {\n    oninit(vnode) {\n      super.oninit(vnode);\n\n      this.loading = false;\n      this.sent = false;\n    }\n\n    view() {\n      return (\n        <Button className=\"Button Button--link\" onclick={this.onclick.bind(this)} loading={this.loading} disabled={this.sent}>\n          {this.sent\n            ? [icon('fas fa-check'), ' ', app.translator.trans('core.forum.user_email_confirmation.sent_message')]\n            : app.translator.trans('core.forum.user_email_confirmation.resend_button')}\n        </Button>\n      );\n    }\n\n    onclick() {\n      this.loading = true;\n      m.redraw();\n\n      app\n        .request({\n          method: 'POST',\n          url: app.forum.attribute('apiUrl') + '/users/' + user.id() + '/send-confirmation',\n        })\n        .then(() => {\n          this.loading = false;\n          this.sent = true;\n          m.redraw();\n        })\n        .catch(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    }\n  }\n\n  class ContainedAlert extends Alert {\n    view(vnode) {\n      const vdom = super.view(vnode);\n      return { ...vdom, children: [<div className=\"container\">{vdom.children}</div>] };\n    }\n  }\n\n  m.mount($('<div className=\"App-notices\"/>').insertBefore('#content')[0], {\n    view: () => (\n      <ContainedAlert dismissible={false} controls={[<ResendButton />]} className=\"Alert--emailConfirmation\">\n        {app.translator.trans('core.forum.user_email_confirmation.alert_message', { email: <strong>{user.email()}</strong> })}\n      </ContainedAlert>\n    ),\n  });\n}\n","/**\n * The `slidable` utility adds touch gestures to an element so that it can be\n * slid away to reveal controls underneath, and then released to activate those\n * controls.\n *\n * It relies on the element having children with particular CSS classes.\n *\n * The function returns a record with a `reset` proeprty. This is a function\n * which reverts the slider to its original position. This should be called,\n * for example, when a controls dropdown is closed.\n *\n * @param {HTMLElement | SVGElement | Element} element\n * @return {{ reset : () => void }}\n */\nexport default function slidable(element) {\n  const $element = $(element);\n  const threshold = 50;\n\n  let $underneathLeft;\n  let $underneathRight;\n\n  let startX;\n  let startY;\n  let couldBeSliding = false;\n  let isSliding = false;\n  let pos = 0;\n\n  /**\n   * Animate the slider to a new position.\n   *\n   * @param {number} newPos\n   * @param {Partial<JQueryAnimationOptions>} [options]\n   */\n  const animatePos = (newPos, options = {}) => {\n    // Since we can't animate the transform property with jQuery, we'll use a\n    // bit of a workaround. We set up the animation with a step function that\n    // will set the transform property, but then we animate an unused property\n    // (background-position-x) with jQuery.\n    options.duration ||= 'fast';\n    options.step = function (x) {\n      $(this).css('transform', 'translate(' + x + 'px, 0)');\n    };\n\n    $element.find('.Slidable-content').animate({ 'background-position-x': newPos }, options);\n  };\n\n  /**\n   * Revert the slider to its original position.\n   */\n  const reset = () => {\n    animatePos(0, {\n      complete: function () {\n        $element.removeClass('sliding');\n        $underneathLeft.hide();\n        $underneathRight.hide();\n        isSliding = false;\n      },\n    });\n  };\n\n  $element\n    .find('.Slidable-content')\n    .on('touchstart', function (e) {\n      // Update the references to the elements underneath the slider, provided\n      // they're not disabled.\n      $underneathLeft = $element.find('.Slidable-underneath--left:not(.disabled)');\n      $underneathRight = $element.find('.Slidable-underneath--right:not(.disabled)');\n\n      startX = e.originalEvent.targetTouches[0].clientX;\n      startY = e.originalEvent.targetTouches[0].clientY;\n\n      couldBeSliding = true;\n      pos = 0;\n    })\n\n    .on('touchmove', function (e) {\n      const newX = e.originalEvent.targetTouches[0].clientX;\n      const newY = e.originalEvent.targetTouches[0].clientY;\n\n      // Once the user moves their touch in a direction that's more up/down than\n      // left/right, we'll assume they're scrolling the page. But if they do\n      // move in a horizontal direction at first, then we'll lock their touch\n      // into the slider.\n      if (couldBeSliding && Math.abs(newX - startX) > Math.abs(newY - startY)) {\n        isSliding = true;\n      }\n      couldBeSliding = false;\n\n      if (isSliding) {\n        pos = newX - startX;\n\n        // If there are controls underneath the either side, then we'll show/hide\n        // them depending on the slider's position. We also make the controls\n        // icon get a bit bigger the further they slide.\n        const toggle = ($underneath, side) => {\n          if ($underneath.length) {\n            const active = side === 'left' ? pos > 0 : pos < 0;\n\n            if (active && $underneath.hasClass('Slidable-underneath--elastic')) {\n              pos -= pos * 0.5;\n            }\n            $underneath.toggle(active);\n\n            const scale = Math.max(0, Math.min(1, (Math.abs(pos) - 25) / threshold));\n            $underneath.find('.icon').css('transform', 'scale(' + scale + ')');\n          } else {\n            pos = Math[side === 'left' ? 'min' : 'max'](0, pos);\n          }\n        };\n\n        toggle($underneathLeft, 'left');\n        toggle($underneathRight, 'right');\n\n        $(this).css('transform', 'translate(' + pos + 'px, 0)');\n        $(this).css('background-position-x', pos + 'px');\n\n        $element.toggleClass('sliding', !!pos);\n\n        e.preventDefault();\n      }\n    })\n\n    .on('touchend', function () {\n      // If the user releases the touch and the slider is past the threshold\n      // position on either side, then we will activate the control for that\n      // side. We will also animate the slider's position all the way to the\n      // other side, or back to its original position, depending on whether or\n      // not the side is 'elastic'.\n      const activate = ($underneath) => {\n        $underneath.click();\n\n        if ($underneath.hasClass('Slidable-underneath--elastic')) {\n          reset();\n        } else {\n          animatePos((pos > 0 ? 1 : -1) * $element.width());\n        }\n      };\n\n      if ($underneathRight.length && pos < -threshold) {\n        activate($underneathRight);\n      } else if ($underneathLeft.length && pos > threshold) {\n        activate($underneathLeft);\n      } else {\n        reset();\n      }\n\n      couldBeSliding = false;\n      isSliding = false;\n    });\n\n  return { reset };\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  strings.raw = raw;\n  return strings;\n}","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nexport default function (delay, noTrailing, callback, debounceMode) {\n\t/*\n\t * After wrapper has stopped being called, this timeout ensures that\n\t * `callback` is executed at the proper times in `throttle` and `end`\n\t * debounce modes.\n\t */\n\tlet timeoutID;\n\tlet cancelled = false;\n\n\t// Keep track of the last time `callback` was executed.\n\tlet lastExec = 0;\n\n\t// Function to clear existing timeout\n\tfunction clearExistingTimeout() {\n\t\tif (timeoutID) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\t}\n\n\t// Function to cancel next exec\n\tfunction cancel() {\n\t\tclearExistingTimeout();\n\t\tcancelled = true;\n\t}\n\n\t// `noTrailing` defaults to falsy.\n\tif (typeof noTrailing !== 'boolean') {\n\t\tdebounceMode = callback;\n\t\tcallback = noTrailing;\n\t\tnoTrailing = undefined;\n\t}\n\n\t/*\n\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t * functionality and when executed will limit the rate at which `callback`\n\t * is executed.\n\t */\n\tfunction wrapper(...arguments_) {\n\t\tlet self = this;\n\t\tlet elapsed = Date.now() - lastExec;\n\n\t\tif (cancelled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec() {\n\t\t\tlastExec = Date.now();\n\t\t\tcallback.apply(self, arguments_);\n\t\t}\n\n\t\t/*\n\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t * to allow future `callback` executions.\n\t\t */\n\t\tfunction clear() {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif (debounceMode && !timeoutID) {\n\t\t\t/*\n\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t}\n\n\t\tclearExistingTimeout();\n\n\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\t/*\n\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t * `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t} else if (noTrailing !== true) {\n\t\t\t/*\n\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t * recent execution.\n\t\t\t *\n\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t * after `delay` ms.\n\t\t\t *\n\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t * execute after `delay` ms.\n\t\t\t */\n\t\t\ttimeoutID = setTimeout(\n\t\t\t\tdebounceMode ? clear : exec,\n\t\t\t\tdebounceMode === undefined ? delay - elapsed : delay\n\t\t\t);\n\t\t}\n\t}\n\n\twrapper.cancel = cancel;\n\n\t// Return the wrapper function.\n\treturn wrapper;\n}\n","/* eslint-disable no-undefined */\n\nimport throttle from './throttle';\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\nexport default function (delay, atBegin, callback) {\n\treturn callback === undefined\n\t\t? throttle(delay, atBegin, false)\n\t\t: throttle(delay, callback, atBegin !== false);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/common';\nexport * from './src/forum';\n"],"names":["app","ItemList","Button","ModalManager","AlertManager","RequestErrorModal","Translator","Store","payloadIsPlural","Session","extract","extractText","Drawer","mapRoutes","RequestError","ScrollListener","liveHumanTimes","extend","Forum","User","Discussion","Post","Group","Notification","PageState","ModalManagerState","AlertManagerState","fireApplicationError","AccessToken","Application","forum","routes","initializers","session","translator","store","forums","users","discussions","posts","groups","notifications","cache","booted","current","previous","modal","alerts","drawer","history","pane","data","_title","_titleCount","requestErrorAlert","initialRoute","load","payload","setLocale","locale","boot","caughtInitializationErrors","toArray","forEach","initializer","e","extension","itemName","includes","replace","push","trans","pushPayload","resources","getById","String","userId","csrfToken","mount","window","location","href","handler","bootExtensions","extensions","Object","keys","name","extenders","flat","Infinity","extender","exports","basePath","m","document","getElementById","view","route","appEl","appHeaderEl","querySelector","scrollListener","top","offset","getBoundingClientRect","body","scrollTop","classList","toggle","start","update","add","preloadedApiDocument","apiDocument","results","screen","styles","getComputedStyle","documentElement","getPropertyValue","setTitle","title","updateTitle","setTitleCount","count","titleCount","onHomepage","get","attribute","params","pageTitle","forumName","pageNumber","parser","DOMParser","parseFromString","innerText","transformRequestOptions","flarumOptions","background","deserialize","modifyText","tmpOptions","defaultBackground","defaultDeserialize","response","originalExtract","options","_","xhr","setRequestHeader","method","responseText","status","getResponseHeader","JSON","parse","request","originalOptions","dismiss","requestErrorCatch","errorHandler","error","customErrorHandler","formattedErrors","errors","map","decodeURI","detail","content","slice","requestWasCrossOrigin","isDebug","alert","type","controls","showDebug","bind","requestErrorDefaultHandler","Promise","reject","URL","url","baseURI","origin","console","group","length","groupEnd","show","formattedError","Error","path","key","hasOwnProperty","queryString","buildQueryString","prefix","val","Component","element","attrs","state","oninit","vnode","setAttrs","oncreate","dom","onbeforeupdate","onupdate","onbeforeremove","onremove","$","selector","$element","find","component","children","componentAttrs","constructor","initAttrs","Fragment","render","vdom","originalOnCreate","apply","fireDeprecationWarning","Model","freshness","Date","exists","id","undefined","attributes","pushData","relationships","getIdentifier","assign","r","relationship","identifier","Array","pushAttributes","save","model","oldData","copyData","meta","apiEndpoint","then","err","redraw","resolve","remove","stringify","rawRelationship","transform","hasOne","relationshipData","hasMany","transformDate","value","user","login","logout","isArray","models","included","pushObject","o","result","allowUnregistered","setTimeout","curr","instance","createRecord","idOrParams","query","join","getBy","all","filter","records","values","RichMessageFormatter","mithrilRichHandler","pluralTypeHandler","selectTypeHandler","username","translations","formatter","formatterTypeHandlers","getLocale","addTranslations","plural","select","preprocessParameters","parameters","translation","rich","w","appProxy","Proxy","properties","Reflect","set","BasicEditorDriver","evented","EventEmitter","KeyboardNavigatable","mixin","humanTime","computed","insertText","styleSelectedText","anchorScroll","abbreviateNumber","escapeRegExp","string","ThrottleDebounce","Stream","SubtreeRetainer","setRouteWithForcedRefresh","stringToColor","subclassOf","patchMithril","proxifyCompat","formatNumber","withAttr","FocusTrap","isDark","Page","Switch","Badge","LoadingIndicator","Placeholder","Separator","Dropdown","SplitDropdown","FieldSet","Select","Navigation","Alert","Link","LinkButton","Checkbox","ColorPreviewInput","SelectDropdown","Modal","GroupBadge","TextEditor","TextEditorButton","EditUserModal","Tooltip","fullTime","avatar","icon","humanTimeHelper","punctuateSeries","highlight","userOnline","listItems","textContrastClass","DefaultResolver","PaginatedListState","isObject","iconHelper","className","dismissible","ondismiss","dismissControl","concat","activeAlerts","getActiveAlerts","Number","urgent","iconName","label","color","style","iconChild","trust","newStyle","badgeAttrs","badgeNode","fireDebugWarning","ariaLabel","disabled","loading","_class","onclick","hasIcon","buttonAttrs","getButtonContent","prototype","getAttribute","onchange","getDisplay","checked","showing","buttonClassName","menuClassName","caretIcon","accessibleToggleLabel","items","renderItems","lazyDraw","getButton","getMenu","on","onshow","sync","$menu","isRight","hasClass","height","windowSrollTop","windowHeight","removeClass","toggleClass","left","width","windowScrollLeft","scrollLeft","windowWidth","onhide","email","isEmailConfirmed","setPassword","password","userGroups","GUEST_ID","MEMBER_ID","fields","canEditCredentials","nonAdminEditingAdmin","userIsAdmin","activate","target","canEditGroups","Boolean","ADMINISTRATOR_ID","nameSingular","onerror","g","onsubmit","preventDefault","hide","some","LabelValue","display","size","containerClassName","completeClassName","completeContainerClassName","containerAttrs","alertAttrs","missingMethods","animateShow","onready","dismissibleOptions","viaCloseButton","first","trigger","animateHide","loaded","source","pointer","isDismissible","viaEscKey","viaBackdropClick","isDismissibleViaCloseButton","isDismissibleViaEscKey","isDismissibleViaBackdropClick","createFocusTrap","disableBodyScroll","clearAllBodyScrollLocks","focusTrap","lastSetFocusTrap","modalClosing","keyUpListener","modalList","i","Tag","componentClass","handlePossibleBackdropClick","backdropShown","onBackdropTransitionEnd","handleEscPress","addEventListener","removeEventListener","requestAnimationFrame","isModalOpen","setAttribute","deactivate","dialogKey","activeDialogElement","allowOutsideClick","activeDialogManagerElement","reserveScrollBarGap","readyCallback","once","closedCallback","afterModalClosedCallback","close","dismissibleState","propertyName","backdrop","currentTarget","onmouseleave","canGoBack","getBackButton","getPaneButton","getDrawerButton","getPrevious","backUrl","shiftKey","ctrlKey","metaKey","which","back","active","pinned","togglePinned","newNotificationCount","stopPropagation","bodyClass","scrollTopOnCreate","useBrowserScrollRestoration","routeName","addClass","scrollRestoration","statusText","isActive","tag","activeChild","defaultLabel","firstChild","getFirstChild","childDomNode","oldText","oldVisibility","shouldRecreateTooltip","shouldChangeTooltipVisibility","text","tooltipVisible","showOnFocus","position","ignoreTitleWarning","html","delay","warn","realText","getRealText","checkDomNodeChanged","recreateTooltip","tooltip","createTooltip","updateVisibility","placement","domNode","isSameNode","object","methods","callback","allMethods","original","args","override","newMethod","ActualModel","callbacks","call","PostTypes","postComponents","Routes","helpers","helper","hasTitle","displayName","avatarUrl","charAt","toUpperCase","userTitle","consoleTitle","isAdmin","message","githubId","removedFrom","repo","dayjs","time","d","datetime","format","full","truncate","phrase","regexp","RegExp","highlighted","Math","max","search","humanTimeUtil","ago","fontClass","isVnode","item","isSeparator","withoutUnnecessarySeparators","newItems","prevItem","rawItems","customTag","classes","isListItem","itemClassName","hexcolor","lastSeenAt","isOnline","relativeTime","localizedFormat","tooltipGen","fn","caller","token","createdAt","lastActivityAt","lastIpAddress","device","isCurrent","isSessionToken","slug","firstPost","lastPostedAt","lastPostedUser","lastPost","lastPostNumber","commentCount","replyCount","mostRelevantPost","lastReadAt","lastReadPostNumber","isUnread","unreadCount","isRead","hiddenAt","hiddenUser","isHidden","canReply","canRename","canHide","canDelete","removePost","splice","markedAllAsReadAt","getTime","min","badges","postIds","link","namePlural","contentType","fromUser","subject","getPlainContent","number","discussion","contentHtml","renderFailed","contentPlain","editedAt","editedUser","isEdited","canEdit","ColorThief","avatarColor","preferences","joinTime","unreadNotificationCount","discussionCount","calculateAvatarColor","subtract","isBefore","image","Image","colorThief","getColor","TypeError","crossOrigin","src","savePreferences","newPreferences","makeKey","param","makeAttrs","onmatch","requestedPath","alertId","arg1","arg2","arg3","arguments","clear","stackModal","invalidModalWarning","pop","page","pageSize","pages","initialLoading","loadingPrev","loadingNext","loadPrev","getLocation","getPrevPageNumber","loadPage","parseResults","loadNext","getNextPageNumber","pg","pageNum","links","hasNext","next","hasPrev","prev","isEmpty","unshift","reqParams","requestParams","include","refreshParams","newParams","paramsChanged","refresh","getPages","isLoading","isInitialLoading","isLoadingPrev","isLoadingNext","hasItems","getAllItems","getParams","isNaN","getCaretCoordinates","el","createElement","build","classNames","placeholder","callInputListeners","inputListeners","listener","oninput","onkeyup","keyHandlers","append","moveCursorTo","setSelectionRange","getSelectionRange","selectionStart","selectionEnd","getLastNChars","n","insertAtCursor","insertAt","pos","insertBetween","cursorPos","replaceBeforeCursor","end","focus","relCoords","destroy","events","event","emit","Item","priority","_items","has","getPriority","setContent","setPriority","merge","otherList","keepPrimitives","createItemContentProxy","sort","a","b","toObject","reduce","obj","property","receiver","Keys","Map","whenCallback","onUp","ArrowUp","onDown","ArrowDown","onSelect","ignoreTabPress","Tab","Enter","onTab","onCancel","Escape","onRemove","Backspace","KeyboardEvent","HTMLInputElement","when","bindTo","navigate","keyCallback","needsRebuild","check","invalidate","floor","toFixed","toString","depth","acc","clsx","compute","dependentValues","computedValue","recompute","attr","specialChars","input","_createFocusTrap","escapeDeactivates","Intl","NumberFormat","now","isAfter","day","diff","year","fromNow","canInsertText","textarea","originalSelectionStart","before","after","contentEditable","execCommand","endsWith","dispatchEvent","CustomEvent","bubbles","cancelable","hexnumbers","parseInt","yiq","threshold","trim","updateHumanTimes","each","$this","setInterval","resolver","resolverClass","compat","namespace","regex","raw","fileExt","prop","newOptions","substring","mode","SluggingMode","ALPHANUMERIC","UTF8","toLowerCase","removeSelectors","querySelectorAll","ucfirst","substr","camelCaseToSnakeCase","str","letter","generateRandomString","arr","Uint8Array","crypto","getRandomValues","from","dec","padStart","hsvToRgb","h","s","v","f","p","q","t","num","charCodeAt","hue","rgb","defaults","suffix","blockPrefix","blockSuffix","multiline","replaceNext","prefixSpace","scanFor","surroundWithNewlines","orderedList","unorderedList","trimFirst","styleArgs","listStyle","isMultipleLines","multilineStyle","blockStyle","split","repeat","wordSelectionStart","index","match","wordSelectionEnd","breakpoint","expandSelectionToLine","lines","counter","lineLength","expandSelectedText","prefixToUse","suffixToUse","expandedSelectionStart","expandedSelectionEnd","beginsWithPrefix","endsWithSuffix","newlinesToSurroundSelectedText","beforeSelection","afterSelection","breaksBefore","breaksAfter","newlinesBeforeSelection","newlinesAfterSelection","newlinesToAppend","newlinesToPrepend","arg","originalSelectionEnd","selectedText","hasReplaceNext","indexOf","ref","startsWith","replacementText","whitespaceEdges","leadingWhitespace","trailingWhitespace","undoStyle","every","line","undoOrderedListStyle","orderedListRegex","shouldUndoOrderedList","test","processed","undoUnorderedListStyle","unorderedListPrefix","shouldUndoUnorderedList","makePrefix","clearExistingListStyle","undoResultOpositeList","undoResult","pristineText","noInitialSelection","prefixedLines","totalPrefixLength","previousValue","_currentValue","currentIndex","totalPrefixLengthOpositeList","throttle","debounce","cb","History","Pane","DiscussionPage","SignUpModal","HeaderPrimary","HeaderSecondary","Composer","DiscussionRenamedNotification","CommentPost","DiscussionRenamedPost","makeRouteHelpers","alertEmailConfirmation","NotificationListState","GlobalSearchState","DiscussionListState","ComposerState","isSafariMobile","ForumApplication","notificationComponents","discussionRenamed","comment","composer","getPrototypeOf","defaultRoute","defaultAction","button","home","viewingDiscussion","matches","authenticationComplete","loggedIn","reload","PostControls","slidable","DiscussionControls","UserControls","PostStreamState","SearchState","UserSecurityPageState","AffixedSidebar","DiscussionListPane","LogInModal","ComposerBody","ForgotPasswordModal","LogInButton","DiscussionsUserPage","SessionDropdown","PostEdited","PostStream","ChangePasswordModal","IndexPage","DiscussionsSearchSource","ComposerButton","DiscussionList","ReplyPlaceholder","AvatarEditor","SettingsPage","TerminalPost","ChangeEmailModal","NotificationsDropdown","UserPage","PostUser","UserCard","UsersSearchSource","UserSecurityPage","NotificationGrid","PostPreview","EventPost","DiscussionHero","PostMeta","DiscussionComposer","LogInButtons","NotificationList","WelcomeHero","ComposerPostPreview","ReplyComposer","NotificationsPage","PostStreamScrubber","EditPostComposer","RenameDiscussionModal","Search","DiscussionListItem","LoadingPost","PostsUserPage","DiscussionPageResolver","AccessTokensList","showingTokens","tokens","tokenView","tokenViewItems","tokenInfoItems","tokenActionItems","generateTokenTitle","deleteKey","developer_token","displayKey","revokeButton","revoke","confirm","ondelete","tokenValueDisplay","obfuscatedName","fill","success","requestAttributes","requestBody","subtree","highlightRegExp","elementAttrs","Slidable","controlsView","slidableUnderneathView","contentView","markAsRead","unread","read","authorAvatarView","badgesView","mainView","replyCountItem","jumpTo","getJumpTo","infoItems","post","slidableInstance","reset","showFirstPost","showRepliesCount","excerpt","showUnread","stream","near","enable","disable","composingReplyTo","minimize","pageContent","loadingItems","sidebar","sidebarItems","hero","mainContent","positionChanged","preloadedDiscussion","bySlug","includedPosts","discussionId","record","rawNearParam","nearParam","goToNumber","startNumber","endNumber","replaceState","notification","postNumber","limit","loadUser","author","emailLabel","lastDiscussion","viewItems","actionItems","oldHeroHeight","heroHeight","outerHeight","css","$discussion","indexTop","indexBottom","discussionOffset","discussionTop","discussionBottom","canStartDiscussion","newDiscussionAction","navItems","stickyParams","sortMap","sortOptions","sortId","changeSort","markAllAsRead","confirmation","providesInitialSearch","identification","remember","footer","identificationLabel","passwordLabel","forgotPassword","signUp","loginParams","NewAccessTokenModal","titleInput","titleLabel","submitData","onsuccess","newNotifications","getNewCount","getUnreadCount","menuClick","isOpen","goToRoute","footerItems","$actions","$controls","existing","moreResults","loadLimit","loadMore","loadResults","currentTitle","newTitle","searchState","hasFocus","sources","loadingSources","navigator","searchTimeout","updateMaxHeightHandler","currentSearch","getInitialSearch","sourceItems","searchLabel","shouldShowResults","getValue","shouldShowClearButton","open","focused","setValue","updateMaxHeight","resultsElementMargin","maxHeight","innerHeight","bottom","setProperty","setIndex","getCurrentNumericIndex","selectableItems","$input","selectResult","clearTimeout","isCached","MIN_SEARCH_LEN","one","selectedUrl","getItem","blur","$items","$item","eq","scrollToItem","$dropdown","parent","fixedIndex","dropdownScroll","dropdownTop","dropdownBottom","itemTop","itemBottom","stop","animate","discloseOnlineLoading","settingsItems","section","sectionItems","accountItems","notificationsItems","privacyItems","discloseOnline","isProvided","field","provided","usernameLabel","logIn","authData","lowercaseUsername","isActor","routeUsername","loadTokens","hasLoadedTokens","getDeveloperTokens","developerTokensItems","sessionsItems","globalLogout","loadingGlobalLogout","loadingTerminateSessions","removeToken","pushToken","getSessionTokens","isDisabled","hasOtherActiveSessions","terminateAllOthersButton","terminateAllOtherSessions","setTokens","getOtherSessionTokens","removeOtherSessionTokens","UsersSearchResults","lastIndexOf","localeCompare","LOCAL_STORAGE_KEY","hidden","slideUp","localStorage","setItem","compatObj","canonicalizeDiscussionSlug","scrollToPostNumber","settings","globalEventEmitter","extraDiscussions","eventEmitter","deleteDiscussion","preloadedDiscussions","relevance","latest","newest","oldest","isSearchResults","removeDiscussion","addDiscussion","cachedSearches","initialValueSet","currPageProvidesSearch","intializeValue","clearInitialSearch","deleteAll","paused","loadPageTimeouts","pagesLoading","visible","visibleStart","visibleEnd","animateScroll","needsScroll","targetPost","description","forceUpdateScrubber","loadPromise","loadPrevious","_loadNext","_loadPrevious","viewingEnd","loadRange","goToFirst","goToIndex","goToLast","noAnimation","resultPromise","reply","loadNearNumber","loadNearIndex","sanitizeIndex","loadCount","twoPagesAway","backwards","anchorIndex","loadIds","newPosts","abs","Set","getTokens","stack","getCurrent","secondTop","vendor","userAgent","replaceRichTags","dontUnescapeIndices","onTagClose","segment","currTagIsClosing","currTag","j","currTagStart","break","endingLocation","findClosingTag","entireTagInSegment","segmentIndex","segmentContainingClosingTag","tagContents","segmentStart","k","segmentEnd","processedSegment","newSegmentIndex","traverseMessageTags","unEscapeHtml","startIndex","startSegmentIndex","exit","startI","startJ","isHtmlTagChar","ch","inTag","instructions","sanitizeValues","recSanitizeArr","defaultRichHandler","contents","typeHandlers","richHandler","_classCallCheck","_this","cleanedValues","formatted","flatten","process","sym","random","fakeValues","fromEntries","entries","_ref2","formattedFake","replaceFake","originalTemplateSegmentIndices","MessageFormatter","fragment","array","accumulator","range","step","ceil","empty","predicate","memoize","func","toISOString","parseCases","isWhitespace","cases","currTermStart","latestTerm","inTerm","caseBody","branchEndIndex","findClosingBracket","fromIndex","char","splitFormattedArgument","block","separator","indexOfDelimiter","head","tail","_defineProperty","blockStartIndex","blockEndIndex","_splitFormattedArgume2","typeHandler","pluralFormatter","keyCounter","ONE","OTHER","replaceNumberSign","output","numBraces","numberValues","keyParam","intValue","keywordPossibilities","resolvedOptions","PluralRules","pluralKeyword","keyword","_toConsumableArray","arr2","hasPassiveEvents","passiveTestOptions","passive","isIosDevice","platform","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPosition","previousBodyPaddingRight","allowTouchMove","lock","rawEvent","touches","setOverflowHidden","_reserveScrollBarGap","scrollBarGap","innerWidth","clientWidth","computedBodyPaddingRight","paddingRight","overflow","restoreOverflowSetting","setPositionFixed","_window","scrollY","scrollX","bottomBarHeight","restorePositionSetting","y","x","scrollTo","isTargetElementTotallyScrolled","targetElement","scrollHeight","clientHeight","handleScroll","clientY","targetTouches","ontouchstart","ontouchmove","enableBodyScroll","Affix","DEFAULTS","$target","proxy","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","VERSION","RESET","getState","offsetTop","offsetBottom","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","is","affix","affixType","Event","isDefaultPrevented","Plugin","option","old","Constructor","noConflict","$spy","jQuery","getParent","$parent","clearMenus","relatedTarget","tagName","contains","closest","insertAfter","keydown","desc","dropdown","DISALLOWED_ATTRIBUTES","uriAttrs","ARIA_ATTRIBUTE_PATTERN","DefaultWhitelist","area","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","img","li","ol","pre","small","span","sub","sup","strong","u","ul","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","allowedAttributeList","attrName","nodeName","inArray","nodeValue","regExp","l","sanitizeHtml","unsafeHtml","whiteList","sanitizeFn","implementation","createHTMLDocument","createdDocument","innerHTML","whitelistKeys","elements","len","elName","parentNode","removeChild","attributeList","whitelistedAttributes","len2","removeAttribute","enabled","timeout","hoverState","inState","init","TRANSITION_DURATION","animation","template","container","viewport","padding","sanitize","getOptions","$viewport","isFunction","click","hover","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","dataAttributes","dataAttr","getDelegateOptions","self","tip","isInStateTrue","hasContent","inDom","ownerDocument","that","$tip","tipId","getUID","autoToken","autoPlace","detach","appendTo","getPosition","actualWidth","offsetWidth","actualHeight","offsetHeight","orgPlacement","viewportDim","right","calculatedOffset","getCalculatedOffset","applyPlacement","complete","prevHoverState","support","transition","emulateTransitionEnd","marginTop","marginLeft","setOffset","using","props","round","delta","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","dimension","arrow","getTitle","removeAttr","$e","isBody","elRect","isSvg","SVGElement","elOffset","scroll","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","$arrow","toggleEnabled","off","removeData","transitionEnd","transEndEventNames","WebkitTransition","MozTransition","OTransition","duration","called","$el","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","CanvasImage","canvas","context","getContext","appendChild","drawImage","clearRect","putImageData","getPixelCount","getImageData","removeCanvas","c","getPalette","MMCQ","quantize","palette","pv","naturalOrder","sum","peek","debug","r1","r2","g1","g2","b1","b2","histo","vboxes","vbox","volume","copy","_volume","_count_set","_count","avg","_avg","gval","bval","nearest","sqrt","pow","forcebw","module","define","amd","globalThis","M","weekdays","months","ordinal","z","utcOffset","date","month","clone","D","ms","Q","S","O","$L","utc","$u","$x","$offset","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","$g","unix","valueOf","toDate","$locale","weekStart","$set","daysInMonth","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","toJSON","toUTCString","T","$i","isDayjs","en","Ls","dayjs_plugin_localizedFormat","LTS","LT","L","LL","LLL","LLLL","formats","dayjs_plugin_relativeTime","future","past","yy","fromToBase","thresholds","rounding","to","toNow","Function","global","activeFocusTraps","trapQueue","activateTrap","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","isSelectableInput","node","isEscapeEvent","keyCode","isTabEvent","findIndex","idx","valueOrHandler","getActualTarget","shadowRoot","composedPath","userOptions","doc","config","returnFocusOnDeactivate","delayInitialFocus","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","getNodeForOption","optionValue","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbable","tabbableOptions","focusableNodes","focusable","lastTabbableNode","nextTabbableNode","forward","nodeIdx","isTabbable","reverse","tryFocus","preventScroll","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","returnFocus","isFocusable","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkTab","destinationNode","containerIndex","containerGroup","startOfGroupIndex","destinationGroupIndex","destinationGroup","lastOfGroupIndex","checkKey","checkClick","addListeners","capture","removeListeners","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","hotkeys","version","specialKeys","shiftNums","textAcceptingInputTypes","textInputTypes","filterInputAcceptingElements","filterTextInputs","filterContentEditable","keyHandler","origHandler","character","fromCharCode","modif","possible","specialKey","factory","noGlobal","getProto","class2type","hasOwn","fnToString","ObjectFunctionString","nodeType","isWindow","preservedScriptAttributes","nonce","noModule","DOMEval","script","toType","jquery","pushStack","elems","ret","prevObject","elem","last","even","grep","_elem","odd","copyIsArray","deep","isPlainObject","expando","isReady","msg","noop","proto","Ctor","isEmptyObject","globalEval","isArrayLike","makeArray","second","invert","callbackInverse","callbackExpect","guid","Symbol","iterator","_i","Sizzle","Expr","getText","isXML","tokenize","compile","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","pushNative","list","booleans","whitespace","pseudos","rwhitespace","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","escape","nonHex","high","rcssescape","fcssescape","asCodePoint","unloadHandler","inDisabledFieldset","addCombinator","dir","childNodes","els","seed","nid","newSelector","newContext","exec","getElementsByTagName","getElementsByClassName","qsa","testContext","scope","toSelector","qsaError","cacheLength","shift","markFunction","assert","addHandle","attrHandle","siblingCheck","cur","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","createPositionalPseudo","argument","matchIndexes","namespaceURI","hasCompare","subWindow","defaultView","attachEvent","createComment","getElementsByName","attrId","getAttributeNode","tmp","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","specified","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","what","_argument","simple","ofType","_context","xml","uniqueCache","outerCache","nodeIndex","useCache","lastChild","uniqueID","pseudo","setFilters","matched","matcher","unmatched","lang","elemLang","hash","tabIndex","selected","selectedIndex","_matchIndexes","radio","checkbox","file","submit","filters","parseOnly","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","compiled","_name","defaultValue","unique","isXMLDoc","escapeSelector","until","siblings","rneedsContext","needsContext","rsingleTag","winnow","qualifier","not","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","targets","prevAll","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","rnothtmlwhite","createOptions","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","stopOnFalse","fireWith","Identity","Thrower","ex","adoptValue","noValue","promise","fail","Deferred","tuples","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","mightThrow","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","stateString","singleValue","remaining","resolveContexts","resolveValues","primary","updateFunc","rerrorNames","readyException","readyList","readyWait","wait","completed","readyState","doScroll","access","chainable","emptyGet","bulk","_key","rmsPrefix","rdashAlpha","fcamelCase","_all","camelCase","acceptData","owner","Data","uid","defineProperty","configurable","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","setter","clearQueue","defer","pnum","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","rcheckableType","rtagName","rscriptType","createDocumentFragment","checkClone","cloneNode","noCloneChecked","wrapMap","thead","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","getAll","setGlobalEval","refElements","buildFragment","scripts","selection","ignored","wrap","attached","nodes","createTextNode","htmlPrefilter","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","types","origFn","handleObjIn","eventHandle","handlers","namespaces","origType","elemData","create","triggered","dispatch","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","enumerable","originalEvent","writable","noBubble","leverageNative","beforeunload","returnValue","notAsync","saved","isTrigger","defaultPrevented","timeStamp","isSimulated","altKey","changedTouches","eventPhase","pageX","pageY","charCode","buttons","clientX","offsetX","offsetY","pointerId","pointerType","screenX","screenY","toElement","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","prepend","insertBefore","replaceWith","replaceChild","prependTo","replaceAll","insert","rnumnonpx","rcustomProp","getStyles","opener","swap","rboxStyle","rtrimCSS","computeStyleTests","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","pixelBoxStylesVal","boxSizingReliableVal","scrollboxSizeVal","measure","parseFloat","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","table","trChild","trStyle","borderTopWidth","borderBottomWidth","curCSS","minWidth","maxWidth","isCustomProp","addGetHookIf","conditionFn","hookFn","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","boxModelAdjustment","box","isBorderBox","computedVal","extra","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","cssHooks","opacity","origName","isFinite","scrollboxSizeBuggy","margin","border","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","fx","linear","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","interval","tick","createFxNow","genFx","includeWidth","createTween","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflowX","overflowY","propFilter","specialEasing","stopped","prefilters","currentTime","startTime","tweens","originalProperties","gotoEnd","timer","tweener","prefilter","speed","opt","speeds","fadeTo","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","boolHook","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","stripAndCollapse","getClass","classesToArray","curValue","finalValue","stateVal","isValidValue","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","parserErrorElem","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","converters","ajaxConvert","isSuccess","conv2","conv","responseFields","dataFilter","lastModified","etag","isLocal","protocol","processData","async","accepts","json","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","overrideMimeType","abort","finalText","crossDomain","host","ifModified","headers","beforeSend","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","xhrFields","onload","onabort","ontimeout","onreadystatechange","responseType","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","animated","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","fnOver","fnOut","holdReady","hold","parseJSON","isNumeric","_jQuery","_$","Vnode","require","subscriptions","rendering","pending","buildPathname","parsePathname","compileTemplate","sentinel","$window","mountRedraw","fireAsync","setPath","pushState","currentResolver","currentPath","lastUpdate","SKIP","SyntaxError","callAsync","setImmediate","scheduled","defaultData","ReferenceError","resolveRoute","pathname","decodeURIComponent","loop","matchedRoute","localComp","comp","child","handleEvent","hyperscript","parseQueryString","PromisePolyfill","queryIndex","hashIndex","queryEnd","pathEnd","resolved","variadic","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","querystring","templateData","templateKeys","executor","resolvers","rejectors","resolveCurrent","rejectCurrent","_instance","shouldAbsorb","execute","executeOnce","retry","runs","onRejection","resolveNext","rejectNext","reason","total","consume","race","destructure","counters","entry","levels","cursor","level","nextLevel","isNumber","getOwnPropertyDescriptor","hyperscriptVnode","normalizeChildren","selectorParser","selectorCache","compileSelector","attrValue","execSelector","newAttrs","$doc","currentRedraw","nameSpace","svg","math","getNameSpace","xmlns","checkState","callHook","createNodes","vnodes","ns","createNode","initLifecycle","createText","createHTML","createFragment","createComponent","insertNode","possibleParents","domSize","createElementNS","maybeSetContentEditable","setLateSelectAttrs","initComponent","$$reentrantLock$$","normalize","updateNodes","removeNodes","isOldKeyed","isKeyed","oldStart","commonLength","getNextSibling","removeNode","updateNode","oldEnd","oe","ve","topSibling","moveNodes","originalNextSibling","vnodesLength","oldIndices","lisIndices","getKeyMap","oldIndex","makeLisIndices","oldTag","shouldNotUpdate","updateLifecycle","updateText","updateHTML","updateFragment","updateElement","updateComponent","removeHTML","updateAttrs","lisTemp","il","frag","moveChildToFrag","contenteditable","mask","stateResult","attrsResult","reallyRemove","setAttr","isLifecycleMethod","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","nsLastIndex","normalized","uppercaseRegex","capital","normalizeKey","removeProperty","EventDict","ev","force","prevRedraw","oncompletion","callbackCount","PromiseProxy","__proto__","makeRequest","hasHeader","assumeJSON","FormData","aborted","replacedAbort","withCredentials","callbackKey","lift","scan","combine","scanMerge","warnedHalt","log","dependentStreams","dependentFns","_changing","_state","_parents","_map","ignoreInitial","createEnd","_unregisterChild","s1","s2","childIndex","streams","changed","mappers","endStream","mapper","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","RangeError","mapDomain","labels","encoded","ucs2decode","ucs2encode","fromCodePoint","basicToDigit","codePoint","digitToBasic","digit","adapt","numPoints","firstTime","decode","inputLength","bias","basic","oldi","baseMinusT","out","encode","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","toUnicode","toASCII","punycode","candidateSelectors","candidateSelector","NoElement","Element","getCandidates","includeContainer","candidates","getCandidatesIteratively","elementsToCheck","assigned","assignedElements","nestedCandidates","validCandidate","getShadowRoot","validShadowRoot","shadowRootFilter","getTabindex","isScope","isContentEditable","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","getCheckedRadio","form","isTabbableRadio","radioScope","queryRadios","radioSet","CSS","isRadio","isNonTabbableRadio","isZeroArea","_ref","displayCheck","isDirectSummary","nodeUnderDetails","parentElement","nodeRootHost","nodeIsAttached","originalNode","rootNode","assignedSlot","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","sortable","focusableCandidateSelector","isBrowser","isFirefox","mozInnerScreenX","currentStyle","whiteSpace","wordWrap","lineHeight","coordinates","offsetLeft","backgroundColor","_arrayLikeToArray","__esModule","_arrayWithHoles","_assertThisInitialized","_defineProperties","descriptor","_createClass","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","_inherits","subClass","superClass","_iterableToArrayLimit","_arr","_n","_d","_s","_e","_nonIterableRest","_typeof","assertThisInitialized","_possibleConstructorReturn","_regeneratorRuntime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","mark","awrap","iter","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","_catch","thrown","delegateYield","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_slicedToArray","arrayLikeToArray","_unsupportedIterableToArray","minLen","runtime","regeneratorRuntime","accidentalStrictMode","ConfirmDocumentUnload","boundHandler","external","wrapperAttrs","wrapperClassName","wrapperClass","domAttrs","controlItems","toolbarItems","editor","buildEditor","newDisabled","buildEditorParams","submitLabel","preview","originalView","tooltipText","third","appElement","resizeHandler","drawerAvailableMediaQuery","matchMedia","removeListener","$drawer","$backdrop","addListener","ticking","relativeScroll","bidi","multi","selectedOptions","ctrl","deprecatedNotice","deprecationIssueId","getHandlers","wrapper","Parent","Mixed","mixins","defaultMithril","modifiedMithril","B","boundOnresize","onresize","resize","$sidebar","$header","$footer","$affixElement","isDraggedOver","quickUpload","enableDragover","disableDragover","dropUpload","openPicker","upload","dataTransfer","files","failure","revealContent","cardVisible","isEditing","headerItems","refreshContent","bodyMatches","editing","toggleContent","prevPosition","normal","Position","NORMAL","minimized","MINIMIZED","fullScreen","FULLSCREEN","isVisible","showIfMinimized","configHandle","updateHeight","animatePositionChange","initializeHeight","computedHeight","onmousemove","onmouseup","mousedown","mouseStart","heightStart","deltaPixels","changeHeight","anchorToBottom","updateBodyPadding","$flexible","headerHeight","paddingBottom","footerHeight","HIDDEN","animateHeightChange","$composer","oldHeight","newHeight","showBackdrop","hideBackdrop","scrollElement","topOfViewport","exitFullScreen","defaultHeight","confirmExit","preventClosingWhen","hasChanges","originalContent","jumpToPreview","surround","updatePreview","s9e","TextFormatter","updateInterval","clearInterval","titlePlaceholder","onkeydown","itemNum","hotEdge","enoughSpace","$list","discussionListPaneScrollTop","listTop","listBottom","renamed","descriptionData","oldTitle","minimizeComposerIfFullScreen","isFullScreen","editedContent","usernameHelper","descriptionKey","locales","cookie","notificationMethods","notificationTypes","toggleMethod","toggleType","preferenceKey","NotificationComponent","$notifications","$scrollParent","inPanel","boundScrollHandler","scrollHandler","scrollParent","atBottom","editedInfo","permalink","getPermalink","touch","selectPermalink","ipAddress","PostLoading","onscroll","lastTime","postFadeIn","PostComponent","dt","period","endItems","triggerScroll","calculatePositionTimeout","scrollToNumber","scrollToIndex","updateScrubber","loadPostsIfNeeded","getMarginTop","viewportHeight","viewportTop","loadAheadDistance","indexFromViewPort","visibleTop","visibleBottom","visiblePost","threeQuartersVisible","coversQuarterOfViewport","onPositionChange","headerId","flashItem","$container","scrollBottom","updateScrubberHeight","itemOffset","$placeholder","updateScrubberValues","fromScroll","forceHeightChange","viewing","formattedCount","unreadPercent","styleUnread","oldStyle","dragging","indexStart","onmousedown","percentPerPost","$scrubber","heights","adjustingHeight","animationPromises","part","$part","scrubber","scrollbar","deltaPercent","deltaIndex","newIndex","intIndex","$scrollbar","offsetPixels","offsetPercent","offsetIndex","minPercentVisible","percentPerVisiblePost","showCard","hideCard","oncardshow","oncardhide","viewButton","anchorPreview","replyAction","controlsButtonClassName","editable","online","preventExit","onExit","minimumHeight","maximumHeight","userControls","moderationControls","renameAction","destructiveControls","hideAction","restoreAction","deleteAction","forceRefresh","pinnedKey","hideTimeout","editAction","showDeletionAlert","ResendButton","ContainedAlert","$underneathLeft","$underneathRight","startX","startY","couldBeSliding","isSliding","animatePos","newPos","newX","newY","$underneath","side","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_extends","_inheritsLoose","_objectWithoutPropertiesLoose","excluded","sourceKeys","_taggedTemplateLiteralLoose","strings","noTrailing","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","cancel","arguments_","elapsed","atBegin"],"sourceRoot":""}