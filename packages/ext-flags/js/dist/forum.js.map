{"version":3,"sources":["webpack://@flarum/flarum-ext-flags/webpack/bootstrap","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['app']\"","webpack://@flarum/flarum-ext-flags/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['extend']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['Model']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/Button']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/Post']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['utils/PostControls']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/Page']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['Component']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['helpers/avatar']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['helpers/username']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['helpers/icon']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/Modal']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/HeaderSecondary']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['components/NotificationsDropdown']\"","webpack://@flarum/flarum-ext-flags/external \"flarum.core.compat['utils/ItemList']\"","webpack://@flarum/flarum-ext-flags/./src/forum/models/Flag.js","webpack://@flarum/flarum-ext-flags/./src/forum/components/FlagList.js","webpack://@flarum/flarum-ext-flags/./src/forum/components/FlagsPage.js","webpack://@flarum/flarum-ext-flags/./src/forum/components/FlagPostModal.js","webpack://@flarum/flarum-ext-flags/./src/forum/addFlagControl.js","webpack://@flarum/flarum-ext-flags/./src/forum/components/FlagsDropdown.js","webpack://@flarum/flarum-ext-flags/./src/forum/addFlagsDropdown.js","webpack://@flarum/flarum-ext-flags/./src/forum/addFlagsToPosts.js","webpack://@flarum/flarum-ext-flags/./src/forum/compat.js","webpack://@flarum/flarum-ext-flags/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","Flag","Model","assign","type","attribute","reason","reasonDetail","createdAt","transformDate","post","hasOne","user","FlagList","init","this","loading","view","flags","app","cache","className","translator","trans","length","map","flag","href","route","config","element","isInitialized","apply","arguments","$","on","flagIndex","avatar","icon","username","em","discussion","title","humanTime","contentPlain","LoadingIndicator","component","load","_this","session","redraw","store","find","then","pushAttributes","newFlagCount","sort","a","b","catch","Component","FlagsPage","_Page","history","push","list","bodyClass","render","Page","FlagPostModal","_Modal","success","prop","content","Button_default","onclick","hide","guidelinesUrl","forum","checked","withAttr","target","undefined","oninput","disabled","onsubmit","e","preventDefault","createRecord","save","relationships","props","loaded","Modal","addFlagControl","extend","PostControls","items","isHidden","contentType","canFlag","add","modal","show","FlagsDropdown","initProps","label","_NotificationsDropdow","goToRoute","getUnreadCount","getNewCount","NotificationsDropdown","addFlagsDropdown","HeaderSecondary","FlagsDropdown_FlagsDropdown","addFlagsToPosts","Post","attrs","dismissFlag","data","subtree","invalidate","some","splice","next","nextPost","request","url","apiEndpoint","method","flagActionItems","ItemList","controls","destructiveControls","keys","forEach","k","toArray","vdom","_this2","revealContent","unshift","flagReason","detail","models/Flag","components/FlagList","components/FlagPostModal","components/FlagsPage","components/FlagsDropdown","initializers","models","posts","hasMany","routes","path","FlagsPage_FlagsPage","flagsCompat"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","module.exports = flarum.core.compat['app'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Post'];","module.exports = flarum.core;","module.exports = flarum.core.compat['utils/PostControls'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/HeaderSecondary'];","module.exports = flarum.core.compat['components/NotificationsDropdown'];","module.exports = flarum.core.compat['utils/ItemList'];","import Model from 'flarum/Model';\n\nclass Flag extends Model {}\n\nObject.assign(Flag.prototype, {\n  type: Model.attribute('type'),\n  reason: Model.attribute('reason'),\n  reasonDetail: Model.attribute('reasonDetail'),\n  createdAt: Model.attribute('createdAt', Model.transformDate),\n\n  post: Model.hasOne('post'),\n  user: Model.hasOne('user')\n});\n\nexport default Flag;\n","import Component from 'flarum/Component';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport icon from 'flarum/helpers/icon';\nimport humanTime from 'flarum/helpers/humanTime';\n\nexport default class FlagList extends Component {\n  init() {\n    /**\n     * Whether or not the notifications are loading.\n     *\n     * @type {Boolean}\n     */\n    this.loading = false;\n  }\n\n  view() {\n    const flags = app.cache.flags || [];\n\n    return (\n      <div className=\"NotificationList FlagList\">\n        <div className=\"NotificationList-header\">\n          <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('flarum-flags.forum.flagged_posts.title')}</h4>\n        </div>\n        <div className=\"NotificationList-content\">\n          <ul className=\"NotificationGroup-content\">\n            {flags.length\n              ? flags.map(flag => {\n                const post = flag.post();\n\n                return (\n                  <li>\n                    <a href={app.route.post(post)} className=\"Notification Flag\" config={function(element, isInitialized) {\n                      m.route.apply(this, arguments);\n\n                      if (!isInitialized) $(element).on('click', () => app.cache.flagIndex = post);\n                    }}>\n                      {avatar(post.user())}\n                      {icon('fas fa-flag', {className: 'Notification-icon'})}\n                      <span className=\"Notification-content\">\n                        {app.translator.trans('flarum-flags.forum.flagged_posts.item_text', {username: username(post.user()), em: <em/>, discussion: post.discussion().title()})}\n                      </span>\n                      {humanTime(flag.createdAt())}\n                      <div className=\"Notification-excerpt\">\n                        {post.contentPlain()}\n                      </div>\n                    </a>\n                  </li>\n                );\n              })\n              : !this.loading\n                ? <div className=\"NotificationList-empty\">{app.translator.trans('flarum-flags.forum.flagged_posts.empty_text')}</div>\n                : LoadingIndicator.component({className: 'LoadingIndicator--block'})}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Load flags into the application's cache if they haven't already\n   * been loaded.\n   */\n  load() {\n    if (app.cache.flags && !app.session.user.attribute('newFlagCount')) {\n      return;\n    }\n\n    this.loading = true;\n    m.redraw();\n\n    app.store.find('flags')\n      .then(flags => {\n        app.session.user.pushAttributes({newFlagCount: 0});\n        app.cache.flags = flags.sort((a, b) => b.createdAt() - a.createdAt());\n      })\n      .catch(() => {})\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","import Page from 'flarum/components/Page';\n\nimport FlagList from './FlagList';\n\n/**\n * The `FlagsPage` component shows the flags list. It is only\n * used on mobile devices where the flags dropdown is within the drawer.\n */\nexport default class FlagsPage extends Page {\n  init() {\n    super.init();\n\n    app.history.push('flags');\n\n    this.list = new FlagList();\n    this.list.load();\n\n    this.bodyClass = 'App--flags';\n  }\n\n  view() {\n    return <div className=\"FlagsPage\">{this.list.render()}</div>;\n  }\n}\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\n\nexport default class FlagPostModal extends Modal {\n  init() {\n    super.init();\n\n    this.success = false;\n\n    this.reason = m.prop('');\n    this.reasonDetail = m.prop('');\n  }\n\n  className() {\n    return 'FlagPostModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('flarum-flags.forum.flag_post.title');\n  }\n\n  content() {\n    if (this.success) {\n      return (\n        <div className=\"Modal-body\">\n          <div className=\"Form Form--centered\">\n            <p className=\"helpText\">{app.translator.trans('flarum-flags.forum.flag_post.confirmation_message')}</p>\n            <div className=\"Form-group\">\n              <Button className=\"Button Button--primary Button--block\" onclick={this.hide.bind(this)}>\n                {app.translator.trans('flarum-flags.forum.flag_post.dismiss_button')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    const guidelinesUrl = app.forum.attribute('guidelinesUrl');\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            <div>\n              <label className=\"checkbox\">\n                <input type=\"radio\" name=\"reason\" checked={this.reason() === 'off_topic'} value=\"off_topic\" onclick={m.withAttr('value', this.reason)}/>\n                <strong>{app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_label')}</strong>\n                {app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_text')}\n              </label>\n\n              <label className=\"checkbox\">\n                <input type=\"radio\" name=\"reason\" checked={this.reason() === 'inappropriate'} value=\"inappropriate\" onclick={m.withAttr('value', this.reason)}/>\n                <strong>{app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_label')}</strong>\n                {app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_text', {\n                  a: guidelinesUrl ? <a href={guidelinesUrl} target=\"_blank\"/> : undefined\n                })}\n              </label>\n\n              <label className=\"checkbox\">\n                <input type=\"radio\" name=\"reason\" checked={this.reason() === 'spam'} value=\"spam\" onclick={m.withAttr('value', this.reason)}/>\n                <strong>{app.translator.trans('flarum-flags.forum.flag_post.reason_spam_label')}</strong>\n                {app.translator.trans('flarum-flags.forum.flag_post.reason_spam_text')}\n              </label>\n\n              <label className=\"checkbox\">\n                <input type=\"radio\" name=\"reason\" checked={this.reason() === 'other'} value=\"other\" onclick={m.withAttr('value', this.reason)}/>\n                <strong>{app.translator.trans('flarum-flags.forum.flag_post.reason_other_label')}</strong>\n                {this.reason() === 'other' ? (\n                  <textarea className=\"FormControl\" value={this.reasonDetail()} oninput={m.withAttr('value', this.reasonDetail)}></textarea>\n                ) : ''}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <Button\n              className=\"Button Button--primary Button--block\"\n              type=\"submit\"\n              loading={this.loading}\n              disabled={!this.reason()}>\n              {app.translator.trans('flarum-flags.forum.flag_post.submit_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    app.store.createRecord('flags').save({\n      reason: this.reason() === 'other' ? null : this.reason(),\n      reasonDetail: this.reasonDetail(),\n      relationships: {\n        user: app.session.user,\n        post: this.props.post\n      }\n    })\n      .then(() => this.success = true)\n      .catch(() => {})\n      .then(this.loaded.bind(this));\n  }\n}\n","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport PostControls from 'flarum/utils/PostControls';\nimport Button from 'flarum/components/Button';\n\nimport FlagPostModal from './components/FlagPostModal';\n\nexport default function() {\n  extend(PostControls, 'userControls', function(items, post) {\n    if (post.isHidden() || post.contentType() !== 'comment' || !post.canFlag() || post.user() === app.session.user) return;\n\n    items.add('flag',\n      <Button icon=\"fas fa-flag\" onclick={() => app.modal.show(new FlagPostModal({post}))}>{app.translator.trans('flarum-flags.forum.post_controls.flag_button')}</Button>\n    );\n  });\n}\n","import NotificationsDropdown from 'flarum/components/NotificationsDropdown';\n\nimport FlagList from './FlagList';\n\nexport default class FlagsDropdown extends NotificationsDropdown {\n  static initProps(props) {\n    props.label = props.label || app.translator.trans('flarum-flags.forum.flagged_posts.tooltip');\n    props.icon = props.icon || 'fas fa-flag';\n\n    super.initProps(props);\n  }\n\n  init() {\n    super.init();\n\n    this.list = new FlagList();\n  }\n\n  goToRoute() {\n    m.route(app.route('flags'));\n  }\n\n  getUnreadCount() {\n    return app.cache.flags ? app.cache.flags.length : app.forum.attribute('flagCount');\n  }\n\n  getNewCount() {\n    return app.session.user.attribute('newFlagCount');\n  }\n}\n","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport HeaderSecondary from 'flarum/components/HeaderSecondary';\nimport FlagsDropdown from './components/FlagsDropdown';\n\nexport default function() {\n  extend(HeaderSecondary.prototype, 'items', function(items) {\n    if (app.forum.attribute('canViewFlags')) {\n      items.add('flags', <FlagsDropdown/>, 15);\n    }\n  });\n}\n","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport Post from 'flarum/components/Post';\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\nimport PostControls from 'flarum/utils/PostControls';\n\nexport default function() {\n  extend(Post.prototype, 'attrs', function(attrs) {\n    if (this.props.post.flags().length) {\n      attrs.className += ' Post--flagged';\n    }\n  });\n\n  Post.prototype.dismissFlag = function(data) {\n    const post = this.props.post;\n\n    delete post.data.relationships.flags;\n\n    this.subtree.invalidate();\n\n    if (app.cache.flags) {\n      app.cache.flags.some((flag, i) => {\n        if (flag.post() === post) {\n          app.cache.flags.splice(i, 1);\n\n          if (app.cache.flagIndex === post) {\n            let next = app.cache.flags[i];\n\n            if (!next) next = app.cache.flags[0];\n\n            if (next) {\n              const nextPost = next.post();\n              app.cache.flagIndex = nextPost;\n              m.route(app.route.post(nextPost));\n            }\n          }\n\n          return true;\n        }\n      });\n    }\n\n    return app.request({\n      url: app.forum.attribute('apiUrl') + post.apiEndpoint() + '/flags',\n      method: 'DELETE',\n      data\n    });\n  };\n\n  Post.prototype.flagActionItems = function() {\n    const items = new ItemList();\n\n    const controls = PostControls.destructiveControls(this.props.post);\n\n    Object.keys(controls.items).forEach(k => {\n      const props = controls.get(k).props;\n\n      props.className = 'Button';\n\n      extend(props, 'onclick', () => this.dismissFlag());\n    });\n\n    items.add('controls', (\n      <div className=\"ButtonGroup\">\n        {controls.toArray()}\n      </div>\n    ));\n\n    items.add('dismiss', (\n      <Button className=\"Button\" icon=\"far fa-eye-slash\" onclick={this.dismissFlag.bind(this)}>\n        {app.translator.trans('flarum-flags.forum.post.dismiss_flag_button')}\n      </Button>\n    ), -100);\n\n    return items;\n  };\n\n  extend(Post.prototype, 'content', function(vdom) {\n    const post = this.props.post;\n    const flags = post.flags();\n\n    if (!flags.length) return;\n\n    if (post.isHidden()) this.revealContent = true;\n\n    vdom.unshift(\n      <div className=\"Post-flagged\">\n        <div className=\"Post-flagged-flags\">\n          {flags.map(flag =>\n            <div className=\"Post-flagged-flag\">\n              {this.flagReason(flag)}\n            </div>\n          )}\n        </div>\n        <div className=\"Post-flagged-actions\">\n          {this.flagActionItems().toArray()}\n        </div>\n      </div>\n    );\n  });\n\n  Post.prototype.flagReason = function(flag) {\n    if (flag.type() === 'user') {\n      const user = flag.user();\n      const reason = flag.reason();\n      const detail = flag.reasonDetail();\n\n      return [\n        app.translator.trans(reason ? 'flarum-flags.forum.post.flagged_by_with_reason_text' : 'flarum-flags.forum.post.flagged_by_text', {user, reason}),\n        detail ? <span className=\"Post-flagged-detail\">{detail}</span> : ''\n      ];\n    }\n  };\n}\n","import addFlagsToPosts from './addFlagsToPosts';\nimport addFlagControl from './addFlagControl';\nimport addFlagsDropdown from './addFlagsDropdown';\nimport Flag from './models/Flag';\nimport FlagList from './components/FlagList';\nimport FlagPostModal from './components/FlagPostModal';\nimport FlagsPage from './components/FlagsPage';\nimport FlagsDropdown from './components/FlagsDropdown';\n\nexport default {\n  'addFlagsToPosts': addFlagsToPosts,\n  'addFlagControl': addFlagControl,\n  'addFlagsDropdown': addFlagsDropdown,\n  'models/Flag': Flag,\n  'components/FlagList': FlagList,\n  'components/FlagPostModal': FlagPostModal,\n  'components/FlagsPage': FlagsPage,\n  'components/FlagsDropdown': FlagsDropdown,\n};\n","import app from 'flarum/app';\nimport Model from 'flarum/Model';\n\nimport Flag from './models/Flag';\nimport FlagsPage from './components/FlagsPage';\nimport addFlagControl from './addFlagControl';\nimport addFlagsDropdown from './addFlagsDropdown';\nimport addFlagsToPosts from './addFlagsToPosts';\n\napp.initializers.add('flarum-flags', () => {\n  app.store.models.posts.prototype.flags = Model.hasMany('flags');\n  app.store.models.posts.prototype.canFlag = Model.attribute('canFlag');\n\n  app.store.models.flags = Flag;\n\n  app.routes.flags = {path: '/flags', component: <FlagsPage/>};\n\n  addFlagControl();\n  addFlagsDropdown();\n  addFlagsToPosts();\n});\n\n// Expose compat API\nimport flagsCompat from './compat';\nimport { compat } from '@flarum/core/forum';\n\nObject.assign(compat, flagsCompat);\n"],"sourceRoot":""}