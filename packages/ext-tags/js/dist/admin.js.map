{"version":3,"sources":["webpack://module.exports/webpack/bootstrap","webpack://module.exports/external \"flarum.core.compat['Model']\"","webpack://module.exports/external \"flarum.core.compat['extend']\"","webpack://module.exports/./node_modules/@babel/runtime/helpers/es6/inheritsLoose.js","webpack://module.exports/./src/common/utils/sortTags.js","webpack://module.exports/./src/common/helpers/tagLabel.js","webpack://module.exports/external \"flarum.core.compat['components/Button']\"","webpack://module.exports/./src/common/helpers/tagIcon.js","webpack://module.exports/./node_modules/core-js/library/modules/_descriptors.js","webpack://module.exports/./node_modules/core-js/library/modules/_global.js","webpack://module.exports/./node_modules/core-js/library/modules/_core.js","webpack://module.exports/./node_modules/core-js/library/modules/_is-object.js","webpack://module.exports/./node_modules/core-js/library/modules/_an-object.js","webpack://module.exports/external \"flarum.core.compat['utils/extract']\"","webpack://module.exports/./src/common/models/Tag.js","webpack://module.exports/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://module.exports/./node_modules/core-js/library/modules/_fails.js","webpack://module.exports/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://module.exports/./node_modules/core-js/library/modules/_shared-key.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-integer.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-iobject.js","webpack://module.exports/./node_modules/core-js/library/modules/_has.js","webpack://module.exports/./node_modules/core-js/library/modules/_dom-create.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-dp.js","webpack://module.exports/external \"flarum.core.compat['components/Modal']\"","webpack://module.exports/external \"flarum.core.compat['components/Page']\"","webpack://module.exports/external \"flarum.core.compat['utils/computed']\"","webpack://module.exports/external \"flarum.core.compat['utils/mixin']\"","webpack://module.exports/./node_modules/@babel/runtime/core-js/object/create.js","webpack://module.exports/./node_modules/core-js/library/modules/_defined.js","webpack://module.exports/./node_modules/core-js/library/modules/_iobject.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-keys.js","webpack://module.exports/./node_modules/core-js/library/modules/_export.js","webpack://module.exports/./node_modules/core-js/library/modules/_html.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-dps.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-create.js","webpack://module.exports/./node_modules/core-js/library/modules/es6.object.create.js","webpack://module.exports/./node_modules/core-js/library/fn/object/create.js","webpack://module.exports/./node_modules/core-js/library/modules/_uid.js","webpack://module.exports/./node_modules/core-js/library/modules/_library.js","webpack://module.exports/./node_modules/core-js/library/modules/_shared.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-length.js","webpack://module.exports/./node_modules/core-js/library/modules/_array-includes.js","webpack://module.exports/./node_modules/core-js/library/modules/_cof.js","webpack://module.exports/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://module.exports/./node_modules/core-js/library/modules/_property-desc.js","webpack://module.exports/./node_modules/core-js/library/modules/_to-primitive.js","webpack://module.exports/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://module.exports/./node_modules/core-js/library/modules/_hide.js","webpack://module.exports/./node_modules/core-js/library/modules/_a-function.js","webpack://module.exports/./node_modules/core-js/library/modules/_ctx.js","webpack://module.exports/./src/admin/addTagsPermissionScope.js","webpack://module.exports/./src/admin/addTagPermission.js","webpack://module.exports/./src/admin/components/EditTagModal.js","webpack://module.exports/./src/admin/components/TagSettingsModal.js","webpack://module.exports/./src/admin/components/TagsPage.js","webpack://module.exports/./src/admin/addTagsPane.js","webpack://module.exports/./src/admin/addTagsHomePageOption.js","webpack://module.exports/./src/admin/addTagChangePermission.js","webpack://module.exports/./src/admin/index.js","webpack://module.exports/external \"flarum.core.compat['components/SettingDropdown']\"","webpack://module.exports/external \"flarum.core.compat['components/BasicsPage']\"","webpack://module.exports/external \"flarum.core.compat['components/SettingsModal']\"","webpack://module.exports/external \"flarum.core.compat['utils/string']\"","webpack://module.exports/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://module.exports/external \"flarum.core.compat['components/AdminNav']\"","webpack://module.exports/external \"flarum.core.compat['components/Dropdown']\"","webpack://module.exports/external \"flarum.core.compat['components/PermissionDropdown']\"","webpack://module.exports/external \"jQuery\"","webpack://module.exports/./node_modules/html5sortable/dist/html.sortable.js","webpack://module.exports/./admin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","_core_js_object_create__WEBPACK_IMPORTED_MODULE_0___default","constructor","__proto__","sortTags","tags","slice","sort","a","b","aPos","position","bPos","discussionsCount","aParent","parent","bParent","tagLabel","tag","attrs","style","className","link","flarum_utils_extract__WEBPACK_IMPORTED_MODULE_0___default","color","backgroundColor","title","description","href","app","route","slug","config","translator","trans","tagIcon","global","window","Math","self","Function","__g","version","__e","it","isObject","TypeError","Tag","flarum_utils_mixin__WEBPACK_IMPORTED_MODULE_2___default","flarum_Model__WEBPACK_IMPORTED_MODULE_1___default","attribute","backgroundUrl","backgroundMode","hasOne","defaultSort","isChild","isHidden","lastTime","transformDate","lastDiscussion","isRestricted","canStartDiscussion","canAddToDiscussion","isPrimary","flarum_utils_computed__WEBPACK_IMPORTED_MODULE_3___default","exec","e","split","shared","uid","ceil","floor","isNaN","IObject","defined","document","is","createElement","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","P","Attributes","undefined","cof","propertyIsEnumerable","$keys","enumBugKeys","keys","ctx","hide","has","$export","type","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","target","C","this","arguments","length","apply","virtual","R","U","documentElement","getKeys","defineProperties","Properties","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","display","appendChild","src","contentWindow","open","write","lt","close","result","$Object","D","id","px","random","concat","toString","store","push","copyright","toInteger","max","min","index","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","arrayIndexOf","names","bitmap","configurable","writable","fn","val","valueOf","createDesc","aFunction","that","addTagsPermissionScope","external_flarum_core_compat_extend_","original","permission","tagPrefix","match","substr","map","required","PermissionGrid_default","items","all","filter","forEach","add","label","onremove","save","render","item","indexOf","PermissionDropdown_default","component","allowGuest","Dropdown_default","buttonClassName","icon","caretIcon","children","Button_default","onclick","addTagPermission","EditTagModal_EditTagModal","init","_Modal","props","createRecord","prop","content","_this","placeholder","oninput","string_","withAttr","checked","onchange","loading","exists","delete","submitData","onsubmit","_this2","preventDefault","then","response","handleErrors","_this3","confirm","pushData","attributes","relationships","redraw","Modal_default","TagSettingsModal_TagSettingsModal","setMinTags","minTags","maxTags","form","minPrimaryTags","setting","maxPrimaryTags","minSecondaryTags","maxSecondaryTags","bidi","tagItem","data-id","modal","show","child","TagsPage_TagsPage","view","localeCompare","$","sortable","connectWith","on","ui","startparent","endparent","getById","data","order","find","j","request","url","forum","method","strategy","Page_default","addTagsPane","routes","path","extensionSettings","AdminNav_default","AdminLinkButton_default","addTagsHomePageOption","BasicsPage_default","addTagChangePermission","minutes","parseInt","settings","allow_tag_change","SettingDropdown_default","defaultLabel","transChoice","count","options","initializers","models","jQuery","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","dragging","draggingHeight","placeholders","sortables","_removeItemEvents","off","_removeSortableEvents","_attachGhost","event","ghost","dataTransfer","effectAllowed","setData","setDragImage","x","y","_getGhost","$draggedItem","draggedItem","_makeGhost","pageX","offset","left","pageY","top","_addGhostPos","_listsConnected","curList","destList","_enableSortable","opts","handles","handle","attr","dragDrop","disableIEFix","parents","selector","$sortables","String","extend","dragImage","placeholderClass","draggingClass","each","$sortable","test","soptions","_getOptions","_reloadSortable","startParent","newParent","tagName","addClass","stopImmediatePropagation","originalEvent","console","log","height","triggerHandler","removeClass","detach","oldindex","elementIndex","oldElementIndex","stopPropagation","after","trigger","dropEffect","thisHeight","forcePlaceholderSize","deadZone","offsetTop","before","not","append","destroy","removeData","removeAttr","_removeSortableData","_removeItemData","_destroySortable","enable","disable","_disableSortable"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 84);\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['extend'];","import _Object$create from \"../../core-js/object/create\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = _Object$create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function sortTags(tags) {\n  return tags.slice(0).sort((a, b) => {\n    const aPos = a.position();\n    const bPos = b.position();\n\n    // If they're both secondary tags, sort them by their discussions count,\n    // descending.\n    if (aPos === null && bPos === null)\n      return b.discussionsCount() - a.discussionsCount();\n\n    // If just one is a secondary tag, then the primary tag should\n    // come first.\n    if (bPos === null) return -1;\n    if (aPos === null) return 1;\n\n    // If we've made it this far, we know they're both primary tags. So we'll\n    // need to see if they have parents.\n    const aParent = a.parent();\n    const bParent = b.parent();\n\n    // If they both have the same parent, then their positions are local,\n    // so we can compare them directly.\n    if (aParent === bParent) return aPos - bPos;\n\n    // If they are both child tags, then we will compare the positions of their\n    // parents.\n    else if (aParent && bParent)\n      return aParent.position() - bParent.position();\n\n    // If we are comparing a child tag with its parent, then we let the parent\n    // come first. If we are comparing an unrelated parent/child, then we\n    // compare both of the parents.\n    else if (aParent)\n      return aParent === b ? 1 : aParent.position() - bPos;\n\n    else if (bParent)\n      return bParent === a ? -1 : aPos - bParent.position();\n\n    return 0;\n  });\n}\n","import extract from 'flarum/utils/extract';\n\nexport default function tagLabel(tag, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'TagLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n\n  if (tag) {\n    const color = tag.color();\n    if (color) {\n      attrs.style.backgroundColor = attrs.style.color = color;\n      attrs.className += ' colored';\n    }\n\n    if (link) {\n      attrs.title = tag.description() || '';\n      attrs.href = app.route('tag', {tags: tag.slug()});\n      attrs.config = m.route;\n    }\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return (\n    m((link ? 'a' : 'span'), attrs,\n      <span className=\"TagLabel-text\">\n        {tag ? tag.name() : app.translator.trans('flarum-tags.lib.deleted_tag_text')}\n      </span>\n    )\n  );\n}\n","module.exports = flarum.core.compat['components/Button'];","export default function tagIcon(tag, attrs = {}) {\n  attrs.className = 'icon TagIcon ' + (attrs.className || '');\n\n  if (tag) {\n    attrs.style = attrs.style || {};\n    attrs.style.backgroundColor = tag.color();\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return <span {...attrs}/>;\n}\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = flarum.core.compat['utils/extract'];","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\nimport computed from 'flarum/utils/computed';\n\nexport default class Tag extends mixin(Model, {\n  name: Model.attribute('name'),\n  slug: Model.attribute('slug'),\n  description: Model.attribute('description'),\n\n  color: Model.attribute('color'),\n  backgroundUrl: Model.attribute('backgroundUrl'),\n  backgroundMode: Model.attribute('backgroundMode'),\n\n  position: Model.attribute('position'),\n  parent: Model.hasOne('parent'),\n  defaultSort: Model.attribute('defaultSort'),\n  isChild: Model.attribute('isChild'),\n  isHidden: Model.attribute('isHidden'),\n\n  discussionsCount: Model.attribute('discussionsCount'),\n  lastTime: Model.attribute('lastTime', Model.transformDate),\n  lastDiscussion: Model.hasOne('lastDiscussion'),\n\n  isRestricted: Model.attribute('isRestricted'),\n  canStartDiscussion: Model.attribute('canStartDiscussion'),\n  canAddToDiscussion: Model.attribute('canAddToDiscussion'),\n\n  isPrimary: computed('position', 'parent', (position, parent) => position !== null && parent === false)\n}) {}\n","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['utils/computed'];","module.exports = flarum.core.compat['utils/mixin'];","module.exports = require(\"core-js/library/fn/object/create\");","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","module.exports = true;\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","import { extend, override } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\nimport PermissionDropdown from 'flarum/components/PermissionDropdown';\nimport Dropdown from 'flarum/components/Dropdown';\nimport Button from 'flarum/components/Button';\n\nimport tagLabel from '../common/helpers/tagLabel';\nimport tagIcon from '../common/helpers/tagIcon';\nimport sortTags from '../common/utils/sortTags';\n\nexport default function() {\n  override(app, 'getRequiredPermissions', (original, permission) => {\n    const tagPrefix = permission.match(/^tag\\d+\\./);\n\n    if (tagPrefix) {\n      const globalPermission = permission.substr(tagPrefix[0].length);\n\n      const required = original(globalPermission);\n\n      return required.map(required => tagPrefix[0] + required);\n    }\n\n    return original(permission);\n  });\n\n  extend(PermissionGrid.prototype, 'scopeItems', items => {\n    sortTags(app.store.all('tags'))\n      .filter(tag => tag.isRestricted())\n      .forEach(tag => items.add('tag' + tag.id(), {\n        label: tagLabel(tag),\n        onremove: () => tag.save({isRestricted: false}),\n        render: item => {\n          if (item.permission === 'viewDiscussions'\n            || item.permission === 'startDiscussion'\n            || (item.permission && item.permission.indexOf('discussion.') === 0)) {\n            return PermissionDropdown.component({\n              permission: 'tag' + tag.id() + '.' + item.permission,\n              allowGuest: item.allowGuest\n            });\n          }\n\n          return '';\n        }\n      }));\n  });\n\n  extend(PermissionGrid.prototype, 'scopeControlItems', items => {\n    const tags = sortTags(app.store.all('tags').filter(tag => !tag.isRestricted()));\n\n    if (tags.length) {\n      items.add('tag', Dropdown.component({\n        className: 'Dropdown--restrictByTag',\n        buttonClassName: 'Button Button--text',\n        label: app.translator.trans('flarum-tags.admin.permissions.restrict_by_tag_heading'),\n        icon: 'fas fa-plus',\n        caretIcon: null,\n        children: tags.map(tag => Button.component({\n          icon: true,\n          children: [tagIcon(tag, {className: 'Button-icon'}), ' ', tag.name()],\n          onclick: () => tag.save({isRestricted: true})\n        }))\n      }));\n    }\n  });\n}\n","import { extend } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\n\nexport default function() {\n  extend(PermissionGrid.prototype, 'moderateItems', items => {\n    items.add('tag', {\n      icon: 'fas fa-tag',\n      label: app.translator.trans('flarum-tags.admin.permissions.tag_discussions_label'),\n      permission: 'discussion.tag'\n    }, 95);\n  });\n}\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport { slug } from 'flarum/utils/string';\n\nimport tagLabel from '../../common/helpers/tagLabel';\n\n/**\n * The `EditTagModal` component shows a modal dialog which allows the user\n * to create or edit a tag.\n */\nexport default class EditTagModal extends Modal {\n  init() {\n    super.init();\n\n    this.tag = this.props.tag || app.store.createRecord('tags');\n\n    this.name = m.prop(this.tag.name() || '');\n    this.slug = m.prop(this.tag.slug() || '');\n    this.description = m.prop(this.tag.description() || '');\n    this.color = m.prop(this.tag.color() || '');\n    this.isHidden = m.prop(this.tag.isHidden() || false);\n  }\n\n  className() {\n    return 'EditTagModal Modal--small';\n  }\n\n  title() {\n    return this.name()\n      ? tagLabel({\n        name: this.name,\n        color: this.color\n      })\n      : app.translator.trans('flarum-tags.admin.edit_tag.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('flarum-tags.admin.edit_tag.name_label')}</label>\n            <input className=\"FormControl\" placeholder={app.translator.trans('flarum-tags.admin.edit_tag.name_placeholder')} value={this.name()} oninput={e => {\n              this.name(e.target.value);\n              this.slug(slug(e.target.value));\n            }}/>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('flarum-tags.admin.edit_tag.slug_label')}</label>\n            <input className=\"FormControl\" value={this.slug()} oninput={m.withAttr('value', this.slug)}/>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('flarum-tags.admin.edit_tag.description_label')}</label>\n            <textarea className=\"FormControl\" value={this.description()} oninput={m.withAttr('value', this.description)}/>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('flarum-tags.admin.edit_tag.color_label')}</label>\n            <input className=\"FormControl\" placeholder=\"#aaaaaa\" value={this.color()} oninput={m.withAttr('value', this.color)}/>\n          </div>\n\n          <div className=\"Form-group\">\n            <div>\n              <label className=\"checkbox\">\n                <input type=\"checkbox\" value=\"1\" checked={this.isHidden()} onchange={m.withAttr('checked', this.isHidden)}/>\n                {app.translator.trans('flarum-tags.admin.edit_tag.hide_label')}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component({\n              type: 'submit',\n              className: 'Button Button--primary EditTagModal-save',\n              loading: this.loading,\n              children: app.translator.trans('flarum-tags.admin.edit_tag.submit_button')\n            })}\n            {this.tag.exists ? (\n              <button type=\"button\" className=\"Button EditTagModal-delete\" onclick={this.delete.bind(this)}>\n                {app.translator.trans('flarum-tags.admin.edit_tag.delete_tag_button')}\n              </button>\n            ) : ''}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  submitData() {\n    return {\n      name: this.name(),\n      slug: this.slug(),\n      description: this.description(),\n      color: this.color(),\n      isHidden: this.isHidden()\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.tag.save(this.submitData()).then(\n      () => this.hide(),\n      response => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n\n  delete() {\n    if (confirm(app.translator.trans('flarum-tags.admin.edit_tag.delete_tag_confirmation'))) {\n      const children = app.store.all('tags').filter(tag => tag.parent() === this.tag);\n\n      this.tag.delete().then(() => {\n        children.forEach(tag => tag.pushData({\n          attributes: {isChild: false},\n          relationships: {parent: null}\n        }));\n        m.redraw();\n      });\n\n      this.hide();\n    }\n  }\n}\n","import SettingsModal from 'flarum/components/SettingsModal';\n\nexport default class TagSettingsModal extends SettingsModal {\n  setMinTags(minTags, maxTags, value) {\n    minTags(value);\n    maxTags(Math.max(value, maxTags()));\n  }\n\n  className() {\n    return 'TagSettingsModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('flarum-tags.admin.tag_settings.title');\n  }\n\n  form() {\n    const minPrimaryTags = this.setting('flarum-tags.min_primary_tags', 0);\n    const maxPrimaryTags = this.setting('flarum-tags.max_primary_tags', 0);\n\n    const minSecondaryTags = this.setting('flarum-tags.min_secondary_tags', 0);\n    const maxSecondaryTags = this.setting('flarum-tags.max_secondary_tags', 0);\n\n    return [\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('flarum-tags.admin.tag_settings.required_primary_heading')}</label>\n        <div className=\"helpText\">\n          {app.translator.trans('flarum-tags.admin.tag_settings.required_primary_text')}\n        </div>\n        <div className=\"TagSettingsModal-rangeInput\">\n          <input className=\"FormControl\"\n            type=\"number\"\n            min=\"0\"\n            value={minPrimaryTags()}\n            oninput={m.withAttr('value', this.setMinTags.bind(this, minPrimaryTags, maxPrimaryTags))} />\n          {app.translator.trans('flarum-tags.admin.tag_settings.range_separator_text')}\n          <input className=\"FormControl\"\n            type=\"number\"\n            min={minPrimaryTags()}\n            bidi={maxPrimaryTags} />\n        </div>\n      </div>,\n\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('flarum-tags.admin.tag_settings.required_secondary_heading')}</label>\n        <div className=\"helpText\">\n          {app.translator.trans('flarum-tags.admin.tag_settings.required_secondary_text')}\n        </div>\n        <div className=\"TagSettingsModal-rangeInput\">\n          <input className=\"FormControl\"\n            type=\"number\"\n            min=\"0\"\n            value={minSecondaryTags()}\n            oninput={m.withAttr('value', this.setMinTags.bind(this, minSecondaryTags, maxSecondaryTags))} />\n          {app.translator.trans('flarum-tags.admin.tag_settings.range_separator_text')}\n          <input className=\"FormControl\"\n            type=\"number\"\n            min={minSecondaryTags()}\n            bidi={maxSecondaryTags} />\n        </div>\n      </div>\n    ];\n  }\n}\n","import 'html5sortable';\n\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\n\nimport EditTagModal from './EditTagModal';\nimport TagSettingsModal from './TagSettingsModal';\nimport tagIcon from '../../common/helpers/tagIcon';\nimport sortTags from '../../common/utils/sortTags';\n\nfunction tagItem(tag) {\n  return (\n    <li data-id={tag.id()} style={{color: tag.color()}}>\n      <div className=\"TagListItem-info\">\n        {tagIcon(tag)}\n        <span className=\"TagListItem-name\">{tag.name()}</span>\n        {Button.component({\n          className: 'Button Button--link',\n          icon: 'fas fa-pencil-alt',\n          onclick: () => app.modal.show(new EditTagModal({tag}))\n        })}\n      </div>\n      {!tag.isChild() && tag.position() !== null ? (\n        <ol className=\"TagListItem-children\">\n          {sortTags(app.store.all('tags'))\n            .filter(child => child.parent() === tag)\n            .map(tagItem)}\n        </ol>\n      ) : ''}\n    </li>\n  );\n}\n\nexport default class TagsPage extends Page {\n  view() {\n    return (\n      <div className=\"TagsPage\">\n        <div className=\"TagsPage-header\">\n          <div className=\"container\">\n            <p>\n              {app.translator.trans('flarum-tags.admin.tags.about_tags_text')}\n            </p>\n            {Button.component({\n              className: 'Button Button--primary',\n              icon: 'fas fa-plus',\n              children: app.translator.trans('flarum-tags.admin.tags.create_tag_button'),\n              onclick: () => app.modal.show(new EditTagModal())\n            })}\n            {Button.component({\n              className: 'Button',\n              children: app.translator.trans('flarum-tags.admin.tags.settings_button'),\n              onclick: () => app.modal.show(new TagSettingsModal())\n            })}\n          </div>\n        </div>\n        <div className=\"TagsPage-list\">\n          <div className=\"container\">\n            <div className=\"TagGroup\">\n              <label>{app.translator.trans('flarum-tags.admin.tags.primary_heading')}</label>\n              <ol className=\"TagList TagList--primary\">\n                {sortTags(app.store.all('tags'))\n                  .filter(tag => tag.position() !== null && !tag.isChild())\n                  .map(tagItem)}\n              </ol>\n            </div>\n\n            <div className=\"TagGroup\">\n              <label>{app.translator.trans('flarum-tags.admin.tags.secondary_heading')}</label>\n              <ul className=\"TagList\">\n                {app.store.all('tags')\n                  .filter(tag => tag.position() === null)\n                  .sort((a, b) => a.name().localeCompare(b.name()))\n                  .map(tagItem)}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config() {\n    this.$('ol, ul')\n      .sortable({connectWith: 'primary'})\n      .on('sortupdate', (e, ui) => {\n        // If we've moved a tag from 'primary' to 'secondary', then we'll update\n        // its attributes in our local store so that when we redraw the change\n        // will be made.\n        if (ui.startparent.is('ol') && ui.endparent.is('ul')) {\n          app.store.getById('tags', ui.item.data('id')).pushData({\n            attributes: {\n              position: null,\n              isChild: false\n            },\n            relationships: {parent: null}\n          });\n        }\n\n        // Construct an array of primary tag IDs and their children, in the same\n        // order that they have been arranged in.\n        const order = this.$('.TagList--primary > li')\n          .map(function() {\n            return {\n              id: $(this).data('id'),\n              children: $(this).find('li')\n                .map(function() {\n                  return $(this).data('id');\n                }).get()\n            };\n          }).get();\n\n        // Now that we have an accurate representation of the order which the\n        // primary tags are in, we will update the tag attributes in our local\n        // store to reflect this order.\n        order.forEach((tag, i) => {\n          const parent = app.store.getById('tags', tag.id);\n          parent.pushData({\n            attributes: {\n              position: i,\n              isChild: false\n            },\n            relationships: {parent: null}\n          });\n\n          tag.children.forEach((child, j) => {\n            app.store.getById('tags', child).pushData({\n              attributes: {\n                position: j,\n                isChild: true\n              },\n              relationships: {parent}\n            });\n          });\n        });\n\n        app.request({\n          url: app.forum.attribute('apiUrl') + '/tags/order',\n          method: 'POST',\n          data: {order}\n        });\n\n        // A diff redraw won't work here, because sortable has mucked around\n        // with the DOM which will confuse Mithril's diffing algorithm. Instead\n        // we force a full reconstruction of the DOM.\n        m.redraw.strategy('all');\n        m.redraw();\n      });\n  }\n}\n","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nimport TagsPage from './components/TagsPage';\n\nexport default function() {\n  app.routes.tags = {path: '/tags', component: TagsPage.component()};\n\n  app.extensionSettings['flarum-tags'] = () => m.route(app.route('tags'));\n\n  extend(AdminNav.prototype, 'items', items => {\n    items.add('tags', AdminLinkButton.component({\n      href: app.route('tags'),\n      icon: 'fas fa-tags',\n      children: app.translator.trans('flarum-tags.admin.nav.tags_button'),\n      description: app.translator.trans('flarum-tags.admin.nav.tags_text')\n    }));\n  });\n}\n","import { extend } from 'flarum/extend';\nimport BasicsPage from 'flarum/components/BasicsPage';\n\nexport default function() {\n  extend(BasicsPage.prototype, 'homePageItems', items => {\n    items.add('tags', {\n      path: '/tags',\n      label: app.translator.trans('flarum-tags.admin.basics.tags_label')\n    });\n  });\n}\n","import { extend } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\nimport SettingDropdown from 'flarum/components/SettingDropdown';\n\nexport default function() {\n  extend(PermissionGrid.prototype, 'startItems', items => {\n    items.add('allowTagChange', {\n      icon: 'fas fa-tag',\n      label: app.translator.trans('flarum-tags.admin.permissions.allow_edit_tags_label'),\n      setting: () => {\n        const minutes = parseInt(app.data.settings.allow_tag_change, 10);\n\n        return SettingDropdown.component({\n          defaultLabel: minutes\n            ? app.translator.transChoice('core.admin.permissions_controls.allow_some_minutes_button', minutes, {count: minutes})\n            : app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button'),\n          key: 'allow_tag_change',\n          options: [\n            {value: '-1', label: app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button')},\n            {value: '10', label: app.translator.trans('core.admin.permissions_controls.allow_ten_minutes_button')},\n            {value: 'reply', label: app.translator.trans('core.admin.permissions_controls.allow_until_reply_button')}\n          ]\n        });\n      }\n    }, 90);\n  });\n}\n","import Tag from '../common/models/Tag';\nimport addTagsPermissionScope from './addTagsPermissionScope';\nimport addTagPermission from './addTagPermission';\nimport addTagsPane from './addTagsPane';\nimport addTagsHomePageOption from './addTagsHomePageOption';\nimport addTagChangePermission from './addTagChangePermission';\n\napp.initializers.add('flarum-tags', app => {\n  app.store.models.tags = Tag;\n\n  addTagsPermissionScope();\n  addTagPermission();\n  addTagsPane();\n  addTagsHomePageOption();\n  addTagChangePermission();\n});\n","module.exports = flarum.core.compat['components/SettingDropdown'];","module.exports = flarum.core.compat['components/BasicsPage'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['utils/string'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/PermissionDropdown'];","module.exports = jQuery;",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('jquery'));\n  } else {\n    root.sortable = factory(root.jQuery);\n  }\n}(this, function($) {\n/*\n * HTML5 Sortable jQuery Plugin\n * https://github.com/voidberg/html5sortable\n *\n * Original code copyright 2012 Ali Farhadi.\n * This version is mantained by Alexandru Badiu <andu@ctrlz.ro> & Lukas Oppermann <lukas@vea.re>\n *\n *\n * Released under the MIT license.\n */\n'use strict';\n/*\n * variables global to the plugin\n */\nvar dragging;\nvar draggingHeight;\nvar placeholders = $();\nvar sortables = [];\n/*\n * remove event handlers from items\n * @param [jquery Collection] items\n * @info event.h5s (jquery way of namespacing events, to bind multiple handlers to the event)\n */\nvar _removeItemEvents = function(items) {\n  items.off('dragstart.h5s');\n  items.off('dragend.h5s');\n  items.off('selectstart.h5s');\n  items.off('dragover.h5s');\n  items.off('dragenter.h5s');\n  items.off('drop.h5s');\n};\n/*\n * remove event handlers from sortable\n * @param [jquery Collection] sortable\n * @info event.h5s (jquery way of namespacing events, to bind multiple handlers to the event)\n */\nvar _removeSortableEvents = function(sortable) {\n  sortable.off('dragover.h5s');\n  sortable.off('dragenter.h5s');\n  sortable.off('drop.h5s');\n};\n/*\n * attache ghost to dataTransfer object\n * @param [event] original event\n * @param [object] ghost-object with item, x and y coordinates\n */\nvar _attachGhost = function(event, ghost) {\n  // this needs to be set for HTML5 drag & drop to work\n  event.dataTransfer.effectAllowed = 'move';\n  event.dataTransfer.setData('text', '');\n\n  // check if setDragImage method is available\n  if (event.dataTransfer.setDragImage) {\n    event.dataTransfer.setDragImage(ghost.item, ghost.x, ghost.y);\n  }\n};\n/**\n * _addGhostPos clones the dragged item and adds it as a Ghost item\n * @param [object] event - the event fired when dragstart is triggered\n * @param [object] ghost - .item = node, draggedItem = jQuery collection\n */\nvar _addGhostPos = function(e, ghost) {\n  if (!ghost.x) {\n    ghost.x = parseInt(e.pageX - ghost.draggedItem.offset().left);\n  }\n  if (!ghost.y) {\n    ghost.y = parseInt(e.pageY - ghost.draggedItem.offset().top);\n  }\n  return ghost;\n};\n/**\n * _makeGhost decides which way to make a ghost and passes it to attachGhost\n * @param [jQuery selection] $draggedItem - the item that the user drags\n */\nvar _makeGhost = function($draggedItem) {\n  return {\n    item: $draggedItem[0],\n    draggedItem: $draggedItem\n  };\n};\n/**\n * _getGhost constructs ghost and attaches it to dataTransfer\n * @param [event] event - the original drag event object\n * @param [jQuery selection] $draggedItem - the item that the user drags\n * @param [object] ghostOpt - the ghost options\n */\n// TODO: could $draggedItem be replaced by event.target in all instances\nvar _getGhost = function(event, $draggedItem) {\n  // add ghost item & draggedItem to ghost object\n  var ghost = _makeGhost($draggedItem);\n  // attach ghost position\n  ghost = _addGhostPos(event, ghost);\n  // attach ghost to dataTransfer\n  _attachGhost(event, ghost);\n};\n/*\n * return options if not set on sortable already\n * @param [object] soptions\n * @param [object] options\n */\nvar _getOptions = function(soptions, options) {\n  if (typeof soptions === 'undefined') {\n    return options;\n  }\n  return soptions;\n};\n/*\n * remove data from sortable\n * @param [jquery Collection] a single sortable\n */\nvar _removeSortableData = function(sortable) {\n  sortable.removeData('opts');\n  sortable.removeData('connectWith');\n  sortable.removeData('items');\n  sortable.removeAttr('aria-dropeffect');\n};\n/*\n * remove data from items\n * @param [jquery Collection] items\n */\nvar _removeItemData = function(items) {\n  items.removeAttr('aria-grabbed');\n  items.removeAttr('draggable');\n  items.removeAttr('role');\n};\n/*\n * check if two lists are connected\n * @param [jquery Collection] items\n */\nvar _listsConnected = function(curList, destList) {\n  if (curList[0] === destList[0]) {\n    return true;\n  }\n  if (curList.data('connectWith') !== undefined) {\n    return curList.data('connectWith') === destList.data('connectWith');\n  }\n  return false;\n};\n/*\n * destroy the sortable\n * @param [jquery Collection] a single sortable\n */\nvar _destroySortable = function(sortable) {\n  var opts = sortable.data('opts') || {};\n  var items = sortable.children(opts.items);\n  var handles = opts.handle ? items.find(opts.handle) : items;\n  // remove event handlers & data from sortable\n  _removeSortableEvents(sortable);\n  _removeSortableData(sortable);\n  // remove event handlers & data from items\n  handles.off('mousedown.h5s');\n  _removeItemEvents(items);\n  _removeItemData(items);\n};\n/*\n * enable the sortable\n * @param [jquery Collection] a single sortable\n */\nvar _enableSortable = function(sortable) {\n  var opts = sortable.data('opts');\n  var items = sortable.children(opts.items);\n  var handles = opts.handle ? items.find(opts.handle) : items;\n  sortable.attr('aria-dropeffect', 'move');\n  handles.attr('draggable', 'true');\n  // IE FIX for ghost\n  // can be disabled as it has the side effect that other events\n  // (e.g. click) will be ignored\n  if (typeof document.createElement('span').dragDrop === 'function' && !opts.disableIEFix) {\n    handles.on('mousedown.h5s', function() {\n      if (items.index(this) !== -1) {\n        this.dragDrop();\n      } else {\n        $(this).parents(opts.items)[0].dragDrop();\n      }\n    });\n  }\n};\n/*\n * disable the sortable\n * @param [jquery Collection] a single sortable\n */\nvar _disableSortable = function(sortable) {\n  var opts = sortable.data('opts');\n  var items = sortable.children(opts.items);\n  var handles = opts.handle ? items.find(opts.handle) : items;\n  sortable.attr('aria-dropeffect', 'none');\n  handles.attr('draggable', false);\n  handles.off('mousedown.h5s');\n};\n/*\n * reload the sortable\n * @param [jquery Collection] a single sortable\n * @description events need to be removed to not be double bound\n */\nvar _reloadSortable = function(sortable) {\n  var opts = sortable.data('opts');\n  var items = sortable.children(opts.items);\n  var handles = opts.handle ? items.find(opts.handle) : items;\n  // remove event handlers from items\n  _removeItemEvents(items);\n  handles.off('mousedown.h5s');\n  // remove event handlers from sortable\n  _removeSortableEvents(sortable);\n};\n/*\n * public sortable object\n * @param [object|string] options|method\n */\nvar sortable = function(selector, options) {\n\n  var $sortables = $(selector);\n  var method = String(options);\n\n  options = $.extend({\n    connectWith: false,\n    placeholder: null,\n    // dragImage can be null or a jQuery element\n    dragImage: null,\n    disableIEFix: false,\n    placeholderClass: 'sortable-placeholder',\n    draggingClass: 'sortable-dragging'\n  }, options);\n\n  /* TODO: maxstatements should be 25, fix and remove line below */\n  /*jshint maxstatements:false */\n  return $sortables.each(function() {\n\n    var $sortable = $(this);\n\n    if (/enable|disable|destroy/.test(method)) {\n      sortable[method]($sortable);\n      return;\n    }\n\n    // get options & set options on sortable\n    options = _getOptions($sortable.data('opts'), options);\n    $sortable.data('opts', options);\n    // reset sortable\n    _reloadSortable($sortable);\n    // initialize\n    var items = $sortable.children(options.items);\n    var index;\n    var startParent;\n    var newParent;\n    var placeholder = (options.placeholder === null) ? $('<' + (/^ul|ol$/i.test(this.tagName) ? 'li' : 'div') + ' class=\"' + options.placeholderClass + '\"/>') : $(options.placeholder).addClass(options.placeholderClass);\n\n    // setup sortable ids\n    if (!$sortable.attr('data-sortable-id')) {\n      var id = sortables.length;\n      sortables[id] = $sortable;\n      $sortable.attr('data-sortable-id', id);\n      items.attr('data-item-sortable-id', id);\n    }\n\n    $sortable.data('items', options.items);\n    placeholders = placeholders.add(placeholder);\n    if (options.connectWith) {\n      $sortable.data('connectWith', options.connectWith);\n    }\n\n    _enableSortable($sortable);\n    items.attr('role', 'option');\n    items.attr('aria-grabbed', 'false');\n\n    // Handle drag events on draggable items\n    items.on('dragstart.h5s', function(e) {\n      e.stopImmediatePropagation();\n\n      if (options.dragImage) {\n        _attachGhost(e.originalEvent, {\n          item: options.dragImage,\n          x: 0,\n          y: 0\n        });\n        console.log('WARNING: dragImage option is deprecated' +\n        ' and will be removed in the future!');\n      } else {\n        // add transparent clone or other ghost to cursor\n        _getGhost(e.originalEvent, $(this), options.dragImage);\n      }\n      // cache selsection & add attr for dragging\n      dragging = $(this);\n      dragging.addClass(options.draggingClass);\n      dragging.attr('aria-grabbed', 'true');\n      // grab values\n      index = dragging.index();\n      draggingHeight = dragging.height();\n      startParent = $(this).parent();\n      // trigger sortstar update\n      dragging.parent().triggerHandler('sortstart', {\n        item: dragging,\n        startparent: startParent\n      });\n    });\n    // Handle drag events on draggable items\n    items.on('dragend.h5s', function() {\n      if (!dragging) {\n        return;\n      }\n      // remove dragging attributes and show item\n      dragging.removeClass(options.draggingClass);\n      dragging.attr('aria-grabbed', 'false');\n      dragging.show();\n\n      placeholders.detach();\n      newParent = $(this).parent();\n      dragging.parent().triggerHandler('sortstop', {\n        item: dragging,\n        startparent: startParent,\n      });\n      if (index !== dragging.index() ||\n          startParent.get(0) !== newParent.get(0)) {\n        dragging.parent().triggerHandler('sortupdate', {\n          item: dragging,\n          index: newParent.children(newParent.data('items')).index(dragging),\n          oldindex: items.index(dragging),\n          elementIndex: dragging.index(),\n          oldElementIndex: index,\n          startparent: startParent,\n          endparent: newParent\n        });\n      }\n      dragging = null;\n      draggingHeight = null;\n    });\n    // Handle drop event on sortable & placeholder\n    // TODO: REMOVE placeholder?????\n    $(this).add([placeholder]).on('drop.h5s', function(e) {\n      if (!_listsConnected($sortable, $(dragging).parent())) {\n        return;\n      }\n\n      e.stopPropagation();\n      placeholders.filter(':visible').after(dragging);\n      dragging.trigger('dragend.h5s');\n      return false;\n    });\n\n    // Handle dragover and dragenter events on draggable items\n    // TODO: REMOVE placeholder?????\n    items.add([this, placeholder]).on('dragover.h5s dragenter.h5s', function(e) {\n      if (!_listsConnected($sortable, $(dragging).parent())) {\n        return;\n      }\n\n      e.preventDefault();\n      e.originalEvent.dataTransfer.dropEffect = 'move';\n      if (items.is(this)) {\n        var thisHeight = $(this).height();\n        if (options.forcePlaceholderSize) {\n          placeholder.height(draggingHeight);\n        }\n\n        // Check if $(this) is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n        if (thisHeight > draggingHeight) {\n          // Dead zone?\n          var deadZone = thisHeight - draggingHeight;\n          var offsetTop = $(this).offset().top;\n          if (placeholder.index() < $(this).index() &&\n              e.originalEvent.pageY < offsetTop + deadZone) {\n            return false;\n          }\n          if (placeholder.index() > $(this).index() &&\n              e.originalEvent.pageY > offsetTop + thisHeight - deadZone) {\n            return false;\n          }\n        }\n\n        dragging.hide();\n        if (placeholder.index() < $(this).index()) {\n          $(this).after(placeholder);\n        } else {\n          $(this).before(placeholder);\n        }\n        placeholders.not(placeholder).detach();\n      } else {\n        if (!placeholders.is(this) && !$(this).children(options.items).length) {\n          placeholders.detach();\n          $(this).append(placeholder);\n        }\n      }\n      return false;\n    });\n  });\n};\n\nsortable.destroy = function(sortable) {\n  _destroySortable(sortable);\n};\n\nsortable.enable = function(sortable) {\n  _enableSortable(sortable);\n};\n\nsortable.disable = function(sortable) {\n  _disableSortable(sortable);\n};\n\n$.fn.sortable = function(options) {\n  return sortable(this, options);\n};\n\nreturn sortable;\n}));\n","/*\n * This file is part of Flarum.\n *\n * (c) Toby Zerner <toby.zerner@gmail.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport * from './src/common';\nexport * from './src/admin';\n"],"sourceRoot":""}