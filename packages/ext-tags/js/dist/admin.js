module.exports=function(t){var n={};function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=n,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s=84)}([function(t,n){t.exports=flarum.core.compat.Model},function(t,n){t.exports=flarum.core.compat.extend},function(t,n,a){"use strict";a.d(n,"a",function(){return o});var e=a(30),r=a.n(e);function o(t,n){t.prototype=r()(n.prototype),t.prototype.constructor=t,t.__proto__=n}},function(t,n,a){"use strict";function e(t){return t.slice(0).sort(function(t,n){var a=t.position(),e=n.position();if(null===a&&null===e)return n.discussionsCount()-t.discussionsCount();if(null===e)return-1;if(null===a)return 1;var r=t.parent(),o=n.parent();return r===o?a-e:r&&o?r.position()-o.position():r?r===n?1:r.position()-e:o?o===t?-1:a-o.position():0})}a.d(n,"a",function(){return e})},,function(t,n,a){"use strict";a.d(n,"a",function(){return o});var e=a(13),r=a.n(e);function o(t,n){void 0===n&&(n={}),n.style=n.style||{},n.className="TagLabel "+(n.className||"");var a=r()(n,"link");if(t){var e=t.color();e&&(n.style.backgroundColor=n.style.color=e,n.className+=" colored"),a&&(n.title=t.description()||"",n.href=app.route("tag",{tags:t.slug()}),n.config=m.route)}else n.className+=" untagged";return m(a?"a":"span",n,m("span",{className:"TagLabel-text"},t?t.name():app.translator.trans("flarum-tags.lib.deleted_tag_text")))}},function(t,n){t.exports=flarum.core.compat["components/Button"]},function(t,n,a){"use strict";function e(t,n){return void 0===n&&(n={}),n.className="icon TagIcon "+(n.className||""),t?(n.style=n.style||{},n.style.backgroundColor=t.color()):n.className+=" untagged",m("span",n)}a.d(n,"a",function(){return e})},function(t,n,a){t.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(t,n){var a=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=a)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,a){var e=a(11);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=flarum.core.compat["utils/extract"]},function(t,n,a){"use strict";a.d(n,"a",function(){return c});var e=a(2),r=a(0),o=a.n(r),i=a(29),s=a.n(i),u=a(28),l=a.n(u),c=function(t){function n(){return t.apply(this,arguments)||this}return Object(e.a)(n,t),n}(s()(o.a,{name:o.a.attribute("name"),slug:o.a.attribute("slug"),description:o.a.attribute("description"),color:o.a.attribute("color"),backgroundUrl:o.a.attribute("backgroundUrl"),backgroundMode:o.a.attribute("backgroundMode"),position:o.a.attribute("position"),parent:o.a.hasOne("parent"),defaultSort:o.a.attribute("defaultSort"),isChild:o.a.attribute("isChild"),isHidden:o.a.attribute("isHidden"),discussionsCount:o.a.attribute("discussionsCount"),lastTime:o.a.attribute("lastTime",o.a.transformDate),lastDiscussion:o.a.hasOne("lastDiscussion"),isRestricted:o.a.attribute("isRestricted"),canStartDiscussion:o.a.attribute("canStartDiscussion"),canAddToDiscussion:o.a.attribute("canAddToDiscussion"),isPrimary:l()("position","parent",function(t,n){return null!==t&&!1===n})}))},function(t,n){t.exports=flarum.core.compat["components/PermissionGrid"]},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,a){var e=a(45)("keys"),r=a(43);t.exports=function(t){return e[t]||(e[t]=r(t))}},function(t,n){var a=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:a)(t)}},function(t,n,a){var e=a(33),r=a(32);t.exports=function(t){return e(r(t))}},function(t,n){var a={}.hasOwnProperty;t.exports=function(t,n){return a.call(t,n)}},function(t,n,a){var e=a(11),r=a(9).document,o=e(r)&&e(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,n,a){var e=a(12),r=a(53),o=a(52),i=Object.defineProperty;n.f=a(8)?Object.defineProperty:function(t,n,a){if(e(t),n=o(n,!0),e(a),r)try{return i(t,n,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[n]=a.value),t}},function(t,n){},function(t,n){t.exports=flarum.core.compat["components/Modal"]},function(t,n){t.exports=flarum.core.compat["components/Page"]},function(t,n){t.exports=flarum.core.compat["utils/computed"]},function(t,n){t.exports=flarum.core.compat["utils/mixin"]},function(t,n,a){t.exports=a(42)},,function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,a){var e=a(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,a){var e=a(50),r=a(18);t.exports=Object.keys||function(t){return e(t,r)}},function(t,n,a){var e=a(9),r=a(10),o=a(56),i=a(54),s=a(22),u=function(t,n,a){var l,c,p,d=t&u.F,f=t&u.G,m=t&u.S,g=t&u.P,h=t&u.B,v=t&u.W,b=f?r:r[n]||(r[n]={}),y=b.prototype,_=f?e:m?e[n]:(e[n]||{}).prototype;for(l in f&&(a=n),a)(c=!d&&_&&void 0!==_[l])&&s(b,l)||(p=c?_[l]:a[l],b[l]=f&&"function"!=typeof _[l]?a[l]:h&&c?o(p,e):v&&_[l]==p?function(t){var n=function(n,a,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,a)}return new t(n,a,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(p):g&&"function"==typeof p?o(Function.call,p):p,g&&((b.virtual||(b.virtual={}))[l]=p,t&u.R&&y&&!y[l]&&i(y,l,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},,,function(t,n,a){var e=a(9).document;t.exports=e&&e.documentElement},function(t,n,a){var e=a(24),r=a(12),o=a(34);t.exports=a(8)?Object.defineProperties:function(t,n){r(t);for(var a,i=o(n),s=i.length,u=0;s>u;)e.f(t,a=i[u++],n[a]);return t}},function(t,n,a){var e=a(12),r=a(39),o=a(18),i=a(19)("IE_PROTO"),s=function(){},u=function(){var t,n=a(23)("iframe"),e=o.length;for(n.style.display="none",a(38).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;e--;)delete u.prototype[o[e]];return u()};t.exports=Object.create||function(t,n){var a;return null!==t?(s.prototype=e(t),a=new s,s.prototype=null,a[i]=t):a=u(),void 0===n?a:r(a,n)}},function(t,n,a){var e=a(35);e(e.S,"Object",{create:a(40)})},function(t,n,a){a(41);var e=a(10).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n){var a=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++a+e).toString(36))}},function(t,n){t.exports=!0},function(t,n,a){var e=a(10),r=a(9),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:a(44)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,a){var e=a(20),r=Math.max,o=Math.min;t.exports=function(t,n){return(t=e(t))<0?r(t+n,0):o(t,n)}},function(t,n,a){var e=a(20),r=Math.min;t.exports=function(t){return t>0?r(e(t),9007199254740991):0}},function(t,n,a){var e=a(21),r=a(47),o=a(46);t.exports=function(t){return function(n,a,i){var s,u=e(n),l=r(u.length),c=o(i,l);if(t&&a!=a){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===a)return t||c||0;return!t&&-1}}},function(t,n){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,n,a){var e=a(22),r=a(21),o=a(48)(!1),i=a(19)("IE_PROTO");t.exports=function(t,n){var a,s=r(t),u=0,l=[];for(a in s)a!=i&&e(s,a)&&l.push(a);for(;n.length>u;)e(s,a=n[u++])&&(~o(l,a)||l.push(a));return l}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,a){var e=a(11);t.exports=function(t,n){if(!e(t))return t;var a,r;if(n&&"function"==typeof(a=t.toString)&&!e(r=a.call(t)))return r;if("function"==typeof(a=t.valueOf)&&!e(r=a.call(t)))return r;if(!n&&"function"==typeof(a=t.toString)&&!e(r=a.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n,a){t.exports=!a(8)&&!a(16)(function(){return 7!=Object.defineProperty(a(23)("div"),"a",{get:function(){return 7}}).a})},function(t,n,a){var e=a(24),r=a(51);t.exports=a(8)?function(t,n,a){return e.f(t,n,r(1,a))}:function(t,n,a){return t[n]=a,t}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,a){var e=a(55);t.exports=function(t,n,a){if(e(t),void 0===n)return t;switch(a){case 1:return function(a){return t.call(n,a)};case 2:return function(a,e){return t.call(n,a,e)};case 3:return function(a,e,r){return t.call(n,a,e,r)}}return function(){return t.apply(n,arguments)}}},,,function(t,n,a){"use strict";var e=a(14),r=a(1),o=a(15),i=a.n(o),s=a(68),u=a.n(s),l=a(67),c=a.n(l),p=a(6),d=a.n(p),f=a(5),g=a(7),h=a(3),v=function(){Object(r.override)(app,"getRequiredPermissions",function(t,n){var a=n.match(/^tag\d+\./);return a?t(n.substr(a[0].length)).map(function(t){return a[0]+t}):t(n)}),Object(r.extend)(i.a.prototype,"scopeItems",function(t){Object(h.a)(app.store.all("tags")).filter(function(t){return t.isRestricted()}).forEach(function(n){return t.add("tag"+n.id(),{label:Object(f.a)(n),onremove:function(){return n.save({isRestricted:!1})},render:function(t){return"viewDiscussions"===t.permission||"startDiscussion"===t.permission||t.permission&&0===t.permission.indexOf("discussion.")?u.a.component({permission:"tag"+n.id()+"."+t.permission,allowGuest:t.allowGuest}):""}})})}),Object(r.extend)(i.a.prototype,"scopeControlItems",function(t){var n=Object(h.a)(app.store.all("tags").filter(function(t){return!t.isRestricted()}));n.length&&t.add("tag",c.a.component({className:"Dropdown--restrictByTag",buttonClassName:"Button Button--text",label:app.translator.trans("flarum-tags.admin.permissions.restrict_by_tag_heading"),icon:"fas fa-plus",caretIcon:null,children:n.map(function(t){return d.a.component({icon:!0,children:[Object(g.a)(t,{className:"Button-icon"})," ",t.name()],onclick:function(){return t.save({isRestricted:!0})}})})}))})},b=function(){Object(r.extend)(i.a.prototype,"moderateItems",function(t){t.add("tag",{icon:"fas fa-tag",label:app.translator.trans("flarum-tags.admin.permissions.tag_discussions_label"),permission:"discussion.tag"},95)})},y=a(66),_=a.n(y),x=a(65),w=a.n(x),N=a(2),O=(a(83),a(27)),j=a.n(O),T=a(26),C=a.n(T),I=a(64),M=function(t){function n(){return t.apply(this,arguments)||this}Object(N.a)(n,t);var a=n.prototype;return a.init=function(){t.prototype.init.call(this),this.tag=this.props.tag||app.store.createRecord("tags"),this.name=m.prop(this.tag.name()||""),this.slug=m.prop(this.tag.slug()||""),this.description=m.prop(this.tag.description()||""),this.color=m.prop(this.tag.color()||""),this.isHidden=m.prop(this.tag.isHidden()||!1)},a.className=function(){return"EditTagModal Modal--small"},a.title=function(){return this.name()?Object(f.a)({name:this.name,color:this.color}):app.translator.trans("flarum-tags.admin.edit_tag.title")},a.content=function(){var t=this;return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.edit_tag.name_label")),m("input",{className:"FormControl",placeholder:app.translator.trans("flarum-tags.admin.edit_tag.name_placeholder"),value:this.name(),oninput:function(n){t.name(n.target.value),t.slug(Object(I.slug)(n.target.value))}})),m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.edit_tag.slug_label")),m("input",{className:"FormControl",value:this.slug(),oninput:m.withAttr("value",this.slug)})),m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.edit_tag.description_label")),m("textarea",{className:"FormControl",value:this.description(),oninput:m.withAttr("value",this.description)})),m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.edit_tag.color_label")),m("input",{className:"FormControl",placeholder:"#aaaaaa",value:this.color(),oninput:m.withAttr("value",this.color)})),m("div",{className:"Form-group"},m("div",null,m("label",{className:"checkbox"},m("input",{type:"checkbox",value:"1",checked:this.isHidden(),onchange:m.withAttr("checked",this.isHidden)}),app.translator.trans("flarum-tags.admin.edit_tag.hide_label")))),m("div",{className:"Form-group"},d.a.component({type:"submit",className:"Button Button--primary EditTagModal-save",loading:this.loading,children:app.translator.trans("flarum-tags.admin.edit_tag.submit_button")}),this.tag.exists?m("button",{type:"button",className:"Button EditTagModal-delete",onclick:this.delete.bind(this)},app.translator.trans("flarum-tags.admin.edit_tag.delete_tag_button")):"")))},a.submitData=function(){return{name:this.name(),slug:this.slug(),description:this.description(),color:this.color(),isHidden:this.isHidden()}},a.onsubmit=function(t){var n=this;t.preventDefault(),this.loading=!0,this.tag.save(this.submitData()).then(function(){return n.hide()},function(t){n.loading=!1,n.handleErrors(t)})},a.delete=function(){var t=this;if(confirm(app.translator.trans("flarum-tags.admin.edit_tag.delete_tag_confirmation"))){var n=app.store.all("tags").filter(function(n){return n.parent()===t.tag});this.tag.delete().then(function(){n.forEach(function(t){return t.pushData({attributes:{isChild:!1},relationships:{parent:null}})}),m.redraw()}),this.hide()}},n}(C.a),P=a(63),D=function(t){function n(){return t.apply(this,arguments)||this}Object(N.a)(n,t);var a=n.prototype;return a.setMinTags=function(t,n,a){t(a),n(Math.max(a,n()))},a.className=function(){return"TagSettingsModal Modal--small"},a.title=function(){return app.translator.trans("flarum-tags.admin.tag_settings.title")},a.form=function(){var t=this.setting("flarum-tags.min_primary_tags",0),n=this.setting("flarum-tags.max_primary_tags",0),a=this.setting("flarum-tags.min_secondary_tags",0),e=this.setting("flarum-tags.max_secondary_tags",0);return[m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.tag_settings.required_primary_heading")),m("div",{className:"helpText"},app.translator.trans("flarum-tags.admin.tag_settings.required_primary_text")),m("div",{className:"TagSettingsModal-rangeInput"},m("input",{className:"FormControl",type:"number",min:"0",value:t(),oninput:m.withAttr("value",this.setMinTags.bind(this,t,n))}),app.translator.trans("flarum-tags.admin.tag_settings.range_separator_text"),m("input",{className:"FormControl",type:"number",min:t(),bidi:n}))),m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-tags.admin.tag_settings.required_secondary_heading")),m("div",{className:"helpText"},app.translator.trans("flarum-tags.admin.tag_settings.required_secondary_text")),m("div",{className:"TagSettingsModal-rangeInput"},m("input",{className:"FormControl",type:"number",min:"0",value:a(),oninput:m.withAttr("value",this.setMinTags.bind(this,a,e))}),app.translator.trans("flarum-tags.admin.tag_settings.range_separator_text"),m("input",{className:"FormControl",type:"number",min:a(),bidi:e})))]},n}(a.n(P).a);function E(t){return m("li",{"data-id":t.id(),style:{color:t.color()}},m("div",{className:"TagListItem-info"},Object(g.a)(t),m("span",{className:"TagListItem-name"},t.name()),d.a.component({className:"Button Button--link",icon:"fas fa-pencil-alt",onclick:function(){return app.modal.show(new M({tag:t}))}})),t.isChild()||null===t.position()?"":m("ol",{className:"TagListItem-children"},Object(h.a)(app.store.all("tags")).filter(function(n){return n.parent()===t}).map(E)))}var S=function(t){function n(){return t.apply(this,arguments)||this}Object(N.a)(n,t);var a=n.prototype;return a.view=function(){return m("div",{className:"TagsPage"},m("div",{className:"TagsPage-header"},m("div",{className:"container"},m("p",null,app.translator.trans("flarum-tags.admin.tags.about_tags_text")),d.a.component({className:"Button Button--primary",icon:"fas fa-plus",children:app.translator.trans("flarum-tags.admin.tags.create_tag_button"),onclick:function(){return app.modal.show(new M)}}),d.a.component({className:"Button",children:app.translator.trans("flarum-tags.admin.tags.settings_button"),onclick:function(){return app.modal.show(new D)}}))),m("div",{className:"TagsPage-list"},m("div",{className:"container"},m("div",{className:"TagGroup"},m("label",null,app.translator.trans("flarum-tags.admin.tags.primary_heading")),m("ol",{className:"TagList TagList--primary"},Object(h.a)(app.store.all("tags")).filter(function(t){return null!==t.position()&&!t.isChild()}).map(E))),m("div",{className:"TagGroup"},m("label",null,app.translator.trans("flarum-tags.admin.tags.secondary_heading")),m("ul",{className:"TagList"},app.store.all("tags").filter(function(t){return null===t.position()}).sort(function(t,n){return t.name().localeCompare(n.name())}).map(E))))))},a.config=function(){var t=this;this.$("ol, ul").sortable({connectWith:"primary"}).on("sortupdate",function(n,a){a.startparent.is("ol")&&a.endparent.is("ul")&&app.store.getById("tags",a.item.data("id")).pushData({attributes:{position:null,isChild:!1},relationships:{parent:null}});var e=t.$(".TagList--primary > li").map(function(){return{id:$(this).data("id"),children:$(this).find("li").map(function(){return $(this).data("id")}).get()}}).get();e.forEach(function(t,n){var a=app.store.getById("tags",t.id);a.pushData({attributes:{position:n,isChild:!1},relationships:{parent:null}}),t.children.forEach(function(t,n){app.store.getById("tags",t).pushData({attributes:{position:n,isChild:!0},relationships:{parent:a}})})}),app.request({url:app.forum.attribute("apiUrl")+"/tags/order",method:"POST",data:{order:e}}),m.redraw.strategy("all"),m.redraw()})},n}(j.a),F=function(){app.routes.tags={path:"/tags",component:S.component()},app.extensionSettings["flarum-tags"]=function(){return m.route(app.route("tags"))},Object(r.extend)(_.a.prototype,"items",function(t){t.add("tags",w.a.component({href:app.route("tags"),icon:"fas fa-tags",children:app.translator.trans("flarum-tags.admin.nav.tags_button"),description:app.translator.trans("flarum-tags.admin.nav.tags_text")}))})},k=a(62),B=a.n(k),A=function(){Object(r.extend)(B.a.prototype,"homePageItems",function(t){t.add("tags",{path:"/tags",label:app.translator.trans("flarum-tags.admin.basics.tags_label")})})},R=a(61),W=a.n(R),L=function(){Object(r.extend)(i.a.prototype,"startItems",function(t){t.add("allowTagChange",{icon:"fas fa-tag",label:app.translator.trans("flarum-tags.admin.permissions.allow_edit_tags_label"),setting:function(){var t=parseInt(app.data.settings.allow_tag_change,10);return W.a.component({defaultLabel:t?app.translator.transChoice("core.admin.permissions_controls.allow_some_minutes_button",t,{count:t}):app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button"),key:"allow_tag_change",options:[{value:"-1",label:app.translator.trans("core.admin.permissions_controls.allow_indefinitely_button")},{value:"10",label:app.translator.trans("core.admin.permissions_controls.allow_ten_minutes_button")},{value:"reply",label:app.translator.trans("core.admin.permissions_controls.allow_until_reply_button")}]})}},90)})};app.initializers.add("flarum-tags",function(t){t.store.models.tags=e.a,v(),b(),F(),A(),L()})},,function(t,n){t.exports=flarum.core.compat["components/SettingDropdown"]},function(t,n){t.exports=flarum.core.compat["components/BasicsPage"]},function(t,n){t.exports=flarum.core.compat["components/SettingsModal"]},function(t,n){t.exports=flarum.core.compat["utils/string"]},function(t,n){t.exports=flarum.core.compat["components/AdminLinkButton"]},function(t,n){t.exports=flarum.core.compat["components/AdminNav"]},function(t,n){t.exports=flarum.core.compat["components/Dropdown"]},function(t,n){t.exports=flarum.core.compat["components/PermissionDropdown"]},,,,,,,,,,,,,,function(t,n){t.exports=jQuery},function(t,n,a){var e,r,o;r=[a(82)],void 0===(o="function"==typeof(e=function(t){"use strict";var n,a,e=t(),r=[],o=function(t){t.off("dragstart.h5s"),t.off("dragend.h5s"),t.off("selectstart.h5s"),t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},i=function(t){t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},s=function(t,n){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(n.item,n.x,n.y)},u=function(t,n){var a=function(t){return{item:t[0],draggedItem:t}}(n);a=function(t,n){return n.x||(n.x=parseInt(t.pageX-n.draggedItem.offset().left)),n.y||(n.y=parseInt(t.pageY-n.draggedItem.offset().top)),n}(t,a),s(t,a)},l=function(t,n){return t[0]===n[0]||void 0!==t.data("connectWith")&&t.data("connectWith")===n.data("connectWith")},c=function(n){var a=n.data("opts"),e=n.children(a.items),r=a.handle?e.find(a.handle):e;n.attr("aria-dropeffect","move"),r.attr("draggable","true"),"function"!=typeof document.createElement("span").dragDrop||a.disableIEFix||r.on("mousedown.h5s",function(){-1!==e.index(this)?this.dragDrop():t(this).parents(a.items)[0].dragDrop()})},p=function(d,f){var m=t(d),g=String(f);return f=t.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},f),m.each(function(){var d=t(this);if(/enable|disable|destroy/.test(g))p[g](d);else{f=function(t,n){return void 0===t?n:t}(d.data("opts"),f),d.data("opts",f),function(t){var n=t.data("opts"),a=t.children(n.items),e=n.handle?a.find(n.handle):a;o(a),e.off("mousedown.h5s"),i(t)}(d);var m,h,v,b=d.children(f.items),y=null===f.placeholder?t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+f.placeholderClass+'"/>'):t(f.placeholder).addClass(f.placeholderClass);if(!d.attr("data-sortable-id")){var _=r.length;r[_]=d,d.attr("data-sortable-id",_),b.attr("data-item-sortable-id",_)}d.data("items",f.items),e=e.add(y),f.connectWith&&d.data("connectWith",f.connectWith),c(d),b.attr("role","option"),b.attr("aria-grabbed","false"),b.on("dragstart.h5s",function(e){e.stopImmediatePropagation(),f.dragImage?(s(e.originalEvent,{item:f.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):u(e.originalEvent,t(this),f.dragImage),(n=t(this)).addClass(f.draggingClass),n.attr("aria-grabbed","true"),m=n.index(),a=n.height(),h=t(this).parent(),n.parent().triggerHandler("sortstart",{item:n,startparent:h})}),b.on("dragend.h5s",function(){n&&(n.removeClass(f.draggingClass),n.attr("aria-grabbed","false"),n.show(),e.detach(),v=t(this).parent(),n.parent().triggerHandler("sortstop",{item:n,startparent:h}),m===n.index()&&h.get(0)===v.get(0)||n.parent().triggerHandler("sortupdate",{item:n,index:v.children(v.data("items")).index(n),oldindex:b.index(n),elementIndex:n.index(),oldElementIndex:m,startparent:h,endparent:v}),n=null,a=null)}),t(this).add([y]).on("drop.h5s",function(a){if(l(d,t(n).parent()))return a.stopPropagation(),e.filter(":visible").after(n),n.trigger("dragend.h5s"),!1}),b.add([this,y]).on("dragover.h5s dragenter.h5s",function(r){if(l(d,t(n).parent())){if(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",b.is(this)){var o=t(this).height();if(f.forcePlaceholderSize&&y.height(a),o>a){var i=o-a,s=t(this).offset().top;if(y.index()<t(this).index()&&r.originalEvent.pageY<s+i)return!1;if(y.index()>t(this).index()&&r.originalEvent.pageY>s+o-i)return!1}n.hide(),y.index()<t(this).index()?t(this).after(y):t(this).before(y),e.not(y).detach()}else e.is(this)||t(this).children(f.items).length||(e.detach(),t(this).append(y));return!1}})}})};return p.destroy=function(t){!function(t){var n=t.data("opts")||{},a=t.children(n.items),e=n.handle?a.find(n.handle):a;i(t),function(t){t.removeData("opts"),t.removeData("connectWith"),t.removeData("items"),t.removeAttr("aria-dropeffect")}(t),e.off("mousedown.h5s"),o(a),function(t){t.removeAttr("aria-grabbed"),t.removeAttr("draggable"),t.removeAttr("role")}(a)}(t)},p.enable=function(t){c(t)},p.disable=function(t){!function(t){var n=t.data("opts"),a=t.children(n.items),e=n.handle?a.find(n.handle):a;t.attr("aria-dropeffect","none"),e.attr("draggable",!1),e.off("mousedown.h5s")}(t)},t.fn.sortable=function(t){return p(this,t)},p})?e.apply(n,r):e)||(t.exports=o)},function(t,n,a){"use strict";a.r(n);var e=a(25);for(var r in e)"default"!==r&&function(t){a.d(n,t,function(){return e[t]})}(r);a(59)}]);
//# sourceMappingURL=admin.js.map